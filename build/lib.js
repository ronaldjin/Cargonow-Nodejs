function debounce(func,wait,immediate){var timeout;return function(){var context=this,args=arguments,later=function(){timeout=null,immediate||func.apply(context,args)},callNow=immediate&&!timeout;clearTimeout(timeout),timeout=setTimeout(later,wait),callNow&&func.apply(context,args)}}function randomString(len,an){an=an&&an.toLowerCase();for(var str="",i=0,min="a"==an?10:0,max="n"==an?10:62;i++<len;){var r=Math.random()*(max-min)+min<<0;str+=String.fromCharCode(r+=r>9?r<36?55:61:48)}return str}if(function(global,factory){"object"==typeof module&&"object"==typeof module.exports?module.exports=global.document?factory(global,!0):function(w){if(!w.document)throw new Error("jQuery requires a window with a document");return factory(w)}:factory(global)}("undefined"!=typeof window?window:this,function(window,noGlobal){function isArraylike(obj){var length="length"in obj&&obj.length,type=jQuery.type(obj);return"function"!==type&&!jQuery.isWindow(obj)&&(!(1!==obj.nodeType||!length)||("array"===type||0===length||"number"==typeof length&&length>0&&length-1 in obj))}function winnow(elements,qualifier,not){if(jQuery.isFunction(qualifier))return jQuery.grep(elements,function(elem,i){return!!qualifier.call(elem,i,elem)!==not});if(qualifier.nodeType)return jQuery.grep(elements,function(elem){return elem===qualifier!==not});if("string"==typeof qualifier){if(risSimple.test(qualifier))return jQuery.filter(qualifier,elements,not);qualifier=jQuery.filter(qualifier,elements)}return jQuery.grep(elements,function(elem){return indexOf.call(qualifier,elem)>=0!==not})}function sibling(cur,dir){for(;(cur=cur[dir])&&1!==cur.nodeType;);return cur}function createOptions(options){var object=optionsCache[options]={};return jQuery.each(options.match(rnotwhite)||[],function(_,flag){object[flag]=!0}),object}function completed(){document.removeEventListener("DOMContentLoaded",completed,!1),window.removeEventListener("load",completed,!1),jQuery.ready()}function Data(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=jQuery.expando+Data.uid++}function dataAttr(elem,key,data){var name;if(void 0===data&&1===elem.nodeType)if(name="data-"+key.replace(rmultiDash,"-$1").toLowerCase(),data=elem.getAttribute(name),"string"==typeof data){try{data="true"===data||"false"!==data&&("null"===data?null:+data+""===data?+data:rbrace.test(data)?jQuery.parseJSON(data):data)}catch(e){}data_user.set(elem,key,data)}else data=void 0;return data}function returnTrue(){return!0}function returnFalse(){return!1}function safeActiveElement(){try{return document.activeElement}catch(err){}}function manipulationTarget(elem,content){return jQuery.nodeName(elem,"table")&&jQuery.nodeName(11!==content.nodeType?content:content.firstChild,"tr")?elem.getElementsByTagName("tbody")[0]||elem.appendChild(elem.ownerDocument.createElement("tbody")):elem}function disableScript(elem){return elem.type=(null!==elem.getAttribute("type"))+"/"+elem.type,elem}function restoreScript(elem){var match=rscriptTypeMasked.exec(elem.type);return match?elem.type=match[1]:elem.removeAttribute("type"),elem}function setGlobalEval(elems,refElements){for(var i=0,l=elems.length;i<l;i++)data_priv.set(elems[i],"globalEval",!refElements||data_priv.get(refElements[i],"globalEval"))}function cloneCopyEvent(src,dest){var i,l,type,pdataOld,pdataCur,udataOld,udataCur,events;if(1===dest.nodeType){if(data_priv.hasData(src)&&(pdataOld=data_priv.access(src),pdataCur=data_priv.set(dest,pdataOld),events=pdataOld.events)){delete pdataCur.handle,pdataCur.events={};for(type in events)for(i=0,l=events[type].length;i<l;i++)jQuery.event.add(dest,type,events[type][i])}data_user.hasData(src)&&(udataOld=data_user.access(src),udataCur=jQuery.extend({},udataOld),data_user.set(dest,udataCur))}}function getAll(context,tag){var ret=context.getElementsByTagName?context.getElementsByTagName(tag||"*"):context.querySelectorAll?context.querySelectorAll(tag||"*"):[];return void 0===tag||tag&&jQuery.nodeName(context,tag)?jQuery.merge([context],ret):ret}function fixInput(src,dest){var nodeName=dest.nodeName.toLowerCase();"input"===nodeName&&rcheckableType.test(src.type)?dest.checked=src.checked:"input"!==nodeName&&"textarea"!==nodeName||(dest.defaultValue=src.defaultValue)}function actualDisplay(name,doc){var style,elem=jQuery(doc.createElement(name)).appendTo(doc.body),display=window.getDefaultComputedStyle&&(style=window.getDefaultComputedStyle(elem[0]))?style.display:jQuery.css(elem[0],"display");return elem.detach(),display}function defaultDisplay(nodeName){var doc=document,display=elemdisplay[nodeName];return display||(display=actualDisplay(nodeName,doc),"none"!==display&&display||(iframe=(iframe||jQuery("<iframe frameborder='0' width='0' height='0'/>")).appendTo(doc.documentElement),doc=iframe[0].contentDocument,doc.write(),doc.close(),display=actualDisplay(nodeName,doc),iframe.detach()),elemdisplay[nodeName]=display),display}function curCSS(elem,name,computed){var width,minWidth,maxWidth,ret,style=elem.style;return computed=computed||getStyles(elem),computed&&(ret=computed.getPropertyValue(name)||computed[name]),computed&&(""!==ret||jQuery.contains(elem.ownerDocument,elem)||(ret=jQuery.style(elem,name)),rnumnonpx.test(ret)&&rmargin.test(name)&&(width=style.width,minWidth=style.minWidth,maxWidth=style.maxWidth,style.minWidth=style.maxWidth=style.width=ret,ret=computed.width,style.width=width,style.minWidth=minWidth,style.maxWidth=maxWidth)),void 0!==ret?ret+"":ret}function addGetHookIf(conditionFn,hookFn){return{get:function(){return conditionFn()?void delete this.get:(this.get=hookFn).apply(this,arguments)}}}function vendorPropName(style,name){if(name in style)return name;for(var capName=name[0].toUpperCase()+name.slice(1),origName=name,i=cssPrefixes.length;i--;)if(name=cssPrefixes[i]+capName,name in style)return name;return origName}function setPositiveNumber(elem,value,subtract){var matches=rnumsplit.exec(value);return matches?Math.max(0,matches[1]-(subtract||0))+(matches[2]||"px"):value}function augmentWidthOrHeight(elem,name,extra,isBorderBox,styles){for(var i=extra===(isBorderBox?"border":"content")?4:"width"===name?1:0,val=0;i<4;i+=2)"margin"===extra&&(val+=jQuery.css(elem,extra+cssExpand[i],!0,styles)),isBorderBox?("content"===extra&&(val-=jQuery.css(elem,"padding"+cssExpand[i],!0,styles)),"margin"!==extra&&(val-=jQuery.css(elem,"border"+cssExpand[i]+"Width",!0,styles))):(val+=jQuery.css(elem,"padding"+cssExpand[i],!0,styles),"padding"!==extra&&(val+=jQuery.css(elem,"border"+cssExpand[i]+"Width",!0,styles)));return val}function getWidthOrHeight(elem,name,extra){var valueIsBorderBox=!0,val="width"===name?elem.offsetWidth:elem.offsetHeight,styles=getStyles(elem),isBorderBox="border-box"===jQuery.css(elem,"boxSizing",!1,styles);if(val<=0||null==val){if(val=curCSS(elem,name,styles),(val<0||null==val)&&(val=elem.style[name]),rnumnonpx.test(val))return val;valueIsBorderBox=isBorderBox&&(support.boxSizingReliable()||val===elem.style[name]),val=parseFloat(val)||0}return val+augmentWidthOrHeight(elem,name,extra||(isBorderBox?"border":"content"),valueIsBorderBox,styles)+"px"}function showHide(elements,show){for(var display,elem,hidden,values=[],index=0,length=elements.length;index<length;index++)elem=elements[index],elem.style&&(values[index]=data_priv.get(elem,"olddisplay"),display=elem.style.display,show?(values[index]||"none"!==display||(elem.style.display=""),""===elem.style.display&&isHidden(elem)&&(values[index]=data_priv.access(elem,"olddisplay",defaultDisplay(elem.nodeName)))):(hidden=isHidden(elem),"none"===display&&hidden||data_priv.set(elem,"olddisplay",hidden?display:jQuery.css(elem,"display"))));for(index=0;index<length;index++)elem=elements[index],elem.style&&(show&&"none"!==elem.style.display&&""!==elem.style.display||(elem.style.display=show?values[index]||"":"none"));return elements}function Tween(elem,options,prop,end,easing){return new Tween.prototype.init(elem,options,prop,end,easing)}function createFxNow(){return setTimeout(function(){fxNow=void 0}),fxNow=jQuery.now()}function genFx(type,includeWidth){var which,i=0,attrs={height:type};for(includeWidth=includeWidth?1:0;i<4;i+=2-includeWidth)which=cssExpand[i],attrs["margin"+which]=attrs["padding"+which]=type;return includeWidth&&(attrs.opacity=attrs.width=type),attrs}function createTween(value,prop,animation){for(var tween,collection=(tweeners[prop]||[]).concat(tweeners["*"]),index=0,length=collection.length;index<length;index++)if(tween=collection[index].call(animation,prop,value))return tween}function defaultPrefilter(elem,props,opts){var prop,value,toggle,tween,hooks,oldfire,display,checkDisplay,anim=this,orig={},style=elem.style,hidden=elem.nodeType&&isHidden(elem),dataShow=data_priv.get(elem,"fxshow");opts.queue||(hooks=jQuery._queueHooks(elem,"fx"),null==hooks.unqueued&&(hooks.unqueued=0,oldfire=hooks.empty.fire,hooks.empty.fire=function(){hooks.unqueued||oldfire()}),hooks.unqueued++,anim.always(function(){anim.always(function(){hooks.unqueued--,jQuery.queue(elem,"fx").length||hooks.empty.fire()})})),1===elem.nodeType&&("height"in props||"width"in props)&&(opts.overflow=[style.overflow,style.overflowX,style.overflowY],display=jQuery.css(elem,"display"),checkDisplay="none"===display?data_priv.get(elem,"olddisplay")||defaultDisplay(elem.nodeName):display,"inline"===checkDisplay&&"none"===jQuery.css(elem,"float")&&(style.display="inline-block")),opts.overflow&&(style.overflow="hidden",anim.always(function(){style.overflow=opts.overflow[0],style.overflowX=opts.overflow[1],style.overflowY=opts.overflow[2]}));for(prop in props)if(value=props[prop],rfxtypes.exec(value)){if(delete props[prop],toggle=toggle||"toggle"===value,value===(hidden?"hide":"show")){if("show"!==value||!dataShow||void 0===dataShow[prop])continue;hidden=!0}orig[prop]=dataShow&&dataShow[prop]||jQuery.style(elem,prop)}else display=void 0;if(jQuery.isEmptyObject(orig))"inline"===("none"===display?defaultDisplay(elem.nodeName):display)&&(style.display=display);else{dataShow?"hidden"in dataShow&&(hidden=dataShow.hidden):dataShow=data_priv.access(elem,"fxshow",{}),toggle&&(dataShow.hidden=!hidden),hidden?jQuery(elem).show():anim.done(function(){jQuery(elem).hide()}),anim.done(function(){var prop;data_priv.remove(elem,"fxshow");for(prop in orig)jQuery.style(elem,prop,orig[prop])});for(prop in orig)tween=createTween(hidden?dataShow[prop]:0,prop,anim),prop in dataShow||(dataShow[prop]=tween.start,hidden&&(tween.end=tween.start,tween.start="width"===prop||"height"===prop?1:0))}}function propFilter(props,specialEasing){var index,name,easing,value,hooks;for(index in props)if(name=jQuery.camelCase(index),easing=specialEasing[name],value=props[index],jQuery.isArray(value)&&(easing=value[1],value=props[index]=value[0]),index!==name&&(props[name]=value,delete props[index]),hooks=jQuery.cssHooks[name],hooks&&"expand"in hooks){value=hooks.expand(value),delete props[name];for(index in value)index in props||(props[index]=value[index],specialEasing[index]=easing)}else specialEasing[name]=easing}function Animation(elem,properties,options){var result,stopped,index=0,length=animationPrefilters.length,deferred=jQuery.Deferred().always(function(){delete tick.elem}),tick=function(){if(stopped)return!1;for(var currentTime=fxNow||createFxNow(),remaining=Math.max(0,animation.startTime+animation.duration-currentTime),temp=remaining/animation.duration||0,percent=1-temp,index=0,length=animation.tweens.length;index<length;index++)animation.tweens[index].run(percent);return deferred.notifyWith(elem,[animation,percent,remaining]),percent<1&&length?remaining:(deferred.resolveWith(elem,[animation]),!1)},animation=deferred.promise({elem:elem,props:jQuery.extend({},properties),opts:jQuery.extend(!0,{specialEasing:{}},options),originalProperties:properties,originalOptions:options,startTime:fxNow||createFxNow(),duration:options.duration,tweens:[],createTween:function(prop,end){var tween=jQuery.Tween(elem,animation.opts,prop,end,animation.opts.specialEasing[prop]||animation.opts.easing);return animation.tweens.push(tween),tween},stop:function(gotoEnd){var index=0,length=gotoEnd?animation.tweens.length:0;if(stopped)return this;for(stopped=!0;index<length;index++)animation.tweens[index].run(1);return gotoEnd?deferred.resolveWith(elem,[animation,gotoEnd]):deferred.rejectWith(elem,[animation,gotoEnd]),this}}),props=animation.props;for(propFilter(props,animation.opts.specialEasing);index<length;index++)if(result=animationPrefilters[index].call(animation,elem,props,animation.opts))return result;return jQuery.map(props,createTween,animation),jQuery.isFunction(animation.opts.start)&&animation.opts.start.call(elem,animation),jQuery.fx.timer(jQuery.extend(tick,{elem:elem,anim:animation,queue:animation.opts.queue})),animation.progress(animation.opts.progress).done(animation.opts.done,animation.opts.complete).fail(animation.opts.fail).always(animation.opts.always)}function addToPrefiltersOrTransports(structure){return function(dataTypeExpression,func){"string"!=typeof dataTypeExpression&&(func=dataTypeExpression,dataTypeExpression="*");var dataType,i=0,dataTypes=dataTypeExpression.toLowerCase().match(rnotwhite)||[];if(jQuery.isFunction(func))for(;dataType=dataTypes[i++];)"+"===dataType[0]?(dataType=dataType.slice(1)||"*",(structure[dataType]=structure[dataType]||[]).unshift(func)):(structure[dataType]=structure[dataType]||[]).push(func)}}function inspectPrefiltersOrTransports(structure,options,originalOptions,jqXHR){function inspect(dataType){var selected;return inspected[dataType]=!0,jQuery.each(structure[dataType]||[],function(_,prefilterOrFactory){var dataTypeOrTransport=prefilterOrFactory(options,originalOptions,jqXHR);return"string"!=typeof dataTypeOrTransport||seekingTransport||inspected[dataTypeOrTransport]?seekingTransport?!(selected=dataTypeOrTransport):void 0:(options.dataTypes.unshift(dataTypeOrTransport),inspect(dataTypeOrTransport),!1)}),selected}var inspected={},seekingTransport=structure===transports;return inspect(options.dataTypes[0])||!inspected["*"]&&inspect("*")}function ajaxExtend(target,src){var key,deep,flatOptions=jQuery.ajaxSettings.flatOptions||{};for(key in src)void 0!==src[key]&&((flatOptions[key]?target:deep||(deep={}))[key]=src[key]);return deep&&jQuery.extend(!0,target,deep),target}function ajaxHandleResponses(s,jqXHR,responses){for(var ct,type,finalDataType,firstDataType,contents=s.contents,dataTypes=s.dataTypes;"*"===dataTypes[0];)dataTypes.shift(),void 0===ct&&(ct=s.mimeType||jqXHR.getResponseHeader("Content-Type"));if(ct)for(type in contents)if(contents[type]&&contents[type].test(ct)){dataTypes.unshift(type);break}if(dataTypes[0]in responses)finalDataType=dataTypes[0];else{for(type in responses){if(!dataTypes[0]||s.converters[type+" "+dataTypes[0]]){finalDataType=type;break}firstDataType||(firstDataType=type)}finalDataType=finalDataType||firstDataType}if(finalDataType)return finalDataType!==dataTypes[0]&&dataTypes.unshift(finalDataType),responses[finalDataType]}function ajaxConvert(s,response,jqXHR,isSuccess){var conv2,current,conv,tmp,prev,converters={},dataTypes=s.dataTypes.slice();if(dataTypes[1])for(conv in s.converters)converters[conv.toLowerCase()]=s.converters[conv];for(current=dataTypes.shift();current;)if(s.responseFields[current]&&(jqXHR[s.responseFields[current]]=response),!prev&&isSuccess&&s.dataFilter&&(response=s.dataFilter(response,s.dataType)),prev=current,current=dataTypes.shift())if("*"===current)current=prev;else if("*"!==prev&&prev!==current){if(conv=converters[prev+" "+current]||converters["* "+current],!conv)for(conv2 in converters)if(tmp=conv2.split(" "),tmp[1]===current&&(conv=converters[prev+" "+tmp[0]]||converters["* "+tmp[0]])){conv===!0?conv=converters[conv2]:converters[conv2]!==!0&&(current=tmp[0],dataTypes.unshift(tmp[1]));break}if(conv!==!0)if(conv&&s["throws"])response=conv(response);else try{response=conv(response)}catch(e){return{state:"parsererror",error:conv?e:"No conversion from "+prev+" to "+current}}}return{state:"success",data:response}}function buildParams(prefix,obj,traditional,add){var name;if(jQuery.isArray(obj))jQuery.each(obj,function(i,v){traditional||rbracket.test(prefix)?add(prefix,v):buildParams(prefix+"["+("object"==typeof v?i:"")+"]",v,traditional,add)});else if(traditional||"object"!==jQuery.type(obj))add(prefix,obj);else for(name in obj)buildParams(prefix+"["+name+"]",obj[name],traditional,add)}function getWindow(elem){return jQuery.isWindow(elem)?elem:9===elem.nodeType&&elem.defaultView}var arr=[],slice=arr.slice,concat=arr.concat,push=arr.push,indexOf=arr.indexOf,class2type={},toString=class2type.toString,hasOwn=class2type.hasOwnProperty,support={},document=window.document,version="2.1.4",jQuery=function(selector,context){return new jQuery.fn.init(selector,context)},rtrim=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,rmsPrefix=/^-ms-/,rdashAlpha=/-([\da-z])/gi,fcamelCase=function(all,letter){return letter.toUpperCase()};jQuery.fn=jQuery.prototype={jquery:version,constructor:jQuery,selector:"",length:0,toArray:function(){return slice.call(this)},get:function(num){return null!=num?num<0?this[num+this.length]:this[num]:slice.call(this)},pushStack:function(elems){var ret=jQuery.merge(this.constructor(),elems);return ret.prevObject=this,ret.context=this.context,ret},each:function(callback,args){return jQuery.each(this,callback,args)},map:function(callback){return this.pushStack(jQuery.map(this,function(elem,i){return callback.call(elem,i,elem)}))},slice:function(){return this.pushStack(slice.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(i){var len=this.length,j=+i+(i<0?len:0);return this.pushStack(j>=0&&j<len?[this[j]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:push,sort:arr.sort,splice:arr.splice},jQuery.extend=jQuery.fn.extend=function(){var options,name,src,copy,copyIsArray,clone,target=arguments[0]||{},i=1,length=arguments.length,deep=!1;for("boolean"==typeof target&&(deep=target,target=arguments[i]||{},i++),"object"==typeof target||jQuery.isFunction(target)||(target={}),i===length&&(target=this,i--);i<length;i++)if(null!=(options=arguments[i]))for(name in options)src=target[name],copy=options[name],target!==copy&&(deep&&copy&&(jQuery.isPlainObject(copy)||(copyIsArray=jQuery.isArray(copy)))?(copyIsArray?(copyIsArray=!1,clone=src&&jQuery.isArray(src)?src:[]):clone=src&&jQuery.isPlainObject(src)?src:{},target[name]=jQuery.extend(deep,clone,copy)):void 0!==copy&&(target[name]=copy));return target},jQuery.extend({expando:"jQuery"+(version+Math.random()).replace(/\D/g,""),isReady:!0,error:function(msg){throw new Error(msg)},noop:function(){},isFunction:function(obj){return"function"===jQuery.type(obj)},isArray:Array.isArray,isWindow:function(obj){return null!=obj&&obj===obj.window},isNumeric:function(obj){return!jQuery.isArray(obj)&&obj-parseFloat(obj)+1>=0},isPlainObject:function(obj){return"object"===jQuery.type(obj)&&!obj.nodeType&&!jQuery.isWindow(obj)&&!(obj.constructor&&!hasOwn.call(obj.constructor.prototype,"isPrototypeOf"))},isEmptyObject:function(obj){var name;for(name in obj)return!1;return!0},type:function(obj){return null==obj?obj+"":"object"==typeof obj||"function"==typeof obj?class2type[toString.call(obj)]||"object":typeof obj},globalEval:function(code){var script,indirect=eval;code=jQuery.trim(code),code&&(1===code.indexOf("use strict")?(script=document.createElement("script"),script.text=code,document.head.appendChild(script).parentNode.removeChild(script)):indirect(code))},camelCase:function(string){return string.replace(rmsPrefix,"ms-").replace(rdashAlpha,fcamelCase)},nodeName:function(elem,name){return elem.nodeName&&elem.nodeName.toLowerCase()===name.toLowerCase()},each:function(obj,callback,args){var value,i=0,length=obj.length,isArray=isArraylike(obj);if(args){if(isArray)for(;i<length&&(value=callback.apply(obj[i],args),value!==!1);i++);else for(i in obj)if(value=callback.apply(obj[i],args),value===!1)break}else if(isArray)for(;i<length&&(value=callback.call(obj[i],i,obj[i]),value!==!1);i++);else for(i in obj)if(value=callback.call(obj[i],i,obj[i]),value===!1)break;return obj},trim:function(text){return null==text?"":(text+"").replace(rtrim,"")},makeArray:function(arr,results){var ret=results||[];return null!=arr&&(isArraylike(Object(arr))?jQuery.merge(ret,"string"==typeof arr?[arr]:arr):push.call(ret,arr)),ret},inArray:function(elem,arr,i){return null==arr?-1:indexOf.call(arr,elem,i)},merge:function(first,second){for(var len=+second.length,j=0,i=first.length;j<len;j++)first[i++]=second[j];return first.length=i,first},grep:function(elems,callback,invert){for(var callbackInverse,matches=[],i=0,length=elems.length,callbackExpect=!invert;i<length;i++)callbackInverse=!callback(elems[i],i),callbackInverse!==callbackExpect&&matches.push(elems[i]);return matches},map:function(elems,callback,arg){var value,i=0,length=elems.length,isArray=isArraylike(elems),ret=[];if(isArray)for(;i<length;i++)value=callback(elems[i],i,arg),null!=value&&ret.push(value);else for(i in elems)value=callback(elems[i],i,arg),null!=value&&ret.push(value);return concat.apply([],ret)},guid:1,proxy:function(fn,context){var tmp,args,proxy;if("string"==typeof context&&(tmp=fn[context],context=fn,fn=tmp),jQuery.isFunction(fn))return args=slice.call(arguments,2),proxy=function(){return fn.apply(context||this,args.concat(slice.call(arguments)))},proxy.guid=fn.guid=fn.guid||jQuery.guid++,proxy},now:Date.now,support:support}),jQuery.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(i,name){class2type["[object "+name+"]"]=name.toLowerCase()});var Sizzle=function(window){function Sizzle(selector,context,results,seed){var match,elem,m,nodeType,i,groups,old,nid,newContext,newSelector;if((context?context.ownerDocument||context:preferredDoc)!==document&&setDocument(context),context=context||document,results=results||[],nodeType=context.nodeType,"string"!=typeof selector||!selector||1!==nodeType&&9!==nodeType&&11!==nodeType)return results;if(!seed&&documentIsHTML){if(11!==nodeType&&(match=rquickExpr.exec(selector)))if(m=match[1]){if(9===nodeType){if(elem=context.getElementById(m),!elem||!elem.parentNode)return results;if(elem.id===m)return results.push(elem),results}else if(context.ownerDocument&&(elem=context.ownerDocument.getElementById(m))&&contains(context,elem)&&elem.id===m)return results.push(elem),results}else{if(match[2])return push.apply(results,context.getElementsByTagName(selector)),results;if((m=match[3])&&support.getElementsByClassName)return push.apply(results,context.getElementsByClassName(m)),results}if(support.qsa&&(!rbuggyQSA||!rbuggyQSA.test(selector))){if(nid=old=expando,newContext=context,newSelector=1!==nodeType&&selector,1===nodeType&&"object"!==context.nodeName.toLowerCase()){for(groups=tokenize(selector),(old=context.getAttribute("id"))?nid=old.replace(rescape,"\\$&"):context.setAttribute("id",nid),nid="[id='"+nid+"'] ",i=groups.length;i--;)groups[i]=nid+toSelector(groups[i]);newContext=rsibling.test(selector)&&testContext(context.parentNode)||context,newSelector=groups.join(",")}if(newSelector)try{return push.apply(results,newContext.querySelectorAll(newSelector)),results}catch(qsaError){}finally{old||context.removeAttribute("id")}}}return select(selector.replace(rtrim,"$1"),context,results,seed)}function createCache(){function cache(key,value){return keys.push(key+" ")>Expr.cacheLength&&delete cache[keys.shift()],cache[key+" "]=value}var keys=[];return cache}function markFunction(fn){return fn[expando]=!0,fn}function assert(fn){var div=document.createElement("div");try{return!!fn(div)}catch(e){return!1}finally{div.parentNode&&div.parentNode.removeChild(div),div=null}}function addHandle(attrs,handler){for(var arr=attrs.split("|"),i=attrs.length;i--;)Expr.attrHandle[arr[i]]=handler}function siblingCheck(a,b){var cur=b&&a,diff=cur&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||MAX_NEGATIVE)-(~a.sourceIndex||MAX_NEGATIVE);if(diff)return diff;if(cur)for(;cur=cur.nextSibling;)if(cur===b)return-1;return a?1:-1}function createInputPseudo(type){return function(elem){var name=elem.nodeName.toLowerCase();return"input"===name&&elem.type===type}}function createButtonPseudo(type){return function(elem){var name=elem.nodeName.toLowerCase();return("input"===name||"button"===name)&&elem.type===type}}function createPositionalPseudo(fn){return markFunction(function(argument){return argument=+argument,markFunction(function(seed,matches){for(var j,matchIndexes=fn([],seed.length,argument),i=matchIndexes.length;i--;)seed[j=matchIndexes[i]]&&(seed[j]=!(matches[j]=seed[j]))})})}function testContext(context){return context&&"undefined"!=typeof context.getElementsByTagName&&context}function setFilters(){}function toSelector(tokens){for(var i=0,len=tokens.length,selector="";i<len;i++)selector+=tokens[i].value;return selector}function addCombinator(matcher,combinator,base){var dir=combinator.dir,checkNonElements=base&&"parentNode"===dir,doneName=done++;return combinator.first?function(elem,context,xml){for(;elem=elem[dir];)if(1===elem.nodeType||checkNonElements)return matcher(elem,context,xml)}:function(elem,context,xml){var oldCache,outerCache,newCache=[dirruns,doneName];if(xml){for(;elem=elem[dir];)if((1===elem.nodeType||checkNonElements)&&matcher(elem,context,xml))return!0}else for(;elem=elem[dir];)if(1===elem.nodeType||checkNonElements){if(outerCache=elem[expando]||(elem[expando]={}),(oldCache=outerCache[dir])&&oldCache[0]===dirruns&&oldCache[1]===doneName)return newCache[2]=oldCache[2];if(outerCache[dir]=newCache,newCache[2]=matcher(elem,context,xml))return!0}}}function elementMatcher(matchers){return matchers.length>1?function(elem,context,xml){for(var i=matchers.length;i--;)if(!matchers[i](elem,context,xml))return!1;return!0}:matchers[0]}function multipleContexts(selector,contexts,results){for(var i=0,len=contexts.length;i<len;i++)Sizzle(selector,contexts[i],results);return results}function condense(unmatched,map,filter,context,xml){for(var elem,newUnmatched=[],i=0,len=unmatched.length,mapped=null!=map;i<len;i++)(elem=unmatched[i])&&(filter&&!filter(elem,context,xml)||(newUnmatched.push(elem),mapped&&map.push(i)));return newUnmatched}function setMatcher(preFilter,selector,matcher,postFilter,postFinder,postSelector){return postFilter&&!postFilter[expando]&&(postFilter=setMatcher(postFilter)),postFinder&&!postFinder[expando]&&(postFinder=setMatcher(postFinder,postSelector)),markFunction(function(seed,results,context,xml){var temp,i,elem,preMap=[],postMap=[],preexisting=results.length,elems=seed||multipleContexts(selector||"*",context.nodeType?[context]:context,[]),matcherIn=!preFilter||!seed&&selector?elems:condense(elems,preMap,preFilter,context,xml),matcherOut=matcher?postFinder||(seed?preFilter:preexisting||postFilter)?[]:results:matcherIn;if(matcher&&matcher(matcherIn,matcherOut,context,xml),postFilter)for(temp=condense(matcherOut,postMap),postFilter(temp,[],context,xml),i=temp.length;i--;)(elem=temp[i])&&(matcherOut[postMap[i]]=!(matcherIn[postMap[i]]=elem));if(seed){if(postFinder||preFilter){if(postFinder){for(temp=[],i=matcherOut.length;i--;)(elem=matcherOut[i])&&temp.push(matcherIn[i]=elem);postFinder(null,matcherOut=[],temp,xml)}for(i=matcherOut.length;i--;)(elem=matcherOut[i])&&(temp=postFinder?indexOf(seed,elem):preMap[i])>-1&&(seed[temp]=!(results[temp]=elem))}}else matcherOut=condense(matcherOut===results?matcherOut.splice(preexisting,matcherOut.length):matcherOut),postFinder?postFinder(null,results,matcherOut,xml):push.apply(results,matcherOut)})}function matcherFromTokens(tokens){for(var checkContext,matcher,j,len=tokens.length,leadingRelative=Expr.relative[tokens[0].type],implicitRelative=leadingRelative||Expr.relative[" "],i=leadingRelative?1:0,matchContext=addCombinator(function(elem){return elem===checkContext},implicitRelative,!0),matchAnyContext=addCombinator(function(elem){return indexOf(checkContext,elem)>-1},implicitRelative,!0),matchers=[function(elem,context,xml){var ret=!leadingRelative&&(xml||context!==outermostContext)||((checkContext=context).nodeType?matchContext(elem,context,xml):matchAnyContext(elem,context,xml));return checkContext=null,ret}];i<len;i++)if(matcher=Expr.relative[tokens[i].type])matchers=[addCombinator(elementMatcher(matchers),matcher)];else{if(matcher=Expr.filter[tokens[i].type].apply(null,tokens[i].matches),matcher[expando]){for(j=++i;j<len&&!Expr.relative[tokens[j].type];j++);return setMatcher(i>1&&elementMatcher(matchers),i>1&&toSelector(tokens.slice(0,i-1).concat({value:" "===tokens[i-2].type?"*":""})).replace(rtrim,"$1"),matcher,i<j&&matcherFromTokens(tokens.slice(i,j)),j<len&&matcherFromTokens(tokens=tokens.slice(j)),j<len&&toSelector(tokens))}matchers.push(matcher)}return elementMatcher(matchers)}function matcherFromGroupMatchers(elementMatchers,setMatchers){var bySet=setMatchers.length>0,byElement=elementMatchers.length>0,superMatcher=function(seed,context,xml,results,outermost){var elem,j,matcher,matchedCount=0,i="0",unmatched=seed&&[],setMatched=[],contextBackup=outermostContext,elems=seed||byElement&&Expr.find.TAG("*",outermost),dirrunsUnique=dirruns+=null==contextBackup?1:Math.random()||.1,len=elems.length;for(outermost&&(outermostContext=context!==document&&context);i!==len&&null!=(elem=elems[i]);i++){if(byElement&&elem){for(j=0;matcher=elementMatchers[j++];)if(matcher(elem,context,xml)){results.push(elem);break}outermost&&(dirruns=dirrunsUnique)}bySet&&((elem=!matcher&&elem)&&matchedCount--,seed&&unmatched.push(elem))}if(matchedCount+=i,bySet&&i!==matchedCount){for(j=0;matcher=setMatchers[j++];)matcher(unmatched,setMatched,context,xml);if(seed){if(matchedCount>0)for(;i--;)unmatched[i]||setMatched[i]||(setMatched[i]=pop.call(results));setMatched=condense(setMatched)}push.apply(results,setMatched),outermost&&!seed&&setMatched.length>0&&matchedCount+setMatchers.length>1&&Sizzle.uniqueSort(results)}return outermost&&(dirruns=dirrunsUnique,outermostContext=contextBackup),unmatched};return bySet?markFunction(superMatcher):superMatcher}var i,support,Expr,getText,isXML,tokenize,compile,select,outermostContext,sortInput,hasDuplicate,setDocument,document,docElem,documentIsHTML,rbuggyQSA,rbuggyMatches,matches,contains,expando="sizzle"+1*new Date,preferredDoc=window.document,dirruns=0,done=0,classCache=createCache(),tokenCache=createCache(),compilerCache=createCache(),sortOrder=function(a,b){return a===b&&(hasDuplicate=!0),0},MAX_NEGATIVE=1<<31,hasOwn={}.hasOwnProperty,arr=[],pop=arr.pop,push_native=arr.push,push=arr.push,slice=arr.slice,indexOf=function(list,elem){for(var i=0,len=list.length;i<len;i++)if(list[i]===elem)return i;return-1},booleans="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",whitespace="[\\x20\\t\\r\\n\\f]",characterEncoding="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",identifier=characterEncoding.replace("w","w#"),attributes="\\["+whitespace+"*("+characterEncoding+")(?:"+whitespace+"*([*^$|!~]?=)"+whitespace+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+identifier+"))|)"+whitespace+"*\\]",pseudos=":("+characterEncoding+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+attributes+")*)|.*)\\)|)",rwhitespace=new RegExp(whitespace+"+","g"),rtrim=new RegExp("^"+whitespace+"+|((?:^|[^\\\\])(?:\\\\.)*)"+whitespace+"+$","g"),rcomma=new RegExp("^"+whitespace+"*,"+whitespace+"*"),rcombinators=new RegExp("^"+whitespace+"*([>+~]|"+whitespace+")"+whitespace+"*"),rattributeQuotes=new RegExp("="+whitespace+"*([^\\]'\"]*?)"+whitespace+"*\\]","g"),rpseudo=new RegExp(pseudos),ridentifier=new RegExp("^"+identifier+"$"),matchExpr={ID:new RegExp("^#("+characterEncoding+")"),CLASS:new RegExp("^\\.("+characterEncoding+")"),TAG:new RegExp("^("+characterEncoding.replace("w","w*")+")"),ATTR:new RegExp("^"+attributes),PSEUDO:new RegExp("^"+pseudos),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+whitespace+"*(even|odd|(([+-]|)(\\d*)n|)"+whitespace+"*(?:([+-]|)"+whitespace+"*(\\d+)|))"+whitespace+"*\\)|)","i"),
bool:new RegExp("^(?:"+booleans+")$","i"),needsContext:new RegExp("^"+whitespace+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+whitespace+"*((?:-\\d)?\\d*)"+whitespace+"*\\)|)(?=[^-]|$)","i")},rinputs=/^(?:input|select|textarea|button)$/i,rheader=/^h\d$/i,rnative=/^[^{]+\{\s*\[native \w/,rquickExpr=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,rsibling=/[+~]/,rescape=/'|\\/g,runescape=new RegExp("\\\\([\\da-f]{1,6}"+whitespace+"?|("+whitespace+")|.)","ig"),funescape=function(_,escaped,escapedWhitespace){var high="0x"+escaped-65536;return high!==high||escapedWhitespace?escaped:high<0?String.fromCharCode(high+65536):String.fromCharCode(high>>10|55296,1023&high|56320)},unloadHandler=function(){setDocument()};try{push.apply(arr=slice.call(preferredDoc.childNodes),preferredDoc.childNodes),arr[preferredDoc.childNodes.length].nodeType}catch(e){push={apply:arr.length?function(target,els){push_native.apply(target,slice.call(els))}:function(target,els){for(var j=target.length,i=0;target[j++]=els[i++];);target.length=j-1}}}support=Sizzle.support={},isXML=Sizzle.isXML=function(elem){var documentElement=elem&&(elem.ownerDocument||elem).documentElement;return!!documentElement&&"HTML"!==documentElement.nodeName},setDocument=Sizzle.setDocument=function(node){var hasCompare,parent,doc=node?node.ownerDocument||node:preferredDoc;return doc!==document&&9===doc.nodeType&&doc.documentElement?(document=doc,docElem=doc.documentElement,parent=doc.defaultView,parent&&parent!==parent.top&&(parent.addEventListener?parent.addEventListener("unload",unloadHandler,!1):parent.attachEvent&&parent.attachEvent("onunload",unloadHandler)),documentIsHTML=!isXML(doc),support.attributes=assert(function(div){return div.className="i",!div.getAttribute("className")}),support.getElementsByTagName=assert(function(div){return div.appendChild(doc.createComment("")),!div.getElementsByTagName("*").length}),support.getElementsByClassName=rnative.test(doc.getElementsByClassName),support.getById=assert(function(div){return docElem.appendChild(div).id=expando,!doc.getElementsByName||!doc.getElementsByName(expando).length}),support.getById?(Expr.find.ID=function(id,context){if("undefined"!=typeof context.getElementById&&documentIsHTML){var m=context.getElementById(id);return m&&m.parentNode?[m]:[]}},Expr.filter.ID=function(id){var attrId=id.replace(runescape,funescape);return function(elem){return elem.getAttribute("id")===attrId}}):(delete Expr.find.ID,Expr.filter.ID=function(id){var attrId=id.replace(runescape,funescape);return function(elem){var node="undefined"!=typeof elem.getAttributeNode&&elem.getAttributeNode("id");return node&&node.value===attrId}}),Expr.find.TAG=support.getElementsByTagName?function(tag,context){return"undefined"!=typeof context.getElementsByTagName?context.getElementsByTagName(tag):support.qsa?context.querySelectorAll(tag):void 0}:function(tag,context){var elem,tmp=[],i=0,results=context.getElementsByTagName(tag);if("*"===tag){for(;elem=results[i++];)1===elem.nodeType&&tmp.push(elem);return tmp}return results},Expr.find.CLASS=support.getElementsByClassName&&function(className,context){if(documentIsHTML)return context.getElementsByClassName(className)},rbuggyMatches=[],rbuggyQSA=[],(support.qsa=rnative.test(doc.querySelectorAll))&&(assert(function(div){docElem.appendChild(div).innerHTML="<a id='"+expando+"'></a><select id='"+expando+"-\f]' msallowcapture=''><option selected=''></option></select>",div.querySelectorAll("[msallowcapture^='']").length&&rbuggyQSA.push("[*^$]="+whitespace+"*(?:''|\"\")"),div.querySelectorAll("[selected]").length||rbuggyQSA.push("\\["+whitespace+"*(?:value|"+booleans+")"),div.querySelectorAll("[id~="+expando+"-]").length||rbuggyQSA.push("~="),div.querySelectorAll(":checked").length||rbuggyQSA.push(":checked"),div.querySelectorAll("a#"+expando+"+*").length||rbuggyQSA.push(".#.+[+~]")}),assert(function(div){var input=doc.createElement("input");input.setAttribute("type","hidden"),div.appendChild(input).setAttribute("name","D"),div.querySelectorAll("[name=d]").length&&rbuggyQSA.push("name"+whitespace+"*[*^$|!~]?="),div.querySelectorAll(":enabled").length||rbuggyQSA.push(":enabled",":disabled"),div.querySelectorAll("*,:x"),rbuggyQSA.push(",.*:")})),(support.matchesSelector=rnative.test(matches=docElem.matches||docElem.webkitMatchesSelector||docElem.mozMatchesSelector||docElem.oMatchesSelector||docElem.msMatchesSelector))&&assert(function(div){support.disconnectedMatch=matches.call(div,"div"),matches.call(div,"[s!='']:x"),rbuggyMatches.push("!=",pseudos)}),rbuggyQSA=rbuggyQSA.length&&new RegExp(rbuggyQSA.join("|")),rbuggyMatches=rbuggyMatches.length&&new RegExp(rbuggyMatches.join("|")),hasCompare=rnative.test(docElem.compareDocumentPosition),contains=hasCompare||rnative.test(docElem.contains)?function(a,b){var adown=9===a.nodeType?a.documentElement:a,bup=b&&b.parentNode;return a===bup||!(!bup||1!==bup.nodeType||!(adown.contains?adown.contains(bup):a.compareDocumentPosition&&16&a.compareDocumentPosition(bup)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1},sortOrder=hasCompare?function(a,b){if(a===b)return hasDuplicate=!0,0;var compare=!a.compareDocumentPosition-!b.compareDocumentPosition;return compare?compare:(compare=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&compare||!support.sortDetached&&b.compareDocumentPosition(a)===compare?a===doc||a.ownerDocument===preferredDoc&&contains(preferredDoc,a)?-1:b===doc||b.ownerDocument===preferredDoc&&contains(preferredDoc,b)?1:sortInput?indexOf(sortInput,a)-indexOf(sortInput,b):0:4&compare?-1:1)}:function(a,b){if(a===b)return hasDuplicate=!0,0;var cur,i=0,aup=a.parentNode,bup=b.parentNode,ap=[a],bp=[b];if(!aup||!bup)return a===doc?-1:b===doc?1:aup?-1:bup?1:sortInput?indexOf(sortInput,a)-indexOf(sortInput,b):0;if(aup===bup)return siblingCheck(a,b);for(cur=a;cur=cur.parentNode;)ap.unshift(cur);for(cur=b;cur=cur.parentNode;)bp.unshift(cur);for(;ap[i]===bp[i];)i++;return i?siblingCheck(ap[i],bp[i]):ap[i]===preferredDoc?-1:bp[i]===preferredDoc?1:0},doc):document},Sizzle.matches=function(expr,elements){return Sizzle(expr,null,null,elements)},Sizzle.matchesSelector=function(elem,expr){if((elem.ownerDocument||elem)!==document&&setDocument(elem),expr=expr.replace(rattributeQuotes,"='$1']"),support.matchesSelector&&documentIsHTML&&(!rbuggyMatches||!rbuggyMatches.test(expr))&&(!rbuggyQSA||!rbuggyQSA.test(expr)))try{var ret=matches.call(elem,expr);if(ret||support.disconnectedMatch||elem.document&&11!==elem.document.nodeType)return ret}catch(e){}return Sizzle(expr,document,null,[elem]).length>0},Sizzle.contains=function(context,elem){return(context.ownerDocument||context)!==document&&setDocument(context),contains(context,elem)},Sizzle.attr=function(elem,name){(elem.ownerDocument||elem)!==document&&setDocument(elem);var fn=Expr.attrHandle[name.toLowerCase()],val=fn&&hasOwn.call(Expr.attrHandle,name.toLowerCase())?fn(elem,name,!documentIsHTML):void 0;return void 0!==val?val:support.attributes||!documentIsHTML?elem.getAttribute(name):(val=elem.getAttributeNode(name))&&val.specified?val.value:null},Sizzle.error=function(msg){throw new Error("Syntax error, unrecognized expression: "+msg)},Sizzle.uniqueSort=function(results){var elem,duplicates=[],j=0,i=0;if(hasDuplicate=!support.detectDuplicates,sortInput=!support.sortStable&&results.slice(0),results.sort(sortOrder),hasDuplicate){for(;elem=results[i++];)elem===results[i]&&(j=duplicates.push(i));for(;j--;)results.splice(duplicates[j],1)}return sortInput=null,results},getText=Sizzle.getText=function(elem){var node,ret="",i=0,nodeType=elem.nodeType;if(nodeType){if(1===nodeType||9===nodeType||11===nodeType){if("string"==typeof elem.textContent)return elem.textContent;for(elem=elem.firstChild;elem;elem=elem.nextSibling)ret+=getText(elem)}else if(3===nodeType||4===nodeType)return elem.nodeValue}else for(;node=elem[i++];)ret+=getText(node);return ret},Expr=Sizzle.selectors={cacheLength:50,createPseudo:markFunction,match:matchExpr,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(match){return match[1]=match[1].replace(runescape,funescape),match[3]=(match[3]||match[4]||match[5]||"").replace(runescape,funescape),"~="===match[2]&&(match[3]=" "+match[3]+" "),match.slice(0,4)},CHILD:function(match){return match[1]=match[1].toLowerCase(),"nth"===match[1].slice(0,3)?(match[3]||Sizzle.error(match[0]),match[4]=+(match[4]?match[5]+(match[6]||1):2*("even"===match[3]||"odd"===match[3])),match[5]=+(match[7]+match[8]||"odd"===match[3])):match[3]&&Sizzle.error(match[0]),match},PSEUDO:function(match){var excess,unquoted=!match[6]&&match[2];return matchExpr.CHILD.test(match[0])?null:(match[3]?match[2]=match[4]||match[5]||"":unquoted&&rpseudo.test(unquoted)&&(excess=tokenize(unquoted,!0))&&(excess=unquoted.indexOf(")",unquoted.length-excess)-unquoted.length)&&(match[0]=match[0].slice(0,excess),match[2]=unquoted.slice(0,excess)),match.slice(0,3))}},filter:{TAG:function(nodeNameSelector){var nodeName=nodeNameSelector.replace(runescape,funescape).toLowerCase();return"*"===nodeNameSelector?function(){return!0}:function(elem){return elem.nodeName&&elem.nodeName.toLowerCase()===nodeName}},CLASS:function(className){var pattern=classCache[className+" "];return pattern||(pattern=new RegExp("(^|"+whitespace+")"+className+"("+whitespace+"|$)"))&&classCache(className,function(elem){return pattern.test("string"==typeof elem.className&&elem.className||"undefined"!=typeof elem.getAttribute&&elem.getAttribute("class")||"")})},ATTR:function(name,operator,check){return function(elem){var result=Sizzle.attr(elem,name);return null==result?"!="===operator:!operator||(result+="","="===operator?result===check:"!="===operator?result!==check:"^="===operator?check&&0===result.indexOf(check):"*="===operator?check&&result.indexOf(check)>-1:"$="===operator?check&&result.slice(-check.length)===check:"~="===operator?(" "+result.replace(rwhitespace," ")+" ").indexOf(check)>-1:"|="===operator&&(result===check||result.slice(0,check.length+1)===check+"-"))}},CHILD:function(type,what,argument,first,last){var simple="nth"!==type.slice(0,3),forward="last"!==type.slice(-4),ofType="of-type"===what;return 1===first&&0===last?function(elem){return!!elem.parentNode}:function(elem,context,xml){var cache,outerCache,node,diff,nodeIndex,start,dir=simple!==forward?"nextSibling":"previousSibling",parent=elem.parentNode,name=ofType&&elem.nodeName.toLowerCase(),useCache=!xml&&!ofType;if(parent){if(simple){for(;dir;){for(node=elem;node=node[dir];)if(ofType?node.nodeName.toLowerCase()===name:1===node.nodeType)return!1;start=dir="only"===type&&!start&&"nextSibling"}return!0}if(start=[forward?parent.firstChild:parent.lastChild],forward&&useCache){for(outerCache=parent[expando]||(parent[expando]={}),cache=outerCache[type]||[],nodeIndex=cache[0]===dirruns&&cache[1],diff=cache[0]===dirruns&&cache[2],node=nodeIndex&&parent.childNodes[nodeIndex];node=++nodeIndex&&node&&node[dir]||(diff=nodeIndex=0)||start.pop();)if(1===node.nodeType&&++diff&&node===elem){outerCache[type]=[dirruns,nodeIndex,diff];break}}else if(useCache&&(cache=(elem[expando]||(elem[expando]={}))[type])&&cache[0]===dirruns)diff=cache[1];else for(;(node=++nodeIndex&&node&&node[dir]||(diff=nodeIndex=0)||start.pop())&&((ofType?node.nodeName.toLowerCase()!==name:1!==node.nodeType)||!++diff||(useCache&&((node[expando]||(node[expando]={}))[type]=[dirruns,diff]),node!==elem)););return diff-=last,diff===first||diff%first===0&&diff/first>=0}}},PSEUDO:function(pseudo,argument){var args,fn=Expr.pseudos[pseudo]||Expr.setFilters[pseudo.toLowerCase()]||Sizzle.error("unsupported pseudo: "+pseudo);return fn[expando]?fn(argument):fn.length>1?(args=[pseudo,pseudo,"",argument],Expr.setFilters.hasOwnProperty(pseudo.toLowerCase())?markFunction(function(seed,matches){for(var idx,matched=fn(seed,argument),i=matched.length;i--;)idx=indexOf(seed,matched[i]),seed[idx]=!(matches[idx]=matched[i])}):function(elem){return fn(elem,0,args)}):fn}},pseudos:{not:markFunction(function(selector){var input=[],results=[],matcher=compile(selector.replace(rtrim,"$1"));return matcher[expando]?markFunction(function(seed,matches,context,xml){for(var elem,unmatched=matcher(seed,null,xml,[]),i=seed.length;i--;)(elem=unmatched[i])&&(seed[i]=!(matches[i]=elem))}):function(elem,context,xml){return input[0]=elem,matcher(input,null,xml,results),input[0]=null,!results.pop()}}),has:markFunction(function(selector){return function(elem){return Sizzle(selector,elem).length>0}}),contains:markFunction(function(text){return text=text.replace(runescape,funescape),function(elem){return(elem.textContent||elem.innerText||getText(elem)).indexOf(text)>-1}}),lang:markFunction(function(lang){return ridentifier.test(lang||"")||Sizzle.error("unsupported lang: "+lang),lang=lang.replace(runescape,funescape).toLowerCase(),function(elem){var elemLang;do if(elemLang=documentIsHTML?elem.lang:elem.getAttribute("xml:lang")||elem.getAttribute("lang"))return elemLang=elemLang.toLowerCase(),elemLang===lang||0===elemLang.indexOf(lang+"-");while((elem=elem.parentNode)&&1===elem.nodeType);return!1}}),target:function(elem){var hash=window.location&&window.location.hash;return hash&&hash.slice(1)===elem.id},root:function(elem){return elem===docElem},focus:function(elem){return elem===document.activeElement&&(!document.hasFocus||document.hasFocus())&&!!(elem.type||elem.href||~elem.tabIndex)},enabled:function(elem){return elem.disabled===!1},disabled:function(elem){return elem.disabled===!0},checked:function(elem){var nodeName=elem.nodeName.toLowerCase();return"input"===nodeName&&!!elem.checked||"option"===nodeName&&!!elem.selected},selected:function(elem){return elem.parentNode&&elem.parentNode.selectedIndex,elem.selected===!0},empty:function(elem){for(elem=elem.firstChild;elem;elem=elem.nextSibling)if(elem.nodeType<6)return!1;return!0},parent:function(elem){return!Expr.pseudos.empty(elem)},header:function(elem){return rheader.test(elem.nodeName)},input:function(elem){return rinputs.test(elem.nodeName)},button:function(elem){var name=elem.nodeName.toLowerCase();return"input"===name&&"button"===elem.type||"button"===name},text:function(elem){var attr;return"input"===elem.nodeName.toLowerCase()&&"text"===elem.type&&(null==(attr=elem.getAttribute("type"))||"text"===attr.toLowerCase())},first:createPositionalPseudo(function(){return[0]}),last:createPositionalPseudo(function(matchIndexes,length){return[length-1]}),eq:createPositionalPseudo(function(matchIndexes,length,argument){return[argument<0?argument+length:argument]}),even:createPositionalPseudo(function(matchIndexes,length){for(var i=0;i<length;i+=2)matchIndexes.push(i);return matchIndexes}),odd:createPositionalPseudo(function(matchIndexes,length){for(var i=1;i<length;i+=2)matchIndexes.push(i);return matchIndexes}),lt:createPositionalPseudo(function(matchIndexes,length,argument){for(var i=argument<0?argument+length:argument;--i>=0;)matchIndexes.push(i);return matchIndexes}),gt:createPositionalPseudo(function(matchIndexes,length,argument){for(var i=argument<0?argument+length:argument;++i<length;)matchIndexes.push(i);return matchIndexes})}},Expr.pseudos.nth=Expr.pseudos.eq;for(i in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})Expr.pseudos[i]=createInputPseudo(i);for(i in{submit:!0,reset:!0})Expr.pseudos[i]=createButtonPseudo(i);return setFilters.prototype=Expr.filters=Expr.pseudos,Expr.setFilters=new setFilters,tokenize=Sizzle.tokenize=function(selector,parseOnly){var matched,match,tokens,type,soFar,groups,preFilters,cached=tokenCache[selector+" "];if(cached)return parseOnly?0:cached.slice(0);for(soFar=selector,groups=[],preFilters=Expr.preFilter;soFar;){matched&&!(match=rcomma.exec(soFar))||(match&&(soFar=soFar.slice(match[0].length)||soFar),groups.push(tokens=[])),matched=!1,(match=rcombinators.exec(soFar))&&(matched=match.shift(),tokens.push({value:matched,type:match[0].replace(rtrim," ")}),soFar=soFar.slice(matched.length));for(type in Expr.filter)!(match=matchExpr[type].exec(soFar))||preFilters[type]&&!(match=preFilters[type](match))||(matched=match.shift(),tokens.push({value:matched,type:type,matches:match}),soFar=soFar.slice(matched.length));if(!matched)break}return parseOnly?soFar.length:soFar?Sizzle.error(selector):tokenCache(selector,groups).slice(0)},compile=Sizzle.compile=function(selector,match){var i,setMatchers=[],elementMatchers=[],cached=compilerCache[selector+" "];if(!cached){for(match||(match=tokenize(selector)),i=match.length;i--;)cached=matcherFromTokens(match[i]),cached[expando]?setMatchers.push(cached):elementMatchers.push(cached);cached=compilerCache(selector,matcherFromGroupMatchers(elementMatchers,setMatchers)),cached.selector=selector}return cached},select=Sizzle.select=function(selector,context,results,seed){var i,tokens,token,type,find,compiled="function"==typeof selector&&selector,match=!seed&&tokenize(selector=compiled.selector||selector);if(results=results||[],1===match.length){if(tokens=match[0]=match[0].slice(0),tokens.length>2&&"ID"===(token=tokens[0]).type&&support.getById&&9===context.nodeType&&documentIsHTML&&Expr.relative[tokens[1].type]){if(context=(Expr.find.ID(token.matches[0].replace(runescape,funescape),context)||[])[0],!context)return results;compiled&&(context=context.parentNode),selector=selector.slice(tokens.shift().value.length)}for(i=matchExpr.needsContext.test(selector)?0:tokens.length;i--&&(token=tokens[i],!Expr.relative[type=token.type]);)if((find=Expr.find[type])&&(seed=find(token.matches[0].replace(runescape,funescape),rsibling.test(tokens[0].type)&&testContext(context.parentNode)||context))){if(tokens.splice(i,1),selector=seed.length&&toSelector(tokens),!selector)return push.apply(results,seed),results;break}}return(compiled||compile(selector,match))(seed,context,!documentIsHTML,results,rsibling.test(selector)&&testContext(context.parentNode)||context),results},support.sortStable=expando.split("").sort(sortOrder).join("")===expando,support.detectDuplicates=!!hasDuplicate,setDocument(),support.sortDetached=assert(function(div1){return 1&div1.compareDocumentPosition(document.createElement("div"))}),assert(function(div){return div.innerHTML="<a href='#'></a>","#"===div.firstChild.getAttribute("href")})||addHandle("type|href|height|width",function(elem,name,isXML){if(!isXML)return elem.getAttribute(name,"type"===name.toLowerCase()?1:2)}),support.attributes&&assert(function(div){return div.innerHTML="<input/>",div.firstChild.setAttribute("value",""),""===div.firstChild.getAttribute("value")})||addHandle("value",function(elem,name,isXML){if(!isXML&&"input"===elem.nodeName.toLowerCase())return elem.defaultValue}),assert(function(div){return null==div.getAttribute("disabled")})||addHandle(booleans,function(elem,name,isXML){var val;if(!isXML)return elem[name]===!0?name.toLowerCase():(val=elem.getAttributeNode(name))&&val.specified?val.value:null}),Sizzle}(window);jQuery.find=Sizzle,jQuery.expr=Sizzle.selectors,jQuery.expr[":"]=jQuery.expr.pseudos,jQuery.unique=Sizzle.uniqueSort,jQuery.text=Sizzle.getText,jQuery.isXMLDoc=Sizzle.isXML,jQuery.contains=Sizzle.contains;var rneedsContext=jQuery.expr.match.needsContext,rsingleTag=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,risSimple=/^.[^:#\[\.,]*$/;jQuery.filter=function(expr,elems,not){var elem=elems[0];return not&&(expr=":not("+expr+")"),1===elems.length&&1===elem.nodeType?jQuery.find.matchesSelector(elem,expr)?[elem]:[]:jQuery.find.matches(expr,jQuery.grep(elems,function(elem){return 1===elem.nodeType}))},jQuery.fn.extend({find:function(selector){var i,len=this.length,ret=[],self=this;if("string"!=typeof selector)return this.pushStack(jQuery(selector).filter(function(){for(i=0;i<len;i++)if(jQuery.contains(self[i],this))return!0}));for(i=0;i<len;i++)jQuery.find(selector,self[i],ret);return ret=this.pushStack(len>1?jQuery.unique(ret):ret),ret.selector=this.selector?this.selector+" "+selector:selector,ret},filter:function(selector){return this.pushStack(winnow(this,selector||[],!1))},not:function(selector){return this.pushStack(winnow(this,selector||[],!0))},is:function(selector){return!!winnow(this,"string"==typeof selector&&rneedsContext.test(selector)?jQuery(selector):selector||[],!1).length}});var rootjQuery,rquickExpr=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,init=jQuery.fn.init=function(selector,context){var match,elem;if(!selector)return this;if("string"==typeof selector){if(match="<"===selector[0]&&">"===selector[selector.length-1]&&selector.length>=3?[null,selector,null]:rquickExpr.exec(selector),!match||!match[1]&&context)return!context||context.jquery?(context||rootjQuery).find(selector):this.constructor(context).find(selector);if(match[1]){if(context=context instanceof jQuery?context[0]:context,jQuery.merge(this,jQuery.parseHTML(match[1],context&&context.nodeType?context.ownerDocument||context:document,!0)),rsingleTag.test(match[1])&&jQuery.isPlainObject(context))for(match in context)jQuery.isFunction(this[match])?this[match](context[match]):this.attr(match,context[match]);return this}return elem=document.getElementById(match[2]),elem&&elem.parentNode&&(this.length=1,this[0]=elem),this.context=document,this.selector=selector,this}return selector.nodeType?(this.context=this[0]=selector,this.length=1,this):jQuery.isFunction(selector)?"undefined"!=typeof rootjQuery.ready?rootjQuery.ready(selector):selector(jQuery):(void 0!==selector.selector&&(this.selector=selector.selector,this.context=selector.context),jQuery.makeArray(selector,this))};init.prototype=jQuery.fn,rootjQuery=jQuery(document);var rparentsprev=/^(?:parents|prev(?:Until|All))/,guaranteedUnique={children:!0,contents:!0,next:!0,prev:!0};jQuery.extend({dir:function(elem,dir,until){for(var matched=[],truncate=void 0!==until;(elem=elem[dir])&&9!==elem.nodeType;)if(1===elem.nodeType){if(truncate&&jQuery(elem).is(until))break;matched.push(elem)}return matched},sibling:function(n,elem){for(var matched=[];n;n=n.nextSibling)1===n.nodeType&&n!==elem&&matched.push(n);return matched}}),jQuery.fn.extend({has:function(target){var targets=jQuery(target,this),l=targets.length;return this.filter(function(){for(var i=0;i<l;i++)if(jQuery.contains(this,targets[i]))return!0})},closest:function(selectors,context){for(var cur,i=0,l=this.length,matched=[],pos=rneedsContext.test(selectors)||"string"!=typeof selectors?jQuery(selectors,context||this.context):0;i<l;i++)for(cur=this[i];cur&&cur!==context;cur=cur.parentNode)if(cur.nodeType<11&&(pos?pos.index(cur)>-1:1===cur.nodeType&&jQuery.find.matchesSelector(cur,selectors))){matched.push(cur);break}return this.pushStack(matched.length>1?jQuery.unique(matched):matched)},index:function(elem){return elem?"string"==typeof elem?indexOf.call(jQuery(elem),this[0]):indexOf.call(this,elem.jquery?elem[0]:elem):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(selector,context){return this.pushStack(jQuery.unique(jQuery.merge(this.get(),jQuery(selector,context))))},addBack:function(selector){return this.add(null==selector?this.prevObject:this.prevObject.filter(selector))}}),jQuery.each({parent:function(elem){var parent=elem.parentNode;return parent&&11!==parent.nodeType?parent:null},parents:function(elem){return jQuery.dir(elem,"parentNode")},parentsUntil:function(elem,i,until){return jQuery.dir(elem,"parentNode",until)},next:function(elem){return sibling(elem,"nextSibling")},prev:function(elem){return sibling(elem,"previousSibling")},nextAll:function(elem){return jQuery.dir(elem,"nextSibling")},prevAll:function(elem){return jQuery.dir(elem,"previousSibling")},nextUntil:function(elem,i,until){return jQuery.dir(elem,"nextSibling",until)},prevUntil:function(elem,i,until){return jQuery.dir(elem,"previousSibling",until)},siblings:function(elem){return jQuery.sibling((elem.parentNode||{}).firstChild,elem)},children:function(elem){return jQuery.sibling(elem.firstChild)},contents:function(elem){return elem.contentDocument||jQuery.merge([],elem.childNodes)}},function(name,fn){jQuery.fn[name]=function(until,selector){var matched=jQuery.map(this,fn,until);return"Until"!==name.slice(-5)&&(selector=until),selector&&"string"==typeof selector&&(matched=jQuery.filter(selector,matched)),this.length>1&&(guaranteedUnique[name]||jQuery.unique(matched),rparentsprev.test(name)&&matched.reverse()),this.pushStack(matched)}});var rnotwhite=/\S+/g,optionsCache={};jQuery.Callbacks=function(options){options="string"==typeof options?optionsCache[options]||createOptions(options):jQuery.extend({},options);var memory,fired,firing,firingStart,firingLength,firingIndex,list=[],stack=!options.once&&[],fire=function(data){for(memory=options.memory&&data,fired=!0,firingIndex=firingStart||0,firingStart=0,firingLength=list.length,firing=!0;list&&firingIndex<firingLength;firingIndex++)if(list[firingIndex].apply(data[0],data[1])===!1&&options.stopOnFalse){memory=!1;break}firing=!1,list&&(stack?stack.length&&fire(stack.shift()):memory?list=[]:self.disable())},self={add:function(){if(list){var start=list.length;!function add(args){jQuery.each(args,function(_,arg){var type=jQuery.type(arg);"function"===type?options.unique&&self.has(arg)||list.push(arg):arg&&arg.length&&"string"!==type&&add(arg)})}(arguments),firing?firingLength=list.length:memory&&(firingStart=start,fire(memory))}return this},remove:function(){return list&&jQuery.each(arguments,function(_,arg){for(var index;(index=jQuery.inArray(arg,list,index))>-1;)list.splice(index,1),firing&&(index<=firingLength&&firingLength--,index<=firingIndex&&firingIndex--)}),this},has:function(fn){return fn?jQuery.inArray(fn,list)>-1:!(!list||!list.length)},empty:function(){return list=[],firingLength=0,this},disable:function(){return list=stack=memory=void 0,this},disabled:function(){return!list},lock:function(){return stack=void 0,memory||self.disable(),this},locked:function(){return!stack},fireWith:function(context,args){return!list||fired&&!stack||(args=args||[],args=[context,args.slice?args.slice():args],firing?stack.push(args):fire(args)),this},fire:function(){return self.fireWith(this,arguments),this},fired:function(){return!!fired}};return self},jQuery.extend({Deferred:function(func){var tuples=[["resolve","done",jQuery.Callbacks("once memory"),"resolved"],["reject","fail",jQuery.Callbacks("once memory"),"rejected"],["notify","progress",jQuery.Callbacks("memory")]],state="pending",promise={state:function(){return state},always:function(){return deferred.done(arguments).fail(arguments),this},then:function(){var fns=arguments;return jQuery.Deferred(function(newDefer){jQuery.each(tuples,function(i,tuple){var fn=jQuery.isFunction(fns[i])&&fns[i];deferred[tuple[1]](function(){var returned=fn&&fn.apply(this,arguments);returned&&jQuery.isFunction(returned.promise)?returned.promise().done(newDefer.resolve).fail(newDefer.reject).progress(newDefer.notify):newDefer[tuple[0]+"With"](this===promise?newDefer.promise():this,fn?[returned]:arguments)})}),fns=null}).promise()},promise:function(obj){return null!=obj?jQuery.extend(obj,promise):promise}},deferred={};return promise.pipe=promise.then,jQuery.each(tuples,function(i,tuple){var list=tuple[2],stateString=tuple[3];promise[tuple[1]]=list.add,stateString&&list.add(function(){state=stateString},tuples[1^i][2].disable,tuples[2][2].lock),deferred[tuple[0]]=function(){return deferred[tuple[0]+"With"](this===deferred?promise:this,arguments),this},deferred[tuple[0]+"With"]=list.fireWith}),promise.promise(deferred),func&&func.call(deferred,deferred),deferred},when:function(subordinate){var progressValues,progressContexts,resolveContexts,i=0,resolveValues=slice.call(arguments),length=resolveValues.length,remaining=1!==length||subordinate&&jQuery.isFunction(subordinate.promise)?length:0,deferred=1===remaining?subordinate:jQuery.Deferred(),updateFunc=function(i,contexts,values){return function(value){contexts[i]=this,values[i]=arguments.length>1?slice.call(arguments):value,values===progressValues?deferred.notifyWith(contexts,values):--remaining||deferred.resolveWith(contexts,values)}};if(length>1)for(progressValues=new Array(length),progressContexts=new Array(length),resolveContexts=new Array(length);i<length;i++)resolveValues[i]&&jQuery.isFunction(resolveValues[i].promise)?resolveValues[i].promise().done(updateFunc(i,resolveContexts,resolveValues)).fail(deferred.reject).progress(updateFunc(i,progressContexts,progressValues)):--remaining;return remaining||deferred.resolveWith(resolveContexts,resolveValues),deferred.promise()}});var readyList;jQuery.fn.ready=function(fn){return jQuery.ready.promise().done(fn),this},jQuery.extend({isReady:!1,readyWait:1,holdReady:function(hold){hold?jQuery.readyWait++:jQuery.ready(!0)},ready:function(wait){(wait===!0?--jQuery.readyWait:jQuery.isReady)||(jQuery.isReady=!0,wait!==!0&&--jQuery.readyWait>0||(readyList.resolveWith(document,[jQuery]),jQuery.fn.triggerHandler&&(jQuery(document).triggerHandler("ready"),jQuery(document).off("ready"))))}}),jQuery.ready.promise=function(obj){return readyList||(readyList=jQuery.Deferred(),"complete"===document.readyState?setTimeout(jQuery.ready):(document.addEventListener("DOMContentLoaded",completed,!1),window.addEventListener("load",completed,!1))),readyList.promise(obj)},jQuery.ready.promise();var access=jQuery.access=function(elems,fn,key,value,chainable,emptyGet,raw){var i=0,len=elems.length,bulk=null==key;if("object"===jQuery.type(key)){chainable=!0;for(i in key)jQuery.access(elems,fn,i,key[i],!0,emptyGet,raw)}else if(void 0!==value&&(chainable=!0,jQuery.isFunction(value)||(raw=!0),bulk&&(raw?(fn.call(elems,value),fn=null):(bulk=fn,fn=function(elem,key,value){return bulk.call(jQuery(elem),value)})),fn))for(;i<len;i++)fn(elems[i],key,raw?value:value.call(elems[i],i,fn(elems[i],key)));return chainable?elems:bulk?fn.call(elems):len?fn(elems[0],key):emptyGet};jQuery.acceptData=function(owner){return 1===owner.nodeType||9===owner.nodeType||!+owner.nodeType},Data.uid=1,Data.accepts=jQuery.acceptData,Data.prototype={key:function(owner){if(!Data.accepts(owner))return 0;var descriptor={},unlock=owner[this.expando];if(!unlock){unlock=Data.uid++;try{descriptor[this.expando]={value:unlock},Object.defineProperties(owner,descriptor)}catch(e){descriptor[this.expando]=unlock,jQuery.extend(owner,descriptor)}}return this.cache[unlock]||(this.cache[unlock]={}),unlock},set:function(owner,data,value){var prop,unlock=this.key(owner),cache=this.cache[unlock];if("string"==typeof data)cache[data]=value;else if(jQuery.isEmptyObject(cache))jQuery.extend(this.cache[unlock],data);else for(prop in data)cache[prop]=data[prop];return cache},get:function(owner,key){var cache=this.cache[this.key(owner)];return void 0===key?cache:cache[key]},access:function(owner,key,value){var stored;return void 0===key||key&&"string"==typeof key&&void 0===value?(stored=this.get(owner,key),void 0!==stored?stored:this.get(owner,jQuery.camelCase(key))):(this.set(owner,key,value),void 0!==value?value:key)},remove:function(owner,key){var i,name,camel,unlock=this.key(owner),cache=this.cache[unlock];if(void 0===key)this.cache[unlock]={};else{jQuery.isArray(key)?name=key.concat(key.map(jQuery.camelCase)):(camel=jQuery.camelCase(key),key in cache?name=[key,camel]:(name=camel,name=name in cache?[name]:name.match(rnotwhite)||[])),i=name.length;for(;i--;)delete cache[name[i]]}},hasData:function(owner){return!jQuery.isEmptyObject(this.cache[owner[this.expando]]||{})},discard:function(owner){owner[this.expando]&&delete this.cache[owner[this.expando]]}};var data_priv=new Data,data_user=new Data,rbrace=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,rmultiDash=/([A-Z])/g;jQuery.extend({hasData:function(elem){return data_user.hasData(elem)||data_priv.hasData(elem)},data:function(elem,name,data){return data_user.access(elem,name,data)},removeData:function(elem,name){data_user.remove(elem,name)},_data:function(elem,name,data){return data_priv.access(elem,name,data)},_removeData:function(elem,name){data_priv.remove(elem,name)}}),jQuery.fn.extend({data:function(key,value){var i,name,data,elem=this[0],attrs=elem&&elem.attributes;
if(void 0===key){if(this.length&&(data=data_user.get(elem),1===elem.nodeType&&!data_priv.get(elem,"hasDataAttrs"))){for(i=attrs.length;i--;)attrs[i]&&(name=attrs[i].name,0===name.indexOf("data-")&&(name=jQuery.camelCase(name.slice(5)),dataAttr(elem,name,data[name])));data_priv.set(elem,"hasDataAttrs",!0)}return data}return"object"==typeof key?this.each(function(){data_user.set(this,key)}):access(this,function(value){var data,camelKey=jQuery.camelCase(key);if(elem&&void 0===value){if(data=data_user.get(elem,key),void 0!==data)return data;if(data=data_user.get(elem,camelKey),void 0!==data)return data;if(data=dataAttr(elem,camelKey,void 0),void 0!==data)return data}else this.each(function(){var data=data_user.get(this,camelKey);data_user.set(this,camelKey,value),key.indexOf("-")!==-1&&void 0!==data&&data_user.set(this,key,value)})},null,value,arguments.length>1,null,!0)},removeData:function(key){return this.each(function(){data_user.remove(this,key)})}}),jQuery.extend({queue:function(elem,type,data){var queue;if(elem)return type=(type||"fx")+"queue",queue=data_priv.get(elem,type),data&&(!queue||jQuery.isArray(data)?queue=data_priv.access(elem,type,jQuery.makeArray(data)):queue.push(data)),queue||[]},dequeue:function(elem,type){type=type||"fx";var queue=jQuery.queue(elem,type),startLength=queue.length,fn=queue.shift(),hooks=jQuery._queueHooks(elem,type),next=function(){jQuery.dequeue(elem,type)};"inprogress"===fn&&(fn=queue.shift(),startLength--),fn&&("fx"===type&&queue.unshift("inprogress"),delete hooks.stop,fn.call(elem,next,hooks)),!startLength&&hooks&&hooks.empty.fire()},_queueHooks:function(elem,type){var key=type+"queueHooks";return data_priv.get(elem,key)||data_priv.access(elem,key,{empty:jQuery.Callbacks("once memory").add(function(){data_priv.remove(elem,[type+"queue",key])})})}}),jQuery.fn.extend({queue:function(type,data){var setter=2;return"string"!=typeof type&&(data=type,type="fx",setter--),arguments.length<setter?jQuery.queue(this[0],type):void 0===data?this:this.each(function(){var queue=jQuery.queue(this,type,data);jQuery._queueHooks(this,type),"fx"===type&&"inprogress"!==queue[0]&&jQuery.dequeue(this,type)})},dequeue:function(type){return this.each(function(){jQuery.dequeue(this,type)})},clearQueue:function(type){return this.queue(type||"fx",[])},promise:function(type,obj){var tmp,count=1,defer=jQuery.Deferred(),elements=this,i=this.length,resolve=function(){--count||defer.resolveWith(elements,[elements])};for("string"!=typeof type&&(obj=type,type=void 0),type=type||"fx";i--;)tmp=data_priv.get(elements[i],type+"queueHooks"),tmp&&tmp.empty&&(count++,tmp.empty.add(resolve));return resolve(),defer.promise(obj)}});var pnum=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,cssExpand=["Top","Right","Bottom","Left"],isHidden=function(elem,el){return elem=el||elem,"none"===jQuery.css(elem,"display")||!jQuery.contains(elem.ownerDocument,elem)},rcheckableType=/^(?:checkbox|radio)$/i;!function(){var fragment=document.createDocumentFragment(),div=fragment.appendChild(document.createElement("div")),input=document.createElement("input");input.setAttribute("type","radio"),input.setAttribute("checked","checked"),input.setAttribute("name","t"),div.appendChild(input),support.checkClone=div.cloneNode(!0).cloneNode(!0).lastChild.checked,div.innerHTML="<textarea>x</textarea>",support.noCloneChecked=!!div.cloneNode(!0).lastChild.defaultValue}();var strundefined="undefined";support.focusinBubbles="onfocusin"in window;var rkeyEvent=/^key/,rmouseEvent=/^(?:mouse|pointer|contextmenu)|click/,rfocusMorph=/^(?:focusinfocus|focusoutblur)$/,rtypenamespace=/^([^.]*)(?:\.(.+)|)$/;jQuery.event={global:{},add:function(elem,types,handler,data,selector){var handleObjIn,eventHandle,tmp,events,t,handleObj,special,handlers,type,namespaces,origType,elemData=data_priv.get(elem);if(elemData)for(handler.handler&&(handleObjIn=handler,handler=handleObjIn.handler,selector=handleObjIn.selector),handler.guid||(handler.guid=jQuery.guid++),(events=elemData.events)||(events=elemData.events={}),(eventHandle=elemData.handle)||(eventHandle=elemData.handle=function(e){return typeof jQuery!==strundefined&&jQuery.event.triggered!==e.type?jQuery.event.dispatch.apply(elem,arguments):void 0}),types=(types||"").match(rnotwhite)||[""],t=types.length;t--;)tmp=rtypenamespace.exec(types[t])||[],type=origType=tmp[1],namespaces=(tmp[2]||"").split(".").sort(),type&&(special=jQuery.event.special[type]||{},type=(selector?special.delegateType:special.bindType)||type,special=jQuery.event.special[type]||{},handleObj=jQuery.extend({type:type,origType:origType,data:data,handler:handler,guid:handler.guid,selector:selector,needsContext:selector&&jQuery.expr.match.needsContext.test(selector),namespace:namespaces.join(".")},handleObjIn),(handlers=events[type])||(handlers=events[type]=[],handlers.delegateCount=0,special.setup&&special.setup.call(elem,data,namespaces,eventHandle)!==!1||elem.addEventListener&&elem.addEventListener(type,eventHandle,!1)),special.add&&(special.add.call(elem,handleObj),handleObj.handler.guid||(handleObj.handler.guid=handler.guid)),selector?handlers.splice(handlers.delegateCount++,0,handleObj):handlers.push(handleObj),jQuery.event.global[type]=!0)},remove:function(elem,types,handler,selector,mappedTypes){var j,origCount,tmp,events,t,handleObj,special,handlers,type,namespaces,origType,elemData=data_priv.hasData(elem)&&data_priv.get(elem);if(elemData&&(events=elemData.events)){for(types=(types||"").match(rnotwhite)||[""],t=types.length;t--;)if(tmp=rtypenamespace.exec(types[t])||[],type=origType=tmp[1],namespaces=(tmp[2]||"").split(".").sort(),type){for(special=jQuery.event.special[type]||{},type=(selector?special.delegateType:special.bindType)||type,handlers=events[type]||[],tmp=tmp[2]&&new RegExp("(^|\\.)"+namespaces.join("\\.(?:.*\\.|)")+"(\\.|$)"),origCount=j=handlers.length;j--;)handleObj=handlers[j],!mappedTypes&&origType!==handleObj.origType||handler&&handler.guid!==handleObj.guid||tmp&&!tmp.test(handleObj.namespace)||selector&&selector!==handleObj.selector&&("**"!==selector||!handleObj.selector)||(handlers.splice(j,1),handleObj.selector&&handlers.delegateCount--,special.remove&&special.remove.call(elem,handleObj));origCount&&!handlers.length&&(special.teardown&&special.teardown.call(elem,namespaces,elemData.handle)!==!1||jQuery.removeEvent(elem,type,elemData.handle),delete events[type])}else for(type in events)jQuery.event.remove(elem,type+types[t],handler,selector,!0);jQuery.isEmptyObject(events)&&(delete elemData.handle,data_priv.remove(elem,"events"))}},trigger:function(event,data,elem,onlyHandlers){var i,cur,tmp,bubbleType,ontype,handle,special,eventPath=[elem||document],type=hasOwn.call(event,"type")?event.type:event,namespaces=hasOwn.call(event,"namespace")?event.namespace.split("."):[];if(cur=tmp=elem=elem||document,3!==elem.nodeType&&8!==elem.nodeType&&!rfocusMorph.test(type+jQuery.event.triggered)&&(type.indexOf(".")>=0&&(namespaces=type.split("."),type=namespaces.shift(),namespaces.sort()),ontype=type.indexOf(":")<0&&"on"+type,event=event[jQuery.expando]?event:new jQuery.Event(type,"object"==typeof event&&event),event.isTrigger=onlyHandlers?2:3,event.namespace=namespaces.join("."),event.namespace_re=event.namespace?new RegExp("(^|\\.)"+namespaces.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,event.result=void 0,event.target||(event.target=elem),data=null==data?[event]:jQuery.makeArray(data,[event]),special=jQuery.event.special[type]||{},onlyHandlers||!special.trigger||special.trigger.apply(elem,data)!==!1)){if(!onlyHandlers&&!special.noBubble&&!jQuery.isWindow(elem)){for(bubbleType=special.delegateType||type,rfocusMorph.test(bubbleType+type)||(cur=cur.parentNode);cur;cur=cur.parentNode)eventPath.push(cur),tmp=cur;tmp===(elem.ownerDocument||document)&&eventPath.push(tmp.defaultView||tmp.parentWindow||window)}for(i=0;(cur=eventPath[i++])&&!event.isPropagationStopped();)event.type=i>1?bubbleType:special.bindType||type,handle=(data_priv.get(cur,"events")||{})[event.type]&&data_priv.get(cur,"handle"),handle&&handle.apply(cur,data),handle=ontype&&cur[ontype],handle&&handle.apply&&jQuery.acceptData(cur)&&(event.result=handle.apply(cur,data),event.result===!1&&event.preventDefault());return event.type=type,onlyHandlers||event.isDefaultPrevented()||special._default&&special._default.apply(eventPath.pop(),data)!==!1||!jQuery.acceptData(elem)||ontype&&jQuery.isFunction(elem[type])&&!jQuery.isWindow(elem)&&(tmp=elem[ontype],tmp&&(elem[ontype]=null),jQuery.event.triggered=type,elem[type](),jQuery.event.triggered=void 0,tmp&&(elem[ontype]=tmp)),event.result}},dispatch:function(event){event=jQuery.event.fix(event);var i,j,ret,matched,handleObj,handlerQueue=[],args=slice.call(arguments),handlers=(data_priv.get(this,"events")||{})[event.type]||[],special=jQuery.event.special[event.type]||{};if(args[0]=event,event.delegateTarget=this,!special.preDispatch||special.preDispatch.call(this,event)!==!1){for(handlerQueue=jQuery.event.handlers.call(this,event,handlers),i=0;(matched=handlerQueue[i++])&&!event.isPropagationStopped();)for(event.currentTarget=matched.elem,j=0;(handleObj=matched.handlers[j++])&&!event.isImmediatePropagationStopped();)event.namespace_re&&!event.namespace_re.test(handleObj.namespace)||(event.handleObj=handleObj,event.data=handleObj.data,ret=((jQuery.event.special[handleObj.origType]||{}).handle||handleObj.handler).apply(matched.elem,args),void 0!==ret&&(event.result=ret)===!1&&(event.preventDefault(),event.stopPropagation()));return special.postDispatch&&special.postDispatch.call(this,event),event.result}},handlers:function(event,handlers){var i,matches,sel,handleObj,handlerQueue=[],delegateCount=handlers.delegateCount,cur=event.target;if(delegateCount&&cur.nodeType&&(!event.button||"click"!==event.type))for(;cur!==this;cur=cur.parentNode||this)if(cur.disabled!==!0||"click"!==event.type){for(matches=[],i=0;i<delegateCount;i++)handleObj=handlers[i],sel=handleObj.selector+" ",void 0===matches[sel]&&(matches[sel]=handleObj.needsContext?jQuery(sel,this).index(cur)>=0:jQuery.find(sel,this,null,[cur]).length),matches[sel]&&matches.push(handleObj);matches.length&&handlerQueue.push({elem:cur,handlers:matches})}return delegateCount<handlers.length&&handlerQueue.push({elem:this,handlers:handlers.slice(delegateCount)}),handlerQueue},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(event,original){return null==event.which&&(event.which=null!=original.charCode?original.charCode:original.keyCode),event}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(event,original){var eventDoc,doc,body,button=original.button;return null==event.pageX&&null!=original.clientX&&(eventDoc=event.target.ownerDocument||document,doc=eventDoc.documentElement,body=eventDoc.body,event.pageX=original.clientX+(doc&&doc.scrollLeft||body&&body.scrollLeft||0)-(doc&&doc.clientLeft||body&&body.clientLeft||0),event.pageY=original.clientY+(doc&&doc.scrollTop||body&&body.scrollTop||0)-(doc&&doc.clientTop||body&&body.clientTop||0)),event.which||void 0===button||(event.which=1&button?1:2&button?3:4&button?2:0),event}},fix:function(event){if(event[jQuery.expando])return event;var i,prop,copy,type=event.type,originalEvent=event,fixHook=this.fixHooks[type];for(fixHook||(this.fixHooks[type]=fixHook=rmouseEvent.test(type)?this.mouseHooks:rkeyEvent.test(type)?this.keyHooks:{}),copy=fixHook.props?this.props.concat(fixHook.props):this.props,event=new jQuery.Event(originalEvent),i=copy.length;i--;)prop=copy[i],event[prop]=originalEvent[prop];return event.target||(event.target=document),3===event.target.nodeType&&(event.target=event.target.parentNode),fixHook.filter?fixHook.filter(event,originalEvent):event},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==safeActiveElement()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===safeActiveElement()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&jQuery.nodeName(this,"input"))return this.click(),!1},_default:function(event){return jQuery.nodeName(event.target,"a")}},beforeunload:{postDispatch:function(event){void 0!==event.result&&event.originalEvent&&(event.originalEvent.returnValue=event.result)}}},simulate:function(type,elem,event,bubble){var e=jQuery.extend(new jQuery.Event,event,{type:type,isSimulated:!0,originalEvent:{}});bubble?jQuery.event.trigger(e,null,elem):jQuery.event.dispatch.call(elem,e),e.isDefaultPrevented()&&event.preventDefault()}},jQuery.removeEvent=function(elem,type,handle){elem.removeEventListener&&elem.removeEventListener(type,handle,!1)},jQuery.Event=function(src,props){return this instanceof jQuery.Event?(src&&src.type?(this.originalEvent=src,this.type=src.type,this.isDefaultPrevented=src.defaultPrevented||void 0===src.defaultPrevented&&src.returnValue===!1?returnTrue:returnFalse):this.type=src,props&&jQuery.extend(this,props),this.timeStamp=src&&src.timeStamp||jQuery.now(),void(this[jQuery.expando]=!0)):new jQuery.Event(src,props)},jQuery.Event.prototype={isDefaultPrevented:returnFalse,isPropagationStopped:returnFalse,isImmediatePropagationStopped:returnFalse,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=returnTrue,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=returnTrue,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=returnTrue,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},jQuery.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(orig,fix){jQuery.event.special[orig]={delegateType:fix,bindType:fix,handle:function(event){var ret,target=this,related=event.relatedTarget,handleObj=event.handleObj;return related&&(related===target||jQuery.contains(target,related))||(event.type=handleObj.origType,ret=handleObj.handler.apply(this,arguments),event.type=fix),ret}}}),support.focusinBubbles||jQuery.each({focus:"focusin",blur:"focusout"},function(orig,fix){var handler=function(event){jQuery.event.simulate(fix,event.target,jQuery.event.fix(event),!0)};jQuery.event.special[fix]={setup:function(){var doc=this.ownerDocument||this,attaches=data_priv.access(doc,fix);attaches||doc.addEventListener(orig,handler,!0),data_priv.access(doc,fix,(attaches||0)+1)},teardown:function(){var doc=this.ownerDocument||this,attaches=data_priv.access(doc,fix)-1;attaches?data_priv.access(doc,fix,attaches):(doc.removeEventListener(orig,handler,!0),data_priv.remove(doc,fix))}}}),jQuery.fn.extend({on:function(types,selector,data,fn,one){var origFn,type;if("object"==typeof types){"string"!=typeof selector&&(data=data||selector,selector=void 0);for(type in types)this.on(type,selector,data,types[type],one);return this}if(null==data&&null==fn?(fn=selector,data=selector=void 0):null==fn&&("string"==typeof selector?(fn=data,data=void 0):(fn=data,data=selector,selector=void 0)),fn===!1)fn=returnFalse;else if(!fn)return this;return 1===one&&(origFn=fn,fn=function(event){return jQuery().off(event),origFn.apply(this,arguments)},fn.guid=origFn.guid||(origFn.guid=jQuery.guid++)),this.each(function(){jQuery.event.add(this,types,fn,data,selector)})},one:function(types,selector,data,fn){return this.on(types,selector,data,fn,1)},off:function(types,selector,fn){var handleObj,type;if(types&&types.preventDefault&&types.handleObj)return handleObj=types.handleObj,jQuery(types.delegateTarget).off(handleObj.namespace?handleObj.origType+"."+handleObj.namespace:handleObj.origType,handleObj.selector,handleObj.handler),this;if("object"==typeof types){for(type in types)this.off(type,selector,types[type]);return this}return selector!==!1&&"function"!=typeof selector||(fn=selector,selector=void 0),fn===!1&&(fn=returnFalse),this.each(function(){jQuery.event.remove(this,types,fn,selector)})},trigger:function(type,data){return this.each(function(){jQuery.event.trigger(type,data,this)})},triggerHandler:function(type,data){var elem=this[0];if(elem)return jQuery.event.trigger(type,data,elem,!0)}});var rxhtmlTag=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,rtagName=/<([\w:]+)/,rhtml=/<|&#?\w+;/,rnoInnerhtml=/<(?:script|style|link)/i,rchecked=/checked\s*(?:[^=]|=\s*.checked.)/i,rscriptType=/^$|\/(?:java|ecma)script/i,rscriptTypeMasked=/^true\/(.*)/,rcleanScript=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,wrapMap={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};wrapMap.optgroup=wrapMap.option,wrapMap.tbody=wrapMap.tfoot=wrapMap.colgroup=wrapMap.caption=wrapMap.thead,wrapMap.th=wrapMap.td,jQuery.extend({clone:function(elem,dataAndEvents,deepDataAndEvents){var i,l,srcElements,destElements,clone=elem.cloneNode(!0),inPage=jQuery.contains(elem.ownerDocument,elem);if(!(support.noCloneChecked||1!==elem.nodeType&&11!==elem.nodeType||jQuery.isXMLDoc(elem)))for(destElements=getAll(clone),srcElements=getAll(elem),i=0,l=srcElements.length;i<l;i++)fixInput(srcElements[i],destElements[i]);if(dataAndEvents)if(deepDataAndEvents)for(srcElements=srcElements||getAll(elem),destElements=destElements||getAll(clone),i=0,l=srcElements.length;i<l;i++)cloneCopyEvent(srcElements[i],destElements[i]);else cloneCopyEvent(elem,clone);return destElements=getAll(clone,"script"),destElements.length>0&&setGlobalEval(destElements,!inPage&&getAll(elem,"script")),clone},buildFragment:function(elems,context,scripts,selection){for(var elem,tmp,tag,wrap,contains,j,fragment=context.createDocumentFragment(),nodes=[],i=0,l=elems.length;i<l;i++)if(elem=elems[i],elem||0===elem)if("object"===jQuery.type(elem))jQuery.merge(nodes,elem.nodeType?[elem]:elem);else if(rhtml.test(elem)){for(tmp=tmp||fragment.appendChild(context.createElement("div")),tag=(rtagName.exec(elem)||["",""])[1].toLowerCase(),wrap=wrapMap[tag]||wrapMap._default,tmp.innerHTML=wrap[1]+elem.replace(rxhtmlTag,"<$1></$2>")+wrap[2],j=wrap[0];j--;)tmp=tmp.lastChild;jQuery.merge(nodes,tmp.childNodes),tmp=fragment.firstChild,tmp.textContent=""}else nodes.push(context.createTextNode(elem));for(fragment.textContent="",i=0;elem=nodes[i++];)if((!selection||jQuery.inArray(elem,selection)===-1)&&(contains=jQuery.contains(elem.ownerDocument,elem),tmp=getAll(fragment.appendChild(elem),"script"),contains&&setGlobalEval(tmp),scripts))for(j=0;elem=tmp[j++];)rscriptType.test(elem.type||"")&&scripts.push(elem);return fragment},cleanData:function(elems){for(var data,elem,type,key,special=jQuery.event.special,i=0;void 0!==(elem=elems[i]);i++){if(jQuery.acceptData(elem)&&(key=elem[data_priv.expando],key&&(data=data_priv.cache[key]))){if(data.events)for(type in data.events)special[type]?jQuery.event.remove(elem,type):jQuery.removeEvent(elem,type,data.handle);data_priv.cache[key]&&delete data_priv.cache[key]}delete data_user.cache[elem[data_user.expando]]}}}),jQuery.fn.extend({text:function(value){return access(this,function(value){return void 0===value?jQuery.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=value)})},null,value,arguments.length)},append:function(){return this.domManip(arguments,function(elem){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var target=manipulationTarget(this,elem);target.appendChild(elem)}})},prepend:function(){return this.domManip(arguments,function(elem){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var target=manipulationTarget(this,elem);target.insertBefore(elem,target.firstChild)}})},before:function(){return this.domManip(arguments,function(elem){this.parentNode&&this.parentNode.insertBefore(elem,this)})},after:function(){return this.domManip(arguments,function(elem){this.parentNode&&this.parentNode.insertBefore(elem,this.nextSibling)})},remove:function(selector,keepData){for(var elem,elems=selector?jQuery.filter(selector,this):this,i=0;null!=(elem=elems[i]);i++)keepData||1!==elem.nodeType||jQuery.cleanData(getAll(elem)),elem.parentNode&&(keepData&&jQuery.contains(elem.ownerDocument,elem)&&setGlobalEval(getAll(elem,"script")),elem.parentNode.removeChild(elem));return this},empty:function(){for(var elem,i=0;null!=(elem=this[i]);i++)1===elem.nodeType&&(jQuery.cleanData(getAll(elem,!1)),elem.textContent="");return this},clone:function(dataAndEvents,deepDataAndEvents){return dataAndEvents=null!=dataAndEvents&&dataAndEvents,deepDataAndEvents=null==deepDataAndEvents?dataAndEvents:deepDataAndEvents,this.map(function(){return jQuery.clone(this,dataAndEvents,deepDataAndEvents)})},html:function(value){return access(this,function(value){var elem=this[0]||{},i=0,l=this.length;if(void 0===value&&1===elem.nodeType)return elem.innerHTML;if("string"==typeof value&&!rnoInnerhtml.test(value)&&!wrapMap[(rtagName.exec(value)||["",""])[1].toLowerCase()]){value=value.replace(rxhtmlTag,"<$1></$2>");try{for(;i<l;i++)elem=this[i]||{},1===elem.nodeType&&(jQuery.cleanData(getAll(elem,!1)),elem.innerHTML=value);elem=0}catch(e){}}elem&&this.empty().append(value)},null,value,arguments.length)},replaceWith:function(){var arg=arguments[0];return this.domManip(arguments,function(elem){arg=this.parentNode,jQuery.cleanData(getAll(this)),arg&&arg.replaceChild(elem,this)}),arg&&(arg.length||arg.nodeType)?this:this.remove()},detach:function(selector){return this.remove(selector,!0)},domManip:function(args,callback){args=concat.apply([],args);var fragment,first,scripts,hasScripts,node,doc,i=0,l=this.length,set=this,iNoClone=l-1,value=args[0],isFunction=jQuery.isFunction(value);if(isFunction||l>1&&"string"==typeof value&&!support.checkClone&&rchecked.test(value))return this.each(function(index){var self=set.eq(index);isFunction&&(args[0]=value.call(this,index,self.html())),self.domManip(args,callback)});if(l&&(fragment=jQuery.buildFragment(args,this[0].ownerDocument,!1,this),first=fragment.firstChild,1===fragment.childNodes.length&&(fragment=first),first)){for(scripts=jQuery.map(getAll(fragment,"script"),disableScript),hasScripts=scripts.length;i<l;i++)node=fragment,i!==iNoClone&&(node=jQuery.clone(node,!0,!0),hasScripts&&jQuery.merge(scripts,getAll(node,"script"))),callback.call(this[i],node,i);if(hasScripts)for(doc=scripts[scripts.length-1].ownerDocument,jQuery.map(scripts,restoreScript),i=0;i<hasScripts;i++)node=scripts[i],rscriptType.test(node.type||"")&&!data_priv.access(node,"globalEval")&&jQuery.contains(doc,node)&&(node.src?jQuery._evalUrl&&jQuery._evalUrl(node.src):jQuery.globalEval(node.textContent.replace(rcleanScript,"")))}return this}}),jQuery.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(name,original){jQuery.fn[name]=function(selector){for(var elems,ret=[],insert=jQuery(selector),last=insert.length-1,i=0;i<=last;i++)elems=i===last?this:this.clone(!0),jQuery(insert[i])[original](elems),push.apply(ret,elems.get());return this.pushStack(ret)}});var iframe,elemdisplay={},rmargin=/^margin/,rnumnonpx=new RegExp("^("+pnum+")(?!px)[a-z%]+$","i"),getStyles=function(elem){return elem.ownerDocument.defaultView.opener?elem.ownerDocument.defaultView.getComputedStyle(elem,null):window.getComputedStyle(elem,null)};!function(){function computePixelPositionAndBoxSizingReliable(){div.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",div.innerHTML="",docElem.appendChild(container);var divStyle=window.getComputedStyle(div,null);pixelPositionVal="1%"!==divStyle.top,boxSizingReliableVal="4px"===divStyle.width,docElem.removeChild(container)}var pixelPositionVal,boxSizingReliableVal,docElem=document.documentElement,container=document.createElement("div"),div=document.createElement("div");div.style&&(div.style.backgroundClip="content-box",div.cloneNode(!0).style.backgroundClip="",support.clearCloneStyle="content-box"===div.style.backgroundClip,container.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",container.appendChild(div),window.getComputedStyle&&jQuery.extend(support,{pixelPosition:function(){return computePixelPositionAndBoxSizingReliable(),pixelPositionVal},boxSizingReliable:function(){return null==boxSizingReliableVal&&computePixelPositionAndBoxSizingReliable(),boxSizingReliableVal},reliableMarginRight:function(){var ret,marginDiv=div.appendChild(document.createElement("div"));return marginDiv.style.cssText=div.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",marginDiv.style.marginRight=marginDiv.style.width="0",div.style.width="1px",docElem.appendChild(container),ret=!parseFloat(window.getComputedStyle(marginDiv,null).marginRight),docElem.removeChild(container),div.removeChild(marginDiv),ret}}))}(),jQuery.swap=function(elem,options,callback,args){var ret,name,old={};for(name in options)old[name]=elem.style[name],elem.style[name]=options[name];ret=callback.apply(elem,args||[]);for(name in options)elem.style[name]=old[name];return ret};var rdisplayswap=/^(none|table(?!-c[ea]).+)/,rnumsplit=new RegExp("^("+pnum+")(.*)$","i"),rrelNum=new RegExp("^([+-])=("+pnum+")","i"),cssShow={position:"absolute",visibility:"hidden",display:"block"},cssNormalTransform={letterSpacing:"0",fontWeight:"400"},cssPrefixes=["Webkit","O","Moz","ms"];jQuery.extend({cssHooks:{opacity:{get:function(elem,computed){if(computed){var ret=curCSS(elem,"opacity");return""===ret?"1":ret}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(elem,name,value,extra){if(elem&&3!==elem.nodeType&&8!==elem.nodeType&&elem.style){var ret,type,hooks,origName=jQuery.camelCase(name),style=elem.style;return name=jQuery.cssProps[origName]||(jQuery.cssProps[origName]=vendorPropName(style,origName)),hooks=jQuery.cssHooks[name]||jQuery.cssHooks[origName],void 0===value?hooks&&"get"in hooks&&void 0!==(ret=hooks.get(elem,!1,extra))?ret:style[name]:(type=typeof value,"string"===type&&(ret=rrelNum.exec(value))&&(value=(ret[1]+1)*ret[2]+parseFloat(jQuery.css(elem,name)),type="number"),null!=value&&value===value&&("number"!==type||jQuery.cssNumber[origName]||(value+="px"),support.clearCloneStyle||""!==value||0!==name.indexOf("background")||(style[name]="inherit"),hooks&&"set"in hooks&&void 0===(value=hooks.set(elem,value,extra))||(style[name]=value)),void 0)}},css:function(elem,name,extra,styles){var val,num,hooks,origName=jQuery.camelCase(name);return name=jQuery.cssProps[origName]||(jQuery.cssProps[origName]=vendorPropName(elem.style,origName)),hooks=jQuery.cssHooks[name]||jQuery.cssHooks[origName],hooks&&"get"in hooks&&(val=hooks.get(elem,!0,extra)),void 0===val&&(val=curCSS(elem,name,styles)),"normal"===val&&name in cssNormalTransform&&(val=cssNormalTransform[name]),""===extra||extra?(num=parseFloat(val),extra===!0||jQuery.isNumeric(num)?num||0:val):val}}),jQuery.each(["height","width"],function(i,name){jQuery.cssHooks[name]={get:function(elem,computed,extra){if(computed)return rdisplayswap.test(jQuery.css(elem,"display"))&&0===elem.offsetWidth?jQuery.swap(elem,cssShow,function(){return getWidthOrHeight(elem,name,extra)}):getWidthOrHeight(elem,name,extra)},set:function(elem,value,extra){var styles=extra&&getStyles(elem);return setPositiveNumber(elem,value,extra?augmentWidthOrHeight(elem,name,extra,"border-box"===jQuery.css(elem,"boxSizing",!1,styles),styles):0)}}}),jQuery.cssHooks.marginRight=addGetHookIf(support.reliableMarginRight,function(elem,computed){if(computed)return jQuery.swap(elem,{display:"inline-block"},curCSS,[elem,"marginRight"])}),jQuery.each({margin:"",padding:"",border:"Width"},function(prefix,suffix){jQuery.cssHooks[prefix+suffix]={expand:function(value){for(var i=0,expanded={},parts="string"==typeof value?value.split(" "):[value];i<4;i++)expanded[prefix+cssExpand[i]+suffix]=parts[i]||parts[i-2]||parts[0];return expanded}},rmargin.test(prefix)||(jQuery.cssHooks[prefix+suffix].set=setPositiveNumber)}),jQuery.fn.extend({css:function(name,value){return access(this,function(elem,name,value){var styles,len,map={},i=0;if(jQuery.isArray(name)){for(styles=getStyles(elem),len=name.length;i<len;i++)map[name[i]]=jQuery.css(elem,name[i],!1,styles);return map}return void 0!==value?jQuery.style(elem,name,value):jQuery.css(elem,name)},name,value,arguments.length>1)},show:function(){return showHide(this,!0)},hide:function(){return showHide(this)},toggle:function(state){return"boolean"==typeof state?state?this.show():this.hide():this.each(function(){isHidden(this)?jQuery(this).show():jQuery(this).hide()})}}),jQuery.Tween=Tween,Tween.prototype={constructor:Tween,init:function(elem,options,prop,end,easing,unit){this.elem=elem,this.prop=prop,this.easing=easing||"swing",this.options=options,this.start=this.now=this.cur(),this.end=end,this.unit=unit||(jQuery.cssNumber[prop]?"":"px")},cur:function(){var hooks=Tween.propHooks[this.prop];return hooks&&hooks.get?hooks.get(this):Tween.propHooks._default.get(this)},run:function(percent){var eased,hooks=Tween.propHooks[this.prop];return this.options.duration?this.pos=eased=jQuery.easing[this.easing](percent,this.options.duration*percent,0,1,this.options.duration):this.pos=eased=percent,this.now=(this.end-this.start)*eased+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),hooks&&hooks.set?hooks.set(this):Tween.propHooks._default.set(this),this}},Tween.prototype.init.prototype=Tween.prototype,Tween.propHooks={_default:{get:function(tween){var result;return null==tween.elem[tween.prop]||tween.elem.style&&null!=tween.elem.style[tween.prop]?(result=jQuery.css(tween.elem,tween.prop,""),result&&"auto"!==result?result:0):tween.elem[tween.prop]},set:function(tween){jQuery.fx.step[tween.prop]?jQuery.fx.step[tween.prop](tween):tween.elem.style&&(null!=tween.elem.style[jQuery.cssProps[tween.prop]]||jQuery.cssHooks[tween.prop])?jQuery.style(tween.elem,tween.prop,tween.now+tween.unit):tween.elem[tween.prop]=tween.now}}},Tween.propHooks.scrollTop=Tween.propHooks.scrollLeft={set:function(tween){tween.elem.nodeType&&tween.elem.parentNode&&(tween.elem[tween.prop]=tween.now)}},jQuery.easing={linear:function(p){return p},swing:function(p){return.5-Math.cos(p*Math.PI)/2}},jQuery.fx=Tween.prototype.init,jQuery.fx.step={};var fxNow,timerId,rfxtypes=/^(?:toggle|show|hide)$/,rfxnum=new RegExp("^(?:([+-])=|)("+pnum+")([a-z%]*)$","i"),rrun=/queueHooks$/,animationPrefilters=[defaultPrefilter],tweeners={"*":[function(prop,value){var tween=this.createTween(prop,value),target=tween.cur(),parts=rfxnum.exec(value),unit=parts&&parts[3]||(jQuery.cssNumber[prop]?"":"px"),start=(jQuery.cssNumber[prop]||"px"!==unit&&+target)&&rfxnum.exec(jQuery.css(tween.elem,prop)),scale=1,maxIterations=20;if(start&&start[3]!==unit){unit=unit||start[3],parts=parts||[],start=+target||1;do scale=scale||".5",start/=scale,jQuery.style(tween.elem,prop,start+unit);while(scale!==(scale=tween.cur()/target)&&1!==scale&&--maxIterations)}return parts&&(start=tween.start=+start||+target||0,tween.unit=unit,tween.end=parts[1]?start+(parts[1]+1)*parts[2]:+parts[2]),tween}]};jQuery.Animation=jQuery.extend(Animation,{tweener:function(props,callback){jQuery.isFunction(props)?(callback=props,props=["*"]):props=props.split(" ");for(var prop,index=0,length=props.length;index<length;index++)prop=props[index],tweeners[prop]=tweeners[prop]||[],tweeners[prop].unshift(callback)},prefilter:function(callback,prepend){
prepend?animationPrefilters.unshift(callback):animationPrefilters.push(callback)}}),jQuery.speed=function(speed,easing,fn){var opt=speed&&"object"==typeof speed?jQuery.extend({},speed):{complete:fn||!fn&&easing||jQuery.isFunction(speed)&&speed,duration:speed,easing:fn&&easing||easing&&!jQuery.isFunction(easing)&&easing};return opt.duration=jQuery.fx.off?0:"number"==typeof opt.duration?opt.duration:opt.duration in jQuery.fx.speeds?jQuery.fx.speeds[opt.duration]:jQuery.fx.speeds._default,null!=opt.queue&&opt.queue!==!0||(opt.queue="fx"),opt.old=opt.complete,opt.complete=function(){jQuery.isFunction(opt.old)&&opt.old.call(this),opt.queue&&jQuery.dequeue(this,opt.queue)},opt},jQuery.fn.extend({fadeTo:function(speed,to,easing,callback){return this.filter(isHidden).css("opacity",0).show().end().animate({opacity:to},speed,easing,callback)},animate:function(prop,speed,easing,callback){var empty=jQuery.isEmptyObject(prop),optall=jQuery.speed(speed,easing,callback),doAnimation=function(){var anim=Animation(this,jQuery.extend({},prop),optall);(empty||data_priv.get(this,"finish"))&&anim.stop(!0)};return doAnimation.finish=doAnimation,empty||optall.queue===!1?this.each(doAnimation):this.queue(optall.queue,doAnimation)},stop:function(type,clearQueue,gotoEnd){var stopQueue=function(hooks){var stop=hooks.stop;delete hooks.stop,stop(gotoEnd)};return"string"!=typeof type&&(gotoEnd=clearQueue,clearQueue=type,type=void 0),clearQueue&&type!==!1&&this.queue(type||"fx",[]),this.each(function(){var dequeue=!0,index=null!=type&&type+"queueHooks",timers=jQuery.timers,data=data_priv.get(this);if(index)data[index]&&data[index].stop&&stopQueue(data[index]);else for(index in data)data[index]&&data[index].stop&&rrun.test(index)&&stopQueue(data[index]);for(index=timers.length;index--;)timers[index].elem!==this||null!=type&&timers[index].queue!==type||(timers[index].anim.stop(gotoEnd),dequeue=!1,timers.splice(index,1));!dequeue&&gotoEnd||jQuery.dequeue(this,type)})},finish:function(type){return type!==!1&&(type=type||"fx"),this.each(function(){var index,data=data_priv.get(this),queue=data[type+"queue"],hooks=data[type+"queueHooks"],timers=jQuery.timers,length=queue?queue.length:0;for(data.finish=!0,jQuery.queue(this,type,[]),hooks&&hooks.stop&&hooks.stop.call(this,!0),index=timers.length;index--;)timers[index].elem===this&&timers[index].queue===type&&(timers[index].anim.stop(!0),timers.splice(index,1));for(index=0;index<length;index++)queue[index]&&queue[index].finish&&queue[index].finish.call(this);delete data.finish})}}),jQuery.each(["toggle","show","hide"],function(i,name){var cssFn=jQuery.fn[name];jQuery.fn[name]=function(speed,easing,callback){return null==speed||"boolean"==typeof speed?cssFn.apply(this,arguments):this.animate(genFx(name,!0),speed,easing,callback)}}),jQuery.each({slideDown:genFx("show"),slideUp:genFx("hide"),slideToggle:genFx("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(name,props){jQuery.fn[name]=function(speed,easing,callback){return this.animate(props,speed,easing,callback)}}),jQuery.timers=[],jQuery.fx.tick=function(){var timer,i=0,timers=jQuery.timers;for(fxNow=jQuery.now();i<timers.length;i++)timer=timers[i],timer()||timers[i]!==timer||timers.splice(i--,1);timers.length||jQuery.fx.stop(),fxNow=void 0},jQuery.fx.timer=function(timer){jQuery.timers.push(timer),timer()?jQuery.fx.start():jQuery.timers.pop()},jQuery.fx.interval=13,jQuery.fx.start=function(){timerId||(timerId=setInterval(jQuery.fx.tick,jQuery.fx.interval))},jQuery.fx.stop=function(){clearInterval(timerId),timerId=null},jQuery.fx.speeds={slow:600,fast:200,_default:400},jQuery.fn.delay=function(time,type){return time=jQuery.fx?jQuery.fx.speeds[time]||time:time,type=type||"fx",this.queue(type,function(next,hooks){var timeout=setTimeout(next,time);hooks.stop=function(){clearTimeout(timeout)}})},function(){var input=document.createElement("input"),select=document.createElement("select"),opt=select.appendChild(document.createElement("option"));input.type="checkbox",support.checkOn=""!==input.value,support.optSelected=opt.selected,select.disabled=!0,support.optDisabled=!opt.disabled,input=document.createElement("input"),input.value="t",input.type="radio",support.radioValue="t"===input.value}();var nodeHook,boolHook,attrHandle=jQuery.expr.attrHandle;jQuery.fn.extend({attr:function(name,value){return access(this,jQuery.attr,name,value,arguments.length>1)},removeAttr:function(name){return this.each(function(){jQuery.removeAttr(this,name)})}}),jQuery.extend({attr:function(elem,name,value){var hooks,ret,nType=elem.nodeType;if(elem&&3!==nType&&8!==nType&&2!==nType)return typeof elem.getAttribute===strundefined?jQuery.prop(elem,name,value):(1===nType&&jQuery.isXMLDoc(elem)||(name=name.toLowerCase(),hooks=jQuery.attrHooks[name]||(jQuery.expr.match.bool.test(name)?boolHook:nodeHook)),void 0===value?hooks&&"get"in hooks&&null!==(ret=hooks.get(elem,name))?ret:(ret=jQuery.find.attr(elem,name),null==ret?void 0:ret):null!==value?hooks&&"set"in hooks&&void 0!==(ret=hooks.set(elem,value,name))?ret:(elem.setAttribute(name,value+""),value):void jQuery.removeAttr(elem,name))},removeAttr:function(elem,value){var name,propName,i=0,attrNames=value&&value.match(rnotwhite);if(attrNames&&1===elem.nodeType)for(;name=attrNames[i++];)propName=jQuery.propFix[name]||name,jQuery.expr.match.bool.test(name)&&(elem[propName]=!1),elem.removeAttribute(name)},attrHooks:{type:{set:function(elem,value){if(!support.radioValue&&"radio"===value&&jQuery.nodeName(elem,"input")){var val=elem.value;return elem.setAttribute("type",value),val&&(elem.value=val),value}}}}}),boolHook={set:function(elem,value,name){return value===!1?jQuery.removeAttr(elem,name):elem.setAttribute(name,name),name}},jQuery.each(jQuery.expr.match.bool.source.match(/\w+/g),function(i,name){var getter=attrHandle[name]||jQuery.find.attr;attrHandle[name]=function(elem,name,isXML){var ret,handle;return isXML||(handle=attrHandle[name],attrHandle[name]=ret,ret=null!=getter(elem,name,isXML)?name.toLowerCase():null,attrHandle[name]=handle),ret}});var rfocusable=/^(?:input|select|textarea|button)$/i;jQuery.fn.extend({prop:function(name,value){return access(this,jQuery.prop,name,value,arguments.length>1)},removeProp:function(name){return this.each(function(){delete this[jQuery.propFix[name]||name]})}}),jQuery.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(elem,name,value){var ret,hooks,notxml,nType=elem.nodeType;if(elem&&3!==nType&&8!==nType&&2!==nType)return notxml=1!==nType||!jQuery.isXMLDoc(elem),notxml&&(name=jQuery.propFix[name]||name,hooks=jQuery.propHooks[name]),void 0!==value?hooks&&"set"in hooks&&void 0!==(ret=hooks.set(elem,value,name))?ret:elem[name]=value:hooks&&"get"in hooks&&null!==(ret=hooks.get(elem,name))?ret:elem[name]},propHooks:{tabIndex:{get:function(elem){return elem.hasAttribute("tabindex")||rfocusable.test(elem.nodeName)||elem.href?elem.tabIndex:-1}}}}),support.optSelected||(jQuery.propHooks.selected={get:function(elem){var parent=elem.parentNode;return parent&&parent.parentNode&&parent.parentNode.selectedIndex,null}}),jQuery.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){jQuery.propFix[this.toLowerCase()]=this});var rclass=/[\t\r\n\f]/g;jQuery.fn.extend({addClass:function(value){var classes,elem,cur,clazz,j,finalValue,proceed="string"==typeof value&&value,i=0,len=this.length;if(jQuery.isFunction(value))return this.each(function(j){jQuery(this).addClass(value.call(this,j,this.className))});if(proceed)for(classes=(value||"").match(rnotwhite)||[];i<len;i++)if(elem=this[i],cur=1===elem.nodeType&&(elem.className?(" "+elem.className+" ").replace(rclass," "):" ")){for(j=0;clazz=classes[j++];)cur.indexOf(" "+clazz+" ")<0&&(cur+=clazz+" ");finalValue=jQuery.trim(cur),elem.className!==finalValue&&(elem.className=finalValue)}return this},removeClass:function(value){var classes,elem,cur,clazz,j,finalValue,proceed=0===arguments.length||"string"==typeof value&&value,i=0,len=this.length;if(jQuery.isFunction(value))return this.each(function(j){jQuery(this).removeClass(value.call(this,j,this.className))});if(proceed)for(classes=(value||"").match(rnotwhite)||[];i<len;i++)if(elem=this[i],cur=1===elem.nodeType&&(elem.className?(" "+elem.className+" ").replace(rclass," "):"")){for(j=0;clazz=classes[j++];)for(;cur.indexOf(" "+clazz+" ")>=0;)cur=cur.replace(" "+clazz+" "," ");finalValue=value?jQuery.trim(cur):"",elem.className!==finalValue&&(elem.className=finalValue)}return this},toggleClass:function(value,stateVal){var type=typeof value;return"boolean"==typeof stateVal&&"string"===type?stateVal?this.addClass(value):this.removeClass(value):jQuery.isFunction(value)?this.each(function(i){jQuery(this).toggleClass(value.call(this,i,this.className,stateVal),stateVal)}):this.each(function(){if("string"===type)for(var className,i=0,self=jQuery(this),classNames=value.match(rnotwhite)||[];className=classNames[i++];)self.hasClass(className)?self.removeClass(className):self.addClass(className);else type!==strundefined&&"boolean"!==type||(this.className&&data_priv.set(this,"__className__",this.className),this.className=this.className||value===!1?"":data_priv.get(this,"__className__")||"")})},hasClass:function(selector){for(var className=" "+selector+" ",i=0,l=this.length;i<l;i++)if(1===this[i].nodeType&&(" "+this[i].className+" ").replace(rclass," ").indexOf(className)>=0)return!0;return!1}});var rreturn=/\r/g;jQuery.fn.extend({val:function(value){var hooks,ret,isFunction,elem=this[0];{if(arguments.length)return isFunction=jQuery.isFunction(value),this.each(function(i){var val;1===this.nodeType&&(val=isFunction?value.call(this,i,jQuery(this).val()):value,null==val?val="":"number"==typeof val?val+="":jQuery.isArray(val)&&(val=jQuery.map(val,function(value){return null==value?"":value+""})),hooks=jQuery.valHooks[this.type]||jQuery.valHooks[this.nodeName.toLowerCase()],hooks&&"set"in hooks&&void 0!==hooks.set(this,val,"value")||(this.value=val))});if(elem)return hooks=jQuery.valHooks[elem.type]||jQuery.valHooks[elem.nodeName.toLowerCase()],hooks&&"get"in hooks&&void 0!==(ret=hooks.get(elem,"value"))?ret:(ret=elem.value,"string"==typeof ret?ret.replace(rreturn,""):null==ret?"":ret)}}}),jQuery.extend({valHooks:{option:{get:function(elem){var val=jQuery.find.attr(elem,"value");return null!=val?val:jQuery.trim(jQuery.text(elem))}},select:{get:function(elem){for(var value,option,options=elem.options,index=elem.selectedIndex,one="select-one"===elem.type||index<0,values=one?null:[],max=one?index+1:options.length,i=index<0?max:one?index:0;i<max;i++)if(option=options[i],(option.selected||i===index)&&(support.optDisabled?!option.disabled:null===option.getAttribute("disabled"))&&(!option.parentNode.disabled||!jQuery.nodeName(option.parentNode,"optgroup"))){if(value=jQuery(option).val(),one)return value;values.push(value)}return values},set:function(elem,value){for(var optionSet,option,options=elem.options,values=jQuery.makeArray(value),i=options.length;i--;)option=options[i],(option.selected=jQuery.inArray(option.value,values)>=0)&&(optionSet=!0);return optionSet||(elem.selectedIndex=-1),values}}}}),jQuery.each(["radio","checkbox"],function(){jQuery.valHooks[this]={set:function(elem,value){if(jQuery.isArray(value))return elem.checked=jQuery.inArray(jQuery(elem).val(),value)>=0}},support.checkOn||(jQuery.valHooks[this].get=function(elem){return null===elem.getAttribute("value")?"on":elem.value})}),jQuery.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(i,name){jQuery.fn[name]=function(data,fn){return arguments.length>0?this.on(name,null,data,fn):this.trigger(name)}}),jQuery.fn.extend({hover:function(fnOver,fnOut){return this.mouseenter(fnOver).mouseleave(fnOut||fnOver)},bind:function(types,data,fn){return this.on(types,null,data,fn)},unbind:function(types,fn){return this.off(types,null,fn)},delegate:function(selector,types,data,fn){return this.on(types,selector,data,fn)},undelegate:function(selector,types,fn){return 1===arguments.length?this.off(selector,"**"):this.off(types,selector||"**",fn)}});var nonce=jQuery.now(),rquery=/\?/;jQuery.parseJSON=function(data){return JSON.parse(data+"")},jQuery.parseXML=function(data){var xml,tmp;if(!data||"string"!=typeof data)return null;try{tmp=new DOMParser,xml=tmp.parseFromString(data,"text/xml")}catch(e){xml=void 0}return xml&&!xml.getElementsByTagName("parsererror").length||jQuery.error("Invalid XML: "+data),xml};var rhash=/#.*$/,rts=/([?&])_=[^&]*/,rheaders=/^(.*?):[ \t]*([^\r\n]*)$/gm,rlocalProtocol=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,rnoContent=/^(?:GET|HEAD)$/,rprotocol=/^\/\//,rurl=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,prefilters={},transports={},allTypes="*/".concat("*"),ajaxLocation=window.location.href,ajaxLocParts=rurl.exec(ajaxLocation.toLowerCase())||[];jQuery.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ajaxLocation,type:"GET",isLocal:rlocalProtocol.test(ajaxLocParts[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":allTypes,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":jQuery.parseJSON,"text xml":jQuery.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(target,settings){return settings?ajaxExtend(ajaxExtend(target,jQuery.ajaxSettings),settings):ajaxExtend(jQuery.ajaxSettings,target)},ajaxPrefilter:addToPrefiltersOrTransports(prefilters),ajaxTransport:addToPrefiltersOrTransports(transports),ajax:function(url,options){function done(status,nativeStatusText,responses,headers){var isSuccess,success,error,response,modified,statusText=nativeStatusText;2!==state&&(state=2,timeoutTimer&&clearTimeout(timeoutTimer),transport=void 0,responseHeadersString=headers||"",jqXHR.readyState=status>0?4:0,isSuccess=status>=200&&status<300||304===status,responses&&(response=ajaxHandleResponses(s,jqXHR,responses)),response=ajaxConvert(s,response,jqXHR,isSuccess),isSuccess?(s.ifModified&&(modified=jqXHR.getResponseHeader("Last-Modified"),modified&&(jQuery.lastModified[cacheURL]=modified),modified=jqXHR.getResponseHeader("etag"),modified&&(jQuery.etag[cacheURL]=modified)),204===status||"HEAD"===s.type?statusText="nocontent":304===status?statusText="notmodified":(statusText=response.state,success=response.data,error=response.error,isSuccess=!error)):(error=statusText,!status&&statusText||(statusText="error",status<0&&(status=0))),jqXHR.status=status,jqXHR.statusText=(nativeStatusText||statusText)+"",isSuccess?deferred.resolveWith(callbackContext,[success,statusText,jqXHR]):deferred.rejectWith(callbackContext,[jqXHR,statusText,error]),jqXHR.statusCode(statusCode),statusCode=void 0,fireGlobals&&globalEventContext.trigger(isSuccess?"ajaxSuccess":"ajaxError",[jqXHR,s,isSuccess?success:error]),completeDeferred.fireWith(callbackContext,[jqXHR,statusText]),fireGlobals&&(globalEventContext.trigger("ajaxComplete",[jqXHR,s]),--jQuery.active||jQuery.event.trigger("ajaxStop")))}"object"==typeof url&&(options=url,url=void 0),options=options||{};var transport,cacheURL,responseHeadersString,responseHeaders,timeoutTimer,parts,fireGlobals,i,s=jQuery.ajaxSetup({},options),callbackContext=s.context||s,globalEventContext=s.context&&(callbackContext.nodeType||callbackContext.jquery)?jQuery(callbackContext):jQuery.event,deferred=jQuery.Deferred(),completeDeferred=jQuery.Callbacks("once memory"),statusCode=s.statusCode||{},requestHeaders={},requestHeadersNames={},state=0,strAbort="canceled",jqXHR={readyState:0,getResponseHeader:function(key){var match;if(2===state){if(!responseHeaders)for(responseHeaders={};match=rheaders.exec(responseHeadersString);)responseHeaders[match[1].toLowerCase()]=match[2];match=responseHeaders[key.toLowerCase()]}return null==match?null:match},getAllResponseHeaders:function(){return 2===state?responseHeadersString:null},setRequestHeader:function(name,value){var lname=name.toLowerCase();return state||(name=requestHeadersNames[lname]=requestHeadersNames[lname]||name,requestHeaders[name]=value),this},overrideMimeType:function(type){return state||(s.mimeType=type),this},statusCode:function(map){var code;if(map)if(state<2)for(code in map)statusCode[code]=[statusCode[code],map[code]];else jqXHR.always(map[jqXHR.status]);return this},abort:function(statusText){var finalText=statusText||strAbort;return transport&&transport.abort(finalText),done(0,finalText),this}};if(deferred.promise(jqXHR).complete=completeDeferred.add,jqXHR.success=jqXHR.done,jqXHR.error=jqXHR.fail,s.url=((url||s.url||ajaxLocation)+"").replace(rhash,"").replace(rprotocol,ajaxLocParts[1]+"//"),s.type=options.method||options.type||s.method||s.type,s.dataTypes=jQuery.trim(s.dataType||"*").toLowerCase().match(rnotwhite)||[""],null==s.crossDomain&&(parts=rurl.exec(s.url.toLowerCase()),s.crossDomain=!(!parts||parts[1]===ajaxLocParts[1]&&parts[2]===ajaxLocParts[2]&&(parts[3]||("http:"===parts[1]?"80":"443"))===(ajaxLocParts[3]||("http:"===ajaxLocParts[1]?"80":"443")))),s.data&&s.processData&&"string"!=typeof s.data&&(s.data=jQuery.param(s.data,s.traditional)),inspectPrefiltersOrTransports(prefilters,s,options,jqXHR),2===state)return jqXHR;fireGlobals=jQuery.event&&s.global,fireGlobals&&0===jQuery.active++&&jQuery.event.trigger("ajaxStart"),s.type=s.type.toUpperCase(),s.hasContent=!rnoContent.test(s.type),cacheURL=s.url,s.hasContent||(s.data&&(cacheURL=s.url+=(rquery.test(cacheURL)?"&":"?")+s.data,delete s.data),s.cache===!1&&(s.url=rts.test(cacheURL)?cacheURL.replace(rts,"$1_="+nonce++):cacheURL+(rquery.test(cacheURL)?"&":"?")+"_="+nonce++)),s.ifModified&&(jQuery.lastModified[cacheURL]&&jqXHR.setRequestHeader("If-Modified-Since",jQuery.lastModified[cacheURL]),jQuery.etag[cacheURL]&&jqXHR.setRequestHeader("If-None-Match",jQuery.etag[cacheURL])),(s.data&&s.hasContent&&s.contentType!==!1||options.contentType)&&jqXHR.setRequestHeader("Content-Type",s.contentType),jqXHR.setRequestHeader("Accept",s.dataTypes[0]&&s.accepts[s.dataTypes[0]]?s.accepts[s.dataTypes[0]]+("*"!==s.dataTypes[0]?", "+allTypes+"; q=0.01":""):s.accepts["*"]);for(i in s.headers)jqXHR.setRequestHeader(i,s.headers[i]);if(s.beforeSend&&(s.beforeSend.call(callbackContext,jqXHR,s)===!1||2===state))return jqXHR.abort();strAbort="abort";for(i in{success:1,error:1,complete:1})jqXHR[i](s[i]);if(transport=inspectPrefiltersOrTransports(transports,s,options,jqXHR)){jqXHR.readyState=1,fireGlobals&&globalEventContext.trigger("ajaxSend",[jqXHR,s]),s.async&&s.timeout>0&&(timeoutTimer=setTimeout(function(){jqXHR.abort("timeout")},s.timeout));try{state=1,transport.send(requestHeaders,done)}catch(e){if(!(state<2))throw e;done(-1,e)}}else done(-1,"No Transport");return jqXHR},getJSON:function(url,data,callback){return jQuery.get(url,data,callback,"json")},getScript:function(url,callback){return jQuery.get(url,void 0,callback,"script")}}),jQuery.each(["get","post"],function(i,method){jQuery[method]=function(url,data,callback,type){return jQuery.isFunction(data)&&(type=type||callback,callback=data,data=void 0),jQuery.ajax({url:url,type:method,dataType:type,data:data,success:callback})}}),jQuery._evalUrl=function(url){return jQuery.ajax({url:url,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},jQuery.fn.extend({wrapAll:function(html){var wrap;return jQuery.isFunction(html)?this.each(function(i){jQuery(this).wrapAll(html.call(this,i))}):(this[0]&&(wrap=jQuery(html,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&wrap.insertBefore(this[0]),wrap.map(function(){for(var elem=this;elem.firstElementChild;)elem=elem.firstElementChild;return elem}).append(this)),this)},wrapInner:function(html){return jQuery.isFunction(html)?this.each(function(i){jQuery(this).wrapInner(html.call(this,i))}):this.each(function(){var self=jQuery(this),contents=self.contents();contents.length?contents.wrapAll(html):self.append(html)})},wrap:function(html){var isFunction=jQuery.isFunction(html);return this.each(function(i){jQuery(this).wrapAll(isFunction?html.call(this,i):html)})},unwrap:function(){return this.parent().each(function(){jQuery.nodeName(this,"body")||jQuery(this).replaceWith(this.childNodes)}).end()}}),jQuery.expr.filters.hidden=function(elem){return elem.offsetWidth<=0&&elem.offsetHeight<=0},jQuery.expr.filters.visible=function(elem){return!jQuery.expr.filters.hidden(elem)};var r20=/%20/g,rbracket=/\[\]$/,rCRLF=/\r?\n/g,rsubmitterTypes=/^(?:submit|button|image|reset|file)$/i,rsubmittable=/^(?:input|select|textarea|keygen)/i;jQuery.param=function(a,traditional){var prefix,s=[],add=function(key,value){value=jQuery.isFunction(value)?value():null==value?"":value,s[s.length]=encodeURIComponent(key)+"="+encodeURIComponent(value)};if(void 0===traditional&&(traditional=jQuery.ajaxSettings&&jQuery.ajaxSettings.traditional),jQuery.isArray(a)||a.jquery&&!jQuery.isPlainObject(a))jQuery.each(a,function(){add(this.name,this.value)});else for(prefix in a)buildParams(prefix,a[prefix],traditional,add);return s.join("&").replace(r20,"+")},jQuery.fn.extend({serialize:function(){return jQuery.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var elements=jQuery.prop(this,"elements");return elements?jQuery.makeArray(elements):this}).filter(function(){var type=this.type;return this.name&&!jQuery(this).is(":disabled")&&rsubmittable.test(this.nodeName)&&!rsubmitterTypes.test(type)&&(this.checked||!rcheckableType.test(type))}).map(function(i,elem){var val=jQuery(this).val();return null==val?null:jQuery.isArray(val)?jQuery.map(val,function(val){return{name:elem.name,value:val.replace(rCRLF,"\r\n")}}):{name:elem.name,value:val.replace(rCRLF,"\r\n")}}).get()}}),jQuery.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var xhrId=0,xhrCallbacks={},xhrSuccessStatus={0:200,1223:204},xhrSupported=jQuery.ajaxSettings.xhr();window.attachEvent&&window.attachEvent("onunload",function(){for(var key in xhrCallbacks)xhrCallbacks[key]()}),support.cors=!!xhrSupported&&"withCredentials"in xhrSupported,support.ajax=xhrSupported=!!xhrSupported,jQuery.ajaxTransport(function(options){var callback;if(support.cors||xhrSupported&&!options.crossDomain)return{send:function(headers,complete){var i,xhr=options.xhr(),id=++xhrId;if(xhr.open(options.type,options.url,options.async,options.username,options.password),options.xhrFields)for(i in options.xhrFields)xhr[i]=options.xhrFields[i];options.mimeType&&xhr.overrideMimeType&&xhr.overrideMimeType(options.mimeType),options.crossDomain||headers["X-Requested-With"]||(headers["X-Requested-With"]="XMLHttpRequest");for(i in headers)xhr.setRequestHeader(i,headers[i]);callback=function(type){return function(){callback&&(delete xhrCallbacks[id],callback=xhr.onload=xhr.onerror=null,"abort"===type?xhr.abort():"error"===type?complete(xhr.status,xhr.statusText):complete(xhrSuccessStatus[xhr.status]||xhr.status,xhr.statusText,"string"==typeof xhr.responseText?{text:xhr.responseText}:void 0,xhr.getAllResponseHeaders()))}},xhr.onload=callback(),xhr.onerror=callback("error"),callback=xhrCallbacks[id]=callback("abort");try{xhr.send(options.hasContent&&options.data||null)}catch(e){if(callback)throw e}},abort:function(){callback&&callback()}}}),jQuery.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(text){return jQuery.globalEval(text),text}}}),jQuery.ajaxPrefilter("script",function(s){void 0===s.cache&&(s.cache=!1),s.crossDomain&&(s.type="GET")}),jQuery.ajaxTransport("script",function(s){if(s.crossDomain){var script,callback;return{send:function(_,complete){script=jQuery("<script>").prop({async:!0,charset:s.scriptCharset,src:s.url}).on("load error",callback=function(evt){script.remove(),callback=null,evt&&complete("error"===evt.type?404:200,evt.type)}),document.head.appendChild(script[0])},abort:function(){callback&&callback()}}}});var oldCallbacks=[],rjsonp=/(=)\?(?=&|$)|\?\?/;jQuery.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var callback=oldCallbacks.pop()||jQuery.expando+"_"+nonce++;return this[callback]=!0,callback}}),jQuery.ajaxPrefilter("json jsonp",function(s,originalSettings,jqXHR){var callbackName,overwritten,responseContainer,jsonProp=s.jsonp!==!1&&(rjsonp.test(s.url)?"url":"string"==typeof s.data&&!(s.contentType||"").indexOf("application/x-www-form-urlencoded")&&rjsonp.test(s.data)&&"data");if(jsonProp||"jsonp"===s.dataTypes[0])return callbackName=s.jsonpCallback=jQuery.isFunction(s.jsonpCallback)?s.jsonpCallback():s.jsonpCallback,jsonProp?s[jsonProp]=s[jsonProp].replace(rjsonp,"$1"+callbackName):s.jsonp!==!1&&(s.url+=(rquery.test(s.url)?"&":"?")+s.jsonp+"="+callbackName),s.converters["script json"]=function(){return responseContainer||jQuery.error(callbackName+" was not called"),responseContainer[0]},s.dataTypes[0]="json",overwritten=window[callbackName],window[callbackName]=function(){responseContainer=arguments},jqXHR.always(function(){window[callbackName]=overwritten,s[callbackName]&&(s.jsonpCallback=originalSettings.jsonpCallback,oldCallbacks.push(callbackName)),responseContainer&&jQuery.isFunction(overwritten)&&overwritten(responseContainer[0]),responseContainer=overwritten=void 0}),"script"}),jQuery.parseHTML=function(data,context,keepScripts){if(!data||"string"!=typeof data)return null;"boolean"==typeof context&&(keepScripts=context,context=!1),context=context||document;var parsed=rsingleTag.exec(data),scripts=!keepScripts&&[];return parsed?[context.createElement(parsed[1])]:(parsed=jQuery.buildFragment([data],context,scripts),scripts&&scripts.length&&jQuery(scripts).remove(),jQuery.merge([],parsed.childNodes))};var _load=jQuery.fn.load;jQuery.fn.load=function(url,params,callback){if("string"!=typeof url&&_load)return _load.apply(this,arguments);var selector,type,response,self=this,off=url.indexOf(" ");return off>=0&&(selector=jQuery.trim(url.slice(off)),url=url.slice(0,off)),jQuery.isFunction(params)?(callback=params,params=void 0):params&&"object"==typeof params&&(type="POST"),self.length>0&&jQuery.ajax({url:url,type:type,dataType:"html",data:params}).done(function(responseText){response=arguments,self.html(selector?jQuery("<div>").append(jQuery.parseHTML(responseText)).find(selector):responseText)}).complete(callback&&function(jqXHR,status){self.each(callback,response||[jqXHR.responseText,status,jqXHR])}),this},jQuery.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(i,type){jQuery.fn[type]=function(fn){return this.on(type,fn)}}),jQuery.expr.filters.animated=function(elem){return jQuery.grep(jQuery.timers,function(fn){return elem===fn.elem}).length};var docElem=window.document.documentElement;jQuery.offset={setOffset:function(elem,options,i){var curPosition,curLeft,curCSSTop,curTop,curOffset,curCSSLeft,calculatePosition,position=jQuery.css(elem,"position"),curElem=jQuery(elem),props={};"static"===position&&(elem.style.position="relative"),curOffset=curElem.offset(),curCSSTop=jQuery.css(elem,"top"),curCSSLeft=jQuery.css(elem,"left"),calculatePosition=("absolute"===position||"fixed"===position)&&(curCSSTop+curCSSLeft).indexOf("auto")>-1,calculatePosition?(curPosition=curElem.position(),curTop=curPosition.top,curLeft=curPosition.left):(curTop=parseFloat(curCSSTop)||0,curLeft=parseFloat(curCSSLeft)||0),jQuery.isFunction(options)&&(options=options.call(elem,i,curOffset)),null!=options.top&&(props.top=options.top-curOffset.top+curTop),null!=options.left&&(props.left=options.left-curOffset.left+curLeft),"using"in options?options.using.call(elem,props):curElem.css(props)}},jQuery.fn.extend({offset:function(options){if(arguments.length)return void 0===options?this:this.each(function(i){jQuery.offset.setOffset(this,options,i)});var docElem,win,elem=this[0],box={top:0,left:0},doc=elem&&elem.ownerDocument;if(doc)return docElem=doc.documentElement,jQuery.contains(docElem,elem)?(typeof elem.getBoundingClientRect!==strundefined&&(box=elem.getBoundingClientRect()),win=getWindow(doc),{top:box.top+win.pageYOffset-docElem.clientTop,left:box.left+win.pageXOffset-docElem.clientLeft}):box},position:function(){if(this[0]){var offsetParent,offset,elem=this[0],parentOffset={top:0,left:0};return"fixed"===jQuery.css(elem,"position")?offset=elem.getBoundingClientRect():(offsetParent=this.offsetParent(),offset=this.offset(),jQuery.nodeName(offsetParent[0],"html")||(parentOffset=offsetParent.offset()),parentOffset.top+=jQuery.css(offsetParent[0],"borderTopWidth",!0),parentOffset.left+=jQuery.css(offsetParent[0],"borderLeftWidth",!0)),{top:offset.top-parentOffset.top-jQuery.css(elem,"marginTop",!0),left:offset.left-parentOffset.left-jQuery.css(elem,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var offsetParent=this.offsetParent||docElem;offsetParent&&!jQuery.nodeName(offsetParent,"html")&&"static"===jQuery.css(offsetParent,"position");)offsetParent=offsetParent.offsetParent;return offsetParent||docElem})}}),jQuery.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(method,prop){var top="pageYOffset"===prop;jQuery.fn[method]=function(val){return access(this,function(elem,method,val){var win=getWindow(elem);return void 0===val?win?win[prop]:elem[method]:void(win?win.scrollTo(top?window.pageXOffset:val,top?val:window.pageYOffset):elem[method]=val)},method,val,arguments.length,null)}}),jQuery.each(["top","left"],function(i,prop){jQuery.cssHooks[prop]=addGetHookIf(support.pixelPosition,function(elem,computed){if(computed)return computed=curCSS(elem,prop),rnumnonpx.test(computed)?jQuery(elem).position()[prop]+"px":computed})}),jQuery.each({Height:"height",Width:"width"},function(name,type){jQuery.each({padding:"inner"+name,content:type,"":"outer"+name},function(defaultExtra,funcName){jQuery.fn[funcName]=function(margin,value){var chainable=arguments.length&&(defaultExtra||"boolean"!=typeof margin),extra=defaultExtra||(margin===!0||value===!0?"margin":"border");return access(this,function(elem,type,value){var doc;return jQuery.isWindow(elem)?elem.document.documentElement["client"+name]:9===elem.nodeType?(doc=elem.documentElement,Math.max(elem.body["scroll"+name],doc["scroll"+name],elem.body["offset"+name],doc["offset"+name],doc["client"+name])):void 0===value?jQuery.css(elem,type,extra):jQuery.style(elem,type,value,extra)},type,chainable?margin:void 0,chainable,null)}})}),jQuery.fn.size=function(){return this.length},jQuery.fn.andSelf=jQuery.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return jQuery});var _jQuery=window.jQuery,_$=window.$;return jQuery.noConflict=function(deep){return window.$===jQuery&&(window.$=_$),deep&&window.jQuery===jQuery&&(window.jQuery=_jQuery),jQuery},typeof noGlobal===strundefined&&(window.jQuery=window.$=jQuery),jQuery}),function(window,document,undefined){"use strict";function minErr(module,ErrorConstructor){return ErrorConstructor=ErrorConstructor||Error,function(){var paramPrefix,i,SKIP_INDEXES=2,templateArgs=arguments,code=templateArgs[0],message="["+(module?module+":":"")+code+"] ",template=templateArgs[1];for(message+=template.replace(/\{\d+\}/g,function(match){var index=+match.slice(1,-1),shiftedIndex=index+SKIP_INDEXES;return shiftedIndex<templateArgs.length?toDebugString(templateArgs[shiftedIndex]):match}),message+="\nhttp://errors.angularjs.org/1.4.3/"+(module?module+"/":"")+code,i=SKIP_INDEXES,paramPrefix="?";i<templateArgs.length;i++,paramPrefix="&")message+=paramPrefix+"p"+(i-SKIP_INDEXES)+"="+encodeURIComponent(toDebugString(templateArgs[i]));return new ErrorConstructor(message);
}}function isArrayLike(obj){if(null==obj||isWindow(obj))return!1;var length="length"in Object(obj)&&obj.length;return!(obj.nodeType!==NODE_TYPE_ELEMENT||!length)||(isString(obj)||isArray(obj)||0===length||"number"==typeof length&&length>0&&length-1 in obj)}function forEach(obj,iterator,context){var key,length;if(obj)if(isFunction(obj))for(key in obj)"prototype"==key||"length"==key||"name"==key||obj.hasOwnProperty&&!obj.hasOwnProperty(key)||iterator.call(context,obj[key],key,obj);else if(isArray(obj)||isArrayLike(obj)){var isPrimitive="object"!=typeof obj;for(key=0,length=obj.length;key<length;key++)(isPrimitive||key in obj)&&iterator.call(context,obj[key],key,obj)}else if(obj.forEach&&obj.forEach!==forEach)obj.forEach(iterator,context,obj);else if(isBlankObject(obj))for(key in obj)iterator.call(context,obj[key],key,obj);else if("function"==typeof obj.hasOwnProperty)for(key in obj)obj.hasOwnProperty(key)&&iterator.call(context,obj[key],key,obj);else for(key in obj)hasOwnProperty.call(obj,key)&&iterator.call(context,obj[key],key,obj);return obj}function forEachSorted(obj,iterator,context){for(var keys=Object.keys(obj).sort(),i=0;i<keys.length;i++)iterator.call(context,obj[keys[i]],keys[i]);return keys}function reverseParams(iteratorFn){return function(value,key){iteratorFn(key,value)}}function nextUid(){return++uid}function setHashKey(obj,h){h?obj.$$hashKey=h:delete obj.$$hashKey}function baseExtend(dst,objs,deep){for(var h=dst.$$hashKey,i=0,ii=objs.length;i<ii;++i){var obj=objs[i];if(isObject(obj)||isFunction(obj))for(var keys=Object.keys(obj),j=0,jj=keys.length;j<jj;j++){var key=keys[j],src=obj[key];deep&&isObject(src)?isDate(src)?dst[key]=new Date(src.valueOf()):(isObject(dst[key])||(dst[key]=isArray(src)?[]:{}),baseExtend(dst[key],[src],!0)):dst[key]=src}}return setHashKey(dst,h),dst}function extend(dst){return baseExtend(dst,slice.call(arguments,1),!1)}function merge(dst){return baseExtend(dst,slice.call(arguments,1),!0)}function toInt(str){return parseInt(str,10)}function inherit(parent,extra){return extend(Object.create(parent),extra)}function noop(){}function identity($){return $}function valueFn(value){return function(){return value}}function hasCustomToString(obj){return isFunction(obj.toString)&&obj.toString!==Object.prototype.toString}function isUndefined(value){return"undefined"==typeof value}function isDefined(value){return"undefined"!=typeof value}function isObject(value){return null!==value&&"object"==typeof value}function isBlankObject(value){return null!==value&&"object"==typeof value&&!getPrototypeOf(value)}function isString(value){return"string"==typeof value}function isNumber(value){return"number"==typeof value}function isDate(value){return"[object Date]"===toString.call(value)}function isFunction(value){return"function"==typeof value}function isRegExp(value){return"[object RegExp]"===toString.call(value)}function isWindow(obj){return obj&&obj.window===obj}function isScope(obj){return obj&&obj.$evalAsync&&obj.$watch}function isFile(obj){return"[object File]"===toString.call(obj)}function isFormData(obj){return"[object FormData]"===toString.call(obj)}function isBlob(obj){return"[object Blob]"===toString.call(obj)}function isBoolean(value){return"boolean"==typeof value}function isPromiseLike(obj){return obj&&isFunction(obj.then)}function isTypedArray(value){return TYPED_ARRAY_REGEXP.test(toString.call(value))}function isElement(node){return!(!node||!(node.nodeName||node.prop&&node.attr&&node.find))}function makeMap(str){var i,obj={},items=str.split(",");for(i=0;i<items.length;i++)obj[items[i]]=!0;return obj}function nodeName_(element){return lowercase(element.nodeName||element[0]&&element[0].nodeName)}function arrayRemove(array,value){var index=array.indexOf(value);return index>=0&&array.splice(index,1),index}function copy(source,destination,stackSource,stackDest){if(isWindow(source)||isScope(source))throw ngMinErr("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");if(isTypedArray(destination))throw ngMinErr("cpta","Can't copy! TypedArray destination cannot be mutated.");if(destination){if(source===destination)throw ngMinErr("cpi","Can't copy! Source and destination are identical.");stackSource=stackSource||[],stackDest=stackDest||[],isObject(source)&&(stackSource.push(source),stackDest.push(destination));var key;if(isArray(source)){destination.length=0;for(var i=0;i<source.length;i++)destination.push(copy(source[i],null,stackSource,stackDest))}else{var h=destination.$$hashKey;if(isArray(destination)?destination.length=0:forEach(destination,function(value,key){delete destination[key]}),isBlankObject(source))for(key in source)destination[key]=copy(source[key],null,stackSource,stackDest);else if(source&&"function"==typeof source.hasOwnProperty)for(key in source)source.hasOwnProperty(key)&&(destination[key]=copy(source[key],null,stackSource,stackDest));else for(key in source)hasOwnProperty.call(source,key)&&(destination[key]=copy(source[key],null,stackSource,stackDest));setHashKey(destination,h)}}else if(destination=source,isObject(source)){var index;if(stackSource&&(index=stackSource.indexOf(source))!==-1)return stackDest[index];if(isArray(source))return copy(source,[],stackSource,stackDest);if(isTypedArray(source))destination=new source.constructor(source);else if(isDate(source))destination=new Date(source.getTime());else{if(!isRegExp(source)){var emptyObject=Object.create(getPrototypeOf(source));return copy(source,emptyObject,stackSource,stackDest)}destination=new RegExp(source.source,source.toString().match(/[^\/]*$/)[0]),destination.lastIndex=source.lastIndex}stackDest&&(stackSource.push(source),stackDest.push(destination))}return destination}function shallowCopy(src,dst){if(isArray(src)){dst=dst||[];for(var i=0,ii=src.length;i<ii;i++)dst[i]=src[i]}else if(isObject(src)){dst=dst||{};for(var key in src)"$"===key.charAt(0)&&"$"===key.charAt(1)||(dst[key]=src[key])}return dst||src}function equals(o1,o2){if(o1===o2)return!0;if(null===o1||null===o2)return!1;if(o1!==o1&&o2!==o2)return!0;var length,key,keySet,t1=typeof o1,t2=typeof o2;if(t1==t2&&"object"==t1){if(!isArray(o1)){if(isDate(o1))return!!isDate(o2)&&equals(o1.getTime(),o2.getTime());if(isRegExp(o1))return!!isRegExp(o2)&&o1.toString()==o2.toString();if(isScope(o1)||isScope(o2)||isWindow(o1)||isWindow(o2)||isArray(o2)||isDate(o2)||isRegExp(o2))return!1;keySet=createMap();for(key in o1)if("$"!==key.charAt(0)&&!isFunction(o1[key])){if(!equals(o1[key],o2[key]))return!1;keySet[key]=!0}for(key in o2)if(!(key in keySet||"$"===key.charAt(0)||o2[key]===undefined||isFunction(o2[key])))return!1;return!0}if(!isArray(o2))return!1;if((length=o1.length)==o2.length){for(key=0;key<length;key++)if(!equals(o1[key],o2[key]))return!1;return!0}}return!1}function concat(array1,array2,index){return array1.concat(slice.call(array2,index))}function sliceArgs(args,startIndex){return slice.call(args,startIndex||0)}function bind(self,fn){var curryArgs=arguments.length>2?sliceArgs(arguments,2):[];return!isFunction(fn)||fn instanceof RegExp?fn:curryArgs.length?function(){return arguments.length?fn.apply(self,concat(curryArgs,arguments,0)):fn.apply(self,curryArgs)}:function(){return arguments.length?fn.apply(self,arguments):fn.call(self)}}function toJsonReplacer(key,value){var val=value;return"string"==typeof key&&"$"===key.charAt(0)&&"$"===key.charAt(1)?val=undefined:isWindow(value)?val="$WINDOW":value&&document===value?val="$DOCUMENT":isScope(value)&&(val="$SCOPE"),val}function toJson(obj,pretty){return"undefined"==typeof obj?undefined:(isNumber(pretty)||(pretty=pretty?2:null),JSON.stringify(obj,toJsonReplacer,pretty))}function fromJson(json){return isString(json)?JSON.parse(json):json}function timezoneToOffset(timezone,fallback){var requestedTimezoneOffset=Date.parse("Jan 01, 1970 00:00:00 "+timezone)/6e4;return isNaN(requestedTimezoneOffset)?fallback:requestedTimezoneOffset}function addDateMinutes(date,minutes){return date=new Date(date.getTime()),date.setMinutes(date.getMinutes()+minutes),date}function convertTimezoneToLocal(date,timezone,reverse){reverse=reverse?-1:1;var timezoneOffset=timezoneToOffset(timezone,date.getTimezoneOffset());return addDateMinutes(date,reverse*(timezoneOffset-date.getTimezoneOffset()))}function startingTag(element){element=jqLite(element).clone();try{element.empty()}catch(e){}var elemHtml=jqLite("<div>").append(element).html();try{return element[0].nodeType===NODE_TYPE_TEXT?lowercase(elemHtml):elemHtml.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(match,nodeName){return"<"+lowercase(nodeName)})}catch(e){return lowercase(elemHtml)}}function tryDecodeURIComponent(value){try{return decodeURIComponent(value)}catch(e){}}function parseKeyValue(keyValue){var key_value,key,obj={};return forEach((keyValue||"").split("&"),function(keyValue){if(keyValue&&(key_value=keyValue.replace(/\+/g,"%20").split("="),key=tryDecodeURIComponent(key_value[0]),isDefined(key))){var val=!isDefined(key_value[1])||tryDecodeURIComponent(key_value[1]);hasOwnProperty.call(obj,key)?isArray(obj[key])?obj[key].push(val):obj[key]=[obj[key],val]:obj[key]=val}}),obj}function toKeyValue(obj){var parts=[];return forEach(obj,function(value,key){isArray(value)?forEach(value,function(arrayValue){parts.push(encodeUriQuery(key,!0)+(arrayValue===!0?"":"="+encodeUriQuery(arrayValue,!0)))}):parts.push(encodeUriQuery(key,!0)+(value===!0?"":"="+encodeUriQuery(value,!0)))}),parts.length?parts.join("&"):""}function encodeUriSegment(val){return encodeUriQuery(val,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function encodeUriQuery(val,pctEncodeSpaces){return encodeURIComponent(val).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,pctEncodeSpaces?"%20":"+")}function getNgAttribute(element,ngAttr){var attr,i,ii=ngAttrPrefixes.length;for(i=0;i<ii;++i)if(attr=ngAttrPrefixes[i]+ngAttr,isString(attr=element.getAttribute(attr)))return attr;return null}function angularInit(element,bootstrap){var appElement,module,config={};forEach(ngAttrPrefixes,function(prefix){var name=prefix+"app";!appElement&&element.hasAttribute&&element.hasAttribute(name)&&(appElement=element,module=element.getAttribute(name))}),forEach(ngAttrPrefixes,function(prefix){var candidate,name=prefix+"app";!appElement&&(candidate=element.querySelector("["+name.replace(":","\\:")+"]"))&&(appElement=candidate,module=candidate.getAttribute(name))}),appElement&&(config.strictDi=null!==getNgAttribute(appElement,"strict-di"),bootstrap(appElement,module?[module]:[],config))}function bootstrap(element,modules,config){isObject(config)||(config={});var defaultConfig={strictDi:!1};config=extend(defaultConfig,config);var doBootstrap=function(){if(element=jqLite(element),element.injector()){var tag=element[0]===document?"document":startingTag(element);throw ngMinErr("btstrpd","App Already Bootstrapped with this Element '{0}'",tag.replace(/</,"&lt;").replace(/>/,"&gt;"))}modules=modules||[],modules.unshift(["$provide",function($provide){$provide.value("$rootElement",element)}]),config.debugInfoEnabled&&modules.push(["$compileProvider",function($compileProvider){$compileProvider.debugInfoEnabled(!0)}]),modules.unshift("ng");var injector=createInjector(modules,config.strictDi);return injector.invoke(["$rootScope","$rootElement","$compile","$injector",function(scope,element,compile,injector){scope.$apply(function(){element.data("$injector",injector),compile(element)(scope)})}]),injector},NG_ENABLE_DEBUG_INFO=/^NG_ENABLE_DEBUG_INFO!/,NG_DEFER_BOOTSTRAP=/^NG_DEFER_BOOTSTRAP!/;return window&&NG_ENABLE_DEBUG_INFO.test(window.name)&&(config.debugInfoEnabled=!0,window.name=window.name.replace(NG_ENABLE_DEBUG_INFO,"")),window&&!NG_DEFER_BOOTSTRAP.test(window.name)?doBootstrap():(window.name=window.name.replace(NG_DEFER_BOOTSTRAP,""),angular.resumeBootstrap=function(extraModules){return forEach(extraModules,function(module){modules.push(module)}),doBootstrap()},void(isFunction(angular.resumeDeferredBootstrap)&&angular.resumeDeferredBootstrap()))}function reloadWithDebugInfo(){window.name="NG_ENABLE_DEBUG_INFO!"+window.name,window.location.reload()}function getTestability(rootElement){var injector=angular.element(rootElement).injector();if(!injector)throw ngMinErr("test","no injector found for element argument to getTestability");return injector.get("$$testability")}function snake_case(name,separator){return separator=separator||"_",name.replace(SNAKE_CASE_REGEXP,function(letter,pos){return(pos?separator:"")+letter.toLowerCase()})}function bindJQuery(){var originalCleanData;if(!bindJQueryFired){var jqName=jq();jQuery=window.jQuery,isDefined(jqName)&&(jQuery=null===jqName?undefined:window[jqName]),jQuery&&jQuery.fn.on?(jqLite=jQuery,extend(jQuery.fn,{scope:JQLitePrototype.scope,isolateScope:JQLitePrototype.isolateScope,controller:JQLitePrototype.controller,injector:JQLitePrototype.injector,inheritedData:JQLitePrototype.inheritedData}),originalCleanData=jQuery.cleanData,jQuery.cleanData=function(elems){var events;if(skipDestroyOnNextJQueryCleanData)skipDestroyOnNextJQueryCleanData=!1;else for(var elem,i=0;null!=(elem=elems[i]);i++)events=jQuery._data(elem,"events"),events&&events.$destroy&&jQuery(elem).triggerHandler("$destroy");originalCleanData(elems)}):jqLite=JQLite,angular.element=jqLite,bindJQueryFired=!0}}function assertArg(arg,name,reason){if(!arg)throw ngMinErr("areq","Argument '{0}' is {1}",name||"?",reason||"required");return arg}function assertArgFn(arg,name,acceptArrayAnnotation){return acceptArrayAnnotation&&isArray(arg)&&(arg=arg[arg.length-1]),assertArg(isFunction(arg),name,"not a function, got "+(arg&&"object"==typeof arg?arg.constructor.name||"Object":typeof arg)),arg}function assertNotHasOwnProperty(name,context){if("hasOwnProperty"===name)throw ngMinErr("badname","hasOwnProperty is not a valid {0} name",context)}function getter(obj,path,bindFnToScope){if(!path)return obj;for(var key,keys=path.split("."),lastInstance=obj,len=keys.length,i=0;i<len;i++)key=keys[i],obj&&(obj=(lastInstance=obj)[key]);return!bindFnToScope&&isFunction(obj)?bind(lastInstance,obj):obj}function getBlockNodes(nodes){var node=nodes[0],endNode=nodes[nodes.length-1],blockNodes=[node];do{if(node=node.nextSibling,!node)break;blockNodes.push(node)}while(node!==endNode);return jqLite(blockNodes)}function createMap(){return Object.create(null)}function setupModuleLoader(window){function ensure(obj,name,factory){return obj[name]||(obj[name]=factory())}var $injectorMinErr=minErr("$injector"),ngMinErr=minErr("ng"),angular=ensure(window,"angular",Object);return angular.$$minErr=angular.$$minErr||minErr,ensure(angular,"module",function(){var modules={};return function(name,requires,configFn){var assertNotHasOwnProperty=function(name,context){if("hasOwnProperty"===name)throw ngMinErr("badname","hasOwnProperty is not a valid {0} name",context)};return assertNotHasOwnProperty(name,"module"),requires&&modules.hasOwnProperty(name)&&(modules[name]=null),ensure(modules,name,function(){function invokeLater(provider,method,insertMethod,queue){return queue||(queue=invokeQueue),function(){return queue[insertMethod||"push"]([provider,method,arguments]),moduleInstance}}function invokeLaterAndSetModuleName(provider,method){return function(recipeName,factoryFunction){return factoryFunction&&isFunction(factoryFunction)&&(factoryFunction.$$moduleName=name),invokeQueue.push([provider,method,arguments]),moduleInstance}}if(!requires)throw $injectorMinErr("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",name);var invokeQueue=[],configBlocks=[],runBlocks=[],config=invokeLater("$injector","invoke","push",configBlocks),moduleInstance={_invokeQueue:invokeQueue,_configBlocks:configBlocks,_runBlocks:runBlocks,requires:requires,name:name,provider:invokeLaterAndSetModuleName("$provide","provider"),factory:invokeLaterAndSetModuleName("$provide","factory"),service:invokeLaterAndSetModuleName("$provide","service"),value:invokeLater("$provide","value"),constant:invokeLater("$provide","constant","unshift"),decorator:invokeLaterAndSetModuleName("$provide","decorator"),animation:invokeLaterAndSetModuleName("$animateProvider","register"),filter:invokeLaterAndSetModuleName("$filterProvider","register"),controller:invokeLaterAndSetModuleName("$controllerProvider","register"),directive:invokeLaterAndSetModuleName("$compileProvider","directive"),config:config,run:function(block){return runBlocks.push(block),this}};return configFn&&config(configFn),moduleInstance})}})}function serializeObject(obj){var seen=[];return JSON.stringify(obj,function(key,val){if(val=toJsonReplacer(key,val),isObject(val)){if(seen.indexOf(val)>=0)return"<<already seen>>";seen.push(val)}return val})}function toDebugString(obj){return"function"==typeof obj?obj.toString().replace(/ \{[\s\S]*$/,""):"undefined"==typeof obj?"undefined":"string"!=typeof obj?serializeObject(obj):obj}function publishExternalAPI(angular){extend(angular,{bootstrap:bootstrap,copy:copy,extend:extend,merge:merge,equals:equals,element:jqLite,forEach:forEach,injector:createInjector,noop:noop,bind:bind,toJson:toJson,fromJson:fromJson,identity:identity,isUndefined:isUndefined,isDefined:isDefined,isString:isString,isFunction:isFunction,isObject:isObject,isNumber:isNumber,isElement:isElement,isArray:isArray,version:version,isDate:isDate,lowercase:lowercase,uppercase:uppercase,callbacks:{counter:0},getTestability:getTestability,$$minErr:minErr,$$csp:csp,reloadWithDebugInfo:reloadWithDebugInfo}),angularModule=setupModuleLoader(window);try{angularModule("ngLocale")}catch(e){angularModule("ngLocale",[]).provider("$locale",$LocaleProvider)}angularModule("ng",["ngLocale"],["$provide",function($provide){$provide.provider({$$sanitizeUri:$$SanitizeUriProvider}),$provide.provider("$compile",$CompileProvider).directive({a:htmlAnchorDirective,input:inputDirective,textarea:inputDirective,form:formDirective,script:scriptDirective,select:selectDirective,style:styleDirective,option:optionDirective,ngBind:ngBindDirective,ngBindHtml:ngBindHtmlDirective,ngBindTemplate:ngBindTemplateDirective,ngClass:ngClassDirective,ngClassEven:ngClassEvenDirective,ngClassOdd:ngClassOddDirective,ngCloak:ngCloakDirective,ngController:ngControllerDirective,ngForm:ngFormDirective,ngHide:ngHideDirective,ngIf:ngIfDirective,ngInclude:ngIncludeDirective,ngInit:ngInitDirective,ngNonBindable:ngNonBindableDirective,ngPluralize:ngPluralizeDirective,ngRepeat:ngRepeatDirective,ngShow:ngShowDirective,ngStyle:ngStyleDirective,ngSwitch:ngSwitchDirective,ngSwitchWhen:ngSwitchWhenDirective,ngSwitchDefault:ngSwitchDefaultDirective,ngOptions:ngOptionsDirective,ngTransclude:ngTranscludeDirective,ngModel:ngModelDirective,ngList:ngListDirective,ngChange:ngChangeDirective,pattern:patternDirective,ngPattern:patternDirective,required:requiredDirective,ngRequired:requiredDirective,minlength:minlengthDirective,ngMinlength:minlengthDirective,maxlength:maxlengthDirective,ngMaxlength:maxlengthDirective,ngValue:ngValueDirective,ngModelOptions:ngModelOptionsDirective}).directive({ngInclude:ngIncludeFillContentDirective}).directive(ngAttributeAliasDirectives).directive(ngEventDirectives),$provide.provider({$anchorScroll:$AnchorScrollProvider,$animate:$AnimateProvider,$$animateQueue:$$CoreAnimateQueueProvider,$$AnimateRunner:$$CoreAnimateRunnerProvider,$browser:$BrowserProvider,$cacheFactory:$CacheFactoryProvider,$controller:$ControllerProvider,$document:$DocumentProvider,$exceptionHandler:$ExceptionHandlerProvider,$filter:$FilterProvider,$interpolate:$InterpolateProvider,$interval:$IntervalProvider,$http:$HttpProvider,$httpParamSerializer:$HttpParamSerializerProvider,$httpParamSerializerJQLike:$HttpParamSerializerJQLikeProvider,$httpBackend:$HttpBackendProvider,$location:$LocationProvider,$log:$LogProvider,$parse:$ParseProvider,$rootScope:$RootScopeProvider,$q:$QProvider,$$q:$$QProvider,$sce:$SceProvider,$sceDelegate:$SceDelegateProvider,$sniffer:$SnifferProvider,$templateCache:$TemplateCacheProvider,$templateRequest:$TemplateRequestProvider,$$testability:$$TestabilityProvider,$timeout:$TimeoutProvider,$window:$WindowProvider,$$rAF:$$RAFProvider,$$jqLite:$$jqLiteProvider,$$HashMap:$$HashMapProvider,$$cookieReader:$$CookieReaderProvider})}])}function jqNextId(){return++jqId}function camelCase(name){return name.replace(SPECIAL_CHARS_REGEXP,function(_,separator,letter,offset){return offset?letter.toUpperCase():letter}).replace(MOZ_HACK_REGEXP,"Moz$1")}function jqLiteIsTextNode(html){return!HTML_REGEXP.test(html)}function jqLiteAcceptsData(node){var nodeType=node.nodeType;return nodeType===NODE_TYPE_ELEMENT||!nodeType||nodeType===NODE_TYPE_DOCUMENT}function jqLiteHasData(node){for(var key in jqCache[node.ng339])return!0;return!1}function jqLiteBuildFragment(html,context){var tmp,tag,wrap,i,fragment=context.createDocumentFragment(),nodes=[];if(jqLiteIsTextNode(html))nodes.push(context.createTextNode(html));else{for(tmp=tmp||fragment.appendChild(context.createElement("div")),tag=(TAG_NAME_REGEXP.exec(html)||["",""])[1].toLowerCase(),wrap=wrapMap[tag]||wrapMap._default,tmp.innerHTML=wrap[1]+html.replace(XHTML_TAG_REGEXP,"<$1></$2>")+wrap[2],i=wrap[0];i--;)tmp=tmp.lastChild;nodes=concat(nodes,tmp.childNodes),tmp=fragment.firstChild,tmp.textContent=""}return fragment.textContent="",fragment.innerHTML="",forEach(nodes,function(node){fragment.appendChild(node)}),fragment}function jqLiteParseHTML(html,context){context=context||document;var parsed;return(parsed=SINGLE_TAG_REGEXP.exec(html))?[context.createElement(parsed[1])]:(parsed=jqLiteBuildFragment(html,context))?parsed.childNodes:[]}function JQLite(element){if(element instanceof JQLite)return element;var argIsString;if(isString(element)&&(element=trim(element),argIsString=!0),!(this instanceof JQLite)){if(argIsString&&"<"!=element.charAt(0))throw jqLiteMinErr("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new JQLite(element)}argIsString?jqLiteAddNodes(this,jqLiteParseHTML(element)):jqLiteAddNodes(this,element)}function jqLiteClone(element){return element.cloneNode(!0)}function jqLiteDealoc(element,onlyDescendants){if(onlyDescendants||jqLiteRemoveData(element),element.querySelectorAll)for(var descendants=element.querySelectorAll("*"),i=0,l=descendants.length;i<l;i++)jqLiteRemoveData(descendants[i])}function jqLiteOff(element,type,fn,unsupported){if(isDefined(unsupported))throw jqLiteMinErr("offargs","jqLite#off() does not support the `selector` argument");var expandoStore=jqLiteExpandoStore(element),events=expandoStore&&expandoStore.events,handle=expandoStore&&expandoStore.handle;if(handle)if(type)forEach(type.split(" "),function(type){if(isDefined(fn)){var listenerFns=events[type];if(arrayRemove(listenerFns||[],fn),listenerFns&&listenerFns.length>0)return}removeEventListenerFn(element,type,handle),delete events[type]});else for(type in events)"$destroy"!==type&&removeEventListenerFn(element,type,handle),delete events[type]}function jqLiteRemoveData(element,name){var expandoId=element.ng339,expandoStore=expandoId&&jqCache[expandoId];if(expandoStore){if(name)return void delete expandoStore.data[name];expandoStore.handle&&(expandoStore.events.$destroy&&expandoStore.handle({},"$destroy"),jqLiteOff(element)),delete jqCache[expandoId],element.ng339=undefined}}function jqLiteExpandoStore(element,createIfNecessary){var expandoId=element.ng339,expandoStore=expandoId&&jqCache[expandoId];return createIfNecessary&&!expandoStore&&(element.ng339=expandoId=jqNextId(),expandoStore=jqCache[expandoId]={events:{},data:{},handle:undefined}),expandoStore}function jqLiteData(element,key,value){if(jqLiteAcceptsData(element)){var isSimpleSetter=isDefined(value),isSimpleGetter=!isSimpleSetter&&key&&!isObject(key),massGetter=!key,expandoStore=jqLiteExpandoStore(element,!isSimpleGetter),data=expandoStore&&expandoStore.data;if(isSimpleSetter)data[key]=value;else{if(massGetter)return data;if(isSimpleGetter)return data&&data[key];extend(data,key)}}}function jqLiteHasClass(element,selector){return!!element.getAttribute&&(" "+(element.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+selector+" ")>-1}function jqLiteRemoveClass(element,cssClasses){cssClasses&&element.setAttribute&&forEach(cssClasses.split(" "),function(cssClass){element.setAttribute("class",trim((" "+(element.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+trim(cssClass)+" "," ")))})}function jqLiteAddClass(element,cssClasses){if(cssClasses&&element.setAttribute){var existingClasses=(" "+(element.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");forEach(cssClasses.split(" "),function(cssClass){cssClass=trim(cssClass),existingClasses.indexOf(" "+cssClass+" ")===-1&&(existingClasses+=cssClass+" ")}),element.setAttribute("class",trim(existingClasses))}}function jqLiteAddNodes(root,elements){if(elements)if(elements.nodeType)root[root.length++]=elements;else{var length=elements.length;if("number"==typeof length&&elements.window!==elements){if(length)for(var i=0;i<length;i++)root[root.length++]=elements[i]}else root[root.length++]=elements}}function jqLiteController(element,name){return jqLiteInheritedData(element,"$"+(name||"ngController")+"Controller")}function jqLiteInheritedData(element,name,value){element.nodeType==NODE_TYPE_DOCUMENT&&(element=element.documentElement);for(var names=isArray(name)?name:[name];element;){for(var i=0,ii=names.length;i<ii;i++)if((value=jqLite.data(element,names[i]))!==undefined)return value;element=element.parentNode||element.nodeType===NODE_TYPE_DOCUMENT_FRAGMENT&&element.host}}function jqLiteEmpty(element){for(jqLiteDealoc(element,!0);element.firstChild;)element.removeChild(element.firstChild)}function jqLiteRemove(element,keepData){keepData||jqLiteDealoc(element);var parent=element.parentNode;parent&&parent.removeChild(element)}function jqLiteDocumentLoaded(action,win){win=win||window,"complete"===win.document.readyState?win.setTimeout(action):jqLite(win).on("load",action)}function getBooleanAttrName(element,name){var booleanAttr=BOOLEAN_ATTR[name.toLowerCase()];return booleanAttr&&BOOLEAN_ELEMENTS[nodeName_(element)]&&booleanAttr}function getAliasedAttrName(element,name){var nodeName=element.nodeName;return("INPUT"===nodeName||"TEXTAREA"===nodeName)&&ALIASED_ATTR[name]}function createEventHandler(element,events){var eventHandler=function(event,type){event.isDefaultPrevented=function(){return event.defaultPrevented};var eventFns=events[type||event.type],eventFnsLength=eventFns?eventFns.length:0;if(eventFnsLength){if(isUndefined(event.immediatePropagationStopped)){var originalStopImmediatePropagation=event.stopImmediatePropagation;event.stopImmediatePropagation=function(){event.immediatePropagationStopped=!0,event.stopPropagation&&event.stopPropagation(),originalStopImmediatePropagation&&originalStopImmediatePropagation.call(event)}}event.isImmediatePropagationStopped=function(){return event.immediatePropagationStopped===!0},eventFnsLength>1&&(eventFns=shallowCopy(eventFns));for(var i=0;i<eventFnsLength;i++)event.isImmediatePropagationStopped()||eventFns[i].call(element,event)}};return eventHandler.elem=element,eventHandler}function $$jqLiteProvider(){this.$get=function(){return extend(JQLite,{hasClass:function(node,classes){return node.attr&&(node=node[0]),jqLiteHasClass(node,classes)},addClass:function(node,classes){return node.attr&&(node=node[0]),jqLiteAddClass(node,classes)},removeClass:function(node,classes){return node.attr&&(node=node[0]),jqLiteRemoveClass(node,classes)}})}}function hashKey(obj,nextUidFn){var key=obj&&obj.$$hashKey;if(key)return"function"==typeof key&&(key=obj.$$hashKey()),key;var objType=typeof obj;return key="function"==objType||"object"==objType&&null!==obj?obj.$$hashKey=objType+":"+(nextUidFn||nextUid)():objType+":"+obj}function HashMap(array,isolatedUid){if(isolatedUid){var uid=0;this.nextUid=function(){return++uid}}forEach(array,this.put,this)}function anonFn(fn){var fnText=fn.toString().replace(STRIP_COMMENTS,""),args=fnText.match(FN_ARGS);return args?"function("+(args[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function annotate(fn,strictDi,name){var $inject,fnText,argDecl,last;if("function"==typeof fn){if(!($inject=fn.$inject)){if($inject=[],fn.length){if(strictDi)throw isString(name)&&name||(name=fn.name||anonFn(fn)),$injectorMinErr("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",name);fnText=fn.toString().replace(STRIP_COMMENTS,""),argDecl=fnText.match(FN_ARGS),forEach(argDecl[1].split(FN_ARG_SPLIT),function(arg){arg.replace(FN_ARG,function(all,underscore,name){$inject.push(name)})})}fn.$inject=$inject}}else isArray(fn)?(last=fn.length-1,assertArgFn(fn[last],"fn"),$inject=fn.slice(0,last)):assertArgFn(fn,"fn",!0);return $inject}function createInjector(modulesToLoad,strictDi){function supportObject(delegate){return function(key,value){return isObject(key)?void forEach(key,reverseParams(delegate)):delegate(key,value)}}function provider(name,provider_){if(assertNotHasOwnProperty(name,"service"),(isFunction(provider_)||isArray(provider_))&&(provider_=providerInjector.instantiate(provider_)),!provider_.$get)throw $injectorMinErr("pget","Provider '{0}' must define $get factory method.",name);return providerCache[name+providerSuffix]=provider_}function enforceReturnValue(name,factory){return function(){var result=instanceInjector.invoke(factory,this);if(isUndefined(result))throw $injectorMinErr("undef","Provider '{0}' must return a value from $get factory method.",name);return result}}function factory(name,factoryFn,enforce){return provider(name,{$get:enforce!==!1?enforceReturnValue(name,factoryFn):factoryFn})}function service(name,constructor){return factory(name,["$injector",function($injector){return $injector.instantiate(constructor)}])}function value(name,val){return factory(name,valueFn(val),!1)}function constant(name,value){assertNotHasOwnProperty(name,"constant"),providerCache[name]=value,instanceCache[name]=value}function decorator(serviceName,decorFn){var origProvider=providerInjector.get(serviceName+providerSuffix),orig$get=origProvider.$get;origProvider.$get=function(){var origInstance=instanceInjector.invoke(orig$get,origProvider);return instanceInjector.invoke(decorFn,null,{$delegate:origInstance})}}function loadModules(modulesToLoad){var moduleFn,runBlocks=[];return forEach(modulesToLoad,function(module){function runInvokeQueue(queue){var i,ii;for(i=0,ii=queue.length;i<ii;i++){var invokeArgs=queue[i],provider=providerInjector.get(invokeArgs[0]);provider[invokeArgs[1]].apply(provider,invokeArgs[2])}}if(!loadedModules.get(module)){loadedModules.put(module,!0);try{isString(module)?(moduleFn=angularModule(module),runBlocks=runBlocks.concat(loadModules(moduleFn.requires)).concat(moduleFn._runBlocks),runInvokeQueue(moduleFn._invokeQueue),runInvokeQueue(moduleFn._configBlocks)):isFunction(module)?runBlocks.push(providerInjector.invoke(module)):isArray(module)?runBlocks.push(providerInjector.invoke(module)):assertArgFn(module,"module")}catch(e){throw isArray(module)&&(module=module[module.length-1]),e.message&&e.stack&&e.stack.indexOf(e.message)==-1&&(e=e.message+"\n"+e.stack),$injectorMinErr("modulerr","Failed to instantiate module {0} due to:\n{1}",module,e.stack||e.message||e)}}}),runBlocks}function createInternalInjector(cache,factory){function getService(serviceName,caller){if(cache.hasOwnProperty(serviceName)){if(cache[serviceName]===INSTANTIATING)throw $injectorMinErr("cdep","Circular dependency found: {0}",serviceName+" <- "+path.join(" <- "));return cache[serviceName]}try{return path.unshift(serviceName),cache[serviceName]=INSTANTIATING,cache[serviceName]=factory(serviceName,caller)}catch(err){throw cache[serviceName]===INSTANTIATING&&delete cache[serviceName],err}finally{path.shift()}}function invoke(fn,self,locals,serviceName){"string"==typeof locals&&(serviceName=locals,
locals=null);var length,i,key,args=[],$inject=createInjector.$$annotate(fn,strictDi,serviceName);for(i=0,length=$inject.length;i<length;i++){if(key=$inject[i],"string"!=typeof key)throw $injectorMinErr("itkn","Incorrect injection token! Expected service name as string, got {0}",key);args.push(locals&&locals.hasOwnProperty(key)?locals[key]:getService(key,serviceName))}return isArray(fn)&&(fn=fn[length]),fn.apply(self,args)}function instantiate(Type,locals,serviceName){var instance=Object.create((isArray(Type)?Type[Type.length-1]:Type).prototype||null),returnedValue=invoke(Type,instance,locals,serviceName);return isObject(returnedValue)||isFunction(returnedValue)?returnedValue:instance}return{invoke:invoke,instantiate:instantiate,get:getService,annotate:createInjector.$$annotate,has:function(name){return providerCache.hasOwnProperty(name+providerSuffix)||cache.hasOwnProperty(name)}}}strictDi=strictDi===!0;var INSTANTIATING={},providerSuffix="Provider",path=[],loadedModules=new HashMap([],(!0)),providerCache={$provide:{provider:supportObject(provider),factory:supportObject(factory),service:supportObject(service),value:supportObject(value),constant:supportObject(constant),decorator:decorator}},providerInjector=providerCache.$injector=createInternalInjector(providerCache,function(serviceName,caller){throw angular.isString(caller)&&path.push(caller),$injectorMinErr("unpr","Unknown provider: {0}",path.join(" <- "))}),instanceCache={},instanceInjector=instanceCache.$injector=createInternalInjector(instanceCache,function(serviceName,caller){var provider=providerInjector.get(serviceName+providerSuffix,caller);return instanceInjector.invoke(provider.$get,provider,undefined,serviceName)});return forEach(loadModules(modulesToLoad),function(fn){fn&&instanceInjector.invoke(fn)}),instanceInjector}function $AnchorScrollProvider(){var autoScrollingEnabled=!0;this.disableAutoScrolling=function(){autoScrollingEnabled=!1},this.$get=["$window","$location","$rootScope",function($window,$location,$rootScope){function getFirstAnchor(list){var result=null;return Array.prototype.some.call(list,function(element){if("a"===nodeName_(element))return result=element,!0}),result}function getYOffset(){var offset=scroll.yOffset;if(isFunction(offset))offset=offset();else if(isElement(offset)){var elem=offset[0],style=$window.getComputedStyle(elem);offset="fixed"!==style.position?0:elem.getBoundingClientRect().bottom}else isNumber(offset)||(offset=0);return offset}function scrollTo(elem){if(elem){elem.scrollIntoView();var offset=getYOffset();if(offset){var elemTop=elem.getBoundingClientRect().top;$window.scrollBy(0,elemTop-offset)}}else $window.scrollTo(0,0)}function scroll(hash){hash=isString(hash)?hash:$location.hash();var elm;hash?(elm=document.getElementById(hash))?scrollTo(elm):(elm=getFirstAnchor(document.getElementsByName(hash)))?scrollTo(elm):"top"===hash&&scrollTo(null):scrollTo(null)}var document=$window.document;return autoScrollingEnabled&&$rootScope.$watch(function(){return $location.hash()},function(newVal,oldVal){newVal===oldVal&&""===newVal||jqLiteDocumentLoaded(function(){$rootScope.$evalAsync(scroll)})}),scroll}]}function mergeClasses(a,b){return a||b?a?b?(isArray(a)&&(a=a.join(" ")),isArray(b)&&(b=b.join(" ")),a+" "+b):a:b:""}function extractElementNode(element){for(var i=0;i<element.length;i++){var elm=element[i];if(elm.nodeType===ELEMENT_NODE)return elm}}function splitClasses(classes){isString(classes)&&(classes=classes.split(" "));var obj=createMap();return forEach(classes,function(klass){klass.length&&(obj[klass]=!0)}),obj}function prepareAnimateOptions(options){return isObject(options)?options:{}}function Browser(window,document,$log,$sniffer){function completeOutstandingRequest(fn){try{fn.apply(null,sliceArgs(arguments,1))}finally{if(outstandingRequestCount--,0===outstandingRequestCount)for(;outstandingRequestCallbacks.length;)try{outstandingRequestCallbacks.pop()()}catch(e){$log.error(e)}}}function getHash(url){var index=url.indexOf("#");return index===-1?"":url.substr(index)}function cacheStateAndFireUrlChange(){cacheState(),fireUrlChange()}function getCurrentState(){try{return history.state}catch(e){}}function cacheState(){cachedState=getCurrentState(),cachedState=isUndefined(cachedState)?null:cachedState,equals(cachedState,lastCachedState)&&(cachedState=lastCachedState),lastCachedState=cachedState}function fireUrlChange(){lastBrowserUrl===self.url()&&lastHistoryState===cachedState||(lastBrowserUrl=self.url(),lastHistoryState=cachedState,forEach(urlChangeListeners,function(listener){listener(self.url(),cachedState)}))}var self=this,location=(document[0],window.location),history=window.history,setTimeout=window.setTimeout,clearTimeout=window.clearTimeout,pendingDeferIds={};self.isMock=!1;var outstandingRequestCount=0,outstandingRequestCallbacks=[];self.$$completeOutstandingRequest=completeOutstandingRequest,self.$$incOutstandingRequestCount=function(){outstandingRequestCount++},self.notifyWhenNoOutstandingRequests=function(callback){0===outstandingRequestCount?callback():outstandingRequestCallbacks.push(callback)};var cachedState,lastHistoryState,lastBrowserUrl=location.href,baseElement=document.find("base"),reloadLocation=null;cacheState(),lastHistoryState=cachedState,self.url=function(url,replace,state){if(isUndefined(state)&&(state=null),location!==window.location&&(location=window.location),history!==window.history&&(history=window.history),url){var sameState=lastHistoryState===state;if(lastBrowserUrl===url&&(!$sniffer.history||sameState))return self;var sameBase=lastBrowserUrl&&stripHash(lastBrowserUrl)===stripHash(url);return lastBrowserUrl=url,lastHistoryState=state,!$sniffer.history||sameBase&&sameState?(sameBase&&!reloadLocation||(reloadLocation=url),replace?location.replace(url):sameBase?location.hash=getHash(url):location.href=url):(history[replace?"replaceState":"pushState"](state,"",url),cacheState(),lastHistoryState=cachedState),self}return reloadLocation||location.href.replace(/%27/g,"'")},self.state=function(){return cachedState};var urlChangeListeners=[],urlChangeInit=!1,lastCachedState=null;self.onUrlChange=function(callback){return urlChangeInit||($sniffer.history&&jqLite(window).on("popstate",cacheStateAndFireUrlChange),jqLite(window).on("hashchange",cacheStateAndFireUrlChange),urlChangeInit=!0),urlChangeListeners.push(callback),callback},self.$$applicationDestroyed=function(){jqLite(window).off("hashchange popstate",cacheStateAndFireUrlChange)},self.$$checkUrlChange=fireUrlChange,self.baseHref=function(){var href=baseElement.attr("href");return href?href.replace(/^(https?\:)?\/\/[^\/]*/,""):""},self.defer=function(fn,delay){var timeoutId;return outstandingRequestCount++,timeoutId=setTimeout(function(){delete pendingDeferIds[timeoutId],completeOutstandingRequest(fn)},delay||0),pendingDeferIds[timeoutId]=!0,timeoutId},self.defer.cancel=function(deferId){return!!pendingDeferIds[deferId]&&(delete pendingDeferIds[deferId],clearTimeout(deferId),completeOutstandingRequest(noop),!0)}}function $BrowserProvider(){this.$get=["$window","$log","$sniffer","$document",function($window,$log,$sniffer,$document){return new Browser($window,$document,$log,$sniffer)}]}function $CacheFactoryProvider(){this.$get=function(){function cacheFactory(cacheId,options){function refresh(entry){entry!=freshEnd&&(staleEnd?staleEnd==entry&&(staleEnd=entry.n):staleEnd=entry,link(entry.n,entry.p),link(entry,freshEnd),freshEnd=entry,freshEnd.n=null)}function link(nextEntry,prevEntry){nextEntry!=prevEntry&&(nextEntry&&(nextEntry.p=prevEntry),prevEntry&&(prevEntry.n=nextEntry))}if(cacheId in caches)throw minErr("$cacheFactory")("iid","CacheId '{0}' is already taken!",cacheId);var size=0,stats=extend({},options,{id:cacheId}),data={},capacity=options&&options.capacity||Number.MAX_VALUE,lruHash={},freshEnd=null,staleEnd=null;return caches[cacheId]={put:function(key,value){if(!isUndefined(value)){if(capacity<Number.MAX_VALUE){var lruEntry=lruHash[key]||(lruHash[key]={key:key});refresh(lruEntry)}return key in data||size++,data[key]=value,size>capacity&&this.remove(staleEnd.key),value}},get:function(key){if(capacity<Number.MAX_VALUE){var lruEntry=lruHash[key];if(!lruEntry)return;refresh(lruEntry)}return data[key]},remove:function(key){if(capacity<Number.MAX_VALUE){var lruEntry=lruHash[key];if(!lruEntry)return;lruEntry==freshEnd&&(freshEnd=lruEntry.p),lruEntry==staleEnd&&(staleEnd=lruEntry.n),link(lruEntry.n,lruEntry.p),delete lruHash[key]}delete data[key],size--},removeAll:function(){data={},size=0,lruHash={},freshEnd=staleEnd=null},destroy:function(){data=null,stats=null,lruHash=null,delete caches[cacheId]},info:function(){return extend({},stats,{size:size})}}}var caches={};return cacheFactory.info=function(){var info={};return forEach(caches,function(cache,cacheId){info[cacheId]=cache.info()}),info},cacheFactory.get=function(cacheId){return caches[cacheId]},cacheFactory}}function $TemplateCacheProvider(){this.$get=["$cacheFactory",function($cacheFactory){return $cacheFactory("templates")}]}function $CompileProvider($provide,$$sanitizeUriProvider){function parseIsolateBindings(scope,directiveName,isController){var LOCAL_REGEXP=/^\s*([@&]|=(\*?))(\??)\s*(\w*)\s*$/,bindings={};return forEach(scope,function(definition,scopeName){var match=definition.match(LOCAL_REGEXP);if(!match)throw $compileMinErr("iscp","Invalid {3} for directive '{0}'. Definition: {... {1}: '{2}' ...}",directiveName,scopeName,definition,isController?"controller bindings definition":"isolate scope definition");bindings[scopeName]={mode:match[1][0],collection:"*"===match[2],optional:"?"===match[3],attrName:match[4]||scopeName}}),bindings}function parseDirectiveBindings(directive,directiveName){var bindings={isolateScope:null,bindToController:null};if(isObject(directive.scope)&&(directive.bindToController===!0?(bindings.bindToController=parseIsolateBindings(directive.scope,directiveName,!0),bindings.isolateScope={}):bindings.isolateScope=parseIsolateBindings(directive.scope,directiveName,!1)),isObject(directive.bindToController)&&(bindings.bindToController=parseIsolateBindings(directive.bindToController,directiveName,!0)),isObject(bindings.bindToController)){var controller=directive.controller,controllerAs=directive.controllerAs;if(!controller)throw $compileMinErr("noctrl","Cannot bind to controller without directive '{0}'s controller.",directiveName);if(!identifierForController(controller,controllerAs))throw $compileMinErr("noident","Cannot bind to controller without identifier for directive '{0}'.",directiveName)}return bindings}function assertValidDirectiveName(name){var letter=name.charAt(0);if(!letter||letter!==lowercase(letter))throw $compileMinErr("baddir","Directive name '{0}' is invalid. The first character must be a lowercase letter",name);if(name!==name.trim())throw $compileMinErr("baddir","Directive name '{0}' is invalid. The name should not contain leading or trailing whitespaces",name)}var hasDirectives={},Suffix="Directive",COMMENT_DIRECTIVE_REGEXP=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,CLASS_DIRECTIVE_REGEXP=/(([\w\-]+)(?:\:([^;]+))?;?)/,ALL_OR_NOTHING_ATTRS=makeMap("ngSrc,ngSrcset,src,srcset"),REQUIRE_PREFIX_REGEXP=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,EVENT_HANDLER_ATTR_REGEXP=/^(on[a-z]+|formaction)$/;this.directive=function registerDirective(name,directiveFactory){return assertNotHasOwnProperty(name,"directive"),isString(name)?(assertValidDirectiveName(name),assertArg(directiveFactory,"directiveFactory"),hasDirectives.hasOwnProperty(name)||(hasDirectives[name]=[],$provide.factory(name+Suffix,["$injector","$exceptionHandler",function($injector,$exceptionHandler){var directives=[];return forEach(hasDirectives[name],function(directiveFactory,index){try{var directive=$injector.invoke(directiveFactory);isFunction(directive)?directive={compile:valueFn(directive)}:!directive.compile&&directive.link&&(directive.compile=valueFn(directive.link)),directive.priority=directive.priority||0,directive.index=index,directive.name=directive.name||name,directive.require=directive.require||directive.controller&&directive.name,directive.restrict=directive.restrict||"EA";var bindings=directive.$$bindings=parseDirectiveBindings(directive,directive.name);isObject(bindings.isolateScope)&&(directive.$$isolateBindings=bindings.isolateScope),directive.$$moduleName=directiveFactory.$$moduleName,directives.push(directive)}catch(e){$exceptionHandler(e)}}),directives}])),hasDirectives[name].push(directiveFactory)):forEach(name,reverseParams(registerDirective)),this},this.aHrefSanitizationWhitelist=function(regexp){return isDefined(regexp)?($$sanitizeUriProvider.aHrefSanitizationWhitelist(regexp),this):$$sanitizeUriProvider.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(regexp){return isDefined(regexp)?($$sanitizeUriProvider.imgSrcSanitizationWhitelist(regexp),this):$$sanitizeUriProvider.imgSrcSanitizationWhitelist()};var debugInfoEnabled=!0;this.debugInfoEnabled=function(enabled){return isDefined(enabled)?(debugInfoEnabled=enabled,this):debugInfoEnabled},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$document","$sce","$animate","$$sanitizeUri",function($injector,$interpolate,$exceptionHandler,$templateRequest,$parse,$controller,$rootScope,$document,$sce,$animate,$$sanitizeUri){function safeAddClass($element,className){try{$element.addClass(className)}catch(e){}}function compile($compileNodes,transcludeFn,maxPriority,ignoreDirective,previousCompileContext){$compileNodes instanceof jqLite||($compileNodes=jqLite($compileNodes)),forEach($compileNodes,function(node,index){node.nodeType==NODE_TYPE_TEXT&&node.nodeValue.match(/\S+/)&&($compileNodes[index]=jqLite(node).wrap("<span></span>").parent()[0])});var compositeLinkFn=compileNodes($compileNodes,transcludeFn,$compileNodes,maxPriority,ignoreDirective,previousCompileContext);compile.$$addScopeClass($compileNodes);var namespace=null;return function(scope,cloneConnectFn,options){assertArg(scope,"scope"),options=options||{};var parentBoundTranscludeFn=options.parentBoundTranscludeFn,transcludeControllers=options.transcludeControllers,futureParentElement=options.futureParentElement;parentBoundTranscludeFn&&parentBoundTranscludeFn.$$boundTransclude&&(parentBoundTranscludeFn=parentBoundTranscludeFn.$$boundTransclude),namespace||(namespace=detectNamespaceForChildElements(futureParentElement));var $linkNode;if($linkNode="html"!==namespace?jqLite(wrapTemplate(namespace,jqLite("<div>").append($compileNodes).html())):cloneConnectFn?JQLitePrototype.clone.call($compileNodes):$compileNodes,transcludeControllers)for(var controllerName in transcludeControllers)$linkNode.data("$"+controllerName+"Controller",transcludeControllers[controllerName].instance);return compile.$$addScopeInfo($linkNode,scope),cloneConnectFn&&cloneConnectFn($linkNode,scope),compositeLinkFn&&compositeLinkFn(scope,$linkNode,$linkNode,parentBoundTranscludeFn),$linkNode}}function detectNamespaceForChildElements(parentElement){var node=parentElement&&parentElement[0];return node&&"foreignobject"!==nodeName_(node)&&node.toString().match(/SVG/)?"svg":"html"}function compileNodes(nodeList,transcludeFn,$rootElement,maxPriority,ignoreDirective,previousCompileContext){function compositeLinkFn(scope,nodeList,$rootElement,parentBoundTranscludeFn){var nodeLinkFn,childLinkFn,node,childScope,i,ii,idx,childBoundTranscludeFn,stableNodeList;if(nodeLinkFnFound){var nodeListLength=nodeList.length;for(stableNodeList=new Array(nodeListLength),i=0;i<linkFns.length;i+=3)idx=linkFns[i],stableNodeList[idx]=nodeList[idx]}else stableNodeList=nodeList;for(i=0,ii=linkFns.length;i<ii;)if(node=stableNodeList[linkFns[i++]],nodeLinkFn=linkFns[i++],childLinkFn=linkFns[i++],nodeLinkFn){if(nodeLinkFn.scope){childScope=scope.$new(),compile.$$addScopeInfo(jqLite(node),childScope);var destroyBindings=nodeLinkFn.$$destroyBindings;destroyBindings&&(nodeLinkFn.$$destroyBindings=null,childScope.$on("$destroyed",destroyBindings))}else childScope=scope;childBoundTranscludeFn=nodeLinkFn.transcludeOnThisElement?createBoundTranscludeFn(scope,nodeLinkFn.transclude,parentBoundTranscludeFn):!nodeLinkFn.templateOnThisElement&&parentBoundTranscludeFn?parentBoundTranscludeFn:!parentBoundTranscludeFn&&transcludeFn?createBoundTranscludeFn(scope,transcludeFn):null,nodeLinkFn(childLinkFn,childScope,node,$rootElement,childBoundTranscludeFn,nodeLinkFn)}else childLinkFn&&childLinkFn(scope,node.childNodes,undefined,parentBoundTranscludeFn)}for(var attrs,directives,nodeLinkFn,childNodes,childLinkFn,linkFnFound,nodeLinkFnFound,linkFns=[],i=0;i<nodeList.length;i++)attrs=new Attributes,directives=collectDirectives(nodeList[i],[],attrs,0===i?maxPriority:undefined,ignoreDirective),nodeLinkFn=directives.length?applyDirectivesToNode(directives,nodeList[i],attrs,transcludeFn,$rootElement,null,[],[],previousCompileContext):null,nodeLinkFn&&nodeLinkFn.scope&&compile.$$addScopeClass(attrs.$$element),childLinkFn=nodeLinkFn&&nodeLinkFn.terminal||!(childNodes=nodeList[i].childNodes)||!childNodes.length?null:compileNodes(childNodes,nodeLinkFn?(nodeLinkFn.transcludeOnThisElement||!nodeLinkFn.templateOnThisElement)&&nodeLinkFn.transclude:transcludeFn),(nodeLinkFn||childLinkFn)&&(linkFns.push(i,nodeLinkFn,childLinkFn),linkFnFound=!0,nodeLinkFnFound=nodeLinkFnFound||nodeLinkFn),previousCompileContext=null;return linkFnFound?compositeLinkFn:null}function createBoundTranscludeFn(scope,transcludeFn,previousBoundTranscludeFn){var boundTranscludeFn=function(transcludedScope,cloneFn,controllers,futureParentElement,containingScope){return transcludedScope||(transcludedScope=scope.$new(!1,containingScope),transcludedScope.$$transcluded=!0),transcludeFn(transcludedScope,cloneFn,{parentBoundTranscludeFn:previousBoundTranscludeFn,transcludeControllers:controllers,futureParentElement:futureParentElement})};return boundTranscludeFn}function collectDirectives(node,directives,attrs,maxPriority,ignoreDirective){var match,className,nodeType=node.nodeType,attrsMap=attrs.$attr;switch(nodeType){case NODE_TYPE_ELEMENT:addDirective(directives,directiveNormalize(nodeName_(node)),"E",maxPriority,ignoreDirective);for(var attr,name,nName,ngAttrName,value,isNgAttr,nAttrs=node.attributes,j=0,jj=nAttrs&&nAttrs.length;j<jj;j++){var attrStartName=!1,attrEndName=!1;attr=nAttrs[j],name=attr.name,value=trim(attr.value),ngAttrName=directiveNormalize(name),(isNgAttr=NG_ATTR_BINDING.test(ngAttrName))&&(name=name.replace(PREFIX_REGEXP,"").substr(8).replace(/_(.)/g,function(match,letter){return letter.toUpperCase()}));var directiveNName=ngAttrName.replace(/(Start|End)$/,"");directiveIsMultiElement(directiveNName)&&ngAttrName===directiveNName+"Start"&&(attrStartName=name,attrEndName=name.substr(0,name.length-5)+"end",name=name.substr(0,name.length-6)),nName=directiveNormalize(name.toLowerCase()),attrsMap[nName]=name,!isNgAttr&&attrs.hasOwnProperty(nName)||(attrs[nName]=value,getBooleanAttrName(node,nName)&&(attrs[nName]=!0)),addAttrInterpolateDirective(node,directives,value,nName,isNgAttr),addDirective(directives,nName,"A",maxPriority,ignoreDirective,attrStartName,attrEndName)}if(className=node.className,isObject(className)&&(className=className.animVal),isString(className)&&""!==className)for(;match=CLASS_DIRECTIVE_REGEXP.exec(className);)nName=directiveNormalize(match[2]),addDirective(directives,nName,"C",maxPriority,ignoreDirective)&&(attrs[nName]=trim(match[3])),className=className.substr(match.index+match[0].length);break;case NODE_TYPE_TEXT:if(11===msie)for(;node.parentNode&&node.nextSibling&&node.nextSibling.nodeType===NODE_TYPE_TEXT;)node.nodeValue=node.nodeValue+node.nextSibling.nodeValue,node.parentNode.removeChild(node.nextSibling);addTextInterpolateDirective(directives,node.nodeValue);break;case NODE_TYPE_COMMENT:try{match=COMMENT_DIRECTIVE_REGEXP.exec(node.nodeValue),match&&(nName=directiveNormalize(match[1]),addDirective(directives,nName,"M",maxPriority,ignoreDirective)&&(attrs[nName]=trim(match[2])))}catch(e){}}return directives.sort(byPriority),directives}function groupScan(node,attrStart,attrEnd){var nodes=[],depth=0;if(attrStart&&node.hasAttribute&&node.hasAttribute(attrStart)){do{if(!node)throw $compileMinErr("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",attrStart,attrEnd);node.nodeType==NODE_TYPE_ELEMENT&&(node.hasAttribute(attrStart)&&depth++,node.hasAttribute(attrEnd)&&depth--),nodes.push(node),node=node.nextSibling}while(depth>0)}else nodes.push(node);return jqLite(nodes)}function groupElementsLinkFnWrapper(linkFn,attrStart,attrEnd){return function(scope,element,attrs,controllers,transcludeFn){return element=groupScan(element[0],attrStart,attrEnd),linkFn(scope,element,attrs,controllers,transcludeFn)}}function applyDirectivesToNode(directives,compileNode,templateAttrs,transcludeFn,jqCollection,originalReplaceDirective,preLinkFns,postLinkFns,previousCompileContext){function addLinkFns(pre,post,attrStart,attrEnd){pre&&(attrStart&&(pre=groupElementsLinkFnWrapper(pre,attrStart,attrEnd)),pre.require=directive.require,pre.directiveName=directiveName,(newIsolateScopeDirective===directive||directive.$$isolateScope)&&(pre=cloneAndAnnotateFn(pre,{isolateScope:!0})),preLinkFns.push(pre)),post&&(attrStart&&(post=groupElementsLinkFnWrapper(post,attrStart,attrEnd)),post.require=directive.require,post.directiveName=directiveName,(newIsolateScopeDirective===directive||directive.$$isolateScope)&&(post=cloneAndAnnotateFn(post,{isolateScope:!0})),postLinkFns.push(post))}function getControllers(directiveName,require,$element,elementControllers){var value;if(isString(require)){var match=require.match(REQUIRE_PREFIX_REGEXP),name=require.substring(match[0].length),inheritType=match[1]||match[3],optional="?"===match[2];if("^^"===inheritType?$element=$element.parent():(value=elementControllers&&elementControllers[name],value=value&&value.instance),!value){var dataName="$"+name+"Controller";value=inheritType?$element.inheritedData(dataName):$element.data(dataName)}if(!value&&!optional)throw $compileMinErr("ctreq","Controller '{0}', required by directive '{1}', can't be found!",name,directiveName)}else if(isArray(require)){value=[];for(var i=0,ii=require.length;i<ii;i++)value[i]=getControllers(directiveName,require[i],$element,elementControllers)}return value||null}function setupControllers($element,attrs,transcludeFn,controllerDirectives,isolateScope,scope){var elementControllers=createMap();for(var controllerKey in controllerDirectives){var directive=controllerDirectives[controllerKey],locals={$scope:directive===newIsolateScopeDirective||directive.$$isolateScope?isolateScope:scope,$element:$element,$attrs:attrs,$transclude:transcludeFn},controller=directive.controller;"@"==controller&&(controller=attrs[directive.name]);var controllerInstance=$controller(controller,locals,!0,directive.controllerAs);elementControllers[directive.name]=controllerInstance,hasElementTranscludeDirective||$element.data("$"+directive.name+"Controller",controllerInstance.instance)}return elementControllers}function nodeLinkFn(childLinkFn,scope,linkNode,$rootElement,boundTranscludeFn,thisLinkFn){function controllersBoundTransclude(scope,cloneAttachFn,futureParentElement){var transcludeControllers;return isScope(scope)||(futureParentElement=cloneAttachFn,cloneAttachFn=scope,scope=undefined),hasElementTranscludeDirective&&(transcludeControllers=elementControllers),futureParentElement||(futureParentElement=hasElementTranscludeDirective?$element.parent():$element),boundTranscludeFn(scope,cloneAttachFn,transcludeControllers,futureParentElement,scopeToChild)}var i,ii,linkFn,controller,isolateScope,elementControllers,transcludeFn,$element,attrs;if(compileNode===linkNode?(attrs=templateAttrs,$element=templateAttrs.$$element):($element=jqLite(linkNode),attrs=new Attributes($element,templateAttrs)),newIsolateScopeDirective&&(isolateScope=scope.$new(!0)),boundTranscludeFn&&(transcludeFn=controllersBoundTransclude,transcludeFn.$$boundTransclude=boundTranscludeFn),controllerDirectives&&(elementControllers=setupControllers($element,attrs,transcludeFn,controllerDirectives,isolateScope,scope)),newIsolateScopeDirective&&(compile.$$addScopeInfo($element,isolateScope,!0,!(templateDirective&&(templateDirective===newIsolateScopeDirective||templateDirective===newIsolateScopeDirective.$$originalDirective))),compile.$$addScopeClass($element,!0),isolateScope.$$isolateBindings=newIsolateScopeDirective.$$isolateBindings,initializeDirectiveBindings(scope,attrs,isolateScope,isolateScope.$$isolateBindings,newIsolateScopeDirective,isolateScope)),elementControllers){var bindings,controllerForBindings,scopeDirective=newIsolateScopeDirective||newScopeDirective;scopeDirective&&elementControllers[scopeDirective.name]&&(bindings=scopeDirective.$$bindings.bindToController,controller=elementControllers[scopeDirective.name],controller&&controller.identifier&&bindings&&(controllerForBindings=controller,thisLinkFn.$$destroyBindings=initializeDirectiveBindings(scope,attrs,controller.instance,bindings,scopeDirective)));for(i in elementControllers){controller=elementControllers[i];var controllerResult=controller();controllerResult!==controller.instance&&(controller.instance=controllerResult,$element.data("$"+i+"Controller",controllerResult),controller===controllerForBindings&&(thisLinkFn.$$destroyBindings(),thisLinkFn.$$destroyBindings=initializeDirectiveBindings(scope,attrs,controllerResult,bindings,scopeDirective)))}}for(i=0,ii=preLinkFns.length;i<ii;i++)linkFn=preLinkFns[i],invokeLinkFn(linkFn,linkFn.isolateScope?isolateScope:scope,$element,attrs,linkFn.require&&getControllers(linkFn.directiveName,linkFn.require,$element,elementControllers),transcludeFn);var scopeToChild=scope;for(newIsolateScopeDirective&&(newIsolateScopeDirective.template||null===newIsolateScopeDirective.templateUrl)&&(scopeToChild=isolateScope),childLinkFn&&childLinkFn(scopeToChild,linkNode.childNodes,undefined,boundTranscludeFn),i=postLinkFns.length-1;i>=0;i--)linkFn=postLinkFns[i],invokeLinkFn(linkFn,linkFn.isolateScope?isolateScope:scope,$element,attrs,linkFn.require&&getControllers(linkFn.directiveName,linkFn.require,$element,elementControllers),transcludeFn)}previousCompileContext=previousCompileContext||{};for(var directive,directiveName,$template,linkFn,directiveValue,terminalPriority=-Number.MAX_VALUE,newScopeDirective=previousCompileContext.newScopeDirective,controllerDirectives=previousCompileContext.controllerDirectives,newIsolateScopeDirective=previousCompileContext.newIsolateScopeDirective,templateDirective=previousCompileContext.templateDirective,nonTlbTranscludeDirective=previousCompileContext.nonTlbTranscludeDirective,hasTranscludeDirective=!1,hasTemplate=!1,hasElementTranscludeDirective=previousCompileContext.hasElementTranscludeDirective,$compileNode=templateAttrs.$$element=jqLite(compileNode),replaceDirective=originalReplaceDirective,childTranscludeFn=transcludeFn,i=0,ii=directives.length;i<ii;i++){directive=directives[i];var attrStart=directive.$$start,attrEnd=directive.$$end;if(attrStart&&($compileNode=groupScan(compileNode,attrStart,attrEnd)),$template=undefined,terminalPriority>directive.priority)break;if((directiveValue=directive.scope)&&(directive.templateUrl||(isObject(directiveValue)?(assertNoDuplicate("new/isolated scope",newIsolateScopeDirective||newScopeDirective,directive,$compileNode),newIsolateScopeDirective=directive):assertNoDuplicate("new/isolated scope",newIsolateScopeDirective,directive,$compileNode)),newScopeDirective=newScopeDirective||directive),directiveName=directive.name,!directive.templateUrl&&directive.controller&&(directiveValue=directive.controller,controllerDirectives=controllerDirectives||createMap(),assertNoDuplicate("'"+directiveName+"' controller",controllerDirectives[directiveName],directive,$compileNode),controllerDirectives[directiveName]=directive),(directiveValue=directive.transclude)&&(hasTranscludeDirective=!0,directive.$$tlb||(assertNoDuplicate("transclusion",nonTlbTranscludeDirective,directive,$compileNode),nonTlbTranscludeDirective=directive),"element"==directiveValue?(hasElementTranscludeDirective=!0,terminalPriority=directive.priority,$template=$compileNode,$compileNode=templateAttrs.$$element=jqLite(document.createComment(" "+directiveName+": "+templateAttrs[directiveName]+" ")),compileNode=$compileNode[0],replaceWith(jqCollection,sliceArgs($template),compileNode),childTranscludeFn=compile($template,transcludeFn,terminalPriority,replaceDirective&&replaceDirective.name,{nonTlbTranscludeDirective:nonTlbTranscludeDirective})):($template=jqLite(jqLiteClone(compileNode)).contents(),$compileNode.empty(),childTranscludeFn=compile($template,transcludeFn))),directive.template)if(hasTemplate=!0,assertNoDuplicate("template",templateDirective,directive,$compileNode),templateDirective=directive,directiveValue=isFunction(directive.template)?directive.template($compileNode,templateAttrs):directive.template,directiveValue=denormalizeTemplate(directiveValue),directive.replace){if(replaceDirective=directive,$template=jqLiteIsTextNode(directiveValue)?[]:removeComments(wrapTemplate(directive.templateNamespace,trim(directiveValue))),compileNode=$template[0],1!=$template.length||compileNode.nodeType!==NODE_TYPE_ELEMENT)throw $compileMinErr("tplrt","Template for directive '{0}' must have exactly one root element. {1}",directiveName,"");replaceWith(jqCollection,$compileNode,compileNode);var newTemplateAttrs={$attr:{}},templateDirectives=collectDirectives(compileNode,[],newTemplateAttrs),unprocessedDirectives=directives.splice(i+1,directives.length-(i+1));newIsolateScopeDirective&&markDirectivesAsIsolate(templateDirectives),directives=directives.concat(templateDirectives).concat(unprocessedDirectives),mergeTemplateAttributes(templateAttrs,newTemplateAttrs),ii=directives.length}else $compileNode.html(directiveValue);if(directive.templateUrl)hasTemplate=!0,assertNoDuplicate("template",templateDirective,directive,$compileNode),templateDirective=directive,directive.replace&&(replaceDirective=directive),nodeLinkFn=compileTemplateUrl(directives.splice(i,directives.length-i),$compileNode,templateAttrs,jqCollection,hasTranscludeDirective&&childTranscludeFn,preLinkFns,postLinkFns,{controllerDirectives:controllerDirectives,newScopeDirective:newScopeDirective!==directive&&newScopeDirective,newIsolateScopeDirective:newIsolateScopeDirective,templateDirective:templateDirective,nonTlbTranscludeDirective:nonTlbTranscludeDirective}),ii=directives.length;else if(directive.compile)try{linkFn=directive.compile($compileNode,templateAttrs,childTranscludeFn),isFunction(linkFn)?addLinkFns(null,linkFn,attrStart,attrEnd):linkFn&&addLinkFns(linkFn.pre,linkFn.post,attrStart,attrEnd)}catch(e){$exceptionHandler(e,startingTag($compileNode))}directive.terminal&&(nodeLinkFn.terminal=!0,terminalPriority=Math.max(terminalPriority,directive.priority))}return nodeLinkFn.scope=newScopeDirective&&newScopeDirective.scope===!0,nodeLinkFn.transcludeOnThisElement=hasTranscludeDirective,nodeLinkFn.templateOnThisElement=hasTemplate,nodeLinkFn.transclude=childTranscludeFn,previousCompileContext.hasElementTranscludeDirective=hasElementTranscludeDirective,nodeLinkFn}function markDirectivesAsIsolate(directives){for(var j=0,jj=directives.length;j<jj;j++)directives[j]=inherit(directives[j],{$$isolateScope:!0})}function addDirective(tDirectives,name,location,maxPriority,ignoreDirective,startAttrName,endAttrName){if(name===ignoreDirective)return null;var match=null;if(hasDirectives.hasOwnProperty(name))for(var directive,directives=$injector.get(name+Suffix),i=0,ii=directives.length;i<ii;i++)try{directive=directives[i],(maxPriority===undefined||maxPriority>directive.priority)&&directive.restrict.indexOf(location)!=-1&&(startAttrName&&(directive=inherit(directive,{$$start:startAttrName,$$end:endAttrName})),tDirectives.push(directive),match=directive)}catch(e){$exceptionHandler(e)}return match}function directiveIsMultiElement(name){if(hasDirectives.hasOwnProperty(name))for(var directive,directives=$injector.get(name+Suffix),i=0,ii=directives.length;i<ii;i++)if(directive=directives[i],
directive.multiElement)return!0;return!1}function mergeTemplateAttributes(dst,src){var srcAttr=src.$attr,dstAttr=dst.$attr,$element=dst.$$element;forEach(dst,function(value,key){"$"!=key.charAt(0)&&(src[key]&&src[key]!==value&&(value+=("style"===key?";":" ")+src[key]),dst.$set(key,value,!0,srcAttr[key]))}),forEach(src,function(value,key){"class"==key?(safeAddClass($element,value),dst["class"]=(dst["class"]?dst["class"]+" ":"")+value):"style"==key?($element.attr("style",$element.attr("style")+";"+value),dst.style=(dst.style?dst.style+";":"")+value):"$"==key.charAt(0)||dst.hasOwnProperty(key)||(dst[key]=value,dstAttr[key]=srcAttr[key])})}function compileTemplateUrl(directives,$compileNode,tAttrs,$rootElement,childTranscludeFn,preLinkFns,postLinkFns,previousCompileContext){var afterTemplateNodeLinkFn,afterTemplateChildLinkFn,linkQueue=[],beforeTemplateCompileNode=$compileNode[0],origAsyncDirective=directives.shift(),derivedSyncDirective=inherit(origAsyncDirective,{templateUrl:null,transclude:null,replace:null,$$originalDirective:origAsyncDirective}),templateUrl=isFunction(origAsyncDirective.templateUrl)?origAsyncDirective.templateUrl($compileNode,tAttrs):origAsyncDirective.templateUrl,templateNamespace=origAsyncDirective.templateNamespace;return $compileNode.empty(),$templateRequest(templateUrl).then(function(content){var compileNode,tempTemplateAttrs,$template,childBoundTranscludeFn;if(content=denormalizeTemplate(content),origAsyncDirective.replace){if($template=jqLiteIsTextNode(content)?[]:removeComments(wrapTemplate(templateNamespace,trim(content))),compileNode=$template[0],1!=$template.length||compileNode.nodeType!==NODE_TYPE_ELEMENT)throw $compileMinErr("tplrt","Template for directive '{0}' must have exactly one root element. {1}",origAsyncDirective.name,templateUrl);tempTemplateAttrs={$attr:{}},replaceWith($rootElement,$compileNode,compileNode);var templateDirectives=collectDirectives(compileNode,[],tempTemplateAttrs);isObject(origAsyncDirective.scope)&&markDirectivesAsIsolate(templateDirectives),directives=templateDirectives.concat(directives),mergeTemplateAttributes(tAttrs,tempTemplateAttrs)}else compileNode=beforeTemplateCompileNode,$compileNode.html(content);for(directives.unshift(derivedSyncDirective),afterTemplateNodeLinkFn=applyDirectivesToNode(directives,compileNode,tAttrs,childTranscludeFn,$compileNode,origAsyncDirective,preLinkFns,postLinkFns,previousCompileContext),forEach($rootElement,function(node,i){node==compileNode&&($rootElement[i]=$compileNode[0])}),afterTemplateChildLinkFn=compileNodes($compileNode[0].childNodes,childTranscludeFn);linkQueue.length;){var scope=linkQueue.shift(),beforeTemplateLinkNode=linkQueue.shift(),linkRootElement=linkQueue.shift(),boundTranscludeFn=linkQueue.shift(),linkNode=$compileNode[0];if(!scope.$$destroyed){if(beforeTemplateLinkNode!==beforeTemplateCompileNode){var oldClasses=beforeTemplateLinkNode.className;previousCompileContext.hasElementTranscludeDirective&&origAsyncDirective.replace||(linkNode=jqLiteClone(compileNode)),replaceWith(linkRootElement,jqLite(beforeTemplateLinkNode),linkNode),safeAddClass(jqLite(linkNode),oldClasses)}childBoundTranscludeFn=afterTemplateNodeLinkFn.transcludeOnThisElement?createBoundTranscludeFn(scope,afterTemplateNodeLinkFn.transclude,boundTranscludeFn):boundTranscludeFn,afterTemplateNodeLinkFn(afterTemplateChildLinkFn,scope,linkNode,$rootElement,childBoundTranscludeFn,afterTemplateNodeLinkFn)}}linkQueue=null}),function(ignoreChildLinkFn,scope,node,rootElement,boundTranscludeFn){var childBoundTranscludeFn=boundTranscludeFn;scope.$$destroyed||(linkQueue?linkQueue.push(scope,node,rootElement,childBoundTranscludeFn):(afterTemplateNodeLinkFn.transcludeOnThisElement&&(childBoundTranscludeFn=createBoundTranscludeFn(scope,afterTemplateNodeLinkFn.transclude,boundTranscludeFn)),afterTemplateNodeLinkFn(afterTemplateChildLinkFn,scope,node,rootElement,childBoundTranscludeFn,afterTemplateNodeLinkFn)))}}function byPriority(a,b){var diff=b.priority-a.priority;return 0!==diff?diff:a.name!==b.name?a.name<b.name?-1:1:a.index-b.index}function assertNoDuplicate(what,previousDirective,directive,element){function wrapModuleNameIfDefined(moduleName){return moduleName?" (module: "+moduleName+")":""}if(previousDirective)throw $compileMinErr("multidir","Multiple directives [{0}{1}, {2}{3}] asking for {4} on: {5}",previousDirective.name,wrapModuleNameIfDefined(previousDirective.$$moduleName),directive.name,wrapModuleNameIfDefined(directive.$$moduleName),what,startingTag(element))}function addTextInterpolateDirective(directives,text){var interpolateFn=$interpolate(text,!0);interpolateFn&&directives.push({priority:0,compile:function(templateNode){var templateNodeParent=templateNode.parent(),hasCompileParent=!!templateNodeParent.length;return hasCompileParent&&compile.$$addBindingClass(templateNodeParent),function(scope,node){var parent=node.parent();hasCompileParent||compile.$$addBindingClass(parent),compile.$$addBindingInfo(parent,interpolateFn.expressions),scope.$watch(interpolateFn,function(value){node[0].nodeValue=value})}}})}function wrapTemplate(type,template){switch(type=lowercase(type||"html")){case"svg":case"math":var wrapper=document.createElement("div");return wrapper.innerHTML="<"+type+">"+template+"</"+type+">",wrapper.childNodes[0].childNodes;default:return template}}function getTrustedContext(node,attrNormalizedName){if("srcdoc"==attrNormalizedName)return $sce.HTML;var tag=nodeName_(node);return"xlinkHref"==attrNormalizedName||"form"==tag&&"action"==attrNormalizedName||"img"!=tag&&("src"==attrNormalizedName||"ngSrc"==attrNormalizedName)?$sce.RESOURCE_URL:void 0}function addAttrInterpolateDirective(node,directives,value,name,allOrNothing){var trustedContext=getTrustedContext(node,name);allOrNothing=ALL_OR_NOTHING_ATTRS[name]||allOrNothing;var interpolateFn=$interpolate(value,!0,trustedContext,allOrNothing);if(interpolateFn){if("multiple"===name&&"select"===nodeName_(node))throw $compileMinErr("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",startingTag(node));directives.push({priority:100,compile:function(){return{pre:function(scope,element,attr){var $$observers=attr.$$observers||(attr.$$observers={});if(EVENT_HANDLER_ATTR_REGEXP.test(name))throw $compileMinErr("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");var newValue=attr[name];newValue!==value&&(interpolateFn=newValue&&$interpolate(newValue,!0,trustedContext,allOrNothing),value=newValue),interpolateFn&&(attr[name]=interpolateFn(scope),($$observers[name]||($$observers[name]=[])).$$inter=!0,(attr.$$observers&&attr.$$observers[name].$$scope||scope).$watch(interpolateFn,function(newValue,oldValue){"class"===name&&newValue!=oldValue?attr.$updateClass(newValue,oldValue):attr.$set(name,newValue)}))}}}})}}function replaceWith($rootElement,elementsToRemove,newNode){var i,ii,firstElementToRemove=elementsToRemove[0],removeCount=elementsToRemove.length,parent=firstElementToRemove.parentNode;if($rootElement)for(i=0,ii=$rootElement.length;i<ii;i++)if($rootElement[i]==firstElementToRemove){$rootElement[i++]=newNode;for(var j=i,j2=j+removeCount-1,jj=$rootElement.length;j<jj;j++,j2++)j2<jj?$rootElement[j]=$rootElement[j2]:delete $rootElement[j];$rootElement.length-=removeCount-1,$rootElement.context===firstElementToRemove&&($rootElement.context=newNode);break}parent&&parent.replaceChild(newNode,firstElementToRemove);var fragment=document.createDocumentFragment();fragment.appendChild(firstElementToRemove),jqLite.hasData(firstElementToRemove)&&(jqLite(newNode).data(jqLite(firstElementToRemove).data()),jQuery?(skipDestroyOnNextJQueryCleanData=!0,jQuery.cleanData([firstElementToRemove])):delete jqLite.cache[firstElementToRemove[jqLite.expando]]);for(var k=1,kk=elementsToRemove.length;k<kk;k++){var element=elementsToRemove[k];jqLite(element).remove(),fragment.appendChild(element),delete elementsToRemove[k]}elementsToRemove[0]=newNode,elementsToRemove.length=1}function cloneAndAnnotateFn(fn,annotation){return extend(function(){return fn.apply(null,arguments)},fn,annotation)}function invokeLinkFn(linkFn,scope,$element,attrs,controllers,transcludeFn){try{linkFn(scope,$element,attrs,controllers,transcludeFn)}catch(e){$exceptionHandler(e,startingTag($element))}}function initializeDirectiveBindings(scope,attrs,destination,bindings,directive,newScope){var onNewScopeDestroyed;forEach(bindings,function(definition,scopeName){var lastValue,parentGet,parentSet,compare,attrName=definition.attrName,optional=definition.optional,mode=definition.mode;switch(hasOwnProperty.call(attrs,attrName)||(attrs[attrName]=undefined),mode){case"@":attrs[attrName]||optional||(destination[scopeName]=undefined),attrs.$observe(attrName,function(value){destination[scopeName]=value}),attrs.$$observers[attrName].$$scope=scope,attrs[attrName]&&(destination[scopeName]=$interpolate(attrs[attrName])(scope));break;case"=":if(optional&&!attrs[attrName])return;parentGet=$parse(attrs[attrName]),compare=parentGet.literal?equals:function(a,b){return a===b||a!==a&&b!==b},parentSet=parentGet.assign||function(){throw lastValue=destination[scopeName]=parentGet(scope),$compileMinErr("nonassign","Expression '{0}' used with directive '{1}' is non-assignable!",attrs[attrName],directive.name)},lastValue=destination[scopeName]=parentGet(scope);var parentValueWatch=function(parentValue){return compare(parentValue,destination[scopeName])||(compare(parentValue,lastValue)?parentSet(scope,parentValue=destination[scopeName]):destination[scopeName]=parentValue),lastValue=parentValue};parentValueWatch.$stateful=!0;var unwatch;unwatch=definition.collection?scope.$watchCollection(attrs[attrName],parentValueWatch):scope.$watch($parse(attrs[attrName],parentValueWatch),null,parentGet.literal),onNewScopeDestroyed=onNewScopeDestroyed||[],onNewScopeDestroyed.push(unwatch);break;case"&":if(parentGet=$parse(attrs[attrName]),parentGet===noop&&optional)break;destination[scopeName]=function(locals){return parentGet(scope,locals)}}});var destroyBindings=onNewScopeDestroyed?function(){for(var i=0,ii=onNewScopeDestroyed.length;i<ii;++i)onNewScopeDestroyed[i]()}:noop;return newScope&&destroyBindings!==noop?(newScope.$on("$destroy",destroyBindings),noop):destroyBindings}var Attributes=function(element,attributesToCopy){if(attributesToCopy){var i,l,key,keys=Object.keys(attributesToCopy);for(i=0,l=keys.length;i<l;i++)key=keys[i],this[key]=attributesToCopy[key]}else this.$attr={};this.$$element=element};Attributes.prototype={$normalize:directiveNormalize,$addClass:function(classVal){classVal&&classVal.length>0&&$animate.addClass(this.$$element,classVal)},$removeClass:function(classVal){classVal&&classVal.length>0&&$animate.removeClass(this.$$element,classVal)},$updateClass:function(newClasses,oldClasses){var toAdd=tokenDifference(newClasses,oldClasses);toAdd&&toAdd.length&&$animate.addClass(this.$$element,toAdd);var toRemove=tokenDifference(oldClasses,newClasses);toRemove&&toRemove.length&&$animate.removeClass(this.$$element,toRemove)},$set:function(key,value,writeAttr,attrName){var nodeName,node=this.$$element[0],booleanKey=getBooleanAttrName(node,key),aliasedKey=getAliasedAttrName(node,key),observer=key;if(booleanKey?(this.$$element.prop(key,value),attrName=booleanKey):aliasedKey&&(this[aliasedKey]=value,observer=aliasedKey),this[key]=value,attrName?this.$attr[key]=attrName:(attrName=this.$attr[key],attrName||(this.$attr[key]=attrName=snake_case(key,"-"))),nodeName=nodeName_(this.$$element),"a"===nodeName&&"href"===key||"img"===nodeName&&"src"===key)this[key]=value=$$sanitizeUri(value,"src"===key);else if("img"===nodeName&&"srcset"===key){for(var result="",trimmedSrcset=trim(value),srcPattern=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,pattern=/\s/.test(trimmedSrcset)?srcPattern:/(,)/,rawUris=trimmedSrcset.split(pattern),nbrUrisWith2parts=Math.floor(rawUris.length/2),i=0;i<nbrUrisWith2parts;i++){var innerIdx=2*i;result+=$$sanitizeUri(trim(rawUris[innerIdx]),!0),result+=" "+trim(rawUris[innerIdx+1])}var lastTuple=trim(rawUris[2*i]).split(/\s/);result+=$$sanitizeUri(trim(lastTuple[0]),!0),2===lastTuple.length&&(result+=" "+trim(lastTuple[1])),this[key]=value=result}writeAttr!==!1&&(null===value||value===undefined?this.$$element.removeAttr(attrName):this.$$element.attr(attrName,value));var $$observers=this.$$observers;$$observers&&forEach($$observers[observer],function(fn){try{fn(value)}catch(e){$exceptionHandler(e)}})},$observe:function(key,fn){var attrs=this,$$observers=attrs.$$observers||(attrs.$$observers=createMap()),listeners=$$observers[key]||($$observers[key]=[]);return listeners.push(fn),$rootScope.$evalAsync(function(){!listeners.$$inter&&attrs.hasOwnProperty(key)&&fn(attrs[key])}),function(){arrayRemove(listeners,fn)}}};var startSymbol=$interpolate.startSymbol(),endSymbol=$interpolate.endSymbol(),denormalizeTemplate="{{"==startSymbol||"}}"==endSymbol?identity:function(template){return template.replace(/\{\{/g,startSymbol).replace(/}}/g,endSymbol)},NG_ATTR_BINDING=/^ngAttr[A-Z]/;return compile.$$addBindingInfo=debugInfoEnabled?function($element,binding){var bindings=$element.data("$binding")||[];isArray(binding)?bindings=bindings.concat(binding):bindings.push(binding),$element.data("$binding",bindings)}:noop,compile.$$addBindingClass=debugInfoEnabled?function($element){safeAddClass($element,"ng-binding")}:noop,compile.$$addScopeInfo=debugInfoEnabled?function($element,scope,isolated,noTemplate){var dataName=isolated?noTemplate?"$isolateScopeNoTemplate":"$isolateScope":"$scope";$element.data(dataName,scope)}:noop,compile.$$addScopeClass=debugInfoEnabled?function($element,isolated){safeAddClass($element,isolated?"ng-isolate-scope":"ng-scope")}:noop,compile}]}function directiveNormalize(name){return camelCase(name.replace(PREFIX_REGEXP,""))}function tokenDifference(str1,str2){var values="",tokens1=str1.split(/\s+/),tokens2=str2.split(/\s+/);outer:for(var i=0;i<tokens1.length;i++){for(var token=tokens1[i],j=0;j<tokens2.length;j++)if(token==tokens2[j])continue outer;values+=(values.length>0?" ":"")+token}return values}function removeComments(jqNodes){jqNodes=jqLite(jqNodes);var i=jqNodes.length;if(i<=1)return jqNodes;for(;i--;){var node=jqNodes[i];node.nodeType===NODE_TYPE_COMMENT&&splice.call(jqNodes,i,1)}return jqNodes}function identifierForController(controller,ident){if(ident&&isString(ident))return ident;if(isString(controller)){var match=CNTRL_REG.exec(controller);if(match)return match[3]}}function $ControllerProvider(){var controllers={},globals=!1;this.register=function(name,constructor){assertNotHasOwnProperty(name,"controller"),isObject(name)?extend(controllers,name):controllers[name]=constructor},this.allowGlobals=function(){globals=!0},this.$get=["$injector","$window",function($injector,$window){function addIdentifier(locals,identifier,instance,name){if(!locals||!isObject(locals.$scope))throw minErr("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",name,identifier);locals.$scope[identifier]=instance}return function(expression,locals,later,ident){var instance,match,constructor,identifier;if(later=later===!0,ident&&isString(ident)&&(identifier=ident),isString(expression)){if(match=expression.match(CNTRL_REG),!match)throw $controllerMinErr("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",expression);constructor=match[1],identifier=identifier||match[3],expression=controllers.hasOwnProperty(constructor)?controllers[constructor]:getter(locals.$scope,constructor,!0)||(globals?getter($window,constructor,!0):undefined),assertArgFn(expression,constructor,!0)}if(later){var controllerPrototype=(isArray(expression)?expression[expression.length-1]:expression).prototype;instance=Object.create(controllerPrototype||null),identifier&&addIdentifier(locals,identifier,instance,constructor||expression.name);var instantiate;return instantiate=extend(function(){var result=$injector.invoke(expression,instance,locals,constructor);return result!==instance&&(isObject(result)||isFunction(result))&&(instance=result,identifier&&addIdentifier(locals,identifier,instance,constructor||expression.name)),instance},{instance:instance,identifier:identifier})}return instance=$injector.instantiate(expression,locals,constructor),identifier&&addIdentifier(locals,identifier,instance,constructor||expression.name),instance}}]}function $DocumentProvider(){this.$get=["$window",function(window){return jqLite(window.document)}]}function $ExceptionHandlerProvider(){this.$get=["$log",function($log){return function(exception,cause){$log.error.apply($log,arguments)}}]}function serializeValue(v){return isObject(v)?isDate(v)?v.toISOString():toJson(v):v}function $HttpParamSerializerProvider(){this.$get=function(){return function(params){if(!params)return"";var parts=[];return forEachSorted(params,function(value,key){null===value||isUndefined(value)||(isArray(value)?forEach(value,function(v,k){parts.push(encodeUriQuery(key)+"="+encodeUriQuery(serializeValue(v)))}):parts.push(encodeUriQuery(key)+"="+encodeUriQuery(serializeValue(value))))}),parts.join("&")}}}function $HttpParamSerializerJQLikeProvider(){this.$get=function(){return function(params){function serialize(toSerialize,prefix,topLevel){null===toSerialize||isUndefined(toSerialize)||(isArray(toSerialize)?forEach(toSerialize,function(value){serialize(value,prefix+"[]")}):isObject(toSerialize)&&!isDate(toSerialize)?forEachSorted(toSerialize,function(value,key){serialize(value,prefix+(topLevel?"":"[")+key+(topLevel?"":"]"))}):parts.push(encodeUriQuery(prefix)+"="+encodeUriQuery(serializeValue(toSerialize))))}if(!params)return"";var parts=[];return serialize(params,"",!0),parts.join("&")}}}function defaultHttpResponseTransform(data,headers){if(isString(data)){var tempData=data.replace(JSON_PROTECTION_PREFIX,"").trim();if(tempData){var contentType=headers("Content-Type");(contentType&&0===contentType.indexOf(APPLICATION_JSON)||isJsonLike(tempData))&&(data=fromJson(tempData))}}return data}function isJsonLike(str){var jsonStart=str.match(JSON_START);return jsonStart&&JSON_ENDS[jsonStart[0]].test(str)}function parseHeaders(headers){function fillInParsed(key,val){key&&(parsed[key]=parsed[key]?parsed[key]+", "+val:val)}var i,parsed=createMap();return isString(headers)?forEach(headers.split("\n"),function(line){i=line.indexOf(":"),fillInParsed(lowercase(trim(line.substr(0,i))),trim(line.substr(i+1)))}):isObject(headers)&&forEach(headers,function(headerVal,headerKey){fillInParsed(lowercase(headerKey),trim(headerVal))}),parsed}function headersGetter(headers){var headersObj;return function(name){if(headersObj||(headersObj=parseHeaders(headers)),name){var value=headersObj[lowercase(name)];return void 0===value&&(value=null),value}return headersObj}}function transformData(data,headers,status,fns){return isFunction(fns)?fns(data,headers,status):(forEach(fns,function(fn){data=fn(data,headers,status)}),data)}function isSuccess(status){return 200<=status&&status<300}function $HttpProvider(){var defaults=this.defaults={transformResponse:[defaultHttpResponseTransform],transformRequest:[function(d){return!isObject(d)||isFile(d)||isBlob(d)||isFormData(d)?d:toJson(d)}],headers:{common:{Accept:"application/json, text/plain, */*"},post:shallowCopy(CONTENT_TYPE_APPLICATION_JSON),put:shallowCopy(CONTENT_TYPE_APPLICATION_JSON),patch:shallowCopy(CONTENT_TYPE_APPLICATION_JSON)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer"},useApplyAsync=!1;this.useApplyAsync=function(value){return isDefined(value)?(useApplyAsync=!!value,this):useApplyAsync};var interceptorFactories=this.interceptors=[];this.$get=["$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector",function($httpBackend,$$cookieReader,$cacheFactory,$rootScope,$q,$injector){function $http(requestConfig){function transformResponse(response){var resp=extend({},response);return response.data?resp.data=transformData(response.data,response.headers,response.status,config.transformResponse):resp.data=response.data,isSuccess(response.status)?resp:$q.reject(resp)}function executeHeaderFns(headers,config){var headerContent,processedHeaders={};return forEach(headers,function(headerFn,header){isFunction(headerFn)?(headerContent=headerFn(config),null!=headerContent&&(processedHeaders[header]=headerContent)):processedHeaders[header]=headerFn}),processedHeaders}function mergeHeaders(config){var defHeaderName,lowercaseDefHeaderName,reqHeaderName,defHeaders=defaults.headers,reqHeaders=extend({},config.headers);defHeaders=extend({},defHeaders.common,defHeaders[lowercase(config.method)]);defaultHeadersIteration:for(defHeaderName in defHeaders){lowercaseDefHeaderName=lowercase(defHeaderName);for(reqHeaderName in reqHeaders)if(lowercase(reqHeaderName)===lowercaseDefHeaderName)continue defaultHeadersIteration;reqHeaders[defHeaderName]=defHeaders[defHeaderName]}return executeHeaderFns(reqHeaders,shallowCopy(config))}if(!angular.isObject(requestConfig))throw minErr("$http")("badreq","Http request configuration must be an object.  Received: {0}",requestConfig);var config=extend({method:"get",transformRequest:defaults.transformRequest,transformResponse:defaults.transformResponse,paramSerializer:defaults.paramSerializer},requestConfig);config.headers=mergeHeaders(requestConfig),config.method=uppercase(config.method),config.paramSerializer=isString(config.paramSerializer)?$injector.get(config.paramSerializer):config.paramSerializer;var serverRequest=function(config){var headers=config.headers,reqData=transformData(config.data,headersGetter(headers),undefined,config.transformRequest);return isUndefined(reqData)&&forEach(headers,function(value,header){"content-type"===lowercase(header)&&delete headers[header]}),isUndefined(config.withCredentials)&&!isUndefined(defaults.withCredentials)&&(config.withCredentials=defaults.withCredentials),sendReq(config,reqData).then(transformResponse,transformResponse)},chain=[serverRequest,undefined],promise=$q.when(config);for(forEach(reversedInterceptors,function(interceptor){(interceptor.request||interceptor.requestError)&&chain.unshift(interceptor.request,interceptor.requestError),(interceptor.response||interceptor.responseError)&&chain.push(interceptor.response,interceptor.responseError)});chain.length;){var thenFn=chain.shift(),rejectFn=chain.shift();promise=promise.then(thenFn,rejectFn)}return promise.success=function(fn){return assertArgFn(fn,"fn"),promise.then(function(response){fn(response.data,response.status,response.headers,config)}),promise},promise.error=function(fn){return assertArgFn(fn,"fn"),promise.then(null,function(response){fn(response.data,response.status,response.headers,config)}),promise},promise}function createShortMethods(names){forEach(arguments,function(name){$http[name]=function(url,config){return $http(extend({},config||{},{method:name,url:url}))}})}function createShortMethodsWithData(name){forEach(arguments,function(name){$http[name]=function(url,data,config){return $http(extend({},config||{},{method:name,url:url,data:data}))}})}function sendReq(config,reqData){function done(status,response,headersString,statusText){function resolveHttpPromise(){resolvePromise(response,status,headersString,statusText)}cache&&(isSuccess(status)?cache.put(url,[status,response,parseHeaders(headersString),statusText]):cache.remove(url)),useApplyAsync?$rootScope.$applyAsync(resolveHttpPromise):(resolveHttpPromise(),$rootScope.$$phase||$rootScope.$apply())}function resolvePromise(response,status,headers,statusText){status=Math.max(status,0),(isSuccess(status)?deferred.resolve:deferred.reject)({data:response,status:status,headers:headersGetter(headers),config:config,statusText:statusText})}function resolvePromiseWithResult(result){resolvePromise(result.data,result.status,shallowCopy(result.headers()),result.statusText)}function removePendingReq(){var idx=$http.pendingRequests.indexOf(config);idx!==-1&&$http.pendingRequests.splice(idx,1)}var cache,cachedResp,deferred=$q.defer(),promise=deferred.promise,reqHeaders=config.headers,url=buildUrl(config.url,config.paramSerializer(config.params));if($http.pendingRequests.push(config),promise.then(removePendingReq,removePendingReq),!config.cache&&!defaults.cache||config.cache===!1||"GET"!==config.method&&"JSONP"!==config.method||(cache=isObject(config.cache)?config.cache:isObject(defaults.cache)?defaults.cache:defaultCache),cache&&(cachedResp=cache.get(url),isDefined(cachedResp)?isPromiseLike(cachedResp)?cachedResp.then(resolvePromiseWithResult,resolvePromiseWithResult):isArray(cachedResp)?resolvePromise(cachedResp[1],cachedResp[0],shallowCopy(cachedResp[2]),cachedResp[3]):resolvePromise(cachedResp,200,{},"OK"):cache.put(url,promise)),isUndefined(cachedResp)){var xsrfValue=urlIsSameOrigin(config.url)?$$cookieReader()[config.xsrfCookieName||defaults.xsrfCookieName]:undefined;xsrfValue&&(reqHeaders[config.xsrfHeaderName||defaults.xsrfHeaderName]=xsrfValue),$httpBackend(config.method,url,reqData,done,reqHeaders,config.timeout,config.withCredentials,config.responseType)}return promise}function buildUrl(url,serializedParams){return serializedParams.length>0&&(url+=(url.indexOf("?")==-1?"?":"&")+serializedParams),url}var defaultCache=$cacheFactory("$http");defaults.paramSerializer=isString(defaults.paramSerializer)?$injector.get(defaults.paramSerializer):defaults.paramSerializer;var reversedInterceptors=[];return forEach(interceptorFactories,function(interceptorFactory){reversedInterceptors.unshift(isString(interceptorFactory)?$injector.get(interceptorFactory):$injector.invoke(interceptorFactory))}),$http.pendingRequests=[],createShortMethods("get","delete","head","jsonp"),createShortMethodsWithData("post","put","patch"),$http.defaults=defaults,$http}]}function createXhr(){return new window.XMLHttpRequest}function $HttpBackendProvider(){this.$get=["$browser","$window","$document",function($browser,$window,$document){return createHttpBackend($browser,createXhr,$browser.defer,$window.angular.callbacks,$document[0])}]}function createHttpBackend($browser,createXhr,$browserDefer,callbacks,rawDocument){function jsonpReq(url,callbackId,done){var script=rawDocument.createElement("script"),callback=null;return script.type="text/javascript",script.src=url,script.async=!0,callback=function(event){removeEventListenerFn(script,"load",callback),removeEventListenerFn(script,"error",callback),rawDocument.body.removeChild(script),script=null;var status=-1,text="unknown";event&&("load"!==event.type||callbacks[callbackId].called||(event={type:"error"}),text=event.type,status="error"===event.type?404:200),done&&done(status,text)},addEventListenerFn(script,"load",callback),addEventListenerFn(script,"error",callback),rawDocument.body.appendChild(script),callback}return function(method,url,post,callback,headers,timeout,withCredentials,responseType){function timeoutRequest(){jsonpDone&&jsonpDone(),xhr&&xhr.abort()}function completeRequest(callback,status,response,headersString,statusText){timeoutId!==undefined&&$browserDefer.cancel(timeoutId),jsonpDone=xhr=null,callback(status,response,headersString,statusText),$browser.$$completeOutstandingRequest(noop)}if($browser.$$incOutstandingRequestCount(),url=url||$browser.url(),"jsonp"==lowercase(method)){var callbackId="_"+(callbacks.counter++).toString(36);callbacks[callbackId]=function(data){callbacks[callbackId].data=data,callbacks[callbackId].called=!0};var jsonpDone=jsonpReq(url.replace("JSON_CALLBACK","angular.callbacks."+callbackId),callbackId,function(status,text){completeRequest(callback,status,callbacks[callbackId].data,"",text),callbacks[callbackId]=noop})}else{var xhr=createXhr();xhr.open(method,url,!0),forEach(headers,function(value,key){isDefined(value)&&xhr.setRequestHeader(key,value)}),xhr.onload=function(){var statusText=xhr.statusText||"",response="response"in xhr?xhr.response:xhr.responseText,status=1223===xhr.status?204:xhr.status;0===status&&(status=response?200:"file"==urlResolve(url).protocol?404:0),completeRequest(callback,status,response,xhr.getAllResponseHeaders(),statusText)};var requestError=function(){completeRequest(callback,-1,null,null,"")};if(xhr.onerror=requestError,xhr.onabort=requestError,withCredentials&&(xhr.withCredentials=!0),responseType)try{xhr.responseType=responseType}catch(e){if("json"!==responseType)throw e}xhr.send(post)}if(timeout>0)var timeoutId=$browserDefer(timeoutRequest,timeout);else isPromiseLike(timeout)&&timeout.then(timeoutRequest)}}function $InterpolateProvider(){var startSymbol="{{",endSymbol="}}";this.startSymbol=function(value){return value?(startSymbol=value,this):startSymbol},this.endSymbol=function(value){return value?(endSymbol=value,this):endSymbol},this.$get=["$parse","$exceptionHandler","$sce",function($parse,$exceptionHandler,$sce){function escape(ch){return"\\\\\\"+ch}function unescapeText(text){return text.replace(escapedStartRegexp,startSymbol).replace(escapedEndRegexp,endSymbol)}function stringify(value){if(null==value)return"";switch(typeof value){case"string":break;case"number":value=""+value;break;default:value=toJson(value)}return value}function $interpolate(text,mustHaveExpression,trustedContext,allOrNothing){function parseStringifyInterceptor(value){try{return value=getValue(value),allOrNothing&&!isDefined(value)?value:stringify(value)}catch(err){$exceptionHandler($interpolateMinErr.interr(text,err))}}allOrNothing=!!allOrNothing;for(var startIndex,endIndex,exp,index=0,expressions=[],parseFns=[],textLength=text.length,concat=[],expressionPositions=[];index<textLength;){if((startIndex=text.indexOf(startSymbol,index))==-1||(endIndex=text.indexOf(endSymbol,startIndex+startSymbolLength))==-1){index!==textLength&&concat.push(unescapeText(text.substring(index)));break}index!==startIndex&&concat.push(unescapeText(text.substring(index,startIndex))),exp=text.substring(startIndex+startSymbolLength,endIndex),expressions.push(exp),parseFns.push($parse(exp,parseStringifyInterceptor)),index=endIndex+endSymbolLength,expressionPositions.push(concat.length),concat.push("")}if(trustedContext&&concat.length>1&&$interpolateMinErr.throwNoconcat(text),!mustHaveExpression||expressions.length){var compute=function(values){for(var i=0,ii=expressions.length;i<ii;i++){if(allOrNothing&&isUndefined(values[i]))return;concat[expressionPositions[i]]=values[i]}return concat.join("")},getValue=function(value){return trustedContext?$sce.getTrusted(trustedContext,value):$sce.valueOf(value)};return extend(function(context){var i=0,ii=expressions.length,values=new Array(ii);try{for(;i<ii;i++)values[i]=parseFns[i](context);return compute(values)}catch(err){$exceptionHandler($interpolateMinErr.interr(text,err))}},{exp:text,expressions:expressions,$$watchDelegate:function(scope,listener){var lastValue;return scope.$watchGroup(parseFns,function(values,oldValues){var currValue=compute(values);isFunction(listener)&&listener.call(this,currValue,values!==oldValues?lastValue:currValue,scope),lastValue=currValue})}})}}var startSymbolLength=startSymbol.length,endSymbolLength=endSymbol.length,escapedStartRegexp=new RegExp(startSymbol.replace(/./g,escape),"g"),escapedEndRegexp=new RegExp(endSymbol.replace(/./g,escape),"g");return $interpolate.startSymbol=function(){return startSymbol},$interpolate.endSymbol=function(){return endSymbol},$interpolate}]}function $IntervalProvider(){this.$get=["$rootScope","$window","$q","$$q",function($rootScope,$window,$q,$$q){function interval(fn,delay,count,invokeApply){var hasParams=arguments.length>4,args=hasParams?sliceArgs(arguments,4):[],setInterval=$window.setInterval,clearInterval=$window.clearInterval,iteration=0,skipApply=isDefined(invokeApply)&&!invokeApply,deferred=(skipApply?$$q:$q).defer(),promise=deferred.promise;return count=isDefined(count)?count:0,promise.then(null,null,hasParams?function(){fn.apply(null,args)}:fn),promise.$$intervalId=setInterval(function(){deferred.notify(iteration++),
count>0&&iteration>=count&&(deferred.resolve(iteration),clearInterval(promise.$$intervalId),delete intervals[promise.$$intervalId]),skipApply||$rootScope.$apply()},delay),intervals[promise.$$intervalId]=deferred,promise}var intervals={};return interval.cancel=function(promise){return!!(promise&&promise.$$intervalId in intervals)&&(intervals[promise.$$intervalId].reject("canceled"),$window.clearInterval(promise.$$intervalId),delete intervals[promise.$$intervalId],!0)},interval}]}function $LocaleProvider(){this.$get=function(){return{id:"en-us",NUMBER_FORMATS:{DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{minInt:1,minFrac:0,maxFrac:3,posPre:"",posSuf:"",negPre:"-",negSuf:"",gSize:3,lgSize:3},{minInt:1,minFrac:2,maxFrac:2,posPre:"",posSuf:"",negPre:"(",negSuf:")",gSize:3,lgSize:3}],CURRENCY_SYM:"$"},DATETIME_FORMATS:{MONTH:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),SHORTMONTH:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),DAY:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),SHORTDAY:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(","),AMPMS:["AM","PM"],medium:"MMM d, y h:mm:ss a","short":"M/d/yy h:mm a",fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",mediumDate:"MMM d, y",shortDate:"M/d/yy",mediumTime:"h:mm:ss a",shortTime:"h:mm a",ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"]},pluralCat:function(num){return 1===num?"one":"other"}}}}function encodePath(path){for(var segments=path.split("/"),i=segments.length;i--;)segments[i]=encodeUriSegment(segments[i]);return segments.join("/")}function parseAbsoluteUrl(absoluteUrl,locationObj){var parsedUrl=urlResolve(absoluteUrl);locationObj.$$protocol=parsedUrl.protocol,locationObj.$$host=parsedUrl.hostname,locationObj.$$port=toInt(parsedUrl.port)||DEFAULT_PORTS[parsedUrl.protocol]||null}function parseAppUrl(relativeUrl,locationObj){var prefixed="/"!==relativeUrl.charAt(0);prefixed&&(relativeUrl="/"+relativeUrl);var match=urlResolve(relativeUrl);locationObj.$$path=decodeURIComponent(prefixed&&"/"===match.pathname.charAt(0)?match.pathname.substring(1):match.pathname),locationObj.$$search=parseKeyValue(match.search),locationObj.$$hash=decodeURIComponent(match.hash),locationObj.$$path&&"/"!=locationObj.$$path.charAt(0)&&(locationObj.$$path="/"+locationObj.$$path)}function beginsWith(begin,whole){if(0===whole.indexOf(begin))return whole.substr(begin.length)}function stripHash(url){var index=url.indexOf("#");return index==-1?url:url.substr(0,index)}function trimEmptyHash(url){return url.replace(/(#.+)|#$/,"$1")}function stripFile(url){return url.substr(0,stripHash(url).lastIndexOf("/")+1)}function serverBase(url){return url.substring(0,url.indexOf("/",url.indexOf("//")+2))}function LocationHtml5Url(appBase,basePrefix){this.$$html5=!0,basePrefix=basePrefix||"";var appBaseNoFile=stripFile(appBase);parseAbsoluteUrl(appBase,this),this.$$parse=function(url){var pathUrl=beginsWith(appBaseNoFile,url);if(!isString(pathUrl))throw $locationMinErr("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',url,appBaseNoFile);parseAppUrl(pathUrl,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var search=toKeyValue(this.$$search),hash=this.$$hash?"#"+encodeUriSegment(this.$$hash):"";this.$$url=encodePath(this.$$path)+(search?"?"+search:"")+hash,this.$$absUrl=appBaseNoFile+this.$$url.substr(1)},this.$$parseLinkUrl=function(url,relHref){if(relHref&&"#"===relHref[0])return this.hash(relHref.slice(1)),!0;var appUrl,prevAppUrl,rewrittenUrl;return(appUrl=beginsWith(appBase,url))!==undefined?(prevAppUrl=appUrl,rewrittenUrl=(appUrl=beginsWith(basePrefix,appUrl))!==undefined?appBaseNoFile+(beginsWith("/",appUrl)||appUrl):appBase+prevAppUrl):(appUrl=beginsWith(appBaseNoFile,url))!==undefined?rewrittenUrl=appBaseNoFile+appUrl:appBaseNoFile==url+"/"&&(rewrittenUrl=appBaseNoFile),rewrittenUrl&&this.$$parse(rewrittenUrl),!!rewrittenUrl}}function LocationHashbangUrl(appBase,hashPrefix){var appBaseNoFile=stripFile(appBase);parseAbsoluteUrl(appBase,this),this.$$parse=function(url){function removeWindowsDriveName(path,url,base){var firstPathSegmentMatch,windowsFilePathExp=/^\/[A-Z]:(\/.*)/;return 0===url.indexOf(base)&&(url=url.replace(base,"")),windowsFilePathExp.exec(url)?path:(firstPathSegmentMatch=windowsFilePathExp.exec(path),firstPathSegmentMatch?firstPathSegmentMatch[1]:path)}var withoutHashUrl,withoutBaseUrl=beginsWith(appBase,url)||beginsWith(appBaseNoFile,url);isUndefined(withoutBaseUrl)||"#"!==withoutBaseUrl.charAt(0)?this.$$html5?withoutHashUrl=withoutBaseUrl:(withoutHashUrl="",isUndefined(withoutBaseUrl)&&(appBase=url,this.replace())):(withoutHashUrl=beginsWith(hashPrefix,withoutBaseUrl),isUndefined(withoutHashUrl)&&(withoutHashUrl=withoutBaseUrl)),parseAppUrl(withoutHashUrl,this),this.$$path=removeWindowsDriveName(this.$$path,withoutHashUrl,appBase),this.$$compose()},this.$$compose=function(){var search=toKeyValue(this.$$search),hash=this.$$hash?"#"+encodeUriSegment(this.$$hash):"";this.$$url=encodePath(this.$$path)+(search?"?"+search:"")+hash,this.$$absUrl=appBase+(this.$$url?hashPrefix+this.$$url:"")},this.$$parseLinkUrl=function(url,relHref){return stripHash(appBase)==stripHash(url)&&(this.$$parse(url),!0)}}function LocationHashbangInHtml5Url(appBase,hashPrefix){this.$$html5=!0,LocationHashbangUrl.apply(this,arguments);var appBaseNoFile=stripFile(appBase);this.$$parseLinkUrl=function(url,relHref){if(relHref&&"#"===relHref[0])return this.hash(relHref.slice(1)),!0;var rewrittenUrl,appUrl;return appBase==stripHash(url)?rewrittenUrl=url:(appUrl=beginsWith(appBaseNoFile,url))?rewrittenUrl=appBase+hashPrefix+appUrl:appBaseNoFile===url+"/"&&(rewrittenUrl=appBaseNoFile),rewrittenUrl&&this.$$parse(rewrittenUrl),!!rewrittenUrl},this.$$compose=function(){var search=toKeyValue(this.$$search),hash=this.$$hash?"#"+encodeUriSegment(this.$$hash):"";this.$$url=encodePath(this.$$path)+(search?"?"+search:"")+hash,this.$$absUrl=appBase+hashPrefix+this.$$url}}function locationGetter(property){return function(){return this[property]}}function locationGetterSetter(property,preprocess){return function(value){return isUndefined(value)?this[property]:(this[property]=preprocess(value),this.$$compose(),this)}}function $LocationProvider(){var hashPrefix="",html5Mode={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(prefix){return isDefined(prefix)?(hashPrefix=prefix,this):hashPrefix},this.html5Mode=function(mode){return isBoolean(mode)?(html5Mode.enabled=mode,this):isObject(mode)?(isBoolean(mode.enabled)&&(html5Mode.enabled=mode.enabled),isBoolean(mode.requireBase)&&(html5Mode.requireBase=mode.requireBase),isBoolean(mode.rewriteLinks)&&(html5Mode.rewriteLinks=mode.rewriteLinks),this):html5Mode},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function($rootScope,$browser,$sniffer,$rootElement,$window){function setBrowserUrlWithFallback(url,replace,state){var oldUrl=$location.url(),oldState=$location.$$state;try{$browser.url(url,replace,state),$location.$$state=$browser.state()}catch(e){throw $location.url(oldUrl),$location.$$state=oldState,e}}function afterLocationChange(oldUrl,oldState){$rootScope.$broadcast("$locationChangeSuccess",$location.absUrl(),oldUrl,$location.$$state,oldState)}var $location,LocationMode,appBase,baseHref=$browser.baseHref(),initialUrl=$browser.url();if(html5Mode.enabled){if(!baseHref&&html5Mode.requireBase)throw $locationMinErr("nobase","$location in HTML5 mode requires a <base> tag to be present!");appBase=serverBase(initialUrl)+(baseHref||"/"),LocationMode=$sniffer.history?LocationHtml5Url:LocationHashbangInHtml5Url}else appBase=stripHash(initialUrl),LocationMode=LocationHashbangUrl;$location=new LocationMode(appBase,"#"+hashPrefix),$location.$$parseLinkUrl(initialUrl,initialUrl),$location.$$state=$browser.state();var IGNORE_URI_REGEXP=/^\s*(javascript|mailto):/i;$rootElement.on("click",function(event){if(html5Mode.rewriteLinks&&!event.ctrlKey&&!event.metaKey&&!event.shiftKey&&2!=event.which&&2!=event.button){for(var elm=jqLite(event.target);"a"!==nodeName_(elm[0]);)if(elm[0]===$rootElement[0]||!(elm=elm.parent())[0])return;var absHref=elm.prop("href"),relHref=elm.attr("href")||elm.attr("xlink:href");isObject(absHref)&&"[object SVGAnimatedString]"===absHref.toString()&&(absHref=urlResolve(absHref.animVal).href),IGNORE_URI_REGEXP.test(absHref)||!absHref||elm.attr("target")||event.isDefaultPrevented()||$location.$$parseLinkUrl(absHref,relHref)&&(event.preventDefault(),$location.absUrl()!=$browser.url()&&($rootScope.$apply(),$window.angular["ff-684208-preventDefault"]=!0))}}),trimEmptyHash($location.absUrl())!=trimEmptyHash(initialUrl)&&$browser.url($location.absUrl(),!0);var initializing=!0;return $browser.onUrlChange(function(newUrl,newState){$rootScope.$evalAsync(function(){var defaultPrevented,oldUrl=$location.absUrl(),oldState=$location.$$state;$location.$$parse(newUrl),$location.$$state=newState,defaultPrevented=$rootScope.$broadcast("$locationChangeStart",newUrl,oldUrl,newState,oldState).defaultPrevented,$location.absUrl()===newUrl&&(defaultPrevented?($location.$$parse(oldUrl),$location.$$state=oldState,setBrowserUrlWithFallback(oldUrl,!1,oldState)):(initializing=!1,afterLocationChange(oldUrl,oldState)))}),$rootScope.$$phase||$rootScope.$digest()}),$rootScope.$watch(function(){var oldUrl=trimEmptyHash($browser.url()),newUrl=trimEmptyHash($location.absUrl()),oldState=$browser.state(),currentReplace=$location.$$replace,urlOrStateChanged=oldUrl!==newUrl||$location.$$html5&&$sniffer.history&&oldState!==$location.$$state;(initializing||urlOrStateChanged)&&(initializing=!1,$rootScope.$evalAsync(function(){var newUrl=$location.absUrl(),defaultPrevented=$rootScope.$broadcast("$locationChangeStart",newUrl,oldUrl,$location.$$state,oldState).defaultPrevented;$location.absUrl()===newUrl&&(defaultPrevented?($location.$$parse(oldUrl),$location.$$state=oldState):(urlOrStateChanged&&setBrowserUrlWithFallback(newUrl,currentReplace,oldState===$location.$$state?null:$location.$$state),afterLocationChange(oldUrl,oldState)))})),$location.$$replace=!1}),$location}]}function $LogProvider(){var debug=!0,self=this;this.debugEnabled=function(flag){return isDefined(flag)?(debug=flag,this):debug},this.$get=["$window",function($window){function formatError(arg){return arg instanceof Error&&(arg.stack?arg=arg.message&&arg.stack.indexOf(arg.message)===-1?"Error: "+arg.message+"\n"+arg.stack:arg.stack:arg.sourceURL&&(arg=arg.message+"\n"+arg.sourceURL+":"+arg.line)),arg}function consoleLog(type){var console=$window.console||{},logFn=console[type]||console.log||noop,hasApply=!1;try{hasApply=!!logFn.apply}catch(e){}return hasApply?function(){var args=[];return forEach(arguments,function(arg){args.push(formatError(arg))}),logFn.apply(console,args)}:function(arg1,arg2){logFn(arg1,null==arg2?"":arg2)}}return{log:consoleLog("log"),info:consoleLog("info"),warn:consoleLog("warn"),error:consoleLog("error"),debug:function(){var fn=consoleLog("debug");return function(){debug&&fn.apply(self,arguments)}}()}}]}function ensureSafeMemberName(name,fullExpression){if("__defineGetter__"===name||"__defineSetter__"===name||"__lookupGetter__"===name||"__lookupSetter__"===name||"__proto__"===name)throw $parseMinErr("isecfld","Attempting to access a disallowed field in Angular expressions! Expression: {0}",fullExpression);return name}function ensureSafeObject(obj,fullExpression){if(obj){if(obj.constructor===obj)throw $parseMinErr("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",fullExpression);if(obj.window===obj)throw $parseMinErr("isecwindow","Referencing the Window in Angular expressions is disallowed! Expression: {0}",fullExpression);if(obj.children&&(obj.nodeName||obj.prop&&obj.attr&&obj.find))throw $parseMinErr("isecdom","Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}",fullExpression);if(obj===Object)throw $parseMinErr("isecobj","Referencing Object in Angular expressions is disallowed! Expression: {0}",fullExpression)}return obj}function ensureSafeFunction(obj,fullExpression){if(obj){if(obj.constructor===obj)throw $parseMinErr("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",fullExpression);if(obj===CALL||obj===APPLY||obj===BIND)throw $parseMinErr("isecff","Referencing call, apply or bind in Angular expressions is disallowed! Expression: {0}",fullExpression)}}function ifDefined(v,d){return"undefined"!=typeof v?v:d}function plusFn(l,r){return"undefined"==typeof l?r:"undefined"==typeof r?l:l+r}function isStateless($filter,filterName){var fn=$filter(filterName);return!fn.$stateful}function findConstantAndWatchExpressions(ast,$filter){var allConstants,argsToWatch;switch(ast.type){case AST.Program:allConstants=!0,forEach(ast.body,function(expr){findConstantAndWatchExpressions(expr.expression,$filter),allConstants=allConstants&&expr.expression.constant}),ast.constant=allConstants;break;case AST.Literal:ast.constant=!0,ast.toWatch=[];break;case AST.UnaryExpression:findConstantAndWatchExpressions(ast.argument,$filter),ast.constant=ast.argument.constant,ast.toWatch=ast.argument.toWatch;break;case AST.BinaryExpression:findConstantAndWatchExpressions(ast.left,$filter),findConstantAndWatchExpressions(ast.right,$filter),ast.constant=ast.left.constant&&ast.right.constant,ast.toWatch=ast.left.toWatch.concat(ast.right.toWatch);break;case AST.LogicalExpression:findConstantAndWatchExpressions(ast.left,$filter),findConstantAndWatchExpressions(ast.right,$filter),ast.constant=ast.left.constant&&ast.right.constant,ast.toWatch=ast.constant?[]:[ast];break;case AST.ConditionalExpression:findConstantAndWatchExpressions(ast.test,$filter),findConstantAndWatchExpressions(ast.alternate,$filter),findConstantAndWatchExpressions(ast.consequent,$filter),ast.constant=ast.test.constant&&ast.alternate.constant&&ast.consequent.constant,ast.toWatch=ast.constant?[]:[ast];break;case AST.Identifier:ast.constant=!1,ast.toWatch=[ast];break;case AST.MemberExpression:findConstantAndWatchExpressions(ast.object,$filter),ast.computed&&findConstantAndWatchExpressions(ast.property,$filter),ast.constant=ast.object.constant&&(!ast.computed||ast.property.constant),ast.toWatch=[ast];break;case AST.CallExpression:allConstants=!!ast.filter&&isStateless($filter,ast.callee.name),argsToWatch=[],forEach(ast.arguments,function(expr){findConstantAndWatchExpressions(expr,$filter),allConstants=allConstants&&expr.constant,expr.constant||argsToWatch.push.apply(argsToWatch,expr.toWatch)}),ast.constant=allConstants,ast.toWatch=ast.filter&&isStateless($filter,ast.callee.name)?argsToWatch:[ast];break;case AST.AssignmentExpression:findConstantAndWatchExpressions(ast.left,$filter),findConstantAndWatchExpressions(ast.right,$filter),ast.constant=ast.left.constant&&ast.right.constant,ast.toWatch=[ast];break;case AST.ArrayExpression:allConstants=!0,argsToWatch=[],forEach(ast.elements,function(expr){findConstantAndWatchExpressions(expr,$filter),allConstants=allConstants&&expr.constant,expr.constant||argsToWatch.push.apply(argsToWatch,expr.toWatch)}),ast.constant=allConstants,ast.toWatch=argsToWatch;break;case AST.ObjectExpression:allConstants=!0,argsToWatch=[],forEach(ast.properties,function(property){findConstantAndWatchExpressions(property.value,$filter),allConstants=allConstants&&property.value.constant,property.value.constant||argsToWatch.push.apply(argsToWatch,property.value.toWatch)}),ast.constant=allConstants,ast.toWatch=argsToWatch;break;case AST.ThisExpression:ast.constant=!1,ast.toWatch=[]}}function getInputs(body){if(1==body.length){var lastExpression=body[0].expression,candidate=lastExpression.toWatch;return 1!==candidate.length?candidate:candidate[0]!==lastExpression?candidate:undefined}}function isAssignable(ast){return ast.type===AST.Identifier||ast.type===AST.MemberExpression}function assignableAST(ast){if(1===ast.body.length&&isAssignable(ast.body[0].expression))return{type:AST.AssignmentExpression,left:ast.body[0].expression,right:{type:AST.NGValueParameter},operator:"="}}function isLiteral(ast){return 0===ast.body.length||1===ast.body.length&&(ast.body[0].expression.type===AST.Literal||ast.body[0].expression.type===AST.ArrayExpression||ast.body[0].expression.type===AST.ObjectExpression)}function isConstant(ast){return ast.constant}function ASTCompiler(astBuilder,$filter){this.astBuilder=astBuilder,this.$filter=$filter}function ASTInterpreter(astBuilder,$filter){this.astBuilder=astBuilder,this.$filter=$filter}function setter(obj,path,setValue,fullExp){ensureSafeObject(obj,fullExp);for(var key,element=path.split("."),i=0;element.length>1;i++){key=ensureSafeMemberName(element.shift(),fullExp);var propertyObj=ensureSafeObject(obj[key],fullExp);propertyObj||(propertyObj={},obj[key]=propertyObj),obj=propertyObj}return key=ensureSafeMemberName(element.shift(),fullExp),ensureSafeObject(obj[key],fullExp),obj[key]=setValue,setValue}function isPossiblyDangerousMemberName(name){return"constructor"==name}function getValueOf(value){return isFunction(value.valueOf)?value.valueOf():objectValueOf.call(value)}function $ParseProvider(){var cacheDefault=createMap(),cacheExpensive=createMap();this.$get=["$filter","$sniffer",function($filter,$sniffer){function expressionInputDirtyCheck(newValue,oldValueOfValue){return null==newValue||null==oldValueOfValue?newValue===oldValueOfValue:("object"!=typeof newValue||(newValue=getValueOf(newValue),"object"!=typeof newValue))&&(newValue===oldValueOfValue||newValue!==newValue&&oldValueOfValue!==oldValueOfValue)}function inputsWatchDelegate(scope,listener,objectEquality,parsedExpression,prettyPrintExpression){var lastResult,inputExpressions=parsedExpression.inputs;if(1===inputExpressions.length){var oldInputValueOf=expressionInputDirtyCheck;return inputExpressions=inputExpressions[0],scope.$watch(function(scope){var newInputValue=inputExpressions(scope);return expressionInputDirtyCheck(newInputValue,oldInputValueOf)||(lastResult=parsedExpression(scope,undefined,undefined,[newInputValue]),oldInputValueOf=newInputValue&&getValueOf(newInputValue)),lastResult},listener,objectEquality,prettyPrintExpression)}for(var oldInputValueOfValues=[],oldInputValues=[],i=0,ii=inputExpressions.length;i<ii;i++)oldInputValueOfValues[i]=expressionInputDirtyCheck,oldInputValues[i]=null;return scope.$watch(function(scope){for(var changed=!1,i=0,ii=inputExpressions.length;i<ii;i++){var newInputValue=inputExpressions[i](scope);(changed||(changed=!expressionInputDirtyCheck(newInputValue,oldInputValueOfValues[i])))&&(oldInputValues[i]=newInputValue,oldInputValueOfValues[i]=newInputValue&&getValueOf(newInputValue))}return changed&&(lastResult=parsedExpression(scope,undefined,undefined,oldInputValues)),lastResult},listener,objectEquality,prettyPrintExpression)}function oneTimeWatchDelegate(scope,listener,objectEquality,parsedExpression){var unwatch,lastValue;return unwatch=scope.$watch(function(scope){return parsedExpression(scope)},function(value,old,scope){lastValue=value,isFunction(listener)&&listener.apply(this,arguments),isDefined(value)&&scope.$$postDigest(function(){isDefined(lastValue)&&unwatch()})},objectEquality)}function oneTimeLiteralWatchDelegate(scope,listener,objectEquality,parsedExpression){function isAllDefined(value){var allDefined=!0;return forEach(value,function(val){isDefined(val)||(allDefined=!1)}),allDefined}var unwatch,lastValue;return unwatch=scope.$watch(function(scope){return parsedExpression(scope)},function(value,old,scope){lastValue=value,isFunction(listener)&&listener.call(this,value,old,scope),isAllDefined(value)&&scope.$$postDigest(function(){isAllDefined(lastValue)&&unwatch()})},objectEquality)}function constantWatchDelegate(scope,listener,objectEquality,parsedExpression){var unwatch;return unwatch=scope.$watch(function(scope){return parsedExpression(scope)},function(value,old,scope){isFunction(listener)&&listener.apply(this,arguments),unwatch()},objectEquality)}function addInterceptor(parsedExpression,interceptorFn){if(!interceptorFn)return parsedExpression;var watchDelegate=parsedExpression.$$watchDelegate,regularWatch=watchDelegate!==oneTimeLiteralWatchDelegate&&watchDelegate!==oneTimeWatchDelegate,fn=regularWatch?function(scope,locals,assign,inputs){var value=parsedExpression(scope,locals,assign,inputs);return interceptorFn(value,scope,locals)}:function(scope,locals,assign,inputs){var value=parsedExpression(scope,locals,assign,inputs),result=interceptorFn(value,scope,locals);return isDefined(value)?result:value};return parsedExpression.$$watchDelegate&&parsedExpression.$$watchDelegate!==inputsWatchDelegate?fn.$$watchDelegate=parsedExpression.$$watchDelegate:interceptorFn.$stateful||(fn.$$watchDelegate=inputsWatchDelegate,fn.inputs=parsedExpression.inputs?parsedExpression.inputs:[parsedExpression]),fn}var $parseOptions={csp:$sniffer.csp,expensiveChecks:!1},$parseOptionsExpensive={csp:$sniffer.csp,expensiveChecks:!0};return function(exp,interceptorFn,expensiveChecks){var parsedExpression,oneTime,cacheKey;switch(typeof exp){case"string":exp=exp.trim(),cacheKey=exp;var cache=expensiveChecks?cacheExpensive:cacheDefault;if(parsedExpression=cache[cacheKey],!parsedExpression){":"===exp.charAt(0)&&":"===exp.charAt(1)&&(oneTime=!0,exp=exp.substring(2));var parseOptions=expensiveChecks?$parseOptionsExpensive:$parseOptions,lexer=new Lexer(parseOptions),parser=new Parser(lexer,$filter,parseOptions);parsedExpression=parser.parse(exp),parsedExpression.constant?parsedExpression.$$watchDelegate=constantWatchDelegate:oneTime?parsedExpression.$$watchDelegate=parsedExpression.literal?oneTimeLiteralWatchDelegate:oneTimeWatchDelegate:parsedExpression.inputs&&(parsedExpression.$$watchDelegate=inputsWatchDelegate),cache[cacheKey]=parsedExpression}return addInterceptor(parsedExpression,interceptorFn);case"function":return addInterceptor(exp,interceptorFn);default:return noop}}}]}function $QProvider(){this.$get=["$rootScope","$exceptionHandler",function($rootScope,$exceptionHandler){return qFactory(function(callback){$rootScope.$evalAsync(callback)},$exceptionHandler)}]}function $$QProvider(){this.$get=["$browser","$exceptionHandler",function($browser,$exceptionHandler){return qFactory(function(callback){$browser.defer(callback)},$exceptionHandler)}]}function qFactory(nextTick,exceptionHandler){function callOnce(self,resolveFn,rejectFn){function wrap(fn){return function(value){called||(called=!0,fn.call(self,value))}}var called=!1;return[wrap(resolveFn),wrap(rejectFn)]}function Promise(){this.$$state={status:0}}function simpleBind(context,fn){return function(value){fn.call(context,value)}}function processQueue(state){var fn,deferred,pending;pending=state.pending,state.processScheduled=!1,state.pending=undefined;for(var i=0,ii=pending.length;i<ii;++i){deferred=pending[i][0],fn=pending[i][state.status];try{isFunction(fn)?deferred.resolve(fn(state.value)):1===state.status?deferred.resolve(state.value):deferred.reject(state.value)}catch(e){deferred.reject(e),exceptionHandler(e)}}}function scheduleProcessQueue(state){!state.processScheduled&&state.pending&&(state.processScheduled=!0,nextTick(function(){processQueue(state)}))}function Deferred(){this.promise=new Promise,this.resolve=simpleBind(this,this.resolve),this.reject=simpleBind(this,this.reject),this.notify=simpleBind(this,this.notify)}function all(promises){var deferred=new Deferred,counter=0,results=isArray(promises)?[]:{};return forEach(promises,function(promise,key){counter++,when(promise).then(function(value){results.hasOwnProperty(key)||(results[key]=value,--counter||deferred.resolve(results))},function(reason){results.hasOwnProperty(key)||deferred.reject(reason)})}),0===counter&&deferred.resolve(results),deferred.promise}var $qMinErr=minErr("$q",TypeError),defer=function(){return new Deferred};Promise.prototype={then:function(onFulfilled,onRejected,progressBack){var result=new Deferred;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([result,onFulfilled,onRejected,progressBack]),this.$$state.status>0&&scheduleProcessQueue(this.$$state),result.promise},"catch":function(callback){return this.then(null,callback)},"finally":function(callback,progressBack){return this.then(function(value){return handleCallback(value,!0,callback)},function(error){return handleCallback(error,!1,callback)},progressBack)}},Deferred.prototype={resolve:function(val){this.promise.$$state.status||(val===this.promise?this.$$reject($qMinErr("qcycle","Expected promise to be resolved with value other than itself '{0}'",val)):this.$$resolve(val))},$$resolve:function(val){var then,fns;fns=callOnce(this,this.$$resolve,this.$$reject);try{(isObject(val)||isFunction(val))&&(then=val&&val.then),isFunction(then)?(this.promise.$$state.status=-1,then.call(val,fns[0],fns[1],this.notify)):(this.promise.$$state.value=val,this.promise.$$state.status=1,scheduleProcessQueue(this.promise.$$state))}catch(e){fns[1](e),exceptionHandler(e)}},reject:function(reason){this.promise.$$state.status||this.$$reject(reason)},$$reject:function(reason){this.promise.$$state.value=reason,this.promise.$$state.status=2,scheduleProcessQueue(this.promise.$$state)},notify:function(progress){var callbacks=this.promise.$$state.pending;this.promise.$$state.status<=0&&callbacks&&callbacks.length&&nextTick(function(){for(var callback,result,i=0,ii=callbacks.length;i<ii;i++){result=callbacks[i][0],callback=callbacks[i][3];try{result.notify(isFunction(callback)?callback(progress):progress)}catch(e){exceptionHandler(e)}}})}};var reject=function(reason){var result=new Deferred;return result.reject(reason),result.promise},makePromise=function(value,resolved){var result=new Deferred;return resolved?result.resolve(value):result.reject(value),result.promise},handleCallback=function(value,isResolved,callback){var callbackOutput=null;try{isFunction(callback)&&(callbackOutput=callback())}catch(e){return makePromise(e,!1)}return isPromiseLike(callbackOutput)?callbackOutput.then(function(){return makePromise(value,isResolved)},function(error){return makePromise(error,!1)}):makePromise(value,isResolved)},when=function(value,callback,errback,progressBack){var result=new Deferred;return result.resolve(value),result.promise.then(callback,errback,progressBack)},resolve=when,$Q=function Q(resolver){function resolveFn(value){deferred.resolve(value)}function rejectFn(reason){deferred.reject(reason)}if(!isFunction(resolver))throw $qMinErr("norslvr","Expected resolverFn, got '{0}'",resolver);if(!(this instanceof Q))return new Q(resolver);var deferred=new Deferred;return resolver(resolveFn,rejectFn),deferred.promise};return $Q.defer=defer,$Q.reject=reject,$Q.when=when,$Q.resolve=resolve,$Q.all=all,$Q}function $$RAFProvider(){this.$get=["$window","$timeout",function($window,$timeout){function flush(){for(var i=0;i<taskQueue.length;i++){var task=taskQueue[i];task&&(taskQueue[i]=null,task())}taskCount=taskQueue.length=0}function queueFn(asyncFn){var index=taskQueue.length;return taskCount++,taskQueue.push(asyncFn),0===index&&(cancelLastRAF=rafFn(flush)),function(){index>=0&&(taskQueue[index]=null,index=null,0===--taskCount&&cancelLastRAF&&(cancelLastRAF(),cancelLastRAF=null,taskQueue.length=0))}}var requestAnimationFrame=$window.requestAnimationFrame||$window.webkitRequestAnimationFrame,cancelAnimationFrame=$window.cancelAnimationFrame||$window.webkitCancelAnimationFrame||$window.webkitCancelRequestAnimationFrame,rafSupported=!!requestAnimationFrame,rafFn=rafSupported?function(fn){var id=requestAnimationFrame(fn);return function(){cancelAnimationFrame(id)}}:function(fn){var timer=$timeout(fn,16.66,!1);return function(){$timeout.cancel(timer)}};queueFn.supported=rafSupported;var cancelLastRAF,taskCount=0,taskQueue=[];return queueFn}]}function $RootScopeProvider(){function createChildScopeClass(parent){function ChildScope(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=nextUid(),this.$$ChildScope=null}return ChildScope.prototype=parent,ChildScope}var TTL=10,$rootScopeMinErr=minErr("$rootScope"),lastDirtyWatch=null,applyAsyncId=null;this.digestTtl=function(value){return arguments.length&&(TTL=value),TTL},this.$get=["$injector","$exceptionHandler","$parse","$browser",function($injector,$exceptionHandler,$parse,$browser){function destroyChildScope($event){$event.currentScope.$$destroyed=!0}function Scope(){this.$id=nextUid(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}function beginPhase(phase){if($rootScope.$$phase)throw $rootScopeMinErr("inprog","{0} already in progress",$rootScope.$$phase);$rootScope.$$phase=phase}function clearPhase(){$rootScope.$$phase=null}function incrementWatchersCount(current,count){do current.$$watchersCount+=count;while(current=current.$parent)}function decrementListenerCount(current,count,name){do current.$$listenerCount[name]-=count,0===current.$$listenerCount[name]&&delete current.$$listenerCount[name];while(current=current.$parent)}function initWatchVal(){}function flushApplyAsync(){for(;applyAsyncQueue.length;)try{applyAsyncQueue.shift()()}catch(e){$exceptionHandler(e)}applyAsyncId=null}function scheduleApplyAsync(){null===applyAsyncId&&(applyAsyncId=$browser.defer(function(){$rootScope.$apply(flushApplyAsync)}))}Scope.prototype={constructor:Scope,$new:function(isolate,parent){var child;return parent=parent||this,isolate?(child=new Scope,child.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=createChildScopeClass(this)),child=new this.$$ChildScope),child.$parent=parent,child.$$prevSibling=parent.$$childTail,parent.$$childHead?(parent.$$childTail.$$nextSibling=child,parent.$$childTail=child):parent.$$childHead=parent.$$childTail=child,(isolate||parent!=this)&&child.$on("$destroy",destroyChildScope),child},$watch:function(watchExp,listener,objectEquality,prettyPrintExpression){var get=$parse(watchExp);if(get.$$watchDelegate)return get.$$watchDelegate(this,listener,objectEquality,get,watchExp);var scope=this,array=scope.$$watchers,watcher={fn:listener,last:initWatchVal,get:get,exp:prettyPrintExpression||watchExp,eq:!!objectEquality};return lastDirtyWatch=null,isFunction(listener)||(watcher.fn=noop),array||(array=scope.$$watchers=[]),array.unshift(watcher),incrementWatchersCount(this,1),function(){arrayRemove(array,watcher)>=0&&incrementWatchersCount(scope,-1),lastDirtyWatch=null}},$watchGroup:function(watchExpressions,listener){function watchGroupAction(){changeReactionScheduled=!1,firstRun?(firstRun=!1,listener(newValues,newValues,self)):listener(newValues,oldValues,self)}var oldValues=new Array(watchExpressions.length),newValues=new Array(watchExpressions.length),deregisterFns=[],self=this,changeReactionScheduled=!1,firstRun=!0;if(!watchExpressions.length){var shouldCall=!0;return self.$evalAsync(function(){shouldCall&&listener(newValues,newValues,self)}),function(){shouldCall=!1}}return 1===watchExpressions.length?this.$watch(watchExpressions[0],function(value,oldValue,scope){newValues[0]=value,oldValues[0]=oldValue,listener(newValues,value===oldValue?newValues:oldValues,scope)}):(forEach(watchExpressions,function(expr,i){var unwatchFn=self.$watch(expr,function(value,oldValue){newValues[i]=value,oldValues[i]=oldValue,changeReactionScheduled||(changeReactionScheduled=!0,self.$evalAsync(watchGroupAction))});deregisterFns.push(unwatchFn)}),function(){for(;deregisterFns.length;)deregisterFns.shift()()})},$watchCollection:function(obj,listener){function $watchCollectionInterceptor(_value){newValue=_value;var newLength,key,bothNaN,newItem,oldItem;if(!isUndefined(newValue)){if(isObject(newValue))if(isArrayLike(newValue)){oldValue!==internalArray&&(oldValue=internalArray,oldLength=oldValue.length=0,changeDetected++),newLength=newValue.length,oldLength!==newLength&&(changeDetected++,oldValue.length=oldLength=newLength);
for(var i=0;i<newLength;i++)oldItem=oldValue[i],newItem=newValue[i],bothNaN=oldItem!==oldItem&&newItem!==newItem,bothNaN||oldItem===newItem||(changeDetected++,oldValue[i]=newItem)}else{oldValue!==internalObject&&(oldValue=internalObject={},oldLength=0,changeDetected++),newLength=0;for(key in newValue)newValue.hasOwnProperty(key)&&(newLength++,newItem=newValue[key],oldItem=oldValue[key],key in oldValue?(bothNaN=oldItem!==oldItem&&newItem!==newItem,bothNaN||oldItem===newItem||(changeDetected++,oldValue[key]=newItem)):(oldLength++,oldValue[key]=newItem,changeDetected++));if(oldLength>newLength){changeDetected++;for(key in oldValue)newValue.hasOwnProperty(key)||(oldLength--,delete oldValue[key])}}else oldValue!==newValue&&(oldValue=newValue,changeDetected++);return changeDetected}}function $watchCollectionAction(){if(initRun?(initRun=!1,listener(newValue,newValue,self)):listener(newValue,veryOldValue,self),trackVeryOldValue)if(isObject(newValue))if(isArrayLike(newValue)){veryOldValue=new Array(newValue.length);for(var i=0;i<newValue.length;i++)veryOldValue[i]=newValue[i]}else{veryOldValue={};for(var key in newValue)hasOwnProperty.call(newValue,key)&&(veryOldValue[key]=newValue[key])}else veryOldValue=newValue}$watchCollectionInterceptor.$stateful=!0;var newValue,oldValue,veryOldValue,self=this,trackVeryOldValue=listener.length>1,changeDetected=0,changeDetector=$parse(obj,$watchCollectionInterceptor),internalArray=[],internalObject={},initRun=!0,oldLength=0;return this.$watch(changeDetector,$watchCollectionAction)},$digest:function(){var watch,value,last,watchers,length,dirty,next,current,logIdx,asyncTask,ttl=TTL,target=this,watchLog=[];beginPhase("$digest"),$browser.$$checkUrlChange(),this===$rootScope&&null!==applyAsyncId&&($browser.defer.cancel(applyAsyncId),flushApplyAsync()),lastDirtyWatch=null;do{for(dirty=!1,current=target;asyncQueue.length;){try{asyncTask=asyncQueue.shift(),asyncTask.scope.$eval(asyncTask.expression,asyncTask.locals)}catch(e){$exceptionHandler(e)}lastDirtyWatch=null}traverseScopesLoop:do{if(watchers=current.$$watchers)for(length=watchers.length;length--;)try{if(watch=watchers[length])if((value=watch.get(current))===(last=watch.last)||(watch.eq?equals(value,last):"number"==typeof value&&"number"==typeof last&&isNaN(value)&&isNaN(last))){if(watch===lastDirtyWatch){dirty=!1;break traverseScopesLoop}}else dirty=!0,lastDirtyWatch=watch,watch.last=watch.eq?copy(value,null):value,watch.fn(value,last===initWatchVal?value:last,current),ttl<5&&(logIdx=4-ttl,watchLog[logIdx]||(watchLog[logIdx]=[]),watchLog[logIdx].push({msg:isFunction(watch.exp)?"fn: "+(watch.exp.name||watch.exp.toString()):watch.exp,newVal:value,oldVal:last}))}catch(e){$exceptionHandler(e)}if(!(next=current.$$watchersCount&&current.$$childHead||current!==target&&current.$$nextSibling))for(;current!==target&&!(next=current.$$nextSibling);)current=current.$parent}while(current=next);if((dirty||asyncQueue.length)&&!ttl--)throw clearPhase(),$rootScopeMinErr("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",TTL,watchLog)}while(dirty||asyncQueue.length);for(clearPhase();postDigestQueue.length;)try{postDigestQueue.shift()()}catch(e){$exceptionHandler(e)}},$destroy:function(){if(!this.$$destroyed){var parent=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this===$rootScope&&$browser.$$applicationDestroyed(),incrementWatchersCount(this,-this.$$watchersCount);for(var eventName in this.$$listenerCount)decrementListenerCount(this,this.$$listenerCount[eventName],eventName);parent&&parent.$$childHead==this&&(parent.$$childHead=this.$$nextSibling),parent&&parent.$$childTail==this&&(parent.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=noop,this.$on=this.$watch=this.$watchGroup=function(){return noop},this.$$listeners={},this.$parent=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=this.$root=this.$$watchers=null}},$eval:function(expr,locals){return $parse(expr)(this,locals)},$evalAsync:function(expr,locals){$rootScope.$$phase||asyncQueue.length||$browser.defer(function(){asyncQueue.length&&$rootScope.$digest()}),asyncQueue.push({scope:this,expression:expr,locals:locals})},$$postDigest:function(fn){postDigestQueue.push(fn)},$apply:function(expr){try{return beginPhase("$apply"),this.$eval(expr)}catch(e){$exceptionHandler(e)}finally{clearPhase();try{$rootScope.$digest()}catch(e){throw $exceptionHandler(e),e}}},$applyAsync:function(expr){function $applyAsyncExpression(){scope.$eval(expr)}var scope=this;expr&&applyAsyncQueue.push($applyAsyncExpression),scheduleApplyAsync()},$on:function(name,listener){var namedListeners=this.$$listeners[name];namedListeners||(this.$$listeners[name]=namedListeners=[]),namedListeners.push(listener);var current=this;do current.$$listenerCount[name]||(current.$$listenerCount[name]=0),current.$$listenerCount[name]++;while(current=current.$parent);var self=this;return function(){var indexOfListener=namedListeners.indexOf(listener);indexOfListener!==-1&&(namedListeners[indexOfListener]=null,decrementListenerCount(self,1,name))}},$emit:function(name,args){var namedListeners,i,length,empty=[],scope=this,stopPropagation=!1,event={name:name,targetScope:scope,stopPropagation:function(){stopPropagation=!0},preventDefault:function(){event.defaultPrevented=!0},defaultPrevented:!1},listenerArgs=concat([event],arguments,1);do{for(namedListeners=scope.$$listeners[name]||empty,event.currentScope=scope,i=0,length=namedListeners.length;i<length;i++)if(namedListeners[i])try{namedListeners[i].apply(null,listenerArgs)}catch(e){$exceptionHandler(e)}else namedListeners.splice(i,1),i--,length--;if(stopPropagation)return event.currentScope=null,event;scope=scope.$parent}while(scope);return event.currentScope=null,event},$broadcast:function(name,args){var target=this,current=target,next=target,event={name:name,targetScope:target,preventDefault:function(){event.defaultPrevented=!0},defaultPrevented:!1};if(!target.$$listenerCount[name])return event;for(var listeners,i,length,listenerArgs=concat([event],arguments,1);current=next;){for(event.currentScope=current,listeners=current.$$listeners[name]||[],i=0,length=listeners.length;i<length;i++)if(listeners[i])try{listeners[i].apply(null,listenerArgs)}catch(e){$exceptionHandler(e)}else listeners.splice(i,1),i--,length--;if(!(next=current.$$listenerCount[name]&&current.$$childHead||current!==target&&current.$$nextSibling))for(;current!==target&&!(next=current.$$nextSibling);)current=current.$parent}return event.currentScope=null,event}};var $rootScope=new Scope,asyncQueue=$rootScope.$$asyncQueue=[],postDigestQueue=$rootScope.$$postDigestQueue=[],applyAsyncQueue=$rootScope.$$applyAsyncQueue=[];return $rootScope}]}function $$SanitizeUriProvider(){var aHrefSanitizationWhitelist=/^\s*(https?|ftp|mailto|tel|file):/,imgSrcSanitizationWhitelist=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(regexp){return isDefined(regexp)?(aHrefSanitizationWhitelist=regexp,this):aHrefSanitizationWhitelist},this.imgSrcSanitizationWhitelist=function(regexp){return isDefined(regexp)?(imgSrcSanitizationWhitelist=regexp,this):imgSrcSanitizationWhitelist},this.$get=function(){return function(uri,isImage){var normalizedVal,regex=isImage?imgSrcSanitizationWhitelist:aHrefSanitizationWhitelist;return normalizedVal=urlResolve(uri).href,""===normalizedVal||normalizedVal.match(regex)?uri:"unsafe:"+normalizedVal}}}function adjustMatcher(matcher){if("self"===matcher)return matcher;if(isString(matcher)){if(matcher.indexOf("***")>-1)throw $sceMinErr("iwcard","Illegal sequence *** in string matcher.  String: {0}",matcher);return matcher=escapeForRegexp(matcher).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+matcher+"$")}if(isRegExp(matcher))return new RegExp("^"+matcher.source+"$");throw $sceMinErr("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}function adjustMatchers(matchers){var adjustedMatchers=[];return isDefined(matchers)&&forEach(matchers,function(matcher){adjustedMatchers.push(adjustMatcher(matcher))}),adjustedMatchers}function $SceDelegateProvider(){this.SCE_CONTEXTS=SCE_CONTEXTS;var resourceUrlWhitelist=["self"],resourceUrlBlacklist=[];this.resourceUrlWhitelist=function(value){return arguments.length&&(resourceUrlWhitelist=adjustMatchers(value)),resourceUrlWhitelist},this.resourceUrlBlacklist=function(value){return arguments.length&&(resourceUrlBlacklist=adjustMatchers(value)),resourceUrlBlacklist},this.$get=["$injector",function($injector){function matchUrl(matcher,parsedUrl){return"self"===matcher?urlIsSameOrigin(parsedUrl):!!matcher.exec(parsedUrl.href)}function isResourceUrlAllowedByPolicy(url){var i,n,parsedUrl=urlResolve(url.toString()),allowed=!1;for(i=0,n=resourceUrlWhitelist.length;i<n;i++)if(matchUrl(resourceUrlWhitelist[i],parsedUrl)){allowed=!0;break}if(allowed)for(i=0,n=resourceUrlBlacklist.length;i<n;i++)if(matchUrl(resourceUrlBlacklist[i],parsedUrl)){allowed=!1;break}return allowed}function generateHolderType(Base){var holderType=function(trustedValue){this.$$unwrapTrustedValue=function(){return trustedValue}};return Base&&(holderType.prototype=new Base),holderType.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},holderType.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},holderType}function trustAs(type,trustedValue){var Constructor=byType.hasOwnProperty(type)?byType[type]:null;if(!Constructor)throw $sceMinErr("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",type,trustedValue);if(null===trustedValue||trustedValue===undefined||""===trustedValue)return trustedValue;if("string"!=typeof trustedValue)throw $sceMinErr("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",type);return new Constructor(trustedValue)}function valueOf(maybeTrusted){return maybeTrusted instanceof trustedValueHolderBase?maybeTrusted.$$unwrapTrustedValue():maybeTrusted}function getTrusted(type,maybeTrusted){if(null===maybeTrusted||maybeTrusted===undefined||""===maybeTrusted)return maybeTrusted;var constructor=byType.hasOwnProperty(type)?byType[type]:null;if(constructor&&maybeTrusted instanceof constructor)return maybeTrusted.$$unwrapTrustedValue();if(type===SCE_CONTEXTS.RESOURCE_URL){if(isResourceUrlAllowedByPolicy(maybeTrusted))return maybeTrusted;throw $sceMinErr("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",maybeTrusted.toString())}if(type===SCE_CONTEXTS.HTML)return htmlSanitizer(maybeTrusted);throw $sceMinErr("unsafe","Attempting to use an unsafe value in a safe context.")}var htmlSanitizer=function(html){throw $sceMinErr("unsafe","Attempting to use an unsafe value in a safe context.")};$injector.has("$sanitize")&&(htmlSanitizer=$injector.get("$sanitize"));var trustedValueHolderBase=generateHolderType(),byType={};return byType[SCE_CONTEXTS.HTML]=generateHolderType(trustedValueHolderBase),byType[SCE_CONTEXTS.CSS]=generateHolderType(trustedValueHolderBase),byType[SCE_CONTEXTS.URL]=generateHolderType(trustedValueHolderBase),byType[SCE_CONTEXTS.JS]=generateHolderType(trustedValueHolderBase),byType[SCE_CONTEXTS.RESOURCE_URL]=generateHolderType(byType[SCE_CONTEXTS.URL]),{trustAs:trustAs,getTrusted:getTrusted,valueOf:valueOf}}]}function $SceProvider(){var enabled=!0;this.enabled=function(value){return arguments.length&&(enabled=!!value),enabled},this.$get=["$parse","$sceDelegate",function($parse,$sceDelegate){if(enabled&&msie<8)throw $sceMinErr("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var sce=shallowCopy(SCE_CONTEXTS);sce.isEnabled=function(){return enabled},sce.trustAs=$sceDelegate.trustAs,sce.getTrusted=$sceDelegate.getTrusted,sce.valueOf=$sceDelegate.valueOf,enabled||(sce.trustAs=sce.getTrusted=function(type,value){return value},sce.valueOf=identity),sce.parseAs=function(type,expr){var parsed=$parse(expr);return parsed.literal&&parsed.constant?parsed:$parse(expr,function(value){return sce.getTrusted(type,value)})};var parse=sce.parseAs,getTrusted=sce.getTrusted,trustAs=sce.trustAs;return forEach(SCE_CONTEXTS,function(enumValue,name){var lName=lowercase(name);sce[camelCase("parse_as_"+lName)]=function(expr){return parse(enumValue,expr)},sce[camelCase("get_trusted_"+lName)]=function(value){return getTrusted(enumValue,value)},sce[camelCase("trust_as_"+lName)]=function(value){return trustAs(enumValue,value)}}),sce}]}function $SnifferProvider(){this.$get=["$window","$document",function($window,$document){var vendorPrefix,match,eventSupport={},android=toInt((/android (\d+)/.exec(lowercase(($window.navigator||{}).userAgent))||[])[1]),boxee=/Boxee/i.test(($window.navigator||{}).userAgent),document=$document[0]||{},vendorRegex=/^(Moz|webkit|ms)(?=[A-Z])/,bodyStyle=document.body&&document.body.style,transitions=!1,animations=!1;if(bodyStyle){for(var prop in bodyStyle)if(match=vendorRegex.exec(prop)){vendorPrefix=match[0],vendorPrefix=vendorPrefix.substr(0,1).toUpperCase()+vendorPrefix.substr(1);break}vendorPrefix||(vendorPrefix="WebkitOpacity"in bodyStyle&&"webkit"),transitions=!!("transition"in bodyStyle||vendorPrefix+"Transition"in bodyStyle),animations=!!("animation"in bodyStyle||vendorPrefix+"Animation"in bodyStyle),!android||transitions&&animations||(transitions=isString(bodyStyle.webkitTransition),animations=isString(bodyStyle.webkitAnimation))}return{history:!(!$window.history||!$window.history.pushState||android<4||boxee),hasEvent:function(event){if("input"===event&&msie<=11)return!1;if(isUndefined(eventSupport[event])){var divElm=document.createElement("div");eventSupport[event]="on"+event in divElm}return eventSupport[event]},csp:csp(),vendorPrefix:vendorPrefix,transitions:transitions,animations:animations,android:android}}]}function $TemplateRequestProvider(){this.$get=["$templateCache","$http","$q","$sce",function($templateCache,$http,$q,$sce){function handleRequestFn(tpl,ignoreRequestError){function handleError(resp){if(!ignoreRequestError)throw $compileMinErr("tpload","Failed to load template: {0} (HTTP status: {1} {2})",tpl,resp.status,resp.statusText);return $q.reject(resp)}handleRequestFn.totalPendingRequests++,isString(tpl)&&$templateCache.get(tpl)||(tpl=$sce.getTrustedResourceUrl(tpl));var transformResponse=$http.defaults&&$http.defaults.transformResponse;isArray(transformResponse)?transformResponse=transformResponse.filter(function(transformer){return transformer!==defaultHttpResponseTransform}):transformResponse===defaultHttpResponseTransform&&(transformResponse=null);var httpOptions={cache:$templateCache,transformResponse:transformResponse};return $http.get(tpl,httpOptions)["finally"](function(){handleRequestFn.totalPendingRequests--}).then(function(response){return $templateCache.put(tpl,response.data),response.data},handleError)}return handleRequestFn.totalPendingRequests=0,handleRequestFn}]}function $$TestabilityProvider(){this.$get=["$rootScope","$browser","$location",function($rootScope,$browser,$location){var testability={};return testability.findBindings=function(element,expression,opt_exactMatch){var bindings=element.getElementsByClassName("ng-binding"),matches=[];return forEach(bindings,function(binding){var dataBinding=angular.element(binding).data("$binding");dataBinding&&forEach(dataBinding,function(bindingName){if(opt_exactMatch){var matcher=new RegExp("(^|\\s)"+escapeForRegexp(expression)+"(\\s|\\||$)");matcher.test(bindingName)&&matches.push(binding)}else bindingName.indexOf(expression)!=-1&&matches.push(binding)})}),matches},testability.findModels=function(element,expression,opt_exactMatch){for(var prefixes=["ng-","data-ng-","ng\\:"],p=0;p<prefixes.length;++p){var attributeEquals=opt_exactMatch?"=":"*=",selector="["+prefixes[p]+"model"+attributeEquals+'"'+expression+'"]',elements=element.querySelectorAll(selector);if(elements.length)return elements}},testability.getLocation=function(){return $location.url()},testability.setLocation=function(url){url!==$location.url()&&($location.url(url),$rootScope.$digest())},testability.whenStable=function(callback){$browser.notifyWhenNoOutstandingRequests(callback)},testability}]}function $TimeoutProvider(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function($rootScope,$browser,$q,$$q,$exceptionHandler){function timeout(fn,delay,invokeApply){isFunction(fn)||(invokeApply=delay,delay=fn,fn=noop);var timeoutId,args=sliceArgs(arguments,3),skipApply=isDefined(invokeApply)&&!invokeApply,deferred=(skipApply?$$q:$q).defer(),promise=deferred.promise;return timeoutId=$browser.defer(function(){try{deferred.resolve(fn.apply(null,args))}catch(e){deferred.reject(e),$exceptionHandler(e)}finally{delete deferreds[promise.$$timeoutId]}skipApply||$rootScope.$apply()},delay),promise.$$timeoutId=timeoutId,deferreds[timeoutId]=deferred,promise}var deferreds={};return timeout.cancel=function(promise){return!!(promise&&promise.$$timeoutId in deferreds)&&(deferreds[promise.$$timeoutId].reject("canceled"),delete deferreds[promise.$$timeoutId],$browser.defer.cancel(promise.$$timeoutId))},timeout}]}function urlResolve(url){var href=url;return msie&&(urlParsingNode.setAttribute("href",href),href=urlParsingNode.href),urlParsingNode.setAttribute("href",href),{href:urlParsingNode.href,protocol:urlParsingNode.protocol?urlParsingNode.protocol.replace(/:$/,""):"",host:urlParsingNode.host,search:urlParsingNode.search?urlParsingNode.search.replace(/^\?/,""):"",hash:urlParsingNode.hash?urlParsingNode.hash.replace(/^#/,""):"",hostname:urlParsingNode.hostname,port:urlParsingNode.port,pathname:"/"===urlParsingNode.pathname.charAt(0)?urlParsingNode.pathname:"/"+urlParsingNode.pathname}}function urlIsSameOrigin(requestUrl){var parsed=isString(requestUrl)?urlResolve(requestUrl):requestUrl;return parsed.protocol===originUrl.protocol&&parsed.host===originUrl.host}function $WindowProvider(){this.$get=valueFn(window)}function $$CookieReader($document){function safeDecodeURIComponent(str){try{return decodeURIComponent(str)}catch(e){return str}}var rawDocument=$document[0]||{},lastCookies={},lastCookieString="";return function(){var cookieArray,cookie,i,index,name,currentCookieString=rawDocument.cookie||"";if(currentCookieString!==lastCookieString)for(lastCookieString=currentCookieString,cookieArray=lastCookieString.split("; "),lastCookies={},i=0;i<cookieArray.length;i++)cookie=cookieArray[i],index=cookie.indexOf("="),index>0&&(name=safeDecodeURIComponent(cookie.substring(0,index)),lastCookies[name]===undefined&&(lastCookies[name]=safeDecodeURIComponent(cookie.substring(index+1))));return lastCookies}}function $$CookieReaderProvider(){this.$get=$$CookieReader}function $FilterProvider($provide){function register(name,factory){if(isObject(name)){var filters={};return forEach(name,function(filter,key){filters[key]=register(key,filter)}),filters}return $provide.factory(name+suffix,factory)}var suffix="Filter";this.register=register,this.$get=["$injector",function($injector){return function(name){return $injector.get(name+suffix)}}],register("currency",currencyFilter),register("date",dateFilter),register("filter",filterFilter),register("json",jsonFilter),register("limitTo",limitToFilter),register("lowercase",lowercaseFilter),register("number",numberFilter),register("orderBy",orderByFilter),register("uppercase",uppercaseFilter)}function filterFilter(){return function(array,expression,comparator){if(!isArrayLike(array)){if(null==array)return array;throw minErr("filter")("notarray","Expected array but received: {0}",array)}var predicateFn,matchAgainstAnyProp,expressionType=getTypeForFilter(expression);switch(expressionType){case"function":predicateFn=expression;break;case"boolean":case"null":case"number":case"string":matchAgainstAnyProp=!0;case"object":predicateFn=createPredicateFn(expression,comparator,matchAgainstAnyProp);break;default:return array}return Array.prototype.filter.call(array,predicateFn)}}function createPredicateFn(expression,comparator,matchAgainstAnyProp){var predicateFn,shouldMatchPrimitives=isObject(expression)&&"$"in expression;return comparator===!0?comparator=equals:isFunction(comparator)||(comparator=function(actual,expected){return!isUndefined(actual)&&(null===actual||null===expected?actual===expected:!(isObject(expected)||isObject(actual)&&!hasCustomToString(actual))&&(actual=lowercase(""+actual),expected=lowercase(""+expected),actual.indexOf(expected)!==-1))}),predicateFn=function(item){return shouldMatchPrimitives&&!isObject(item)?deepCompare(item,expression.$,comparator,!1):deepCompare(item,expression,comparator,matchAgainstAnyProp)}}function deepCompare(actual,expected,comparator,matchAgainstAnyProp,dontMatchWholeObject){var actualType=getTypeForFilter(actual),expectedType=getTypeForFilter(expected);if("string"===expectedType&&"!"===expected.charAt(0))return!deepCompare(actual,expected.substring(1),comparator,matchAgainstAnyProp);if(isArray(actual))return actual.some(function(item){return deepCompare(item,expected,comparator,matchAgainstAnyProp)});switch(actualType){case"object":var key;if(matchAgainstAnyProp){for(key in actual)if("$"!==key.charAt(0)&&deepCompare(actual[key],expected,comparator,!0))return!0;return!dontMatchWholeObject&&deepCompare(actual,expected,comparator,!1)}if("object"===expectedType){for(key in expected){var expectedVal=expected[key];if(!isFunction(expectedVal)&&!isUndefined(expectedVal)){var matchAnyProperty="$"===key,actualVal=matchAnyProperty?actual:actual[key];if(!deepCompare(actualVal,expectedVal,comparator,matchAnyProperty,matchAnyProperty))return!1}}return!0}return comparator(actual,expected);case"function":return!1;default:return comparator(actual,expected)}}function getTypeForFilter(val){return null===val?"null":typeof val}function currencyFilter($locale){var formats=$locale.NUMBER_FORMATS;return function(amount,currencySymbol,fractionSize){return isUndefined(currencySymbol)&&(currencySymbol=formats.CURRENCY_SYM),isUndefined(fractionSize)&&(fractionSize=formats.PATTERNS[1].maxFrac),null==amount?amount:formatNumber(amount,formats.PATTERNS[1],formats.GROUP_SEP,formats.DECIMAL_SEP,fractionSize).replace(/\u00A4/g,currencySymbol)}}function numberFilter($locale){var formats=$locale.NUMBER_FORMATS;return function(number,fractionSize){return null==number?number:formatNumber(number,formats.PATTERNS[0],formats.GROUP_SEP,formats.DECIMAL_SEP,fractionSize)}}function formatNumber(number,pattern,groupSep,decimalSep,fractionSize){if(isObject(number))return"";var isNegative=number<0;number=Math.abs(number);var isInfinity=number===1/0;if(!isInfinity&&!isFinite(number))return"";var numStr=number+"",formatedText="",hasExponent=!1,parts=[];if(isInfinity&&(formatedText=""),!isInfinity&&numStr.indexOf("e")!==-1){var match=numStr.match(/([\d\.]+)e(-?)(\d+)/);match&&"-"==match[2]&&match[3]>fractionSize+1?number=0:(formatedText=numStr,hasExponent=!0)}if(isInfinity||hasExponent)fractionSize>0&&number<1&&(formatedText=number.toFixed(fractionSize),number=parseFloat(formatedText));else{var fractionLen=(numStr.split(DECIMAL_SEP)[1]||"").length;isUndefined(fractionSize)&&(fractionSize=Math.min(Math.max(pattern.minFrac,fractionLen),pattern.maxFrac)),number=+(Math.round(+(number.toString()+"e"+fractionSize)).toString()+"e"+-fractionSize);var fraction=(""+number).split(DECIMAL_SEP),whole=fraction[0];fraction=fraction[1]||"";var i,pos=0,lgroup=pattern.lgSize,group=pattern.gSize;if(whole.length>=lgroup+group)for(pos=whole.length-lgroup,i=0;i<pos;i++)(pos-i)%group===0&&0!==i&&(formatedText+=groupSep),formatedText+=whole.charAt(i);for(i=pos;i<whole.length;i++)(whole.length-i)%lgroup===0&&0!==i&&(formatedText+=groupSep),formatedText+=whole.charAt(i);for(;fraction.length<fractionSize;)fraction+="0";fractionSize&&"0"!==fractionSize&&(formatedText+=decimalSep+fraction.substr(0,fractionSize))}return 0===number&&(isNegative=!1),parts.push(isNegative?pattern.negPre:pattern.posPre,formatedText,isNegative?pattern.negSuf:pattern.posSuf),parts.join("")}function padNumber(num,digits,trim){var neg="";for(num<0&&(neg="-",num=-num),num=""+num;num.length<digits;)num="0"+num;return trim&&(num=num.substr(num.length-digits)),neg+num}function dateGetter(name,size,offset,trim){return offset=offset||0,function(date){var value=date["get"+name]();return(offset>0||value>-offset)&&(value+=offset),0===value&&offset==-12&&(value=12),padNumber(value,size,trim)}}function dateStrGetter(name,shortForm){return function(date,formats){var value=date["get"+name](),get=uppercase(shortForm?"SHORT"+name:name);return formats[get][value]}}function timeZoneGetter(date,formats,offset){var zone=-1*offset,paddedZone=zone>=0?"+":"";return paddedZone+=padNumber(Math[zone>0?"floor":"ceil"](zone/60),2)+padNumber(Math.abs(zone%60),2)}function getFirstThursdayOfYear(year){var dayOfWeekOnFirst=new Date(year,0,1).getDay();return new Date(year,0,(dayOfWeekOnFirst<=4?5:12)-dayOfWeekOnFirst)}function getThursdayThisWeek(datetime){return new Date(datetime.getFullYear(),datetime.getMonth(),datetime.getDate()+(4-datetime.getDay()))}function weekGetter(size){return function(date){var firstThurs=getFirstThursdayOfYear(date.getFullYear()),thisThurs=getThursdayThisWeek(date),diff=+thisThurs-+firstThurs,result=1+Math.round(diff/6048e5);return padNumber(result,size)}}function ampmGetter(date,formats){return date.getHours()<12?formats.AMPMS[0]:formats.AMPMS[1]}function eraGetter(date,formats){return date.getFullYear()<=0?formats.ERAS[0]:formats.ERAS[1]}function longEraGetter(date,formats){return date.getFullYear()<=0?formats.ERANAMES[0]:formats.ERANAMES[1]}function dateFilter($locale){function jsonStringToDate(string){var match;if(match=string.match(R_ISO8601_STR)){var date=new Date(0),tzHour=0,tzMin=0,dateSetter=match[8]?date.setUTCFullYear:date.setFullYear,timeSetter=match[8]?date.setUTCHours:date.setHours;match[9]&&(tzHour=toInt(match[9]+match[10]),tzMin=toInt(match[9]+match[11])),dateSetter.call(date,toInt(match[1]),toInt(match[2])-1,toInt(match[3]));var h=toInt(match[4]||0)-tzHour,m=toInt(match[5]||0)-tzMin,s=toInt(match[6]||0),ms=Math.round(1e3*parseFloat("0."+(match[7]||0)));return timeSetter.call(date,h,m,s,ms),date}return string}var R_ISO8601_STR=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(date,format,timezone){var fn,match,text="",parts=[];if(format=format||"mediumDate",format=$locale.DATETIME_FORMATS[format]||format,isString(date)&&(date=NUMBER_STRING.test(date)?toInt(date):jsonStringToDate(date)),isNumber(date)&&(date=new Date(date)),!isDate(date)||!isFinite(date.getTime()))return date;for(;format;)match=DATE_FORMATS_SPLIT.exec(format),match?(parts=concat(parts,match,1),format=parts.pop()):(parts.push(format),format=null);var dateTimezoneOffset=date.getTimezoneOffset();return timezone&&(dateTimezoneOffset=timezoneToOffset(timezone,date.getTimezoneOffset()),date=convertTimezoneToLocal(date,timezone,!0)),forEach(parts,function(value){fn=DATE_FORMATS[value],text+=fn?fn(date,$locale.DATETIME_FORMATS,dateTimezoneOffset):value.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),text}}function jsonFilter(){return function(object,spacing){return isUndefined(spacing)&&(spacing=2),toJson(object,spacing)}}function limitToFilter(){return function(input,limit,begin){return limit=Math.abs(Number(limit))===1/0?Number(limit):toInt(limit),isNaN(limit)?input:(isNumber(input)&&(input=input.toString()),isArray(input)||isString(input)?(begin=!begin||isNaN(begin)?0:toInt(begin),begin=begin<0&&begin>=-input.length?input.length+begin:begin,limit>=0?input.slice(begin,begin+limit):0===begin?input.slice(limit,input.length):input.slice(Math.max(0,begin+limit),begin)):input)}}function orderByFilter($parse){function processPredicates(sortPredicate,reverseOrder){return reverseOrder=reverseOrder?-1:1,sortPredicate.map(function(predicate){var descending=1,get=identity;if(isFunction(predicate))get=predicate;else if(isString(predicate)&&("+"!=predicate.charAt(0)&&"-"!=predicate.charAt(0)||(descending="-"==predicate.charAt(0)?-1:1,predicate=predicate.substring(1)),""!==predicate&&(get=$parse(predicate),get.constant))){var key=get();get=function(value){return value[key]}}return{get:get,descending:descending*reverseOrder}})}function isPrimitive(value){switch(typeof value){case"number":case"boolean":case"string":return!0;default:return!1}}function objectValue(value,index){return"function"==typeof value.valueOf&&(value=value.valueOf(),isPrimitive(value))?value:hasCustomToString(value)&&(value=value.toString(),isPrimitive(value))?value:index}function getPredicateValue(value,index){var type=typeof value;return null===value?(type="string",value="null"):"string"===type?value=value.toLowerCase():"object"===type&&(value=objectValue(value,index)),{value:value,type:type}}function compare(v1,v2){var result=0;return v1.type===v2.type?v1.value!==v2.value&&(result=v1.value<v2.value?-1:1):result=v1.type<v2.type?-1:1,result}return function(array,sortPredicate,reverseOrder){function getComparisonObject(value,index){return{value:value,predicateValues:predicates.map(function(predicate){return getPredicateValue(predicate.get(value),index)})}}function doComparison(v1,v2){for(var result=0,index=0,length=predicates.length;index<length&&!(result=compare(v1.predicateValues[index],v2.predicateValues[index])*predicates[index].descending);++index);return result}if(!isArrayLike(array))return array;isArray(sortPredicate)||(sortPredicate=[sortPredicate]),0===sortPredicate.length&&(sortPredicate=["+"]);var predicates=processPredicates(sortPredicate,reverseOrder),compareValues=Array.prototype.map.call(array,getComparisonObject);return compareValues.sort(doComparison),array=compareValues.map(function(item){return item.value})}}function ngDirective(directive){return isFunction(directive)&&(directive={link:directive}),directive.restrict=directive.restrict||"AC",valueFn(directive)}function nullFormRenameControl(control,name){control.$name=name}function FormController(element,attrs,$scope,$animate,$interpolate){var form=this,controls=[],parentForm=form.$$parentForm=element.parent().controller("form")||nullFormCtrl;form.$error={},form.$$success={},form.$pending=undefined,form.$name=$interpolate(attrs.name||attrs.ngForm||"")($scope),form.$dirty=!1,form.$pristine=!0,form.$valid=!0,form.$invalid=!1,form.$submitted=!1,parentForm.$addControl(form),form.$rollbackViewValue=function(){forEach(controls,function(control){control.$rollbackViewValue()})},form.$commitViewValue=function(){forEach(controls,function(control){control.$commitViewValue()})},form.$addControl=function(control){assertNotHasOwnProperty(control.$name,"input"),controls.push(control),control.$name&&(form[control.$name]=control)},form.$$renameControl=function(control,newName){var oldName=control.$name;form[oldName]===control&&delete form[oldName],form[newName]=control,control.$name=newName},form.$removeControl=function(control){control.$name&&form[control.$name]===control&&delete form[control.$name],forEach(form.$pending,function(value,name){form.$setValidity(name,null,control)}),forEach(form.$error,function(value,name){form.$setValidity(name,null,control)}),forEach(form.$$success,function(value,name){form.$setValidity(name,null,control)}),arrayRemove(controls,control)},addSetValidityMethod({ctrl:this,$element:element,set:function(object,property,controller){var list=object[property];if(list){var index=list.indexOf(controller);index===-1&&list.push(controller)}else object[property]=[controller]},unset:function(object,property,controller){var list=object[property];list&&(arrayRemove(list,controller),0===list.length&&delete object[property]);
},parentForm:parentForm,$animate:$animate}),form.$setDirty=function(){$animate.removeClass(element,PRISTINE_CLASS),$animate.addClass(element,DIRTY_CLASS),form.$dirty=!0,form.$pristine=!1,parentForm.$setDirty()},form.$setPristine=function(){$animate.setClass(element,PRISTINE_CLASS,DIRTY_CLASS+" "+SUBMITTED_CLASS),form.$dirty=!1,form.$pristine=!0,form.$submitted=!1,forEach(controls,function(control){control.$setPristine()})},form.$setUntouched=function(){forEach(controls,function(control){control.$setUntouched()})},form.$setSubmitted=function(){$animate.addClass(element,SUBMITTED_CLASS),form.$submitted=!0,parentForm.$setSubmitted()}}function stringBasedInputType(ctrl){ctrl.$formatters.push(function(value){return ctrl.$isEmpty(value)?value:value.toString()})}function textInputType(scope,element,attr,ctrl,$sniffer,$browser){baseInputType(scope,element,attr,ctrl,$sniffer,$browser),stringBasedInputType(ctrl)}function baseInputType(scope,element,attr,ctrl,$sniffer,$browser){var type=lowercase(element[0].type);if(!$sniffer.android){var composing=!1;element.on("compositionstart",function(data){composing=!0}),element.on("compositionend",function(){composing=!1,listener()})}var listener=function(ev){if(timeout&&($browser.defer.cancel(timeout),timeout=null),!composing){var value=element.val(),event=ev&&ev.type;"password"===type||attr.ngTrim&&"false"===attr.ngTrim||(value=trim(value)),(ctrl.$viewValue!==value||""===value&&ctrl.$$hasNativeValidators)&&ctrl.$setViewValue(value,event)}};if($sniffer.hasEvent("input"))element.on("input",listener);else{var timeout,deferListener=function(ev,input,origValue){timeout||(timeout=$browser.defer(function(){timeout=null,input&&input.value===origValue||listener(ev)}))};element.on("keydown",function(event){var key=event.keyCode;91===key||15<key&&key<19||37<=key&&key<=40||deferListener(event,this,this.value)}),$sniffer.hasEvent("paste")&&element.on("paste cut",deferListener)}element.on("change",listener),ctrl.$render=function(){element.val(ctrl.$isEmpty(ctrl.$viewValue)?"":ctrl.$viewValue)}}function weekParser(isoWeek,existingDate){if(isDate(isoWeek))return isoWeek;if(isString(isoWeek)){WEEK_REGEXP.lastIndex=0;var parts=WEEK_REGEXP.exec(isoWeek);if(parts){var year=+parts[1],week=+parts[2],hours=0,minutes=0,seconds=0,milliseconds=0,firstThurs=getFirstThursdayOfYear(year),addDays=7*(week-1);return existingDate&&(hours=existingDate.getHours(),minutes=existingDate.getMinutes(),seconds=existingDate.getSeconds(),milliseconds=existingDate.getMilliseconds()),new Date(year,0,firstThurs.getDate()+addDays,hours,minutes,seconds,milliseconds)}}return NaN}function createDateParser(regexp,mapping){return function(iso,date){var parts,map;if(isDate(iso))return iso;if(isString(iso)){if('"'==iso.charAt(0)&&'"'==iso.charAt(iso.length-1)&&(iso=iso.substring(1,iso.length-1)),ISO_DATE_REGEXP.test(iso))return new Date(iso);if(regexp.lastIndex=0,parts=regexp.exec(iso))return parts.shift(),map=date?{yyyy:date.getFullYear(),MM:date.getMonth()+1,dd:date.getDate(),HH:date.getHours(),mm:date.getMinutes(),ss:date.getSeconds(),sss:date.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},forEach(parts,function(part,index){index<mapping.length&&(map[mapping[index]]=+part)}),new Date(map.yyyy,map.MM-1,map.dd,map.HH,map.mm,map.ss||0,1e3*map.sss||0)}return NaN}}function createDateInputType(type,regexp,parseDate,format){return function(scope,element,attr,ctrl,$sniffer,$browser,$filter){function isValidDate(value){return value&&!(value.getTime&&value.getTime()!==value.getTime())}function parseObservedDateValue(val){return isDefined(val)?isDate(val)?val:parseDate(val):undefined}badInputChecker(scope,element,attr,ctrl),baseInputType(scope,element,attr,ctrl,$sniffer,$browser);var previousDate,timezone=ctrl&&ctrl.$options&&ctrl.$options.timezone;if(ctrl.$$parserName=type,ctrl.$parsers.push(function(value){if(ctrl.$isEmpty(value))return null;if(regexp.test(value)){var parsedDate=parseDate(value,previousDate);return timezone&&(parsedDate=convertTimezoneToLocal(parsedDate,timezone)),parsedDate}return undefined}),ctrl.$formatters.push(function(value){if(value&&!isDate(value))throw $ngModelMinErr("datefmt","Expected `{0}` to be a date",value);return isValidDate(value)?(previousDate=value,previousDate&&timezone&&(previousDate=convertTimezoneToLocal(previousDate,timezone,!0)),$filter("date")(value,format,timezone)):(previousDate=null,"")}),isDefined(attr.min)||attr.ngMin){var minVal;ctrl.$validators.min=function(value){return!isValidDate(value)||isUndefined(minVal)||parseDate(value)>=minVal},attr.$observe("min",function(val){minVal=parseObservedDateValue(val),ctrl.$validate()})}if(isDefined(attr.max)||attr.ngMax){var maxVal;ctrl.$validators.max=function(value){return!isValidDate(value)||isUndefined(maxVal)||parseDate(value)<=maxVal},attr.$observe("max",function(val){maxVal=parseObservedDateValue(val),ctrl.$validate()})}}}function badInputChecker(scope,element,attr,ctrl){var node=element[0],nativeValidation=ctrl.$$hasNativeValidators=isObject(node.validity);nativeValidation&&ctrl.$parsers.push(function(value){var validity=element.prop(VALIDITY_STATE_PROPERTY)||{};return validity.badInput&&!validity.typeMismatch?undefined:value})}function numberInputType(scope,element,attr,ctrl,$sniffer,$browser){if(badInputChecker(scope,element,attr,ctrl),baseInputType(scope,element,attr,ctrl,$sniffer,$browser),ctrl.$$parserName="number",ctrl.$parsers.push(function(value){return ctrl.$isEmpty(value)?null:NUMBER_REGEXP.test(value)?parseFloat(value):undefined}),ctrl.$formatters.push(function(value){if(!ctrl.$isEmpty(value)){if(!isNumber(value))throw $ngModelMinErr("numfmt","Expected `{0}` to be a number",value);value=value.toString()}return value}),isDefined(attr.min)||attr.ngMin){var minVal;ctrl.$validators.min=function(value){return ctrl.$isEmpty(value)||isUndefined(minVal)||value>=minVal},attr.$observe("min",function(val){isDefined(val)&&!isNumber(val)&&(val=parseFloat(val,10)),minVal=isNumber(val)&&!isNaN(val)?val:undefined,ctrl.$validate()})}if(isDefined(attr.max)||attr.ngMax){var maxVal;ctrl.$validators.max=function(value){return ctrl.$isEmpty(value)||isUndefined(maxVal)||value<=maxVal},attr.$observe("max",function(val){isDefined(val)&&!isNumber(val)&&(val=parseFloat(val,10)),maxVal=isNumber(val)&&!isNaN(val)?val:undefined,ctrl.$validate()})}}function urlInputType(scope,element,attr,ctrl,$sniffer,$browser){baseInputType(scope,element,attr,ctrl,$sniffer,$browser),stringBasedInputType(ctrl),ctrl.$$parserName="url",ctrl.$validators.url=function(modelValue,viewValue){var value=modelValue||viewValue;return ctrl.$isEmpty(value)||URL_REGEXP.test(value)}}function emailInputType(scope,element,attr,ctrl,$sniffer,$browser){baseInputType(scope,element,attr,ctrl,$sniffer,$browser),stringBasedInputType(ctrl),ctrl.$$parserName="email",ctrl.$validators.email=function(modelValue,viewValue){var value=modelValue||viewValue;return ctrl.$isEmpty(value)||EMAIL_REGEXP.test(value)}}function radioInputType(scope,element,attr,ctrl){isUndefined(attr.name)&&element.attr("name",nextUid());var listener=function(ev){element[0].checked&&ctrl.$setViewValue(attr.value,ev&&ev.type)};element.on("click",listener),ctrl.$render=function(){var value=attr.value;element[0].checked=value==ctrl.$viewValue},attr.$observe("value",ctrl.$render)}function parseConstantExpr($parse,context,name,expression,fallback){var parseFn;if(isDefined(expression)){if(parseFn=$parse(expression),!parseFn.constant)throw minErr("ngModel")("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",name,expression);return parseFn(context)}return fallback}function checkboxInputType(scope,element,attr,ctrl,$sniffer,$browser,$filter,$parse){var trueValue=parseConstantExpr($parse,scope,"ngTrueValue",attr.ngTrueValue,!0),falseValue=parseConstantExpr($parse,scope,"ngFalseValue",attr.ngFalseValue,!1),listener=function(ev){ctrl.$setViewValue(element[0].checked,ev&&ev.type)};element.on("click",listener),ctrl.$render=function(){element[0].checked=ctrl.$viewValue},ctrl.$isEmpty=function(value){return value===!1},ctrl.$formatters.push(function(value){return equals(value,trueValue)}),ctrl.$parsers.push(function(value){return value?trueValue:falseValue})}function classDirective(name,selector){return name="ngClass"+name,["$animate",function($animate){function arrayDifference(tokens1,tokens2){var values=[];outer:for(var i=0;i<tokens1.length;i++){for(var token=tokens1[i],j=0;j<tokens2.length;j++)if(token==tokens2[j])continue outer;values.push(token)}return values}function arrayClasses(classVal){var classes=[];return isArray(classVal)?(forEach(classVal,function(v){classes=classes.concat(arrayClasses(v))}),classes):isString(classVal)?classVal.split(" "):isObject(classVal)?(forEach(classVal,function(v,k){v&&(classes=classes.concat(k.split(" ")))}),classes):classVal}return{restrict:"AC",link:function(scope,element,attr){function addClasses(classes){var newClasses=digestClassCounts(classes,1);attr.$addClass(newClasses)}function removeClasses(classes){var newClasses=digestClassCounts(classes,-1);attr.$removeClass(newClasses)}function digestClassCounts(classes,count){var classCounts=element.data("$classCounts")||createMap(),classesToUpdate=[];return forEach(classes,function(className){(count>0||classCounts[className])&&(classCounts[className]=(classCounts[className]||0)+count,classCounts[className]===+(count>0)&&classesToUpdate.push(className))}),element.data("$classCounts",classCounts),classesToUpdate.join(" ")}function updateClasses(oldClasses,newClasses){var toAdd=arrayDifference(newClasses,oldClasses),toRemove=arrayDifference(oldClasses,newClasses);toAdd=digestClassCounts(toAdd,1),toRemove=digestClassCounts(toRemove,-1),toAdd&&toAdd.length&&$animate.addClass(element,toAdd),toRemove&&toRemove.length&&$animate.removeClass(element,toRemove)}function ngClassWatchAction(newVal){if(selector===!0||scope.$index%2===selector){var newClasses=arrayClasses(newVal||[]);if(oldVal){if(!equals(newVal,oldVal)){var oldClasses=arrayClasses(oldVal);updateClasses(oldClasses,newClasses)}}else addClasses(newClasses)}oldVal=shallowCopy(newVal)}var oldVal;scope.$watch(attr[name],ngClassWatchAction,!0),attr.$observe("class",function(value){ngClassWatchAction(scope.$eval(attr[name]))}),"ngClass"!==name&&scope.$watch("$index",function($index,old$index){var mod=1&$index;if(mod!==(1&old$index)){var classes=arrayClasses(scope.$eval(attr[name]));mod===selector?addClasses(classes):removeClasses(classes)}})}}}]}function addSetValidityMethod(context){function setValidity(validationErrorKey,state,controller){state===undefined?createAndSet("$pending",validationErrorKey,controller):unsetAndCleanup("$pending",validationErrorKey,controller),isBoolean(state)?state?(unset(ctrl.$error,validationErrorKey,controller),set(ctrl.$$success,validationErrorKey,controller)):(set(ctrl.$error,validationErrorKey,controller),unset(ctrl.$$success,validationErrorKey,controller)):(unset(ctrl.$error,validationErrorKey,controller),unset(ctrl.$$success,validationErrorKey,controller)),ctrl.$pending?(cachedToggleClass(PENDING_CLASS,!0),ctrl.$valid=ctrl.$invalid=undefined,toggleValidationCss("",null)):(cachedToggleClass(PENDING_CLASS,!1),ctrl.$valid=isObjectEmpty(ctrl.$error),ctrl.$invalid=!ctrl.$valid,toggleValidationCss("",ctrl.$valid));var combinedState;combinedState=ctrl.$pending&&ctrl.$pending[validationErrorKey]?undefined:!ctrl.$error[validationErrorKey]&&(!!ctrl.$$success[validationErrorKey]||null),toggleValidationCss(validationErrorKey,combinedState),parentForm.$setValidity(validationErrorKey,combinedState,ctrl)}function createAndSet(name,value,controller){ctrl[name]||(ctrl[name]={}),set(ctrl[name],value,controller)}function unsetAndCleanup(name,value,controller){ctrl[name]&&unset(ctrl[name],value,controller),isObjectEmpty(ctrl[name])&&(ctrl[name]=undefined)}function cachedToggleClass(className,switchValue){switchValue&&!classCache[className]?($animate.addClass($element,className),classCache[className]=!0):!switchValue&&classCache[className]&&($animate.removeClass($element,className),classCache[className]=!1)}function toggleValidationCss(validationErrorKey,isValid){validationErrorKey=validationErrorKey?"-"+snake_case(validationErrorKey,"-"):"",cachedToggleClass(VALID_CLASS+validationErrorKey,isValid===!0),cachedToggleClass(INVALID_CLASS+validationErrorKey,isValid===!1)}var ctrl=context.ctrl,$element=context.$element,classCache={},set=context.set,unset=context.unset,parentForm=context.parentForm,$animate=context.$animate;classCache[INVALID_CLASS]=!(classCache[VALID_CLASS]=$element.hasClass(VALID_CLASS)),ctrl.$setValidity=setValidity}function isObjectEmpty(obj){if(obj)for(var prop in obj)if(obj.hasOwnProperty(prop))return!1;return!0}var REGEX_STRING_REGEXP=/^\/(.+)\/([a-z]*)$/,VALIDITY_STATE_PROPERTY="validity",lowercase=function(string){return isString(string)?string.toLowerCase():string},hasOwnProperty=Object.prototype.hasOwnProperty,uppercase=function(string){return isString(string)?string.toUpperCase():string},manualLowercase=function(s){return isString(s)?s.replace(/[A-Z]/g,function(ch){return String.fromCharCode(32|ch.charCodeAt(0))}):s},manualUppercase=function(s){return isString(s)?s.replace(/[a-z]/g,function(ch){return String.fromCharCode(ch.charCodeAt(0)&-33)}):s};"i"!=="I".toLowerCase()&&(lowercase=manualLowercase,uppercase=manualUppercase);var msie,jqLite,jQuery,angularModule,slice=[].slice,splice=[].splice,push=[].push,toString=Object.prototype.toString,getPrototypeOf=Object.getPrototypeOf,ngMinErr=minErr("ng"),angular=window.angular||(window.angular={}),uid=0;msie=document.documentMode,noop.$inject=[],identity.$inject=[];var skipDestroyOnNextJQueryCleanData,isArray=Array.isArray,TYPED_ARRAY_REGEXP=/^\[object (Uint8(Clamped)?)|(Uint16)|(Uint32)|(Int8)|(Int16)|(Int32)|(Float(32)|(64))Array\]$/,trim=function(value){return isString(value)?value.trim():value},escapeForRegexp=function(s){return s.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},csp=function(){if(isDefined(csp.isActive_))return csp.isActive_;var active=!(!document.querySelector("[ng-csp]")&&!document.querySelector("[data-ng-csp]"));if(!active)try{new Function("")}catch(e){active=!0}return csp.isActive_=active},jq=function(){if(isDefined(jq.name_))return jq.name_;var el,i,prefix,name,ii=ngAttrPrefixes.length;for(i=0;i<ii;++i)if(prefix=ngAttrPrefixes[i],el=document.querySelector("["+prefix.replace(":","\\:")+"jq]")){name=el.getAttribute(prefix+"jq");break}return jq.name_=name},ngAttrPrefixes=["ng-","data-ng-","ng:","x-ng-"],SNAKE_CASE_REGEXP=/[A-Z]/g,bindJQueryFired=!1,NODE_TYPE_ELEMENT=1,NODE_TYPE_ATTRIBUTE=2,NODE_TYPE_TEXT=3,NODE_TYPE_COMMENT=8,NODE_TYPE_DOCUMENT=9,NODE_TYPE_DOCUMENT_FRAGMENT=11,version={full:"1.4.3",major:1,minor:4,dot:3,codeName:"foam-acceleration"};JQLite.expando="ng339";var jqCache=JQLite.cache={},jqId=1,addEventListenerFn=function(element,type,fn){element.addEventListener(type,fn,!1)},removeEventListenerFn=function(element,type,fn){element.removeEventListener(type,fn,!1)};JQLite._data=function(node){return this.cache[node[this.expando]]||{}};var SPECIAL_CHARS_REGEXP=/([\:\-\_]+(.))/g,MOZ_HACK_REGEXP=/^moz([A-Z])/,MOUSE_EVENT_MAP={mouseleave:"mouseout",mouseenter:"mouseover"},jqLiteMinErr=minErr("jqLite"),SINGLE_TAG_REGEXP=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,HTML_REGEXP=/<|&#?\w+;/,TAG_NAME_REGEXP=/<([\w:]+)/,XHTML_TAG_REGEXP=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,wrapMap={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};wrapMap.optgroup=wrapMap.option,wrapMap.tbody=wrapMap.tfoot=wrapMap.colgroup=wrapMap.caption=wrapMap.thead,wrapMap.th=wrapMap.td;var JQLitePrototype=JQLite.prototype={ready:function(fn){function trigger(){fired||(fired=!0,fn())}var fired=!1;"complete"===document.readyState?setTimeout(trigger):(this.on("DOMContentLoaded",trigger),JQLite(window).on("load",trigger))},toString:function(){var value=[];return forEach(this,function(e){value.push(""+e)}),"["+value.join(", ")+"]"},eq:function(index){return jqLite(index>=0?this[index]:this[this.length+index])},length:0,push:push,sort:[].sort,splice:[].splice},BOOLEAN_ATTR={};forEach("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(value){BOOLEAN_ATTR[lowercase(value)]=value});var BOOLEAN_ELEMENTS={};forEach("input,select,option,textarea,button,form,details".split(","),function(value){BOOLEAN_ELEMENTS[value]=!0});var ALIASED_ATTR={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};forEach({data:jqLiteData,removeData:jqLiteRemoveData,hasData:jqLiteHasData},function(fn,name){JQLite[name]=fn}),forEach({data:jqLiteData,inheritedData:jqLiteInheritedData,scope:function(element){return jqLite.data(element,"$scope")||jqLiteInheritedData(element.parentNode||element,["$isolateScope","$scope"])},isolateScope:function(element){return jqLite.data(element,"$isolateScope")||jqLite.data(element,"$isolateScopeNoTemplate")},controller:jqLiteController,injector:function(element){return jqLiteInheritedData(element,"$injector")},removeAttr:function(element,name){element.removeAttribute(name)},hasClass:jqLiteHasClass,css:function(element,name,value){return name=camelCase(name),isDefined(value)?void(element.style[name]=value):element.style[name]},attr:function(element,name,value){var nodeType=element.nodeType;if(nodeType!==NODE_TYPE_TEXT&&nodeType!==NODE_TYPE_ATTRIBUTE&&nodeType!==NODE_TYPE_COMMENT){var lowercasedName=lowercase(name);if(BOOLEAN_ATTR[lowercasedName]){if(!isDefined(value))return element[name]||(element.attributes.getNamedItem(name)||noop).specified?lowercasedName:undefined;value?(element[name]=!0,element.setAttribute(name,lowercasedName)):(element[name]=!1,element.removeAttribute(lowercasedName))}else if(isDefined(value))element.setAttribute(name,value);else if(element.getAttribute){var ret=element.getAttribute(name,2);return null===ret?undefined:ret}}},prop:function(element,name,value){return isDefined(value)?void(element[name]=value):element[name]},text:function(){function getText(element,value){if(isUndefined(value)){var nodeType=element.nodeType;return nodeType===NODE_TYPE_ELEMENT||nodeType===NODE_TYPE_TEXT?element.textContent:""}element.textContent=value}return getText.$dv="",getText}(),val:function(element,value){if(isUndefined(value)){if(element.multiple&&"select"===nodeName_(element)){var result=[];return forEach(element.options,function(option){option.selected&&result.push(option.value||option.text)}),0===result.length?null:result}return element.value}element.value=value},html:function(element,value){return isUndefined(value)?element.innerHTML:(jqLiteDealoc(element,!0),void(element.innerHTML=value))},empty:jqLiteEmpty},function(fn,name){JQLite.prototype[name]=function(arg1,arg2){var i,key,nodeCount=this.length;if(fn!==jqLiteEmpty&&(2==fn.length&&fn!==jqLiteHasClass&&fn!==jqLiteController?arg1:arg2)===undefined){if(isObject(arg1)){for(i=0;i<nodeCount;i++)if(fn===jqLiteData)fn(this[i],arg1);else for(key in arg1)fn(this[i],key,arg1[key]);return this}for(var value=fn.$dv,jj=value===undefined?Math.min(nodeCount,1):nodeCount,j=0;j<jj;j++){var nodeValue=fn(this[j],arg1,arg2);value=value?value+nodeValue:nodeValue}return value}for(i=0;i<nodeCount;i++)fn(this[i],arg1,arg2);return this}}),forEach({removeData:jqLiteRemoveData,on:function jqLiteOn(element,type,fn,unsupported){if(isDefined(unsupported))throw jqLiteMinErr("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(jqLiteAcceptsData(element)){var expandoStore=jqLiteExpandoStore(element,!0),events=expandoStore.events,handle=expandoStore.handle;handle||(handle=expandoStore.handle=createEventHandler(element,events));for(var types=type.indexOf(" ")>=0?type.split(" "):[type],i=types.length;i--;){type=types[i];var eventFns=events[type];eventFns||(events[type]=[],"mouseenter"===type||"mouseleave"===type?jqLiteOn(element,MOUSE_EVENT_MAP[type],function(event){var target=this,related=event.relatedTarget;related&&(related===target||target.contains(related))||handle(event,type)}):"$destroy"!==type&&addEventListenerFn(element,type,handle),eventFns=events[type]),eventFns.push(fn)}}},off:jqLiteOff,one:function(element,type,fn){element=jqLite(element),element.on(type,function onFn(){element.off(type,fn),element.off(type,onFn)}),element.on(type,fn)},replaceWith:function(element,replaceNode){var index,parent=element.parentNode;jqLiteDealoc(element),forEach(new JQLite(replaceNode),function(node){index?parent.insertBefore(node,index.nextSibling):parent.replaceChild(node,element),index=node})},children:function(element){var children=[];return forEach(element.childNodes,function(element){element.nodeType===NODE_TYPE_ELEMENT&&children.push(element)}),children},contents:function(element){return element.contentDocument||element.childNodes||[]},append:function(element,node){var nodeType=element.nodeType;if(nodeType===NODE_TYPE_ELEMENT||nodeType===NODE_TYPE_DOCUMENT_FRAGMENT){node=new JQLite(node);for(var i=0,ii=node.length;i<ii;i++){var child=node[i];element.appendChild(child)}}},prepend:function(element,node){if(element.nodeType===NODE_TYPE_ELEMENT){var index=element.firstChild;forEach(new JQLite(node),function(child){element.insertBefore(child,index)})}},wrap:function(element,wrapNode){wrapNode=jqLite(wrapNode).eq(0).clone()[0];var parent=element.parentNode;parent&&parent.replaceChild(wrapNode,element),wrapNode.appendChild(element)},remove:jqLiteRemove,detach:function(element){jqLiteRemove(element,!0)},after:function(element,newElement){var index=element,parent=element.parentNode;newElement=new JQLite(newElement);for(var i=0,ii=newElement.length;i<ii;i++){var node=newElement[i];parent.insertBefore(node,index.nextSibling),index=node}},addClass:jqLiteAddClass,removeClass:jqLiteRemoveClass,toggleClass:function(element,selector,condition){selector&&forEach(selector.split(" "),function(className){var classCondition=condition;isUndefined(classCondition)&&(classCondition=!jqLiteHasClass(element,className)),(classCondition?jqLiteAddClass:jqLiteRemoveClass)(element,className)})},parent:function(element){var parent=element.parentNode;return parent&&parent.nodeType!==NODE_TYPE_DOCUMENT_FRAGMENT?parent:null},next:function(element){return element.nextElementSibling},find:function(element,selector){return element.getElementsByTagName?element.getElementsByTagName(selector):[]},clone:jqLiteClone,triggerHandler:function(element,event,extraParameters){var dummyEvent,eventFnsCopy,handlerArgs,eventName=event.type||event,expandoStore=jqLiteExpandoStore(element),events=expandoStore&&expandoStore.events,eventFns=events&&events[eventName];eventFns&&(dummyEvent={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return this.defaultPrevented===!0},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return this.immediatePropagationStopped===!0},stopPropagation:noop,type:eventName,target:element},event.type&&(dummyEvent=extend(dummyEvent,event)),eventFnsCopy=shallowCopy(eventFns),handlerArgs=extraParameters?[dummyEvent].concat(extraParameters):[dummyEvent],forEach(eventFnsCopy,function(fn){dummyEvent.isImmediatePropagationStopped()||fn.apply(element,handlerArgs)}))}},function(fn,name){JQLite.prototype[name]=function(arg1,arg2,arg3){for(var value,i=0,ii=this.length;i<ii;i++)isUndefined(value)?(value=fn(this[i],arg1,arg2,arg3),isDefined(value)&&(value=jqLite(value))):jqLiteAddNodes(value,fn(this[i],arg1,arg2,arg3));return isDefined(value)?value:this},JQLite.prototype.bind=JQLite.prototype.on,JQLite.prototype.unbind=JQLite.prototype.off}),HashMap.prototype={put:function(key,value){this[hashKey(key,this.nextUid)]=value},get:function(key){return this[hashKey(key,this.nextUid)]},remove:function(key){var value=this[key=hashKey(key,this.nextUid)];return delete this[key],value}};var $$HashMapProvider=[function(){this.$get=[function(){return HashMap}]}],FN_ARGS=/^function\s*[^\(]*\(\s*([^\)]*)\)/m,FN_ARG_SPLIT=/,/,FN_ARG=/^\s*(_?)(\S+?)\1\s*$/,STRIP_COMMENTS=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,$injectorMinErr=minErr("$injector");createInjector.$$annotate=annotate;var $animateMinErr=minErr("$animate"),ELEMENT_NODE=1,NG_ANIMATE_CLASSNAME="ng-animate",$$CoreAnimateRunnerProvider=function(){this.$get=["$q","$$rAF",function($q,$$rAF){function AnimateRunner(){}return AnimateRunner.all=noop,AnimateRunner.chain=noop,AnimateRunner.prototype={end:noop,cancel:noop,resume:noop,pause:noop,complete:noop,then:function(pass,fail){return $q(function(resolve){$$rAF(function(){resolve()})}).then(pass,fail)}},AnimateRunner}]},$$CoreAnimateQueueProvider=function(){var postDigestQueue=new HashMap,postDigestElements=[];this.$get=["$$AnimateRunner","$rootScope",function($$AnimateRunner,$rootScope){function addRemoveClassesPostDigest(element,add,remove){var data=postDigestQueue.get(element);data||(postDigestQueue.put(element,data={}),postDigestElements.push(element)),add&&forEach(add.split(" "),function(className){className&&(data[className]=!0)}),remove&&forEach(remove.split(" "),function(className){className&&(data[className]=!1)}),postDigestElements.length>1||$rootScope.$$postDigest(function(){forEach(postDigestElements,function(element){var data=postDigestQueue.get(element);if(data){var existing=splitClasses(element.attr("class")),toAdd="",toRemove="";forEach(data,function(status,className){var hasClass=!!existing[className];status!==hasClass&&(status?toAdd+=(toAdd.length?" ":"")+className:toRemove+=(toRemove.length?" ":"")+className)}),forEach(element,function(elm){toAdd&&jqLiteAddClass(elm,toAdd),toRemove&&jqLiteRemoveClass(elm,toRemove)}),postDigestQueue.remove(element)}}),postDigestElements.length=0})}return{enabled:noop,on:noop,off:noop,pin:noop,push:function(element,event,options,domOperation){return domOperation&&domOperation(),options=options||{},options.from&&element.css(options.from),options.to&&element.css(options.to),(options.addClass||options.removeClass)&&addRemoveClassesPostDigest(element,options.addClass,options.removeClass),new $$AnimateRunner}}}]},$AnimateProvider=["$provide",function($provide){var provider=this;this.$$registeredAnimations=Object.create(null),this.register=function(name,factory){if(name&&"."!==name.charAt(0))throw $animateMinErr("notcsel","Expecting class selector starting with '.' got '{0}'.",name);var key=name+"-animation";provider.$$registeredAnimations[name.substr(1)]=key,$provide.factory(key,factory)},this.classNameFilter=function(expression){if(1===arguments.length&&(this.$$classNameFilter=expression instanceof RegExp?expression:null,this.$$classNameFilter)){var reservedRegex=new RegExp("(\\s+|\\/)"+NG_ANIMATE_CLASSNAME+"(\\s+|\\/)");if(reservedRegex.test(this.$$classNameFilter.toString()))throw $animateMinErr("nongcls",'$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.',NG_ANIMATE_CLASSNAME)}return this.$$classNameFilter},this.$get=["$$animateQueue",function($$animateQueue){function domInsert(element,parentElement,afterElement){if(afterElement){var afterNode=extractElementNode(afterElement);!afterNode||afterNode.parentNode||afterNode.previousElementSibling||(afterElement=null)}afterElement?afterElement.after(element):parentElement.prepend(element)}return{on:$$animateQueue.on,off:$$animateQueue.off,pin:$$animateQueue.pin,enabled:$$animateQueue.enabled,cancel:function(runner){runner.end&&runner.end()},enter:function(element,parent,after,options){return parent=parent&&jqLite(parent),after=after&&jqLite(after),parent=parent||after.parent(),domInsert(element,parent,after),$$animateQueue.push(element,"enter",prepareAnimateOptions(options))},move:function(element,parent,after,options){return parent=parent&&jqLite(parent),after=after&&jqLite(after),parent=parent||after.parent(),domInsert(element,parent,after),$$animateQueue.push(element,"move",prepareAnimateOptions(options))},leave:function(element,options){return $$animateQueue.push(element,"leave",prepareAnimateOptions(options),function(){element.remove()})},addClass:function(element,className,options){return options=prepareAnimateOptions(options),options.addClass=mergeClasses(options.addclass,className),$$animateQueue.push(element,"addClass",options)},removeClass:function(element,className,options){return options=prepareAnimateOptions(options),options.removeClass=mergeClasses(options.removeClass,className),$$animateQueue.push(element,"removeClass",options)},setClass:function(element,add,remove,options){return options=prepareAnimateOptions(options),options.addClass=mergeClasses(options.addClass,add),options.removeClass=mergeClasses(options.removeClass,remove),$$animateQueue.push(element,"setClass",options)},animate:function(element,from,to,className,options){return options=prepareAnimateOptions(options),options.from=options.from?extend(options.from,from):from,options.to=options.to?extend(options.to,to):to,className=className||"ng-inline-animate",options.tempClasses=mergeClasses(options.tempClasses,className),$$animateQueue.push(element,"animate",options)}}}]}],$compileMinErr=minErr("$compile");$CompileProvider.$inject=["$provide","$$sanitizeUriProvider"];var PREFIX_REGEXP=/^((?:x|data)[\:\-_])/i,$controllerMinErr=minErr("$controller"),CNTRL_REG=/^(\S+)(\s+as\s+(\w+))?$/,APPLICATION_JSON="application/json",CONTENT_TYPE_APPLICATION_JSON={"Content-Type":APPLICATION_JSON+";charset=utf-8"},JSON_START=/^\[|^\{(?!\{)/,JSON_ENDS={"[":/]$/,"{":/}$/},JSON_PROTECTION_PREFIX=/^\)\]\}',?\n/,$interpolateMinErr=angular.$interpolateMinErr=minErr("$interpolate");$interpolateMinErr.throwNoconcat=function(text){throw $interpolateMinErr("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",text)},$interpolateMinErr.interr=function(text,err){return $interpolateMinErr("interr","Can't interpolate: {0}\n{1}",text,err.toString())};var PATH_MATCH=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,DEFAULT_PORTS={http:80,https:443,ftp:21},$locationMinErr=minErr("$location"),locationPrototype={$$html5:!1,$$replace:!1,absUrl:locationGetter("$$absUrl"),url:function(url){if(isUndefined(url))return this.$$url;var match=PATH_MATCH.exec(url);return(match[1]||""===url)&&this.path(decodeURIComponent(match[1])),(match[2]||match[1]||""===url)&&this.search(match[3]||""),this.hash(match[5]||""),this},protocol:locationGetter("$$protocol"),host:locationGetter("$$host"),port:locationGetter("$$port"),path:locationGetterSetter("$$path",function(path){return path=null!==path?path.toString():"","/"==path.charAt(0)?path:"/"+path}),search:function(search,paramValue){switch(arguments.length){case 0:return this.$$search;case 1:if(isString(search)||isNumber(search))search=search.toString(),this.$$search=parseKeyValue(search);else{if(!isObject(search))throw $locationMinErr("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");search=copy(search,{}),forEach(search,function(value,key){null==value&&delete search[key]}),this.$$search=search}break;default:isUndefined(paramValue)||null===paramValue?delete this.$$search[search]:this.$$search[search]=paramValue}return this.$$compose(),this},hash:locationGetterSetter("$$hash",function(hash){return null!==hash?hash.toString():""}),replace:function(){return this.$$replace=!0,this}};forEach([LocationHashbangInHtml5Url,LocationHashbangUrl,LocationHtml5Url],function(Location){Location.prototype=Object.create(locationPrototype),Location.prototype.state=function(state){if(!arguments.length)return this.$$state;if(Location!==LocationHtml5Url||!this.$$html5)throw $locationMinErr("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");
return this.$$state=isUndefined(state)?null:state,this}});var $parseMinErr=minErr("$parse"),CALL=Function.prototype.call,APPLY=Function.prototype.apply,BIND=Function.prototype.bind,OPERATORS=createMap();forEach("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(operator){OPERATORS[operator]=!0});var ESCAPE={n:"\n",f:"\f",r:"\r",t:"\t",v:"\x0B","'":"'",'"':'"'},Lexer=function(options){this.options=options};Lexer.prototype={constructor:Lexer,lex:function(text){for(this.text=text,this.index=0,this.tokens=[];this.index<this.text.length;){var ch=this.text.charAt(this.index);if('"'===ch||"'"===ch)this.readString(ch);else if(this.isNumber(ch)||"."===ch&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(ch))this.readIdent();else if(this.is(ch,"(){}[].,;:?"))this.tokens.push({index:this.index,text:ch}),this.index++;else if(this.isWhitespace(ch))this.index++;else{var ch2=ch+this.peek(),ch3=ch2+this.peek(2),op1=OPERATORS[ch],op2=OPERATORS[ch2],op3=OPERATORS[ch3];if(op1||op2||op3){var token=op3?ch3:op2?ch2:ch;this.tokens.push({index:this.index,text:token,operator:!0}),this.index+=token.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(ch,chars){return chars.indexOf(ch)!==-1},peek:function(i){var num=i||1;return this.index+num<this.text.length&&this.text.charAt(this.index+num)},isNumber:function(ch){return"0"<=ch&&ch<="9"&&"string"==typeof ch},isWhitespace:function(ch){return" "===ch||"\r"===ch||"\t"===ch||"\n"===ch||"\x0B"===ch||""===ch},isIdent:function(ch){return"a"<=ch&&ch<="z"||"A"<=ch&&ch<="Z"||"_"===ch||"$"===ch},isExpOperator:function(ch){return"-"===ch||"+"===ch||this.isNumber(ch)},throwError:function(error,start,end){end=end||this.index;var colStr=isDefined(start)?"s "+start+"-"+this.index+" ["+this.text.substring(start,end)+"]":" "+end;throw $parseMinErr("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",error,colStr,this.text)},readNumber:function(){for(var number="",start=this.index;this.index<this.text.length;){var ch=lowercase(this.text.charAt(this.index));if("."==ch||this.isNumber(ch))number+=ch;else{var peekCh=this.peek();if("e"==ch&&this.isExpOperator(peekCh))number+=ch;else if(this.isExpOperator(ch)&&peekCh&&this.isNumber(peekCh)&&"e"==number.charAt(number.length-1))number+=ch;else{if(!this.isExpOperator(ch)||peekCh&&this.isNumber(peekCh)||"e"!=number.charAt(number.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:start,text:number,constant:!0,value:Number(number)})},readIdent:function(){for(var start=this.index;this.index<this.text.length;){var ch=this.text.charAt(this.index);if(!this.isIdent(ch)&&!this.isNumber(ch))break;this.index++}this.tokens.push({index:start,text:this.text.slice(start,this.index),identifier:!0})},readString:function(quote){var start=this.index;this.index++;for(var string="",rawString=quote,escape=!1;this.index<this.text.length;){var ch=this.text.charAt(this.index);if(rawString+=ch,escape){if("u"===ch){var hex=this.text.substring(this.index+1,this.index+5);hex.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+hex+"]"),this.index+=4,string+=String.fromCharCode(parseInt(hex,16))}else{var rep=ESCAPE[ch];string+=rep||ch}escape=!1}else if("\\"===ch)escape=!0;else{if(ch===quote)return this.index++,void this.tokens.push({index:start,text:rawString,constant:!0,value:string});string+=ch}this.index++}this.throwError("Unterminated quote",start)}};var AST=function(lexer,options){this.lexer=lexer,this.options=options};AST.Program="Program",AST.ExpressionStatement="ExpressionStatement",AST.AssignmentExpression="AssignmentExpression",AST.ConditionalExpression="ConditionalExpression",AST.LogicalExpression="LogicalExpression",AST.BinaryExpression="BinaryExpression",AST.UnaryExpression="UnaryExpression",AST.CallExpression="CallExpression",AST.MemberExpression="MemberExpression",AST.Identifier="Identifier",AST.Literal="Literal",AST.ArrayExpression="ArrayExpression",AST.Property="Property",AST.ObjectExpression="ObjectExpression",AST.ThisExpression="ThisExpression",AST.NGValueParameter="NGValueParameter",AST.prototype={ast:function(text){this.text=text,this.tokens=this.lexer.lex(text);var value=this.program();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),value},program:function(){for(var body=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&body.push(this.expressionStatement()),!this.expect(";"))return{type:AST.Program,body:body}},expressionStatement:function(){return{type:AST.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var token,left=this.expression();token=this.expect("|");)left=this.filter(left);return left},expression:function(){return this.assignment()},assignment:function(){var result=this.ternary();return this.expect("=")&&(result={type:AST.AssignmentExpression,left:result,right:this.assignment(),operator:"="}),result},ternary:function(){var alternate,consequent,test=this.logicalOR();return this.expect("?")&&(alternate=this.expression(),this.consume(":"))?(consequent=this.expression(),{type:AST.ConditionalExpression,test:test,alternate:alternate,consequent:consequent}):test},logicalOR:function(){for(var left=this.logicalAND();this.expect("||");)left={type:AST.LogicalExpression,operator:"||",left:left,right:this.logicalAND()};return left},logicalAND:function(){for(var left=this.equality();this.expect("&&");)left={type:AST.LogicalExpression,operator:"&&",left:left,right:this.equality()};return left},equality:function(){for(var token,left=this.relational();token=this.expect("==","!=","===","!==");)left={type:AST.BinaryExpression,operator:token.text,left:left,right:this.relational()};return left},relational:function(){for(var token,left=this.additive();token=this.expect("<",">","<=",">=");)left={type:AST.BinaryExpression,operator:token.text,left:left,right:this.additive()};return left},additive:function(){for(var token,left=this.multiplicative();token=this.expect("+","-");)left={type:AST.BinaryExpression,operator:token.text,left:left,right:this.multiplicative()};return left},multiplicative:function(){for(var token,left=this.unary();token=this.expect("*","/","%");)left={type:AST.BinaryExpression,operator:token.text,left:left,right:this.unary()};return left},unary:function(){var token;return(token=this.expect("+","-","!"))?{type:AST.UnaryExpression,operator:token.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var primary;this.expect("(")?(primary=this.filterChain(),this.consume(")")):this.expect("[")?primary=this.arrayDeclaration():this.expect("{")?primary=this.object():this.constants.hasOwnProperty(this.peek().text)?primary=copy(this.constants[this.consume().text]):this.peek().identifier?primary=this.identifier():this.peek().constant?primary=this.constant():this.throwError("not a primary expression",this.peek());for(var next;next=this.expect("(","[",".");)"("===next.text?(primary={type:AST.CallExpression,callee:primary,arguments:this.parseArguments()},this.consume(")")):"["===next.text?(primary={type:AST.MemberExpression,object:primary,property:this.expression(),computed:!0},this.consume("]")):"."===next.text?primary={type:AST.MemberExpression,object:primary,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return primary},filter:function(baseExpression){for(var args=[baseExpression],result={type:AST.CallExpression,callee:this.identifier(),arguments:args,filter:!0};this.expect(":");)args.push(this.expression());return result},parseArguments:function(){var args=[];if(")"!==this.peekToken().text)do args.push(this.expression());while(this.expect(","));return args},identifier:function(){var token=this.consume();return token.identifier||this.throwError("is not a valid identifier",token),{type:AST.Identifier,name:token.text}},constant:function(){return{type:AST.Literal,value:this.consume().value}},arrayDeclaration:function(){var elements=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;elements.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:AST.ArrayExpression,elements:elements}},object:function(){var property,properties=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;property={type:AST.Property,kind:"init"},this.peek().constant?property.key=this.constant():this.peek().identifier?property.key=this.identifier():this.throwError("invalid key",this.peek()),this.consume(":"),property.value=this.expression(),properties.push(property)}while(this.expect(","));return this.consume("}"),{type:AST.ObjectExpression,properties:properties}},throwError:function(msg,token){throw $parseMinErr("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",token.text,msg,token.index+1,this.text,this.text.substring(token.index))},consume:function(e1){if(0===this.tokens.length)throw $parseMinErr("ueoe","Unexpected end of expression: {0}",this.text);var token=this.expect(e1);return token||this.throwError("is unexpected, expecting ["+e1+"]",this.peek()),token},peekToken:function(){if(0===this.tokens.length)throw $parseMinErr("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(e1,e2,e3,e4){return this.peekAhead(0,e1,e2,e3,e4)},peekAhead:function(i,e1,e2,e3,e4){if(this.tokens.length>i){var token=this.tokens[i],t=token.text;if(t===e1||t===e2||t===e3||t===e4||!e1&&!e2&&!e3&&!e4)return token}return!1},expect:function(e1,e2,e3,e4){var token=this.peek(e1,e2,e3,e4);return!!token&&(this.tokens.shift(),token)},constants:{"true":{type:AST.Literal,value:!0},"false":{type:AST.Literal,value:!1},"null":{type:AST.Literal,value:null},undefined:{type:AST.Literal,value:undefined},"this":{type:AST.ThisExpression}}},ASTCompiler.prototype={compile:function(expression,expensiveChecks){var self=this,ast=this.astBuilder.ast(expression);this.state={nextId:0,filters:{},expensiveChecks:expensiveChecks,fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},findConstantAndWatchExpressions(ast,self.$filter);var assignable,extra="";if(this.stage="assign",assignable=assignableAST(ast)){this.state.computing="assign";var result=this.nextId();this.recurse(assignable,result),extra="fn.assign="+this.generateFunction("assign","s,v,l")}var toWatch=getInputs(ast.body);self.stage="inputs",forEach(toWatch,function(watch,key){var fnKey="fn"+key;self.state[fnKey]={vars:[],body:[],own:{}},self.state.computing=fnKey;var intoId=self.nextId();self.recurse(watch,intoId),self.return_(intoId),self.state.inputs.push(fnKey),watch.watchId=key}),this.state.computing="fn",this.stage="main",this.recurse(ast);var fnString='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+extra+this.watchFns()+"return fn;",fn=new Function("$filter","ensureSafeMemberName","ensureSafeObject","ensureSafeFunction","ifDefined","plus","text",fnString)(this.$filter,ensureSafeMemberName,ensureSafeObject,ensureSafeFunction,ifDefined,plusFn,expression);return this.state=this.stage=undefined,fn.literal=isLiteral(ast),fn.constant=isConstant(ast),fn},USE:"use",STRICT:"strict",watchFns:function(){var result=[],fns=this.state.inputs,self=this;return forEach(fns,function(name){result.push("var "+name+"="+self.generateFunction(name,"s"))}),fns.length&&result.push("fn.inputs=["+fns.join(",")+"];"),result.join("")},generateFunction:function(name,params){return"function("+params+"){"+this.varsPrefix(name)+this.body(name)+"};"},filterPrefix:function(){var parts=[],self=this;return forEach(this.state.filters,function(id,filter){parts.push(id+"=$filter("+self.escape(filter)+")")}),parts.length?"var "+parts.join(",")+";":""},varsPrefix:function(section){return this.state[section].vars.length?"var "+this.state[section].vars.join(",")+";":""},body:function(section){return this.state[section].body.join("")},recurse:function(ast,intoId,nameId,recursionFn,create,skipWatchIdCheck){var left,right,args,expression,self=this;if(recursionFn=recursionFn||noop,!skipWatchIdCheck&&isDefined(ast.watchId))return intoId=intoId||this.nextId(),void this.if_("i",this.lazyAssign(intoId,this.computedMember("i",ast.watchId)),this.lazyRecurse(ast,intoId,nameId,recursionFn,create,!0));switch(ast.type){case AST.Program:forEach(ast.body,function(expression,pos){self.recurse(expression.expression,undefined,undefined,function(expr){right=expr}),pos!==ast.body.length-1?self.current().body.push(right,";"):self.return_(right)});break;case AST.Literal:expression=this.escape(ast.value),this.assign(intoId,expression),recursionFn(expression);break;case AST.UnaryExpression:this.recurse(ast.argument,undefined,undefined,function(expr){right=expr}),expression=ast.operator+"("+this.ifDefined(right,0)+")",this.assign(intoId,expression),recursionFn(expression);break;case AST.BinaryExpression:this.recurse(ast.left,undefined,undefined,function(expr){left=expr}),this.recurse(ast.right,undefined,undefined,function(expr){right=expr}),expression="+"===ast.operator?this.plus(left,right):"-"===ast.operator?this.ifDefined(left,0)+ast.operator+this.ifDefined(right,0):"("+left+")"+ast.operator+"("+right+")",this.assign(intoId,expression),recursionFn(expression);break;case AST.LogicalExpression:intoId=intoId||this.nextId(),self.recurse(ast.left,intoId),self.if_("&&"===ast.operator?intoId:self.not(intoId),self.lazyRecurse(ast.right,intoId)),recursionFn(intoId);break;case AST.ConditionalExpression:intoId=intoId||this.nextId(),self.recurse(ast.test,intoId),self.if_(intoId,self.lazyRecurse(ast.alternate,intoId),self.lazyRecurse(ast.consequent,intoId)),recursionFn(intoId);break;case AST.Identifier:intoId=intoId||this.nextId(),nameId&&(nameId.context="inputs"===self.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",ast.name)+"?l:s"),nameId.computed=!1,nameId.name=ast.name),ensureSafeMemberName(ast.name),self.if_("inputs"===self.stage||self.not(self.getHasOwnProperty("l",ast.name)),function(){self.if_("inputs"===self.stage||"s",function(){create&&1!==create&&self.if_(self.not(self.nonComputedMember("s",ast.name)),self.lazyAssign(self.nonComputedMember("s",ast.name),"{}")),self.assign(intoId,self.nonComputedMember("s",ast.name))})},intoId&&self.lazyAssign(intoId,self.nonComputedMember("l",ast.name))),(self.state.expensiveChecks||isPossiblyDangerousMemberName(ast.name))&&self.addEnsureSafeObject(intoId),recursionFn(intoId);break;case AST.MemberExpression:left=nameId&&(nameId.context=this.nextId())||this.nextId(),intoId=intoId||this.nextId(),self.recurse(ast.object,left,undefined,function(){self.if_(self.notNull(left),function(){ast.computed?(right=self.nextId(),self.recurse(ast.property,right),self.addEnsureSafeMemberName(right),create&&1!==create&&self.if_(self.not(self.computedMember(left,right)),self.lazyAssign(self.computedMember(left,right),"{}")),expression=self.ensureSafeObject(self.computedMember(left,right)),self.assign(intoId,expression),nameId&&(nameId.computed=!0,nameId.name=right)):(ensureSafeMemberName(ast.property.name),create&&1!==create&&self.if_(self.not(self.nonComputedMember(left,ast.property.name)),self.lazyAssign(self.nonComputedMember(left,ast.property.name),"{}")),expression=self.nonComputedMember(left,ast.property.name),(self.state.expensiveChecks||isPossiblyDangerousMemberName(ast.property.name))&&(expression=self.ensureSafeObject(expression)),self.assign(intoId,expression),nameId&&(nameId.computed=!1,nameId.name=ast.property.name))},function(){self.assign(intoId,"undefined")}),recursionFn(intoId)},!!create);break;case AST.CallExpression:intoId=intoId||this.nextId(),ast.filter?(right=self.filter(ast.callee.name),args=[],forEach(ast.arguments,function(expr){var argument=self.nextId();self.recurse(expr,argument),args.push(argument)}),expression=right+"("+args.join(",")+")",self.assign(intoId,expression),recursionFn(intoId)):(right=self.nextId(),left={},args=[],self.recurse(ast.callee,right,left,function(){self.if_(self.notNull(right),function(){self.addEnsureSafeFunction(right),forEach(ast.arguments,function(expr){self.recurse(expr,self.nextId(),undefined,function(argument){args.push(self.ensureSafeObject(argument))})}),left.name?(self.state.expensiveChecks||self.addEnsureSafeObject(left.context),expression=self.member(left.context,left.name,left.computed)+"("+args.join(",")+")"):expression=right+"("+args.join(",")+")",expression=self.ensureSafeObject(expression),self.assign(intoId,expression)},function(){self.assign(intoId,"undefined")}),recursionFn(intoId)}));break;case AST.AssignmentExpression:if(right=this.nextId(),left={},!isAssignable(ast.left))throw $parseMinErr("lval","Trying to assing a value to a non l-value");this.recurse(ast.left,undefined,left,function(){self.if_(self.notNull(left.context),function(){self.recurse(ast.right,right),self.addEnsureSafeObject(self.member(left.context,left.name,left.computed)),expression=self.member(left.context,left.name,left.computed)+ast.operator+right,self.assign(intoId,expression),recursionFn(intoId||expression)})},1);break;case AST.ArrayExpression:args=[],forEach(ast.elements,function(expr){self.recurse(expr,self.nextId(),undefined,function(argument){args.push(argument)})}),expression="["+args.join(",")+"]",this.assign(intoId,expression),recursionFn(expression);break;case AST.ObjectExpression:args=[],forEach(ast.properties,function(property){self.recurse(property.value,self.nextId(),undefined,function(expr){args.push(self.escape(property.key.type===AST.Identifier?property.key.name:""+property.key.value)+":"+expr)})}),expression="{"+args.join(",")+"}",this.assign(intoId,expression),recursionFn(expression);break;case AST.ThisExpression:this.assign(intoId,"s"),recursionFn("s");break;case AST.NGValueParameter:this.assign(intoId,"v"),recursionFn("v")}},getHasOwnProperty:function(element,property){var key=element+"."+property,own=this.current().own;return own.hasOwnProperty(key)||(own[key]=this.nextId(!1,element+"&&("+this.escape(property)+" in "+element+")")),own[key]},assign:function(id,value){if(id)return this.current().body.push(id,"=",value,";"),id},filter:function(filterName){return this.state.filters.hasOwnProperty(filterName)||(this.state.filters[filterName]=this.nextId(!0)),this.state.filters[filterName]},ifDefined:function(id,defaultValue){return"ifDefined("+id+","+this.escape(defaultValue)+")"},plus:function(left,right){return"plus("+left+","+right+")"},return_:function(id){this.current().body.push("return ",id,";")},if_:function(test,alternate,consequent){if(test===!0)alternate();else{var body=this.current().body;body.push("if(",test,"){"),alternate(),body.push("}"),consequent&&(body.push("else{"),consequent(),body.push("}"))}},not:function(expression){return"!("+expression+")"},notNull:function(expression){return expression+"!=null"},nonComputedMember:function(left,right){return left+"."+right},computedMember:function(left,right){return left+"["+right+"]"},member:function(left,right,computed){return computed?this.computedMember(left,right):this.nonComputedMember(left,right)},addEnsureSafeObject:function(item){this.current().body.push(this.ensureSafeObject(item),";")},addEnsureSafeMemberName:function(item){this.current().body.push(this.ensureSafeMemberName(item),";")},addEnsureSafeFunction:function(item){this.current().body.push(this.ensureSafeFunction(item),";")},ensureSafeObject:function(item){return"ensureSafeObject("+item+",text)"},ensureSafeMemberName:function(item){return"ensureSafeMemberName("+item+",text)"},ensureSafeFunction:function(item){return"ensureSafeFunction("+item+",text)"},lazyRecurse:function(ast,intoId,nameId,recursionFn,create,skipWatchIdCheck){var self=this;return function(){self.recurse(ast,intoId,nameId,recursionFn,create,skipWatchIdCheck)}},lazyAssign:function(id,value){var self=this;return function(){self.assign(id,value)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(c){return"\\u"+("0000"+c.charCodeAt(0).toString(16)).slice(-4)},escape:function(value){if(isString(value))return"'"+value.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(isNumber(value))return value.toString();if(value===!0)return"true";if(value===!1)return"false";if(null===value)return"null";if("undefined"==typeof value)return"undefined";throw $parseMinErr("esc","IMPOSSIBLE")},nextId:function(skip,init){var id="v"+this.state.nextId++;return skip||this.current().vars.push(id+(init?"="+init:"")),id},current:function(){return this.state[this.state.computing]}},ASTInterpreter.prototype={compile:function(expression,expensiveChecks){var self=this,ast=this.astBuilder.ast(expression);this.expression=expression,this.expensiveChecks=expensiveChecks,findConstantAndWatchExpressions(ast,self.$filter);var assignable,assign;(assignable=assignableAST(ast))&&(assign=this.recurse(assignable));var inputs,toWatch=getInputs(ast.body);toWatch&&(inputs=[],forEach(toWatch,function(watch,key){var input=self.recurse(watch);watch.input=input,inputs.push(input),watch.watchId=key}));var expressions=[];forEach(ast.body,function(expression){expressions.push(self.recurse(expression.expression))});var fn=0===ast.body.length?function(){}:1===ast.body.length?expressions[0]:function(scope,locals){var lastValue;return forEach(expressions,function(exp){lastValue=exp(scope,locals)}),lastValue};return assign&&(fn.assign=function(scope,value,locals){return assign(scope,locals,value)}),inputs&&(fn.inputs=inputs),fn.literal=isLiteral(ast),fn.constant=isConstant(ast),fn},recurse:function(ast,context,create){var left,right,args,self=this;if(ast.input)return this.inputs(ast.input,ast.watchId);switch(ast.type){case AST.Literal:return this.value(ast.value,context);case AST.UnaryExpression:return right=this.recurse(ast.argument),this["unary"+ast.operator](right,context);case AST.BinaryExpression:return left=this.recurse(ast.left),right=this.recurse(ast.right),this["binary"+ast.operator](left,right,context);case AST.LogicalExpression:return left=this.recurse(ast.left),right=this.recurse(ast.right),this["binary"+ast.operator](left,right,context);case AST.ConditionalExpression:return this["ternary?:"](this.recurse(ast.test),this.recurse(ast.alternate),this.recurse(ast.consequent),context);case AST.Identifier:return ensureSafeMemberName(ast.name,self.expression),self.identifier(ast.name,self.expensiveChecks||isPossiblyDangerousMemberName(ast.name),context,create,self.expression);case AST.MemberExpression:return left=this.recurse(ast.object,!1,!!create),ast.computed||(ensureSafeMemberName(ast.property.name,self.expression),right=ast.property.name),ast.computed&&(right=this.recurse(ast.property)),ast.computed?this.computedMember(left,right,context,create,self.expression):this.nonComputedMember(left,right,self.expensiveChecks,context,create,self.expression);case AST.CallExpression:return args=[],forEach(ast.arguments,function(expr){args.push(self.recurse(expr))}),ast.filter&&(right=this.$filter(ast.callee.name)),ast.filter||(right=this.recurse(ast.callee,!0)),ast.filter?function(scope,locals,assign,inputs){for(var values=[],i=0;i<args.length;++i)values.push(args[i](scope,locals,assign,inputs));var value=right.apply(undefined,values,inputs);return context?{context:undefined,name:undefined,value:value}:value}:function(scope,locals,assign,inputs){var value,rhs=right(scope,locals,assign,inputs);if(null!=rhs.value){ensureSafeObject(rhs.context,self.expression),ensureSafeFunction(rhs.value,self.expression);for(var values=[],i=0;i<args.length;++i)values.push(ensureSafeObject(args[i](scope,locals,assign,inputs),self.expression));value=ensureSafeObject(rhs.value.apply(rhs.context,values),self.expression)}return context?{value:value}:value};case AST.AssignmentExpression:return left=this.recurse(ast.left,!0,1),right=this.recurse(ast.right),function(scope,locals,assign,inputs){var lhs=left(scope,locals,assign,inputs),rhs=right(scope,locals,assign,inputs);return ensureSafeObject(lhs.value,self.expression),lhs.context[lhs.name]=rhs,context?{value:rhs}:rhs};case AST.ArrayExpression:return args=[],forEach(ast.elements,function(expr){args.push(self.recurse(expr))}),function(scope,locals,assign,inputs){for(var value=[],i=0;i<args.length;++i)value.push(args[i](scope,locals,assign,inputs));return context?{value:value}:value};case AST.ObjectExpression:return args=[],forEach(ast.properties,function(property){args.push({key:property.key.type===AST.Identifier?property.key.name:""+property.key.value,value:self.recurse(property.value)})}),function(scope,locals,assign,inputs){for(var value={},i=0;i<args.length;++i)value[args[i].key]=args[i].value(scope,locals,assign,inputs);return context?{value:value}:value};case AST.ThisExpression:return function(scope){return context?{value:scope}:scope};case AST.NGValueParameter:return function(scope,locals,assign,inputs){return context?{value:assign}:assign}}},"unary+":function(argument,context){return function(scope,locals,assign,inputs){var arg=argument(scope,locals,assign,inputs);return arg=isDefined(arg)?+arg:0,context?{value:arg}:arg}},"unary-":function(argument,context){return function(scope,locals,assign,inputs){var arg=argument(scope,locals,assign,inputs);return arg=isDefined(arg)?-arg:0,context?{value:arg}:arg}},"unary!":function(argument,context){return function(scope,locals,assign,inputs){var arg=!argument(scope,locals,assign,inputs);return context?{value:arg}:arg}},"binary+":function(left,right,context){return function(scope,locals,assign,inputs){var lhs=left(scope,locals,assign,inputs),rhs=right(scope,locals,assign,inputs),arg=plusFn(lhs,rhs);return context?{value:arg}:arg}},"binary-":function(left,right,context){return function(scope,locals,assign,inputs){var lhs=left(scope,locals,assign,inputs),rhs=right(scope,locals,assign,inputs),arg=(isDefined(lhs)?lhs:0)-(isDefined(rhs)?rhs:0);return context?{value:arg}:arg}},"binary*":function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)*right(scope,locals,assign,inputs);return context?{value:arg}:arg}},"binary/":function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)/right(scope,locals,assign,inputs);return context?{value:arg}:arg}},"binary%":function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)%right(scope,locals,assign,inputs);return context?{value:arg}:arg}},"binary===":function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)===right(scope,locals,assign,inputs);return context?{value:arg}:arg}},"binary!==":function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)!==right(scope,locals,assign,inputs);return context?{value:arg}:arg}},"binary==":function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)==right(scope,locals,assign,inputs);return context?{value:arg}:arg}},"binary!=":function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)!=right(scope,locals,assign,inputs);return context?{value:arg}:arg}},"binary<":function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)<right(scope,locals,assign,inputs);return context?{value:arg}:arg}},"binary>":function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)>right(scope,locals,assign,inputs);return context?{value:arg}:arg}},"binary<=":function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)<=right(scope,locals,assign,inputs);return context?{value:arg}:arg}},"binary>=":function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)>=right(scope,locals,assign,inputs);return context?{value:arg}:arg}},"binary&&":function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)&&right(scope,locals,assign,inputs);return context?{value:arg}:arg}},"binary||":function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)||right(scope,locals,assign,inputs);return context?{value:arg}:arg}},"ternary?:":function(test,alternate,consequent,context){return function(scope,locals,assign,inputs){var arg=test(scope,locals,assign,inputs)?alternate(scope,locals,assign,inputs):consequent(scope,locals,assign,inputs);return context?{value:arg}:arg}},value:function(value,context){return function(){return context?{context:undefined,name:undefined,value:value}:value}},identifier:function(name,expensiveChecks,context,create,expression){return function(scope,locals,assign,inputs){var base=locals&&name in locals?locals:scope;create&&1!==create&&base&&!base[name]&&(base[name]={});var value=base?base[name]:undefined;return expensiveChecks&&ensureSafeObject(value,expression),context?{context:base,name:name,value:value}:value}},computedMember:function(left,right,context,create,expression){return function(scope,locals,assign,inputs){var rhs,value,lhs=left(scope,locals,assign,inputs);return null!=lhs&&(rhs=right(scope,locals,assign,inputs),ensureSafeMemberName(rhs,expression),create&&1!==create&&lhs&&!lhs[rhs]&&(lhs[rhs]={}),value=lhs[rhs],ensureSafeObject(value,expression)),context?{context:lhs,name:rhs,value:value}:value}},nonComputedMember:function(left,right,expensiveChecks,context,create,expression){return function(scope,locals,assign,inputs){var lhs=left(scope,locals,assign,inputs);create&&1!==create&&lhs&&!lhs[right]&&(lhs[right]={});var value=null!=lhs?lhs[right]:undefined;return(expensiveChecks||isPossiblyDangerousMemberName(right))&&ensureSafeObject(value,expression),context?{context:lhs,name:right,value:value}:value}},inputs:function(input,watchId){return function(scope,value,locals,inputs){return inputs?inputs[watchId]:input(scope,value,locals)}}};var Parser=function(lexer,$filter,options){this.lexer=lexer,this.$filter=$filter,this.options=options,this.ast=new AST(this.lexer),this.astCompiler=options.csp?new ASTInterpreter(this.ast,$filter):new ASTCompiler(this.ast,$filter)};Parser.prototype={constructor:Parser,parse:function(text){return this.astCompiler.compile(text,this.options.expensiveChecks)}};var objectValueOf=(createMap(),createMap(),Object.prototype.valueOf),$sceMinErr=minErr("$sce"),SCE_CONTEXTS={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},$compileMinErr=minErr("$compile"),urlParsingNode=document.createElement("a"),originUrl=urlResolve(window.location.href);$$CookieReader.$inject=["$document"],$FilterProvider.$inject=["$provide"],currencyFilter.$inject=["$locale"],numberFilter.$inject=["$locale"];var DECIMAL_SEP=".",DATE_FORMATS={yyyy:dateGetter("FullYear",4),yy:dateGetter("FullYear",2,0,!0),y:dateGetter("FullYear",1),MMMM:dateStrGetter("Month"),MMM:dateStrGetter("Month",!0),MM:dateGetter("Month",2,1),M:dateGetter("Month",1,1),dd:dateGetter("Date",2),d:dateGetter("Date",1),HH:dateGetter("Hours",2),H:dateGetter("Hours",1),hh:dateGetter("Hours",2,-12),h:dateGetter("Hours",1,-12),mm:dateGetter("Minutes",2),m:dateGetter("Minutes",1),ss:dateGetter("Seconds",2),s:dateGetter("Seconds",1),sss:dateGetter("Milliseconds",3),EEEE:dateStrGetter("Day"),EEE:dateStrGetter("Day",!0),a:ampmGetter,Z:timeZoneGetter,ww:weekGetter(2),w:weekGetter(1),G:eraGetter,GG:eraGetter,GGG:eraGetter,GGGG:longEraGetter},DATE_FORMATS_SPLIT=/((?:[^yMdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,NUMBER_STRING=/^\-?\d+$/;dateFilter.$inject=["$locale"];var lowercaseFilter=valueFn(lowercase),uppercaseFilter=valueFn(uppercase);orderByFilter.$inject=["$parse"];var htmlAnchorDirective=valueFn({restrict:"E",compile:function(element,attr){if(!attr.href&&!attr.xlinkHref)return function(scope,element){if("a"===element[0].nodeName.toLowerCase()){var href="[object SVGAnimatedString]"===toString.call(element.prop("href"))?"xlink:href":"href";
element.on("click",function(event){element.attr(href)||event.preventDefault()})}}}}),ngAttributeAliasDirectives={};forEach(BOOLEAN_ATTR,function(propName,attrName){function defaultLinkFn(scope,element,attr){scope.$watch(attr[normalized],function(value){attr.$set(attrName,!!value)})}if("multiple"!=propName){var normalized=directiveNormalize("ng-"+attrName),linkFn=defaultLinkFn;"checked"===propName&&(linkFn=function(scope,element,attr){attr.ngModel!==attr[normalized]&&defaultLinkFn(scope,element,attr)}),ngAttributeAliasDirectives[normalized]=function(){return{restrict:"A",priority:100,link:linkFn}}}}),forEach(ALIASED_ATTR,function(htmlAttr,ngAttr){ngAttributeAliasDirectives[ngAttr]=function(){return{priority:100,link:function(scope,element,attr){if("ngPattern"===ngAttr&&"/"==attr.ngPattern.charAt(0)){var match=attr.ngPattern.match(REGEX_STRING_REGEXP);if(match)return void attr.$set("ngPattern",new RegExp(match[1],match[2]))}scope.$watch(attr[ngAttr],function(value){attr.$set(ngAttr,value)})}}}}),forEach(["src","srcset","href"],function(attrName){var normalized=directiveNormalize("ng-"+attrName);ngAttributeAliasDirectives[normalized]=function(){return{priority:99,link:function(scope,element,attr){var propName=attrName,name=attrName;"href"===attrName&&"[object SVGAnimatedString]"===toString.call(element.prop("href"))&&(name="xlinkHref",attr.$attr[name]="xlink:href",propName=null),attr.$observe(normalized,function(value){return value?(attr.$set(name,value),void(msie&&propName&&element.prop(propName,attr[name]))):void("href"===attrName&&attr.$set(name,null))})}}}});var nullFormCtrl={$addControl:noop,$$renameControl:nullFormRenameControl,$removeControl:noop,$setValidity:noop,$setDirty:noop,$setPristine:noop,$setSubmitted:noop},SUBMITTED_CLASS="ng-submitted";FormController.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var formDirectiveFactory=function(isNgForm){return["$timeout",function($timeout){var formDirective={name:"form",restrict:isNgForm?"EAC":"E",controller:FormController,compile:function(formElement,attr){formElement.addClass(PRISTINE_CLASS).addClass(VALID_CLASS);var nameAttr=attr.name?"name":!(!isNgForm||!attr.ngForm)&&"ngForm";return{pre:function(scope,formElement,attr,controller){if(!("action"in attr)){var handleFormSubmission=function(event){scope.$apply(function(){controller.$commitViewValue(),controller.$setSubmitted()}),event.preventDefault()};addEventListenerFn(formElement[0],"submit",handleFormSubmission),formElement.on("$destroy",function(){$timeout(function(){removeEventListenerFn(formElement[0],"submit",handleFormSubmission)},0,!1)})}var parentFormCtrl=controller.$$parentForm;nameAttr&&(setter(scope,controller.$name,controller,controller.$name),attr.$observe(nameAttr,function(newValue){controller.$name!==newValue&&(setter(scope,controller.$name,undefined,controller.$name),parentFormCtrl.$$renameControl(controller,newValue),setter(scope,controller.$name,controller,controller.$name))})),formElement.on("$destroy",function(){parentFormCtrl.$removeControl(controller),nameAttr&&setter(scope,attr[nameAttr],undefined,controller.$name),extend(controller,nullFormCtrl)})}}}};return formDirective}]},formDirective=formDirectiveFactory(),ngFormDirective=formDirectiveFactory(!0),ISO_DATE_REGEXP=/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)/,URL_REGEXP=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,EMAIL_REGEXP=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,NUMBER_REGEXP=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,DATE_REGEXP=/^(\d{4})-(\d{2})-(\d{2})$/,DATETIMELOCAL_REGEXP=/^(\d{4})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,WEEK_REGEXP=/^(\d{4})-W(\d\d)$/,MONTH_REGEXP=/^(\d{4})-(\d\d)$/,TIME_REGEXP=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,inputType={text:textInputType,date:createDateInputType("date",DATE_REGEXP,createDateParser(DATE_REGEXP,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":createDateInputType("datetimelocal",DATETIMELOCAL_REGEXP,createDateParser(DATETIMELOCAL_REGEXP,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:createDateInputType("time",TIME_REGEXP,createDateParser(TIME_REGEXP,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:createDateInputType("week",WEEK_REGEXP,weekParser,"yyyy-Www"),month:createDateInputType("month",MONTH_REGEXP,createDateParser(MONTH_REGEXP,["yyyy","MM"]),"yyyy-MM"),number:numberInputType,url:urlInputType,email:emailInputType,radio:radioInputType,checkbox:checkboxInputType,hidden:noop,button:noop,submit:noop,reset:noop,file:noop},inputDirective=["$browser","$sniffer","$filter","$parse",function($browser,$sniffer,$filter,$parse){return{restrict:"E",require:["?ngModel"],link:{pre:function(scope,element,attr,ctrls){ctrls[0]&&(inputType[lowercase(attr.type)]||inputType.text)(scope,element,attr,ctrls[0],$sniffer,$browser,$filter,$parse)}}}}],CONSTANT_VALUE_REGEXP=/^(true|false|\d+)$/,ngValueDirective=function(){return{restrict:"A",priority:100,compile:function(tpl,tplAttr){return CONSTANT_VALUE_REGEXP.test(tplAttr.ngValue)?function(scope,elm,attr){attr.$set("value",scope.$eval(attr.ngValue))}:function(scope,elm,attr){scope.$watch(attr.ngValue,function(value){attr.$set("value",value)})}}}},ngBindDirective=["$compile",function($compile){return{restrict:"AC",compile:function(templateElement){return $compile.$$addBindingClass(templateElement),function(scope,element,attr){$compile.$$addBindingInfo(element,attr.ngBind),element=element[0],scope.$watch(attr.ngBind,function(value){element.textContent=value===undefined?"":value})}}}}],ngBindTemplateDirective=["$interpolate","$compile",function($interpolate,$compile){return{compile:function(templateElement){return $compile.$$addBindingClass(templateElement),function(scope,element,attr){var interpolateFn=$interpolate(element.attr(attr.$attr.ngBindTemplate));$compile.$$addBindingInfo(element,interpolateFn.expressions),element=element[0],attr.$observe("ngBindTemplate",function(value){element.textContent=value===undefined?"":value})}}}}],ngBindHtmlDirective=["$sce","$parse","$compile",function($sce,$parse,$compile){return{restrict:"A",compile:function(tElement,tAttrs){var ngBindHtmlGetter=$parse(tAttrs.ngBindHtml),ngBindHtmlWatch=$parse(tAttrs.ngBindHtml,function(value){return(value||"").toString()});return $compile.$$addBindingClass(tElement),function(scope,element,attr){$compile.$$addBindingInfo(element,attr.ngBindHtml),scope.$watch(ngBindHtmlWatch,function(){element.html($sce.getTrustedHtml(ngBindHtmlGetter(scope))||"")})}}}}],ngChangeDirective=valueFn({restrict:"A",require:"ngModel",link:function(scope,element,attr,ctrl){ctrl.$viewChangeListeners.push(function(){scope.$eval(attr.ngChange)})}}),ngClassDirective=classDirective("",!0),ngClassOddDirective=classDirective("Odd",0),ngClassEvenDirective=classDirective("Even",1),ngCloakDirective=ngDirective({compile:function(element,attr){attr.$set("ngCloak",undefined),element.removeClass("ng-cloak")}}),ngControllerDirective=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],ngEventDirectives={},forceAsyncEvents={blur:!0,focus:!0};forEach("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(eventName){var directiveName=directiveNormalize("ng-"+eventName);ngEventDirectives[directiveName]=["$parse","$rootScope",function($parse,$rootScope){return{restrict:"A",compile:function($element,attr){var fn=$parse(attr[directiveName],null,!0);return function(scope,element){element.on(eventName,function(event){var callback=function(){fn(scope,{$event:event})};forceAsyncEvents[eventName]&&$rootScope.$$phase?scope.$evalAsync(callback):scope.$apply(callback)})}}}}]});var ngIfDirective=["$animate",function($animate){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function($scope,$element,$attr,ctrl,$transclude){var block,childScope,previousElements;$scope.$watch($attr.ngIf,function(value){value?childScope||$transclude(function(clone,newScope){childScope=newScope,clone[clone.length++]=document.createComment(" end ngIf: "+$attr.ngIf+" "),block={clone:clone},$animate.enter(clone,$element.parent(),$element)}):(previousElements&&(previousElements.remove(),previousElements=null),childScope&&(childScope.$destroy(),childScope=null),block&&(previousElements=getBlockNodes(block.clone),$animate.leave(previousElements).then(function(){previousElements=null}),block=null))})}}}],ngIncludeDirective=["$templateRequest","$anchorScroll","$animate",function($templateRequest,$anchorScroll,$animate){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:angular.noop,compile:function(element,attr){var srcExp=attr.ngInclude||attr.src,onloadExp=attr.onload||"",autoScrollExp=attr.autoscroll;return function(scope,$element,$attr,ctrl,$transclude){var currentScope,previousElement,currentElement,changeCounter=0,cleanupLastIncludeContent=function(){previousElement&&(previousElement.remove(),previousElement=null),currentScope&&(currentScope.$destroy(),currentScope=null),currentElement&&($animate.leave(currentElement).then(function(){previousElement=null}),previousElement=currentElement,currentElement=null)};scope.$watch(srcExp,function(src){var afterAnimation=function(){!isDefined(autoScrollExp)||autoScrollExp&&!scope.$eval(autoScrollExp)||$anchorScroll()},thisChangeId=++changeCounter;src?($templateRequest(src,!0).then(function(response){if(thisChangeId===changeCounter){var newScope=scope.$new();ctrl.template=response;var clone=$transclude(newScope,function(clone){cleanupLastIncludeContent(),$animate.enter(clone,null,$element).then(afterAnimation)});currentScope=newScope,currentElement=clone,currentScope.$emit("$includeContentLoaded",src),scope.$eval(onloadExp)}},function(){thisChangeId===changeCounter&&(cleanupLastIncludeContent(),scope.$emit("$includeContentError",src))}),scope.$emit("$includeContentRequested",src)):(cleanupLastIncludeContent(),ctrl.template=null)})}}}}],ngIncludeFillContentDirective=["$compile",function($compile){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(scope,$element,$attr,ctrl){return/SVG/.test($element[0].toString())?($element.empty(),void $compile(jqLiteBuildFragment(ctrl.template,document).childNodes)(scope,function(clone){$element.append(clone)},{futureParentElement:$element})):($element.html(ctrl.template),void $compile($element.contents())(scope))}}}],ngInitDirective=ngDirective({priority:450,compile:function(){return{pre:function(scope,element,attrs){scope.$eval(attrs.ngInit)}}}}),ngListDirective=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(scope,element,attr,ctrl){var ngList=element.attr(attr.$attr.ngList)||", ",trimValues="false"!==attr.ngTrim,separator=trimValues?trim(ngList):ngList,parse=function(viewValue){if(!isUndefined(viewValue)){var list=[];return viewValue&&forEach(viewValue.split(separator),function(value){value&&list.push(trimValues?trim(value):value)}),list}};ctrl.$parsers.push(parse),ctrl.$formatters.push(function(value){return isArray(value)?value.join(ngList):undefined}),ctrl.$isEmpty=function(value){return!value||!value.length}}}},VALID_CLASS="ng-valid",INVALID_CLASS="ng-invalid",PRISTINE_CLASS="ng-pristine",DIRTY_CLASS="ng-dirty",UNTOUCHED_CLASS="ng-untouched",TOUCHED_CLASS="ng-touched",PENDING_CLASS="ng-pending",$ngModelMinErr=new minErr("ngModel"),NgModelController=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function($scope,$exceptionHandler,$attr,$element,$parse,$animate,$timeout,$rootScope,$q,$interpolate){this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=undefined,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=undefined,this.$name=$interpolate($attr.name||"",!1)($scope);var parserValid,parsedNgModel=$parse($attr.ngModel),parsedNgModelAssign=parsedNgModel.assign,ngModelGet=parsedNgModel,ngModelSet=parsedNgModelAssign,pendingDebounce=null,ctrl=this;this.$$setOptions=function(options){if(ctrl.$options=options,options&&options.getterSetter){var invokeModelGetter=$parse($attr.ngModel+"()"),invokeModelSetter=$parse($attr.ngModel+"($$$p)");ngModelGet=function($scope){var modelValue=parsedNgModel($scope);return isFunction(modelValue)&&(modelValue=invokeModelGetter($scope)),modelValue},ngModelSet=function($scope,newValue){isFunction(parsedNgModel($scope))?invokeModelSetter($scope,{$$$p:ctrl.$modelValue}):parsedNgModelAssign($scope,ctrl.$modelValue)}}else if(!parsedNgModel.assign)throw $ngModelMinErr("nonassign","Expression '{0}' is non-assignable. Element: {1}",$attr.ngModel,startingTag($element))},this.$render=noop,this.$isEmpty=function(value){return isUndefined(value)||""===value||null===value||value!==value};var parentForm=$element.inheritedData("$formController")||nullFormCtrl,currentValidationRunId=0;addSetValidityMethod({ctrl:this,$element:$element,set:function(object,property){object[property]=!0},unset:function(object,property){delete object[property]},parentForm:parentForm,$animate:$animate}),this.$setPristine=function(){ctrl.$dirty=!1,ctrl.$pristine=!0,$animate.removeClass($element,DIRTY_CLASS),$animate.addClass($element,PRISTINE_CLASS)},this.$setDirty=function(){ctrl.$dirty=!0,ctrl.$pristine=!1,$animate.removeClass($element,PRISTINE_CLASS),$animate.addClass($element,DIRTY_CLASS),parentForm.$setDirty()},this.$setUntouched=function(){ctrl.$touched=!1,ctrl.$untouched=!0,$animate.setClass($element,UNTOUCHED_CLASS,TOUCHED_CLASS)},this.$setTouched=function(){ctrl.$touched=!0,ctrl.$untouched=!1,$animate.setClass($element,TOUCHED_CLASS,UNTOUCHED_CLASS)},this.$rollbackViewValue=function(){$timeout.cancel(pendingDebounce),ctrl.$viewValue=ctrl.$$lastCommittedViewValue,ctrl.$render()},this.$validate=function(){if(!isNumber(ctrl.$modelValue)||!isNaN(ctrl.$modelValue)){var viewValue=ctrl.$$lastCommittedViewValue,modelValue=ctrl.$$rawModelValue,prevValid=ctrl.$valid,prevModelValue=ctrl.$modelValue,allowInvalid=ctrl.$options&&ctrl.$options.allowInvalid;ctrl.$$runValidators(modelValue,viewValue,function(allValid){allowInvalid||prevValid===allValid||(ctrl.$modelValue=allValid?modelValue:undefined,ctrl.$modelValue!==prevModelValue&&ctrl.$$writeModelToScope())})}},this.$$runValidators=function(modelValue,viewValue,doneCallback){function processParseErrors(){var errorKey=ctrl.$$parserName||"parse";return parserValid!==undefined?(parserValid||(forEach(ctrl.$validators,function(v,name){setValidity(name,null)}),forEach(ctrl.$asyncValidators,function(v,name){setValidity(name,null)})),setValidity(errorKey,parserValid),parserValid):(setValidity(errorKey,null),!0)}function processSyncValidators(){var syncValidatorsValid=!0;return forEach(ctrl.$validators,function(validator,name){var result=validator(modelValue,viewValue);syncValidatorsValid=syncValidatorsValid&&result,setValidity(name,result)}),!!syncValidatorsValid||(forEach(ctrl.$asyncValidators,function(v,name){setValidity(name,null)}),!1)}function processAsyncValidators(){var validatorPromises=[],allValid=!0;forEach(ctrl.$asyncValidators,function(validator,name){var promise=validator(modelValue,viewValue);if(!isPromiseLike(promise))throw $ngModelMinErr("$asyncValidators","Expected asynchronous validator to return a promise but got '{0}' instead.",promise);setValidity(name,undefined),validatorPromises.push(promise.then(function(){setValidity(name,!0)},function(error){allValid=!1,setValidity(name,!1)}))}),validatorPromises.length?$q.all(validatorPromises).then(function(){validationDone(allValid)},noop):validationDone(!0)}function setValidity(name,isValid){localValidationRunId===currentValidationRunId&&ctrl.$setValidity(name,isValid)}function validationDone(allValid){localValidationRunId===currentValidationRunId&&doneCallback(allValid)}currentValidationRunId++;var localValidationRunId=currentValidationRunId;return processParseErrors()&&processSyncValidators()?void processAsyncValidators():void validationDone(!1)},this.$commitViewValue=function(){var viewValue=ctrl.$viewValue;$timeout.cancel(pendingDebounce),(ctrl.$$lastCommittedViewValue!==viewValue||""===viewValue&&ctrl.$$hasNativeValidators)&&(ctrl.$$lastCommittedViewValue=viewValue,ctrl.$pristine&&this.$setDirty(),this.$$parseAndValidate())},this.$$parseAndValidate=function(){function writeToModelIfNeeded(){ctrl.$modelValue!==prevModelValue&&ctrl.$$writeModelToScope()}var viewValue=ctrl.$$lastCommittedViewValue,modelValue=viewValue;if(parserValid=!isUndefined(modelValue)||undefined)for(var i=0;i<ctrl.$parsers.length;i++)if(modelValue=ctrl.$parsers[i](modelValue),isUndefined(modelValue)){parserValid=!1;break}isNumber(ctrl.$modelValue)&&isNaN(ctrl.$modelValue)&&(ctrl.$modelValue=ngModelGet($scope));var prevModelValue=ctrl.$modelValue,allowInvalid=ctrl.$options&&ctrl.$options.allowInvalid;ctrl.$$rawModelValue=modelValue,allowInvalid&&(ctrl.$modelValue=modelValue,writeToModelIfNeeded()),ctrl.$$runValidators(modelValue,ctrl.$$lastCommittedViewValue,function(allValid){allowInvalid||(ctrl.$modelValue=allValid?modelValue:undefined,writeToModelIfNeeded())})},this.$$writeModelToScope=function(){ngModelSet($scope,ctrl.$modelValue),forEach(ctrl.$viewChangeListeners,function(listener){try{listener()}catch(e){$exceptionHandler(e)}})},this.$setViewValue=function(value,trigger){ctrl.$viewValue=value,ctrl.$options&&!ctrl.$options.updateOnDefault||ctrl.$$debounceViewValueCommit(trigger)},this.$$debounceViewValueCommit=function(trigger){var debounce,debounceDelay=0,options=ctrl.$options;options&&isDefined(options.debounce)&&(debounce=options.debounce,isNumber(debounce)?debounceDelay=debounce:isNumber(debounce[trigger])?debounceDelay=debounce[trigger]:isNumber(debounce["default"])&&(debounceDelay=debounce["default"])),$timeout.cancel(pendingDebounce),debounceDelay?pendingDebounce=$timeout(function(){ctrl.$commitViewValue()},debounceDelay):$rootScope.$$phase?ctrl.$commitViewValue():$scope.$apply(function(){ctrl.$commitViewValue()})},$scope.$watch(function(){var modelValue=ngModelGet($scope);if(modelValue!==ctrl.$modelValue&&(ctrl.$modelValue===ctrl.$modelValue||modelValue===modelValue)){ctrl.$modelValue=ctrl.$$rawModelValue=modelValue,parserValid=undefined;for(var formatters=ctrl.$formatters,idx=formatters.length,viewValue=modelValue;idx--;)viewValue=formatters[idx](viewValue);ctrl.$viewValue!==viewValue&&(ctrl.$viewValue=ctrl.$$lastCommittedViewValue=viewValue,ctrl.$render(),ctrl.$$runValidators(modelValue,viewValue,noop))}return modelValue})}],ngModelDirective=["$rootScope",function($rootScope){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:NgModelController,priority:1,compile:function(element){return element.addClass(PRISTINE_CLASS).addClass(UNTOUCHED_CLASS).addClass(VALID_CLASS),{pre:function(scope,element,attr,ctrls){var modelCtrl=ctrls[0],formCtrl=ctrls[1]||nullFormCtrl;modelCtrl.$$setOptions(ctrls[2]&&ctrls[2].$options),formCtrl.$addControl(modelCtrl),attr.$observe("name",function(newValue){modelCtrl.$name!==newValue&&formCtrl.$$renameControl(modelCtrl,newValue)}),scope.$on("$destroy",function(){formCtrl.$removeControl(modelCtrl)})},post:function(scope,element,attr,ctrls){var modelCtrl=ctrls[0];modelCtrl.$options&&modelCtrl.$options.updateOn&&element.on(modelCtrl.$options.updateOn,function(ev){modelCtrl.$$debounceViewValueCommit(ev&&ev.type)}),element.on("blur",function(ev){modelCtrl.$touched||($rootScope.$$phase?scope.$evalAsync(modelCtrl.$setTouched):scope.$apply(modelCtrl.$setTouched))})}}}}}],DEFAULT_REGEXP=/(\s+|^)default(\s+|$)/,ngModelOptionsDirective=function(){return{restrict:"A",controller:["$scope","$attrs",function($scope,$attrs){var that=this;this.$options=copy($scope.$eval($attrs.ngModelOptions)),this.$options.updateOn!==undefined?(this.$options.updateOnDefault=!1,this.$options.updateOn=trim(this.$options.updateOn.replace(DEFAULT_REGEXP,function(){return that.$options.updateOnDefault=!0," "}))):this.$options.updateOnDefault=!0}]}},ngNonBindableDirective=ngDirective({terminal:!0,priority:1e3}),ngOptionsMinErr=minErr("ngOptions"),NG_OPTIONS_REGEXP=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,ngOptionsDirective=["$compile","$parse",function($compile,$parse){function parseOptionsExpression(optionsExp,selectElement,scope){function Option(selectValue,viewValue,label,group,disabled){this.selectValue=selectValue,this.viewValue=viewValue,this.label=label,this.group=group,this.disabled=disabled}function getOptionValuesKeys(optionValues){var optionValuesKeys;if(!keyName&&isArrayLike(optionValues))optionValuesKeys=optionValues;else{optionValuesKeys=[];for(var itemKey in optionValues)optionValues.hasOwnProperty(itemKey)&&"$"!==itemKey.charAt(0)&&optionValuesKeys.push(itemKey)}return optionValuesKeys}var match=optionsExp.match(NG_OPTIONS_REGEXP);if(!match)throw ngOptionsMinErr("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",optionsExp,startingTag(selectElement));var valueName=match[5]||match[7],keyName=match[6],selectAs=/ as /.test(match[0])&&match[1],trackBy=match[9],valueFn=$parse(match[2]?match[1]:valueName),selectAsFn=selectAs&&$parse(selectAs),viewValueFn=selectAsFn||valueFn,trackByFn=trackBy&&$parse(trackBy),getTrackByValueFn=trackBy?function(value,locals){return trackByFn(scope,locals)}:function(value){return hashKey(value)},getTrackByValue=function(value,key){return getTrackByValueFn(value,getLocals(value,key))},displayFn=$parse(match[2]||match[1]),groupByFn=$parse(match[3]||""),disableWhenFn=$parse(match[4]||""),valuesFn=$parse(match[8]),locals={},getLocals=keyName?function(value,key){return locals[keyName]=key,locals[valueName]=value,locals}:function(value){return locals[valueName]=value,locals};return{trackBy:trackBy,getTrackByValue:getTrackByValue,getWatchables:$parse(valuesFn,function(optionValues){var watchedArray=[];optionValues=optionValues||[];for(var optionValuesKeys=getOptionValuesKeys(optionValues),optionValuesLength=optionValuesKeys.length,index=0;index<optionValuesLength;index++){var key=optionValues===optionValuesKeys?index:optionValuesKeys[index],locals=(optionValues[key],getLocals(optionValues[key],key)),selectValue=getTrackByValueFn(optionValues[key],locals);if(watchedArray.push(selectValue),match[2]||match[1]){var label=displayFn(scope,locals);watchedArray.push(label)}if(match[4]){var disableWhen=disableWhenFn(scope,locals);watchedArray.push(disableWhen)}}return watchedArray}),getOptions:function(){for(var optionItems=[],selectValueMap={},optionValues=valuesFn(scope)||[],optionValuesKeys=getOptionValuesKeys(optionValues),optionValuesLength=optionValuesKeys.length,index=0;index<optionValuesLength;index++){var key=optionValues===optionValuesKeys?index:optionValuesKeys[index],value=optionValues[key],locals=getLocals(value,key),viewValue=viewValueFn(scope,locals),selectValue=getTrackByValueFn(viewValue,locals),label=displayFn(scope,locals),group=groupByFn(scope,locals),disabled=disableWhenFn(scope,locals),optionItem=new Option(selectValue,viewValue,label,group,disabled);optionItems.push(optionItem),selectValueMap[selectValue]=optionItem}return{items:optionItems,selectValueMap:selectValueMap,getOptionFromViewValue:function(value){return selectValueMap[getTrackByValue(value)]},getViewValueFromOption:function(option){return trackBy?angular.copy(option.viewValue):option.viewValue}}}}}var optionTemplate=document.createElement("option"),optGroupTemplate=document.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","?ngModel"],link:function(scope,selectElement,attr,ctrls){function updateOptionElement(option,element){option.element=element,element.disabled=option.disabled,option.value!==element.value&&(element.value=option.selectValue),option.label!==element.label&&(element.label=option.label,element.textContent=option.label)}function addOrReuseElement(parent,current,type,templateElement){var element;return current&&lowercase(current.nodeName)===type?element=current:(element=templateElement.cloneNode(!1),current?parent.insertBefore(element,current):parent.appendChild(element)),element}function removeExcessElements(current){for(var next;current;)next=current.nextSibling,jqLiteRemove(current),current=next}function skipEmptyAndUnknownOptions(current){var emptyOption_=emptyOption&&emptyOption[0],unknownOption_=unknownOption&&unknownOption[0];if(emptyOption_||unknownOption_)for(;current&&(current===emptyOption_||current===unknownOption_);)current=current.nextSibling;return current}function updateOptions(){var previousValue=options&&selectCtrl.readValue();options=ngOptions.getOptions();var groupMap={},currentElement=selectElement[0].firstChild;if(providedEmptyOption&&selectElement.prepend(emptyOption),currentElement=skipEmptyAndUnknownOptions(currentElement),options.items.forEach(function(option){var group,groupElement,optionElement;option.group?(group=groupMap[option.group],group||(groupElement=addOrReuseElement(selectElement[0],currentElement,"optgroup",optGroupTemplate),currentElement=groupElement.nextSibling,groupElement.label=option.group,group=groupMap[option.group]={groupElement:groupElement,currentOptionElement:groupElement.firstChild}),optionElement=addOrReuseElement(group.groupElement,group.currentOptionElement,"option",optionTemplate),updateOptionElement(option,optionElement),group.currentOptionElement=optionElement.nextSibling):(optionElement=addOrReuseElement(selectElement[0],currentElement,"option",optionTemplate),updateOptionElement(option,optionElement),currentElement=optionElement.nextSibling)}),Object.keys(groupMap).forEach(function(key){removeExcessElements(groupMap[key].currentOptionElement)}),removeExcessElements(currentElement),ngModelCtrl.$render(),!ngModelCtrl.$isEmpty(previousValue)){var nextValue=selectCtrl.readValue();(ngOptions.trackBy?equals(previousValue,nextValue):previousValue===nextValue)||(ngModelCtrl.$setViewValue(nextValue),ngModelCtrl.$render())}}var ngModelCtrl=ctrls[1];if(ngModelCtrl){for(var emptyOption,selectCtrl=ctrls[0],multiple=attr.multiple,i=0,children=selectElement.children(),ii=children.length;i<ii;i++)if(""===children[i].value){emptyOption=children.eq(i);break}var providedEmptyOption=!!emptyOption,unknownOption=jqLite(optionTemplate.cloneNode(!1));unknownOption.val("?");var options,ngOptions=parseOptionsExpression(attr.ngOptions,selectElement,scope),renderEmptyOption=function(){providedEmptyOption||selectElement.prepend(emptyOption),selectElement.val(""),emptyOption.prop("selected",!0),emptyOption.attr("selected",!0)},removeEmptyOption=function(){providedEmptyOption||emptyOption.remove()},renderUnknownOption=function(){selectElement.prepend(unknownOption),selectElement.val("?"),unknownOption.prop("selected",!0),unknownOption.attr("selected",!0)},removeUnknownOption=function(){unknownOption.remove()};multiple?(ngModelCtrl.$isEmpty=function(value){return!value||0===value.length},selectCtrl.writeValue=function(value){options.items.forEach(function(option){option.element.selected=!1}),value&&value.forEach(function(item){var option=options.getOptionFromViewValue(item);option&&!option.disabled&&(option.element.selected=!0)})},selectCtrl.readValue=function(){var selectedValues=selectElement.val()||[],selections=[];return forEach(selectedValues,function(value){var option=options.selectValueMap[value];option.disabled||selections.push(options.getViewValueFromOption(option))}),selections},ngOptions.trackBy&&scope.$watchCollection(function(){if(isArray(ngModelCtrl.$viewValue))return ngModelCtrl.$viewValue.map(function(value){return ngOptions.getTrackByValue(value)})},function(){ngModelCtrl.$render()})):(selectCtrl.writeValue=function(value){var option=options.getOptionFromViewValue(value);option&&!option.disabled?selectElement[0].value!==option.selectValue&&(removeUnknownOption(),removeEmptyOption(),selectElement[0].value=option.selectValue,option.element.selected=!0,option.element.setAttribute("selected","selected")):null===value||providedEmptyOption?(removeUnknownOption(),renderEmptyOption()):(removeEmptyOption(),renderUnknownOption())},selectCtrl.readValue=function(){var selectedOption=options.selectValueMap[selectElement.val()];return selectedOption&&!selectedOption.disabled?(removeEmptyOption(),removeUnknownOption(),options.getViewValueFromOption(selectedOption)):null},ngOptions.trackBy&&scope.$watch(function(){return ngOptions.getTrackByValue(ngModelCtrl.$viewValue)},function(){ngModelCtrl.$render()})),providedEmptyOption?(emptyOption.remove(),$compile(emptyOption)(scope),emptyOption.removeClass("ng-scope")):emptyOption=jqLite(optionTemplate.cloneNode(!1)),updateOptions(),scope.$watchCollection(ngOptions.getWatchables,updateOptions)}}}}],ngPluralizeDirective=["$locale","$interpolate","$log",function($locale,$interpolate,$log){var BRACE=/{}/g,IS_WHEN=/^when(Minus)?(.+)$/;return{link:function(scope,element,attr){function updateElementText(newText){element.text(newText||"")}var lastCount,numberExp=attr.count,whenExp=attr.$attr.when&&element.attr(attr.$attr.when),offset=attr.offset||0,whens=scope.$eval(whenExp)||{},whensExpFns={},startSymbol=$interpolate.startSymbol(),endSymbol=$interpolate.endSymbol(),braceReplacement=startSymbol+numberExp+"-"+offset+endSymbol,watchRemover=angular.noop;forEach(attr,function(expression,attributeName){var tmpMatch=IS_WHEN.exec(attributeName);if(tmpMatch){var whenKey=(tmpMatch[1]?"-":"")+lowercase(tmpMatch[2]);whens[whenKey]=element.attr(attr.$attr[attributeName])}}),forEach(whens,function(expression,key){whensExpFns[key]=$interpolate(expression.replace(BRACE,braceReplacement))}),scope.$watch(numberExp,function(newVal){var count=parseFloat(newVal),countIsNaN=isNaN(count);if(countIsNaN||count in whens||(count=$locale.pluralCat(count-offset)),count!==lastCount&&!(countIsNaN&&isNumber(lastCount)&&isNaN(lastCount))){watchRemover();var whenExpFn=whensExpFns[count];isUndefined(whenExpFn)?(null!=newVal&&$log.debug("ngPluralize: no rule defined for '"+count+"' in "+whenExp),watchRemover=noop,updateElementText()):watchRemover=scope.$watch(whenExpFn,updateElementText),lastCount=count}})}}}],ngRepeatDirective=["$parse","$animate",function($parse,$animate){var NG_REMOVED="$$NG_REMOVED",ngRepeatMinErr=minErr("ngRepeat"),updateScope=function(scope,index,valueIdentifier,value,keyIdentifier,key,arrayLength){scope[valueIdentifier]=value,keyIdentifier&&(scope[keyIdentifier]=key),scope.$index=index,scope.$first=0===index,scope.$last=index===arrayLength-1,scope.$middle=!(scope.$first||scope.$last),scope.$odd=!(scope.$even=0===(1&index))},getBlockStart=function(block){return block.clone[0]},getBlockEnd=function(block){return block.clone[block.clone.length-1]};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function($element,$attr){var expression=$attr.ngRepeat,ngRepeatEndComment=document.createComment(" end ngRepeat: "+expression+" "),match=expression.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!match)throw ngRepeatMinErr("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",expression);var lhs=match[1],rhs=match[2],aliasAs=match[3],trackByExp=match[4];if(match=lhs.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/),!match)throw ngRepeatMinErr("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",lhs);var valueIdentifier=match[3]||match[1],keyIdentifier=match[2];
if(aliasAs&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(aliasAs)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(aliasAs)))throw ngRepeatMinErr("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",aliasAs);var trackByExpGetter,trackByIdExpFn,trackByIdArrayFn,trackByIdObjFn,hashFnLocals={$id:hashKey};return trackByExp?trackByExpGetter=$parse(trackByExp):(trackByIdArrayFn=function(key,value){return hashKey(value)},trackByIdObjFn=function(key){return key}),function($scope,$element,$attr,ctrl,$transclude){trackByExpGetter&&(trackByIdExpFn=function(key,value,index){return keyIdentifier&&(hashFnLocals[keyIdentifier]=key),hashFnLocals[valueIdentifier]=value,hashFnLocals.$index=index,trackByExpGetter($scope,hashFnLocals)});var lastBlockMap=createMap();$scope.$watchCollection(rhs,function(collection){var index,length,nextNode,collectionLength,key,value,trackById,trackByIdFn,collectionKeys,block,nextBlockOrder,elementsToRemove,previousNode=$element[0],nextBlockMap=createMap();if(aliasAs&&($scope[aliasAs]=collection),isArrayLike(collection))collectionKeys=collection,trackByIdFn=trackByIdExpFn||trackByIdArrayFn;else{trackByIdFn=trackByIdExpFn||trackByIdObjFn,collectionKeys=[];for(var itemKey in collection)collection.hasOwnProperty(itemKey)&&"$"!==itemKey.charAt(0)&&collectionKeys.push(itemKey)}for(collectionLength=collectionKeys.length,nextBlockOrder=new Array(collectionLength),index=0;index<collectionLength;index++)if(key=collection===collectionKeys?index:collectionKeys[index],value=collection[key],trackById=trackByIdFn(key,value,index),lastBlockMap[trackById])block=lastBlockMap[trackById],delete lastBlockMap[trackById],nextBlockMap[trackById]=block,nextBlockOrder[index]=block;else{if(nextBlockMap[trackById])throw forEach(nextBlockOrder,function(block){block&&block.scope&&(lastBlockMap[block.id]=block)}),ngRepeatMinErr("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",expression,trackById,value);nextBlockOrder[index]={id:trackById,scope:undefined,clone:undefined},nextBlockMap[trackById]=!0}for(var blockKey in lastBlockMap){if(block=lastBlockMap[blockKey],elementsToRemove=getBlockNodes(block.clone),$animate.leave(elementsToRemove),elementsToRemove[0].parentNode)for(index=0,length=elementsToRemove.length;index<length;index++)elementsToRemove[index][NG_REMOVED]=!0;block.scope.$destroy()}for(index=0;index<collectionLength;index++)if(key=collection===collectionKeys?index:collectionKeys[index],value=collection[key],block=nextBlockOrder[index],block.scope){nextNode=previousNode;do nextNode=nextNode.nextSibling;while(nextNode&&nextNode[NG_REMOVED]);getBlockStart(block)!=nextNode&&$animate.move(getBlockNodes(block.clone),null,jqLite(previousNode)),previousNode=getBlockEnd(block),updateScope(block.scope,index,valueIdentifier,value,keyIdentifier,key,collectionLength)}else $transclude(function(clone,scope){block.scope=scope;var endNode=ngRepeatEndComment.cloneNode(!1);clone[clone.length++]=endNode,$animate.enter(clone,null,jqLite(previousNode)),previousNode=endNode,block.clone=clone,nextBlockMap[block.id]=block,updateScope(block.scope,index,valueIdentifier,value,keyIdentifier,key,collectionLength)});lastBlockMap=nextBlockMap})}}}}],NG_HIDE_CLASS="ng-hide",NG_HIDE_IN_PROGRESS_CLASS="ng-hide-animate",ngShowDirective=["$animate",function($animate){return{restrict:"A",multiElement:!0,link:function(scope,element,attr){scope.$watch(attr.ngShow,function(value){$animate[value?"removeClass":"addClass"](element,NG_HIDE_CLASS,{tempClasses:NG_HIDE_IN_PROGRESS_CLASS})})}}}],ngHideDirective=["$animate",function($animate){return{restrict:"A",multiElement:!0,link:function(scope,element,attr){scope.$watch(attr.ngHide,function(value){$animate[value?"addClass":"removeClass"](element,NG_HIDE_CLASS,{tempClasses:NG_HIDE_IN_PROGRESS_CLASS})})}}}],ngStyleDirective=ngDirective(function(scope,element,attr){scope.$watch(attr.ngStyle,function(newStyles,oldStyles){oldStyles&&newStyles!==oldStyles&&forEach(oldStyles,function(val,style){element.css(style,"")}),newStyles&&element.css(newStyles)},!0)}),ngSwitchDirective=["$animate",function($animate){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(scope,element,attr,ngSwitchController){var watchExpr=attr.ngSwitch||attr.on,selectedTranscludes=[],selectedElements=[],previousLeaveAnimations=[],selectedScopes=[],spliceFactory=function(array,index){return function(){array.splice(index,1)}};scope.$watch(watchExpr,function(value){var i,ii;for(i=0,ii=previousLeaveAnimations.length;i<ii;++i)$animate.cancel(previousLeaveAnimations[i]);for(previousLeaveAnimations.length=0,i=0,ii=selectedScopes.length;i<ii;++i){var selected=getBlockNodes(selectedElements[i].clone);selectedScopes[i].$destroy();var promise=previousLeaveAnimations[i]=$animate.leave(selected);promise.then(spliceFactory(previousLeaveAnimations,i))}selectedElements.length=0,selectedScopes.length=0,(selectedTranscludes=ngSwitchController.cases["!"+value]||ngSwitchController.cases["?"])&&forEach(selectedTranscludes,function(selectedTransclude){selectedTransclude.transclude(function(caseElement,selectedScope){selectedScopes.push(selectedScope);var anchor=selectedTransclude.element;caseElement[caseElement.length++]=document.createComment(" end ngSwitchWhen: ");var block={clone:caseElement};selectedElements.push(block),$animate.enter(caseElement,anchor.parent(),anchor)})})})}}}],ngSwitchWhenDirective=ngDirective({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(scope,element,attrs,ctrl,$transclude){ctrl.cases["!"+attrs.ngSwitchWhen]=ctrl.cases["!"+attrs.ngSwitchWhen]||[],ctrl.cases["!"+attrs.ngSwitchWhen].push({transclude:$transclude,element:element})}}),ngSwitchDefaultDirective=ngDirective({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(scope,element,attr,ctrl,$transclude){ctrl.cases["?"]=ctrl.cases["?"]||[],ctrl.cases["?"].push({transclude:$transclude,element:element})}}),ngTranscludeDirective=ngDirective({restrict:"EAC",link:function($scope,$element,$attrs,controller,$transclude){if(!$transclude)throw minErr("ngTransclude")("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",startingTag($element));$transclude(function(clone){$element.empty(),$element.append(clone)})}}),scriptDirective=["$templateCache",function($templateCache){return{restrict:"E",terminal:!0,compile:function(element,attr){if("text/ng-template"==attr.type){var templateUrl=attr.id,text=element[0].text;$templateCache.put(templateUrl,text)}}}}],noopNgModelController={$setViewValue:noop,$render:noop},SelectController=["$element","$scope","$attrs",function($element,$scope,$attrs){var self=this,optionsMap=new HashMap;self.ngModelCtrl=noopNgModelController,self.unknownOption=jqLite(document.createElement("option")),self.renderUnknownOption=function(val){var unknownVal="? "+hashKey(val)+" ?";self.unknownOption.val(unknownVal),$element.prepend(self.unknownOption),$element.val(unknownVal)},$scope.$on("$destroy",function(){self.renderUnknownOption=noop}),self.removeUnknownOption=function(){self.unknownOption.parent()&&self.unknownOption.remove()},self.readValue=function(){return self.removeUnknownOption(),$element.val()},self.writeValue=function(value){self.hasOption(value)?(self.removeUnknownOption(),$element.val(value),""===value&&self.emptyOption.prop("selected",!0)):null==value&&self.emptyOption?(self.removeUnknownOption(),$element.val("")):self.renderUnknownOption(value)},self.addOption=function(value,element){assertNotHasOwnProperty(value,'"option value"'),""===value&&(self.emptyOption=element);var count=optionsMap.get(value)||0;optionsMap.put(value,count+1)},self.removeOption=function(value){var count=optionsMap.get(value);count&&(1===count?(optionsMap.remove(value),""===value&&(self.emptyOption=undefined)):optionsMap.put(value,count-1))},self.hasOption=function(value){return!!optionsMap.get(value)}}],selectDirective=function(){return{restrict:"E",require:["select","?ngModel"],controller:SelectController,link:function(scope,element,attr,ctrls){var ngModelCtrl=ctrls[1];if(ngModelCtrl){var selectCtrl=ctrls[0];if(selectCtrl.ngModelCtrl=ngModelCtrl,ngModelCtrl.$render=function(){selectCtrl.writeValue(ngModelCtrl.$viewValue)},element.on("change",function(){scope.$apply(function(){ngModelCtrl.$setViewValue(selectCtrl.readValue())})}),attr.multiple){selectCtrl.readValue=function(){var array=[];return forEach(element.find("option"),function(option){option.selected&&array.push(option.value)}),array},selectCtrl.writeValue=function(value){var items=new HashMap(value);forEach(element.find("option"),function(option){option.selected=isDefined(items.get(option.value))})};var lastView,lastViewRef=NaN;scope.$watch(function(){lastViewRef!==ngModelCtrl.$viewValue||equals(lastView,ngModelCtrl.$viewValue)||(lastView=shallowCopy(ngModelCtrl.$viewValue),ngModelCtrl.$render()),lastViewRef=ngModelCtrl.$viewValue}),ngModelCtrl.$isEmpty=function(value){return!value||0===value.length}}}}}},optionDirective=["$interpolate",function($interpolate){function chromeHack(optionElement){optionElement[0].hasAttribute("selected")&&(optionElement[0].selected=!0)}return{restrict:"E",priority:100,compile:function(element,attr){if(isUndefined(attr.value)){var interpolateFn=$interpolate(element.text(),!0);interpolateFn||attr.$set("value",element.text())}return function(scope,element,attr){var selectCtrlName="$selectController",parent=element.parent(),selectCtrl=parent.data(selectCtrlName)||parent.parent().data(selectCtrlName);selectCtrl&&selectCtrl.ngModelCtrl&&(interpolateFn?scope.$watch(interpolateFn,function(newVal,oldVal){attr.$set("value",newVal),oldVal!==newVal&&selectCtrl.removeOption(oldVal),selectCtrl.addOption(newVal,element),selectCtrl.ngModelCtrl.$render(),chromeHack(element)}):(selectCtrl.addOption(attr.value,element),selectCtrl.ngModelCtrl.$render(),chromeHack(element)),element.on("$destroy",function(){selectCtrl.removeOption(attr.value),selectCtrl.ngModelCtrl.$render()}))}}}}],styleDirective=valueFn({restrict:"E",terminal:!1}),requiredDirective=function(){return{restrict:"A",require:"?ngModel",link:function(scope,elm,attr,ctrl){ctrl&&(attr.required=!0,ctrl.$validators.required=function(modelValue,viewValue){return!attr.required||!ctrl.$isEmpty(viewValue)},attr.$observe("required",function(){ctrl.$validate()}))}}},patternDirective=function(){return{restrict:"A",require:"?ngModel",link:function(scope,elm,attr,ctrl){if(ctrl){var regexp,patternExp=attr.ngPattern||attr.pattern;attr.$observe("pattern",function(regex){if(isString(regex)&&regex.length>0&&(regex=new RegExp("^"+regex+"$")),regex&&!regex.test)throw minErr("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",patternExp,regex,startingTag(elm));regexp=regex||undefined,ctrl.$validate()}),ctrl.$validators.pattern=function(value){return ctrl.$isEmpty(value)||isUndefined(regexp)||regexp.test(value)}}}}},maxlengthDirective=function(){return{restrict:"A",require:"?ngModel",link:function(scope,elm,attr,ctrl){if(ctrl){var maxlength=-1;attr.$observe("maxlength",function(value){var intVal=toInt(value);maxlength=isNaN(intVal)?-1:intVal,ctrl.$validate()}),ctrl.$validators.maxlength=function(modelValue,viewValue){return maxlength<0||ctrl.$isEmpty(viewValue)||viewValue.length<=maxlength}}}}},minlengthDirective=function(){return{restrict:"A",require:"?ngModel",link:function(scope,elm,attr,ctrl){if(ctrl){var minlength=0;attr.$observe("minlength",function(value){minlength=toInt(value)||0,ctrl.$validate()}),ctrl.$validators.minlength=function(modelValue,viewValue){return ctrl.$isEmpty(viewValue)||viewValue.length>=minlength}}}}};return window.angular.bootstrap?void console.log("WARNING: Tried to load angular more than once."):(bindJQuery(),publishExternalAPI(angular),void jqLite(document).ready(function(){angularInit(document,bootstrap)}))}(window,document),!window.angular.$$csp()&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>'),function(window,angular,undefined){"use strict";function assertArg(arg,name,reason){if(!arg)throw ngMinErr("areq","Argument '{0}' is {1}",name||"?",reason||"required");return arg}function mergeClasses(a,b){return a||b?a?b?(isArray(a)&&(a=a.join(" ")),isArray(b)&&(b=b.join(" ")),a+" "+b):a:b:""}function packageStyles(options){var styles={};return options&&(options.to||options.from)&&(styles.to=options.to,styles.from=options.from),styles}function pendClasses(classes,fix,isPrefix){var className="";return classes=isArray(classes)?classes:classes&&isString(classes)&&classes.length?classes.split(/\s+/):[],forEach(classes,function(klass,i){klass&&klass.length>0&&(className+=i>0?" ":"",className+=isPrefix?fix+klass:klass+fix)}),className}function removeFromArray(arr,val){var index=arr.indexOf(val);val>=0&&arr.splice(index,1)}function stripCommentsFromElement(element){if(element instanceof jqLite)switch(element.length){case 0:return[];case 1:if(element[0].nodeType===ELEMENT_NODE)return element;break;default:return jqLite(extractElementNode(element))}if(element.nodeType===ELEMENT_NODE)return jqLite(element)}function extractElementNode(element){if(!element[0])return element;for(var i=0;i<element.length;i++){var elm=element[i];if(elm.nodeType==ELEMENT_NODE)return elm}}function $$addClass($$jqLite,element,className){forEach(element,function(elm){$$jqLite.addClass(elm,className)})}function $$removeClass($$jqLite,element,className){forEach(element,function(elm){$$jqLite.removeClass(elm,className)})}function applyAnimationClassesFactory($$jqLite){return function(element,options){options.addClass&&($$addClass($$jqLite,element,options.addClass),options.addClass=null),options.removeClass&&($$removeClass($$jqLite,element,options.removeClass),options.removeClass=null)}}function prepareAnimationOptions(options){if(options=options||{},!options.$$prepared){var domOperation=options.domOperation||noop;options.domOperation=function(){options.$$domOperationFired=!0,domOperation(),domOperation=noop},options.$$prepared=!0}return options}function applyAnimationStyles(element,options){applyAnimationFromStyles(element,options),applyAnimationToStyles(element,options)}function applyAnimationFromStyles(element,options){options.from&&(element.css(options.from),options.from=null)}function applyAnimationToStyles(element,options){options.to&&(element.css(options.to),options.to=null)}function mergeAnimationOptions(element,target,newOptions){var toAdd=(target.addClass||"")+" "+(newOptions.addClass||""),toRemove=(target.removeClass||"")+" "+(newOptions.removeClass||""),classes=resolveElementClasses(element.attr("class"),toAdd,toRemove);return extend(target,newOptions),classes.addClass?target.addClass=classes.addClass:target.addClass=null,classes.removeClass?target.removeClass=classes.removeClass:target.removeClass=null,target}function resolveElementClasses(existing,toAdd,toRemove){function splitClassesToLookup(classes){isString(classes)&&(classes=classes.split(" "));var obj={};return forEach(classes,function(klass){klass.length&&(obj[klass]=!0)}),obj}var ADD_CLASS=1,REMOVE_CLASS=-1,flags={};existing=splitClassesToLookup(existing),toAdd=splitClassesToLookup(toAdd),forEach(toAdd,function(value,key){flags[key]=ADD_CLASS}),toRemove=splitClassesToLookup(toRemove),forEach(toRemove,function(value,key){flags[key]=flags[key]===ADD_CLASS?null:REMOVE_CLASS});var classes={addClass:"",removeClass:""};return forEach(flags,function(val,klass){var prop,allow;val===ADD_CLASS?(prop="addClass",allow=!existing[klass]):val===REMOVE_CLASS&&(prop="removeClass",allow=existing[klass]),allow&&(classes[prop].length&&(classes[prop]+=" "),classes[prop]+=klass)}),classes}function getDomNode(element){return element instanceof angular.element?element[0]:element}function computeCssStyles($window,element,properties){var styles=Object.create(null),detectedStyles=$window.getComputedStyle(element)||{};return forEach(properties,function(formalStyleName,actualStyleName){var val=detectedStyles[formalStyleName];if(val){var c=val.charAt(0);("-"===c||"+"===c||c>=0)&&(val=parseMaxTime(val)),0===val&&(val=null),styles[actualStyleName]=val}}),styles}function parseMaxTime(str){var maxValue=0,values=str.split(/\s*,\s*/);return forEach(values,function(value){"s"==value.charAt(value.length-1)&&(value=value.substring(0,value.length-1)),value=parseFloat(value)||0,maxValue=maxValue?Math.max(value,maxValue):value}),maxValue}function truthyTimingValue(val){return 0===val||null!=val}function getCssTransitionDurationStyle(duration,applyOnlyDuration){var style=TRANSITION_PROP,value=duration+"s";return applyOnlyDuration?style+=DURATION_KEY:value+=" linear all",[style,value]}function getCssKeyframeDurationStyle(duration){return[ANIMATION_DURATION_PROP,duration+"s"]}function getCssDelayStyle(delay,isKeyframeAnimation){var prop=isKeyframeAnimation?ANIMATION_DELAY_PROP:TRANSITION_DELAY_PROP;return[prop,delay+"s"]}function blockTransitions(node,duration){var value=duration?"-"+duration+"s":"";return applyInlineStyle(node,[TRANSITION_DELAY_PROP,value]),[TRANSITION_DELAY_PROP,value]}function blockKeyframeAnimations(node,applyBlock){var value=applyBlock?"paused":"",key=ANIMATION_PROP+ANIMATION_PLAYSTATE_KEY;return applyInlineStyle(node,[key,value]),[key,value]}function applyInlineStyle(node,styleTuple){var prop=styleTuple[0],value=styleTuple[1];node.style[prop]=value}function createLocalCacheLookup(){var cache=Object.create(null);return{flush:function(){cache=Object.create(null)},count:function(key){var entry=cache[key];return entry?entry.total:0},get:function(key){var entry=cache[key];return entry&&entry.value},put:function(key,value){cache[key]?cache[key].total++:cache[key]={total:1,value:value}}}}var TRANSITION_PROP,TRANSITIONEND_EVENT,ANIMATION_PROP,ANIMATIONEND_EVENT,noop=angular.noop,extend=angular.extend,jqLite=angular.element,forEach=angular.forEach,isArray=angular.isArray,isString=angular.isString,isObject=angular.isObject,isUndefined=angular.isUndefined,isDefined=angular.isDefined,isFunction=angular.isFunction,isElement=angular.isElement,ELEMENT_NODE=1,NG_ANIMATE_CLASSNAME="ng-animate",NG_ANIMATE_CHILDREN_DATA="$$ngAnimateChildren",$$rAFSchedulerFactory=["$$rAF",function($$rAF){function scheduler(tasks){tickQueue.push([].concat(tasks)),nextTick()}function nextTick(){if(tickQueue.length){for(var updatedQueue=[],i=0;i<tickQueue.length;i++){var innerQueue=tickQueue[i];runNextTask(innerQueue),innerQueue.length&&updatedQueue.push(innerQueue)}tickQueue=updatedQueue,cancelFn||$$rAF(function(){cancelFn||nextTick()})}}function runNextTask(tasks){var nextTask=tasks.shift();nextTask()}var cancelFn,tickQueue=[];return scheduler.waitUntilQuiet=function(fn){cancelFn&&cancelFn(),cancelFn=$$rAF(function(){cancelFn=null,fn(),nextTick()})},scheduler}],$$AnimateChildrenDirective=[function(){return function(scope,element,attrs){var val=attrs.ngAnimateChildren;angular.isString(val)&&0===val.length?element.data(NG_ANIMATE_CHILDREN_DATA,!0):attrs.$observe("ngAnimateChildren",function(value){value="on"===value||"true"===value,element.data(NG_ANIMATE_CHILDREN_DATA,value)})}}],CSS_PREFIX="";window.ontransitionend===undefined&&window.onwebkittransitionend!==undefined?(CSS_PREFIX="-webkit-",TRANSITION_PROP="WebkitTransition",TRANSITIONEND_EVENT="webkitTransitionEnd transitionend"):(TRANSITION_PROP="transition",TRANSITIONEND_EVENT="transitionend"),window.onanimationend===undefined&&window.onwebkitanimationend!==undefined?(CSS_PREFIX="-webkit-",ANIMATION_PROP="WebkitAnimation",ANIMATIONEND_EVENT="webkitAnimationEnd animationend"):(ANIMATION_PROP="animation",ANIMATIONEND_EVENT="animationend");var DURATION_KEY="Duration",PROPERTY_KEY="Property",DELAY_KEY="Delay",TIMING_KEY="TimingFunction",ANIMATION_ITERATION_COUNT_KEY="IterationCount",ANIMATION_PLAYSTATE_KEY="PlayState",ELAPSED_TIME_MAX_DECIMAL_PLACES=3,CLOSING_TIME_BUFFER=1.5,ONE_SECOND=1e3,SAFE_FAST_FORWARD_DURATION_VALUE=9999,ANIMATION_DELAY_PROP=ANIMATION_PROP+DELAY_KEY,ANIMATION_DURATION_PROP=ANIMATION_PROP+DURATION_KEY,TRANSITION_DELAY_PROP=TRANSITION_PROP+DELAY_KEY,TRANSITION_DURATION_PROP=TRANSITION_PROP+DURATION_KEY,DETECT_CSS_PROPERTIES={transitionDuration:TRANSITION_DURATION_PROP,transitionDelay:TRANSITION_DELAY_PROP,transitionProperty:TRANSITION_PROP+PROPERTY_KEY,animationDuration:ANIMATION_DURATION_PROP,animationDelay:ANIMATION_DELAY_PROP,animationIterationCount:ANIMATION_PROP+ANIMATION_ITERATION_COUNT_KEY},DETECT_STAGGER_CSS_PROPERTIES={transitionDuration:TRANSITION_DURATION_PROP,transitionDelay:TRANSITION_DELAY_PROP,animationDuration:ANIMATION_DURATION_PROP,animationDelay:ANIMATION_DELAY_PROP},$AnimateCssProvider=["$animateProvider",function($animateProvider){var gcsLookup=createLocalCacheLookup(),gcsStaggerLookup=createLocalCacheLookup();this.$get=["$window","$$jqLite","$$AnimateRunner","$timeout","$document","$sniffer","$$rAFScheduler",function($window,$$jqLite,$$AnimateRunner,$timeout,$document,$sniffer,$$rAFScheduler){function gcsHashFn(node,extraClasses){var KEY="$$ngAnimateParentKey",parentNode=node.parentNode,parentID=parentNode[KEY]||(parentNode[KEY]=++parentCounter);return parentID+"-"+node.getAttribute("class")+"-"+extraClasses}function computeCachedCssStyles(node,className,cacheKey,properties){var timings=gcsLookup.get(cacheKey);return timings||(timings=computeCssStyles($window,node,properties),"infinite"===timings.animationIterationCount&&(timings.animationIterationCount=1)),gcsLookup.put(cacheKey,timings),timings}function computeCachedCssStaggerStyles(node,className,cacheKey,properties){var stagger;if(gcsLookup.count(cacheKey)>0&&(stagger=gcsStaggerLookup.get(cacheKey),!stagger)){var staggerClassName=pendClasses(className,"-stagger");$$jqLite.addClass(node,staggerClassName),stagger=computeCssStyles($window,node,properties),stagger.animationDuration=Math.max(stagger.animationDuration,0),stagger.transitionDuration=Math.max(stagger.transitionDuration,0),$$jqLite.removeClass(node,staggerClassName),gcsStaggerLookup.put(cacheKey,stagger)}return stagger||{}}function waitUntilQuiet(callback){rafWaitQueue.push(callback),$$rAFScheduler.waitUntilQuiet(function(){gcsLookup.flush(),gcsStaggerLookup.flush();for(var width=bod.offsetWidth+1,i=0;i<rafWaitQueue.length;i++)rafWaitQueue[i](width);rafWaitQueue.length=0})}function computeTimings(node,className,cacheKey){var timings=computeCachedCssStyles(node,className,cacheKey,DETECT_CSS_PROPERTIES),aD=timings.animationDelay,tD=timings.transitionDelay;return timings.maxDelay=aD&&tD?Math.max(aD,tD):aD||tD,timings.maxDuration=Math.max(timings.animationDuration*timings.animationIterationCount,timings.transitionDuration),timings}function init(element,options){function endFn(){close()}function cancelFn(){close(!0)}function close(rejected){animationClosed||animationCompleted&&animationPaused||(animationClosed=!0,animationPaused=!1,$$jqLite.removeClass(element,setupClasses),$$jqLite.removeClass(element,activeClasses),blockKeyframeAnimations(node,!1),blockTransitions(node,!1),forEach(temporaryStyles,function(entry){node.style[entry[0]]=""}),applyAnimationClasses(element,options),applyAnimationStyles(element,options),options.onDone&&options.onDone(),runner&&runner.complete(!rejected))}function applyBlocking(duration){flags.blockTransition&&blockTransitions(node,duration),flags.blockKeyframeAnimation&&blockKeyframeAnimations(node,!!duration)}function closeAndReturnNoopAnimator(){return runner=new $$AnimateRunner({end:endFn,cancel:cancelFn}),close(),{$$willAnimate:!1,start:function(){return runner},end:endFn}}function start(){function triggerAnimationStart(){if(!animationClosed){if(applyBlocking(!1),forEach(temporaryStyles,function(entry){var key=entry[0],value=entry[1];node.style[key]=value}),applyAnimationClasses(element,options),$$jqLite.addClass(element,activeClasses),flags.recalculateTimingStyles){if(fullClassName=node.className+" "+setupClasses,cacheKey=gcsHashFn(node,fullClassName),timings=computeTimings(node,fullClassName,cacheKey),relativeDelay=timings.maxDelay,maxDelay=Math.max(relativeDelay,0),maxDuration=timings.maxDuration,0===maxDuration)return void close();flags.hasTransitions=timings.transitionDuration>0,flags.hasAnimations=timings.animationDuration>0}if(flags.applyTransitionDelay||flags.applyAnimationDelay){relativeDelay="boolean"!=typeof options.delay&&truthyTimingValue(options.delay)?parseFloat(options.delay):relativeDelay,maxDelay=Math.max(relativeDelay,0);var delayStyle;flags.applyTransitionDelay&&(timings.transitionDelay=relativeDelay,delayStyle=getCssDelayStyle(relativeDelay),temporaryStyles.push(delayStyle),node.style[delayStyle[0]]=delayStyle[1]),flags.applyAnimationDelay&&(timings.animationDelay=relativeDelay,delayStyle=getCssDelayStyle(relativeDelay,!0),temporaryStyles.push(delayStyle),node.style[delayStyle[0]]=delayStyle[1])}if(maxDelayTime=maxDelay*ONE_SECOND,maxDurationTime=maxDuration*ONE_SECOND,options.easing){var easeProp,easeVal=options.easing;flags.hasTransitions&&(easeProp=TRANSITION_PROP+TIMING_KEY,temporaryStyles.push([easeProp,easeVal]),node.style[easeProp]=easeVal),flags.hasAnimations&&(easeProp=ANIMATION_PROP+TIMING_KEY,temporaryStyles.push([easeProp,easeVal]),node.style[easeProp]=easeVal)}timings.transitionDuration&&events.push(TRANSITIONEND_EVENT),timings.animationDuration&&events.push(ANIMATIONEND_EVENT),startTime=Date.now(),element.on(events.join(" "),onAnimationProgress),$timeout(onAnimationExpired,maxDelayTime+CLOSING_TIME_BUFFER*maxDurationTime),applyAnimationToStyles(element,options)}}function onAnimationExpired(){close()}function onAnimationProgress(event){event.stopPropagation();var ev=event.originalEvent||event,timeStamp=ev.$manualTimeStamp||ev.timeStamp||Date.now(),elapsedTime=parseFloat(ev.elapsedTime.toFixed(ELAPSED_TIME_MAX_DECIMAL_PLACES));Math.max(timeStamp-startTime,0)>=maxDelayTime&&elapsedTime>=maxDuration&&(animationCompleted=!0,close())}if(!animationClosed){if(!node.parentNode)return void close();var startTime,events=[],playPause=function(playAnimation){if(animationCompleted)animationPaused&&playAnimation&&(animationPaused=!1,close());else if(animationPaused=!playAnimation,timings.animationDuration){var value=blockKeyframeAnimations(node,animationPaused);animationPaused?temporaryStyles.push(value):removeFromArray(temporaryStyles,value)}},maxStagger=itemIndex>0&&(timings.transitionDuration&&0===stagger.transitionDuration||timings.animationDuration&&0===stagger.animationDuration)&&Math.max(stagger.animationDelay,stagger.transitionDelay);maxStagger?$timeout(triggerAnimationStart,Math.floor(maxStagger*itemIndex*ONE_SECOND),!1):triggerAnimationStart(),runnerHost.resume=function(){playPause(!0)},runnerHost.pause=function(){playPause(!1)}}}var node=getDomNode(element);if(!node||!node.parentNode)return closeAndReturnNoopAnimator();options=prepareAnimationOptions(options);var animationClosed,animationPaused,animationCompleted,runner,runnerHost,maxDelay,maxDelayTime,maxDuration,maxDurationTime,temporaryStyles=[],classes=element.attr("class"),styles=packageStyles(options);if(0===options.duration||!$sniffer.animations&&!$sniffer.transitions)return closeAndReturnNoopAnimator();var method=options.event&&isArray(options.event)?options.event.join(" "):options.event,isStructural=method&&options.structural,structuralClassName="",addRemoveClassName="";isStructural?structuralClassName=pendClasses(method,"ng-",!0):method&&(structuralClassName=method),options.addClass&&(addRemoveClassName+=pendClasses(options.addClass,"-add")),options.removeClass&&(addRemoveClassName.length&&(addRemoveClassName+=" "),addRemoveClassName+=pendClasses(options.removeClass,"-remove")),options.applyClassesEarly&&addRemoveClassName.length&&(applyAnimationClasses(element,options),addRemoveClassName="");var setupClasses=[structuralClassName,addRemoveClassName].join(" ").trim(),fullClassName=classes+" "+setupClasses,activeClasses=pendClasses(setupClasses,"-active"),hasToStyles=styles.to&&Object.keys(styles.to).length>0,containsKeyframeAnimation=(options.keyframeStyle||"").length>0;if(!containsKeyframeAnimation&&!hasToStyles&&!setupClasses)return closeAndReturnNoopAnimator();var cacheKey,stagger;if(options.stagger>0){var staggerVal=parseFloat(options.stagger);stagger={transitionDelay:staggerVal,animationDelay:staggerVal,transitionDuration:0,animationDuration:0}}else cacheKey=gcsHashFn(node,fullClassName),stagger=computeCachedCssStaggerStyles(node,setupClasses,cacheKey,DETECT_STAGGER_CSS_PROPERTIES);$$jqLite.addClass(element,setupClasses);var applyOnlyDuration;if(options.transitionStyle){var transitionStyle=[TRANSITION_PROP,options.transitionStyle];applyInlineStyle(node,transitionStyle),temporaryStyles.push(transitionStyle)}if(options.duration>=0){applyOnlyDuration=node.style[TRANSITION_PROP].length>0;var durationStyle=getCssTransitionDurationStyle(options.duration,applyOnlyDuration);applyInlineStyle(node,durationStyle),temporaryStyles.push(durationStyle)}if(options.keyframeStyle){var keyframeStyle=[ANIMATION_PROP,options.keyframeStyle];applyInlineStyle(node,keyframeStyle),temporaryStyles.push(keyframeStyle)}var itemIndex=stagger?options.staggerIndex>=0?options.staggerIndex:gcsLookup.count(cacheKey):0,isFirst=0===itemIndex;isFirst&&blockTransitions(node,SAFE_FAST_FORWARD_DURATION_VALUE);var timings=computeTimings(node,fullClassName,cacheKey),relativeDelay=timings.maxDelay;maxDelay=Math.max(relativeDelay,0),maxDuration=timings.maxDuration;var flags={};return flags.hasTransitions=timings.transitionDuration>0,flags.hasAnimations=timings.animationDuration>0,flags.hasTransitionAll=flags.hasTransitions&&"all"==timings.transitionProperty,flags.applyTransitionDuration=hasToStyles&&(flags.hasTransitions&&!flags.hasTransitionAll||flags.hasAnimations&&!flags.hasTransitions),flags.applyAnimationDuration=options.duration&&flags.hasAnimations,flags.applyTransitionDelay=truthyTimingValue(options.delay)&&(flags.applyTransitionDuration||flags.hasTransitions),flags.applyAnimationDelay=truthyTimingValue(options.delay)&&flags.hasAnimations,flags.recalculateTimingStyles=addRemoveClassName.length>0,(flags.applyTransitionDuration||flags.applyAnimationDuration)&&(maxDuration=options.duration?parseFloat(options.duration):maxDuration,flags.applyTransitionDuration&&(flags.hasTransitions=!0,timings.transitionDuration=maxDuration,applyOnlyDuration=node.style[TRANSITION_PROP+PROPERTY_KEY].length>0,temporaryStyles.push(getCssTransitionDurationStyle(maxDuration,applyOnlyDuration))),flags.applyAnimationDuration&&(flags.hasAnimations=!0,timings.animationDuration=maxDuration,temporaryStyles.push(getCssKeyframeDurationStyle(maxDuration)))),0!==maxDuration||flags.recalculateTimingStyles?(null==options.duration&&timings.transitionDuration>0&&(flags.recalculateTimingStyles=flags.recalculateTimingStyles||isFirst),maxDelayTime=maxDelay*ONE_SECOND,maxDurationTime=maxDuration*ONE_SECOND,options.skipBlocking||(flags.blockTransition=timings.transitionDuration>0,flags.blockKeyframeAnimation=timings.animationDuration>0&&stagger.animationDelay>0&&0===stagger.animationDuration),applyAnimationFromStyles(element,options),flags.blockTransition||blockTransitions(node,!1),applyBlocking(maxDuration),{$$willAnimate:!0,end:endFn,start:function(){if(!animationClosed)return runnerHost={end:endFn,cancel:cancelFn,resume:null,pause:null},runner=new $$AnimateRunner(runnerHost),waitUntilQuiet(start),runner}}):closeAndReturnNoopAnimator()}var applyAnimationClasses=applyAnimationClassesFactory($$jqLite),parentCounter=0,bod=getDomNode($document).body,rafWaitQueue=[];return init}]}],$$AnimateCssDriverProvider=["$$animationProvider",function($$animationProvider){
$$animationProvider.drivers.push("$$animateCssDriver");var NG_ANIMATE_SHIM_CLASS_NAME="ng-animate-shim",NG_ANIMATE_ANCHOR_CLASS_NAME="ng-anchor",NG_OUT_ANCHOR_CLASS_NAME="ng-anchor-out",NG_IN_ANCHOR_CLASS_NAME="ng-anchor-in";this.$get=["$animateCss","$rootScope","$$AnimateRunner","$rootElement","$document","$sniffer",function($animateCss,$rootScope,$$AnimateRunner,$rootElement,$document,$sniffer){function filterCssClasses(classes){return classes.replace(/\bng-\S+\b/g,"")}function getUniqueValues(a,b){return isString(a)&&(a=a.split(" ")),isString(b)&&(b=b.split(" ")),a.filter(function(val){return b.indexOf(val)===-1}).join(" ")}function prepareAnchoredAnimation(classes,outAnchor,inAnchor){function calculateAnchorStyles(anchor){var styles={},coords=getDomNode(anchor).getBoundingClientRect();return forEach(["width","height","top","left"],function(key){var value=coords[key];switch(key){case"top":value+=bodyNode.scrollTop;break;case"left":value+=bodyNode.scrollLeft}styles[key]=Math.floor(value)+"px"}),styles}function prepareOutAnimation(){var animator=$animateCss(clone,{addClass:NG_OUT_ANCHOR_CLASS_NAME,delay:!0,from:calculateAnchorStyles(outAnchor)});return animator.$$willAnimate?animator:null}function getClassVal(element){return element.attr("class")||""}function prepareInAnimation(){var endingClasses=filterCssClasses(getClassVal(inAnchor)),toAdd=getUniqueValues(endingClasses,startingClasses),toRemove=getUniqueValues(startingClasses,endingClasses),animator=$animateCss(clone,{to:calculateAnchorStyles(inAnchor),addClass:NG_IN_ANCHOR_CLASS_NAME+" "+toAdd,removeClass:NG_OUT_ANCHOR_CLASS_NAME+" "+toRemove,delay:!0});return animator.$$willAnimate?animator:null}function end(){clone.remove(),outAnchor.removeClass(NG_ANIMATE_SHIM_CLASS_NAME),inAnchor.removeClass(NG_ANIMATE_SHIM_CLASS_NAME)}var clone=jqLite(getDomNode(outAnchor).cloneNode(!0)),startingClasses=filterCssClasses(getClassVal(clone));outAnchor.addClass(NG_ANIMATE_SHIM_CLASS_NAME),inAnchor.addClass(NG_ANIMATE_SHIM_CLASS_NAME),clone.addClass(NG_ANIMATE_ANCHOR_CLASS_NAME),rootBodyElement.append(clone);var animatorIn,animatorOut=prepareOutAnimation();if(!animatorOut&&(animatorIn=prepareInAnimation(),!animatorIn))return end();var startingAnimator=animatorOut||animatorIn;return{start:function(){function endFn(){currentAnimation&&currentAnimation.end()}var runner,currentAnimation=startingAnimator.start();return currentAnimation.done(function(){return currentAnimation=null,!animatorIn&&(animatorIn=prepareInAnimation())?(currentAnimation=animatorIn.start(),currentAnimation.done(function(){currentAnimation=null,end(),runner.complete()}),currentAnimation):(end(),void runner.complete())}),runner=new $$AnimateRunner({end:endFn,cancel:endFn})}}}function prepareFromToAnchorAnimation(from,to,classes,anchors){var fromAnimation=prepareRegularAnimation(from),toAnimation=prepareRegularAnimation(to),anchorAnimations=[];if(forEach(anchors,function(anchor){var outElement=anchor.out,inElement=anchor["in"],animator=prepareAnchoredAnimation(classes,outElement,inElement);animator&&anchorAnimations.push(animator)}),fromAnimation||toAnimation||0!==anchorAnimations.length)return{start:function(){function endFn(){forEach(animationRunners,function(runner){runner.end()})}var animationRunners=[];fromAnimation&&animationRunners.push(fromAnimation.start()),toAnimation&&animationRunners.push(toAnimation.start()),forEach(anchorAnimations,function(animation){animationRunners.push(animation.start())});var runner=new $$AnimateRunner({end:endFn,cancel:endFn});return $$AnimateRunner.all(animationRunners,function(status){runner.complete(status)}),runner}}}function prepareRegularAnimation(animationDetails){var element=animationDetails.element,options=animationDetails.options||{};animationDetails.structural?(options.structural=options.applyClassesEarly=!0,options.event=animationDetails.event,"leave"===options.event&&(options.onDone=options.domOperation)):options.event=null;var animator=$animateCss(element,options);return animator.$$willAnimate?animator:null}if(!$sniffer.animations&&!$sniffer.transitions)return noop;var bodyNode=getDomNode($document).body,rootNode=getDomNode($rootElement),rootBodyElement=jqLite(bodyNode.parentNode===rootNode?bodyNode:rootNode);return function(animationDetails){return animationDetails.from&&animationDetails.to?prepareFromToAnchorAnimation(animationDetails.from,animationDetails.to,animationDetails.classes,animationDetails.anchors):prepareRegularAnimation(animationDetails)}}]}],$$AnimateJsProvider=["$animateProvider",function($animateProvider){this.$get=["$injector","$$AnimateRunner","$$rAFMutex","$$jqLite",function($injector,$$AnimateRunner,$$rAFMutex,$$jqLite){function lookupAnimations(classes){classes=isArray(classes)?classes:classes.split(" ");for(var matches=[],flagMap={},i=0;i<classes.length;i++){var klass=classes[i],animationFactory=$animateProvider.$$registeredAnimations[klass];animationFactory&&!flagMap[klass]&&(matches.push($injector.get(animationFactory)),flagMap[klass]=!0)}return matches}var applyAnimationClasses=applyAnimationClassesFactory($$jqLite);return function(element,event,classes,options){function applyOptions(){options.domOperation(),applyAnimationClasses(element,options)}function executeAnimationFn(fn,element,event,options,onDone){var args;switch(event){case"animate":args=[element,options.from,options.to,onDone];break;case"setClass":args=[element,classesToAdd,classesToRemove,onDone];break;case"addClass":args=[element,classesToAdd,onDone];break;case"removeClass":args=[element,classesToRemove,onDone];break;default:args=[element,onDone]}args.push(options);var value=fn.apply(fn,args);if(value)if(isFunction(value.start)&&(value=value.start()),value instanceof $$AnimateRunner)value.done(onDone);else if(isFunction(value))return value;return noop}function groupEventedAnimations(element,event,options,animations,fnName){var operations=[];return forEach(animations,function(ani){var animation=ani[fnName];animation&&operations.push(function(){var runner,endProgressCb,resolved=!1,onAnimationComplete=function(rejected){resolved||(resolved=!0,(endProgressCb||noop)(rejected),runner.complete(!rejected))};return runner=new $$AnimateRunner({end:function(){onAnimationComplete()},cancel:function(){onAnimationComplete(!0)}}),endProgressCb=executeAnimationFn(animation,element,event,options,function(result){var cancelled=result===!1;onAnimationComplete(cancelled)}),runner})}),operations}function packageAnimations(element,event,options,animations,fnName){var operations=groupEventedAnimations(element,event,options,animations,fnName);if(0===operations.length){var a,b;"beforeSetClass"===fnName?(a=groupEventedAnimations(element,"removeClass",options,animations,"beforeRemoveClass"),b=groupEventedAnimations(element,"addClass",options,animations,"beforeAddClass")):"setClass"===fnName&&(a=groupEventedAnimations(element,"removeClass",options,animations,"removeClass"),b=groupEventedAnimations(element,"addClass",options,animations,"addClass")),a&&(operations=operations.concat(a)),b&&(operations=operations.concat(b))}if(0!==operations.length)return function(callback){var runners=[];return operations.length&&forEach(operations,function(animateFn){runners.push(animateFn())}),runners.length?$$AnimateRunner.all(runners,callback):callback(),function(reject){forEach(runners,function(runner){reject?runner.cancel():runner.end()})}}}3===arguments.length&&isObject(classes)&&(options=classes,classes=null),options=prepareAnimationOptions(options),classes||(classes=element.attr("class")||"",options.addClass&&(classes+=" "+options.addClass),options.removeClass&&(classes+=" "+options.removeClass));var before,after,classesToAdd=options.addClass,classesToRemove=options.removeClass,animations=lookupAnimations(classes);if(animations.length){var afterFn,beforeFn;"leave"==event?(beforeFn="leave",afterFn="afterLeave"):(beforeFn="before"+event.charAt(0).toUpperCase()+event.substr(1),afterFn=event),"enter"!==event&&"move"!==event&&(before=packageAnimations(element,event,options,animations,beforeFn)),after=packageAnimations(element,event,options,animations,afterFn)}if(before||after)return{start:function(){function onComplete(success){animationClosed=!0,applyOptions(),applyAnimationStyles(element,options),runner.complete(success)}function endAnimations(cancelled){animationClosed||((closeActiveAnimations||noop)(cancelled),onComplete(cancelled))}var closeActiveAnimations,chain=[];before&&chain.push(function(fn){closeActiveAnimations=before(fn)}),chain.length?chain.push(function(fn){applyOptions(),fn(!0)}):applyOptions(),after&&chain.push(function(fn){closeActiveAnimations=after(fn)});var animationClosed=!1,runner=new $$AnimateRunner({end:function(){endAnimations()},cancel:function(){endAnimations(!0)}});return $$AnimateRunner.chain(chain,onComplete),runner}}}}]}],$$AnimateJsDriverProvider=["$$animationProvider",function($$animationProvider){$$animationProvider.drivers.push("$$animateJsDriver"),this.$get=["$$animateJs","$$AnimateRunner",function($$animateJs,$$AnimateRunner){function prepareAnimation(animationDetails){var element=animationDetails.element,event=animationDetails.event,options=animationDetails.options,classes=animationDetails.classes;return $$animateJs(element,event,classes,options)}return function(animationDetails){if(animationDetails.from&&animationDetails.to){var fromAnimation=prepareAnimation(animationDetails.from),toAnimation=prepareAnimation(animationDetails.to);if(!fromAnimation&&!toAnimation)return;return{start:function(){function endFnFactory(){return function(){forEach(animationRunners,function(runner){runner.end()})}}function done(status){runner.complete(status)}var animationRunners=[];fromAnimation&&animationRunners.push(fromAnimation.start()),toAnimation&&animationRunners.push(toAnimation.start()),$$AnimateRunner.all(animationRunners,done);var runner=new $$AnimateRunner({end:endFnFactory(),cancel:endFnFactory()});return runner}}}return prepareAnimation(animationDetails)}}]}],NG_ANIMATE_ATTR_NAME="data-ng-animate",NG_ANIMATE_PIN_DATA="$ngAnimatePin",$$AnimateQueueProvider=["$animateProvider",function($animateProvider){function isAllowed(ruleType,element,currentAnimation,previousAnimation){return rules[ruleType].some(function(fn){return fn(element,currentAnimation,previousAnimation)})}function hasAnimationClasses(options,and){options=options||{};var a=(options.addClass||"").length>0,b=(options.removeClass||"").length>0;return and?a&&b:a||b}var PRE_DIGEST_STATE=1,RUNNING_STATE=2,rules=this.rules={skip:[],cancel:[],join:[]};rules.join.push(function(element,newAnimation,currentAnimation){return!newAnimation.structural&&hasAnimationClasses(newAnimation.options)}),rules.skip.push(function(element,newAnimation,currentAnimation){return!newAnimation.structural&&!hasAnimationClasses(newAnimation.options)}),rules.skip.push(function(element,newAnimation,currentAnimation){return"leave"==currentAnimation.event&&newAnimation.structural}),rules.skip.push(function(element,newAnimation,currentAnimation){return currentAnimation.structural&&!newAnimation.structural}),rules.cancel.push(function(element,newAnimation,currentAnimation){return currentAnimation.structural&&newAnimation.structural}),rules.cancel.push(function(element,newAnimation,currentAnimation){return currentAnimation.state===RUNNING_STATE&&newAnimation.structural}),rules.cancel.push(function(element,newAnimation,currentAnimation){var nO=newAnimation.options,cO=currentAnimation.options;return nO.addClass&&nO.addClass===cO.removeClass||nO.removeClass&&nO.removeClass===cO.addClass}),this.$get=["$$rAF","$rootScope","$rootElement","$document","$$HashMap","$$animation","$$AnimateRunner","$templateRequest","$$jqLite",function($$rAF,$rootScope,$rootElement,$document,$$HashMap,$$animation,$$AnimateRunner,$templateRequest,$$jqLite){function normalizeAnimationOptions(element,options){return mergeAnimationOptions(element,options,{})}function findCallbacks(element,event){var targetNode=getDomNode(element),matches=[],entries=callbackRegistry[event];return entries&&forEach(entries,function(entry){entry.node.contains(targetNode)&&matches.push(entry.callback)}),matches}function triggerCallback(event,element,phase,data){$$rAF(function(){forEach(findCallbacks(element,event),function(callback){callback(element,phase,data)})})}function queueAnimation(element,event,options){function notifyProgress(runner,event,phase,data){triggerCallback(event,element,phase,data),runner.progress(event,phase,data)}function close(reject){applyAnimationClasses(element,options),applyAnimationStyles(element,options),options.domOperation(),runner.complete(!reject)}var node,parent;element=stripCommentsFromElement(element),element&&(node=getDomNode(element),parent=element.parent()),options=prepareAnimationOptions(options);var runner=new $$AnimateRunner;if(!node)return close(),runner;isArray(options.addClass)&&(options.addClass=options.addClass.join(" ")),isArray(options.removeClass)&&(options.removeClass=options.removeClass.join(" ")),options.from&&!isObject(options.from)&&(options.from=null),options.to&&!isObject(options.to)&&(options.to=null);var className=[node.className,options.addClass,options.removeClass].join(" ");if(!isAnimatableClassName(className))return close(),runner;var isStructural=["enter","move","leave"].indexOf(event)>=0,skipAnimations=!animationsEnabled||disabledElementsLookup.get(node),existingAnimation=!skipAnimations&&activeAnimationsLookup.get(node)||{},hasExistingAnimation=!!existingAnimation.state;if(skipAnimations||hasExistingAnimation&&existingAnimation.state==PRE_DIGEST_STATE||(skipAnimations=!areAnimationsAllowed(element,parent,event)),skipAnimations)return close(),runner;isStructural&&closeChildAnimations(element);var newAnimation={structural:isStructural,element:element,event:event,close:close,options:options,runner:runner};if(hasExistingAnimation){var skipAnimationFlag=isAllowed("skip",element,newAnimation,existingAnimation);if(skipAnimationFlag)return existingAnimation.state===RUNNING_STATE?(close(),runner):(mergeAnimationOptions(element,existingAnimation.options,options),existingAnimation.runner);var cancelAnimationFlag=isAllowed("cancel",element,newAnimation,existingAnimation);if(cancelAnimationFlag)existingAnimation.state===RUNNING_STATE?existingAnimation.runner.end():existingAnimation.structural?existingAnimation.close():mergeAnimationOptions(element,newAnimation.options,existingAnimation.options);else{var joinAnimationFlag=isAllowed("join",element,newAnimation,existingAnimation);if(joinAnimationFlag){if(existingAnimation.state!==RUNNING_STATE)return event=newAnimation.event=existingAnimation.event,options=mergeAnimationOptions(element,existingAnimation.options,newAnimation.options),runner;normalizeAnimationOptions(element,options)}}}else normalizeAnimationOptions(element,options);var isValidAnimation=newAnimation.structural;if(isValidAnimation||(isValidAnimation="animate"===newAnimation.event&&Object.keys(newAnimation.options.to||{}).length>0||hasAnimationClasses(newAnimation.options)),!isValidAnimation)return close(),clearElementAnimationState(element),runner;isStructural&&closeParentClassBasedAnimations(parent);var counter=(existingAnimation.counter||0)+1;return newAnimation.counter=counter,markElementAnimationState(element,PRE_DIGEST_STATE,newAnimation),$rootScope.$$postDigest(function(){var animationDetails=activeAnimationsLookup.get(node),animationCancelled=!animationDetails;animationDetails=animationDetails||{};var parentElement=element.parent()||[],isValidAnimation=parentElement.length>0&&("animate"===animationDetails.event||animationDetails.structural||hasAnimationClasses(animationDetails.options));if(animationCancelled||animationDetails.counter!==counter||!isValidAnimation)return animationCancelled&&(applyAnimationClasses(element,options),applyAnimationStyles(element,options)),(animationCancelled||isStructural&&animationDetails.event!==event)&&(options.domOperation(),runner.end()),void(isValidAnimation||clearElementAnimationState(element));event=!animationDetails.structural&&hasAnimationClasses(animationDetails.options,!0)?"setClass":animationDetails.event,animationDetails.structural&&closeParentClassBasedAnimations(parentElement),markElementAnimationState(element,RUNNING_STATE);var realRunner=$$animation(element,event,animationDetails.options);realRunner.done(function(status){close(!status);var animationDetails=activeAnimationsLookup.get(node);animationDetails&&animationDetails.counter===counter&&clearElementAnimationState(getDomNode(element)),notifyProgress(runner,event,"close",{})}),runner.setHost(realRunner),notifyProgress(runner,event,"start",{})}),runner}function closeChildAnimations(element){var node=getDomNode(element),children=node.querySelectorAll("["+NG_ANIMATE_ATTR_NAME+"]");forEach(children,function(child){var state=parseInt(child.getAttribute(NG_ANIMATE_ATTR_NAME)),animationDetails=activeAnimationsLookup.get(child);switch(state){case RUNNING_STATE:animationDetails.runner.end();case PRE_DIGEST_STATE:animationDetails&&activeAnimationsLookup.remove(child)}})}function clearElementAnimationState(element){var node=getDomNode(element);node.removeAttribute(NG_ANIMATE_ATTR_NAME),activeAnimationsLookup.remove(node)}function isMatchingElement(nodeOrElmA,nodeOrElmB){return getDomNode(nodeOrElmA)===getDomNode(nodeOrElmB)}function closeParentClassBasedAnimations(startingElement){function examineParentAnimation(node,animationDetails){!animationDetails.structural&&hasAnimationClasses(animationDetails.options)&&(animationDetails.state===RUNNING_STATE&&animationDetails.runner.end(),clearElementAnimationState(node))}for(var parentNode=getDomNode(startingElement);;){if(!parentNode||parentNode.nodeType!==ELEMENT_NODE)break;var animationDetails=activeAnimationsLookup.get(parentNode);animationDetails&&examineParentAnimation(parentNode,animationDetails),parentNode=parentNode.parentNode}}function areAnimationsAllowed(element,parentElement,event){var animateChildren,bodyElementDetected=!1,rootElementDetected=!1,parentAnimationDetected=!1,parentHost=element.data(NG_ANIMATE_PIN_DATA);for(parentHost&&(parentElement=parentHost);parentElement&&parentElement.length;){rootElementDetected||(rootElementDetected=isMatchingElement(parentElement,$rootElement));var parentNode=parentElement[0];if(parentNode.nodeType!==ELEMENT_NODE)break;var details=activeAnimationsLookup.get(parentNode)||{};if(parentAnimationDetected||(parentAnimationDetected=details.structural||disabledElementsLookup.get(parentNode)),isUndefined(animateChildren)||animateChildren===!0){var value=parentElement.data(NG_ANIMATE_CHILDREN_DATA);isDefined(value)&&(animateChildren=value)}if(parentAnimationDetected&&animateChildren===!1)break;rootElementDetected||(rootElementDetected=isMatchingElement(parentElement,$rootElement),rootElementDetected||(parentHost=parentElement.data(NG_ANIMATE_PIN_DATA),parentHost&&(parentElement=parentHost))),bodyElementDetected||(bodyElementDetected=isMatchingElement(parentElement,bodyElement)),parentElement=parentElement.parent()}var allowAnimation=!parentAnimationDetected||animateChildren;return allowAnimation&&rootElementDetected&&bodyElementDetected}function markElementAnimationState(element,state,details){details=details||{},details.state=state;var node=getDomNode(element);node.setAttribute(NG_ANIMATE_ATTR_NAME,state);var oldValue=activeAnimationsLookup.get(node),newValue=oldValue?extend(oldValue,details):details;activeAnimationsLookup.put(node,newValue)}var activeAnimationsLookup=new $$HashMap,disabledElementsLookup=new $$HashMap,animationsEnabled=null,deregisterWatch=$rootScope.$watch(function(){return 0===$templateRequest.totalPendingRequests},function(isEmpty){isEmpty&&(deregisterWatch(),$rootScope.$$postDigest(function(){$rootScope.$$postDigest(function(){null===animationsEnabled&&(animationsEnabled=!0)})}))}),bodyElement=jqLite($document[0].body),callbackRegistry={},classNameFilter=$animateProvider.classNameFilter(),isAnimatableClassName=classNameFilter?function(className){return classNameFilter.test(className)}:function(){return!0},applyAnimationClasses=applyAnimationClassesFactory($$jqLite);return{on:function(event,container,callback){var node=extractElementNode(container);callbackRegistry[event]=callbackRegistry[event]||[],callbackRegistry[event].push({node:node,callback:callback})},off:function(event,container,callback){function filterFromRegistry(list,matchContainer,matchCallback){var containerNode=extractElementNode(matchContainer);return list.filter(function(entry){var isMatch=entry.node===containerNode&&(!matchCallback||entry.callback===matchCallback);return!isMatch})}var entries=callbackRegistry[event];entries&&(callbackRegistry[event]=1===arguments.length?null:filterFromRegistry(entries,container,callback))},pin:function(element,parentElement){assertArg(isElement(element),"element","not an element"),assertArg(isElement(parentElement),"parentElement","not an element"),element.data(NG_ANIMATE_PIN_DATA,parentElement)},push:function(element,event,options,domOperation){return options=options||{},options.domOperation=domOperation,queueAnimation(element,event,options)},enabled:function(element,bool){var argCount=arguments.length;if(0===argCount)bool=!!animationsEnabled;else{var hasElement=isElement(element);if(hasElement){var node=getDomNode(element),recordExists=disabledElementsLookup.get(node);1===argCount?bool=!recordExists:(bool=!!bool,bool?recordExists&&disabledElementsLookup.remove(node):disabledElementsLookup.put(node,!0))}else bool=animationsEnabled=!!element}return bool}}}]}],$$rAFMutexFactory=["$$rAF",function($$rAF){return function(){var passed=!1;return $$rAF(function(){passed=!0}),function(fn){passed?fn():$$rAF(fn)}}}],$$AnimateRunnerFactory=["$q","$$rAFMutex",function($q,$$rAFMutex){function AnimateRunner(host){this.setHost(host),this._doneCallbacks=[],this._runInAnimationFrame=$$rAFMutex(),this._state=0}var INITIAL_STATE=0,DONE_PENDING_STATE=1,DONE_COMPLETE_STATE=2;return AnimateRunner.chain=function(chain,callback){function next(){return index===chain.length?void callback(!0):void chain[index](function(response){return response===!1?void callback(!1):(index++,void next())})}var index=0;next()},AnimateRunner.all=function(runners,callback){function onProgress(response){status=status&&response,++count===runners.length&&callback(status)}var count=0,status=!0;forEach(runners,function(runner){runner.done(onProgress)})},AnimateRunner.prototype={setHost:function(host){this.host=host||{}},done:function(fn){this._state===DONE_COMPLETE_STATE?fn():this._doneCallbacks.push(fn)},progress:noop,getPromise:function(){if(!this.promise){var self=this;this.promise=$q(function(resolve,reject){self.done(function(status){status===!1?reject():resolve()})})}return this.promise},then:function(resolveHandler,rejectHandler){return this.getPromise().then(resolveHandler,rejectHandler)},"catch":function(handler){return this.getPromise()["catch"](handler)},"finally":function(handler){return this.getPromise()["finally"](handler)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(response){var self=this;self._state===INITIAL_STATE&&(self._state=DONE_PENDING_STATE,self._runInAnimationFrame(function(){self._resolve(response)}))},_resolve:function(response){this._state!==DONE_COMPLETE_STATE&&(forEach(this._doneCallbacks,function(fn){fn(response)}),this._doneCallbacks.length=0,this._state=DONE_COMPLETE_STATE)}},AnimateRunner}],$$AnimationProvider=["$animateProvider",function($animateProvider){function setRunner(element,runner){element.data(RUNNER_STORAGE_KEY,runner)}function removeRunner(element){element.removeData(RUNNER_STORAGE_KEY)}function getRunner(element){return element.data(RUNNER_STORAGE_KEY)}var NG_ANIMATE_REF_ATTR="ng-animate-ref",drivers=this.drivers=[],RUNNER_STORAGE_KEY="$$animationRunner";this.$get=["$$jqLite","$rootScope","$injector","$$AnimateRunner","$$rAFScheduler",function($$jqLite,$rootScope,$injector,$$AnimateRunner,$$rAFScheduler){var animationQueue=[],applyAnimationClasses=applyAnimationClassesFactory($$jqLite),totalPendingClassBasedAnimations=0,totalActiveClassBasedAnimations=0,classBasedAnimationsQueue=[];return function(element,event,options){function getAnchorNodes(node){var SELECTOR="["+NG_ANIMATE_REF_ATTR+"]",items=node.hasAttribute(NG_ANIMATE_REF_ATTR)?[node]:node.querySelectorAll(SELECTOR),anchors=[];return forEach(items,function(node){var attr=node.getAttribute(NG_ANIMATE_REF_ATTR);attr&&attr.length&&anchors.push(node)}),anchors}function groupAnimations(animations){var preparedAnimations=[],refLookup={};forEach(animations,function(animation,index){var element=animation.element,node=getDomNode(element),event=animation.event,enterOrMove=["enter","move"].indexOf(event)>=0,anchorNodes=animation.structural?getAnchorNodes(node):[];if(anchorNodes.length){var direction=enterOrMove?"to":"from";forEach(anchorNodes,function(anchor){var key=anchor.getAttribute(NG_ANIMATE_REF_ATTR);refLookup[key]=refLookup[key]||{},refLookup[key][direction]={animationID:index,element:jqLite(anchor)}})}else preparedAnimations.push(animation)});var usedIndicesLookup={},anchorGroups={};return forEach(refLookup,function(operations,key){var from=operations.from,to=operations.to;if(!from||!to){var index=from?from.animationID:to.animationID,indexKey=index.toString();return void(usedIndicesLookup[indexKey]||(usedIndicesLookup[indexKey]=!0,preparedAnimations.push(animations[index])))}var fromAnimation=animations[from.animationID],toAnimation=animations[to.animationID],lookupKey=from.animationID.toString();if(!anchorGroups[lookupKey]){var group=anchorGroups[lookupKey]={structural:!0,beforeStart:function(){fromAnimation.beforeStart(),toAnimation.beforeStart()},close:function(){fromAnimation.close(),toAnimation.close()},classes:cssClassesIntersection(fromAnimation.classes,toAnimation.classes),from:fromAnimation,to:toAnimation,anchors:[]};group.classes.length?preparedAnimations.push(group):(preparedAnimations.push(fromAnimation),preparedAnimations.push(toAnimation))}anchorGroups[lookupKey].anchors.push({out:from.element,"in":to.element})}),preparedAnimations}function cssClassesIntersection(a,b){a=a.split(" "),b=b.split(" ");for(var matches=[],i=0;i<a.length;i++){var aa=a[i];if("ng-"!==aa.substring(0,3))for(var j=0;j<b.length;j++)if(aa===b[j]){matches.push(aa);break}}return matches.join(" ")}function invokeFirstDriver(animationDetails){for(var i=drivers.length-1;i>=0;i--){var driverName=drivers[i];if($injector.has(driverName)){var factory=$injector.get(driverName),driver=factory(animationDetails);if(driver)return driver}}}function beforeStart(){element.addClass(NG_ANIMATE_CLASSNAME),tempClasses&&$$jqLite.addClass(element,tempClasses)}function updateAnimationRunners(animation,newRunner){function update(element){getRunner(element).setHost(newRunner)}animation.from&&animation.to?(update(animation.from.element),update(animation.to.element)):update(animation.element)}function handleDestroyedElement(){var runner=getRunner(element);!runner||"leave"===event&&options.$$domOperationFired||runner.end()}function close(rejected){element.off("$destroy",handleDestroyedElement),removeRunner(element),applyAnimationClasses(element,options),applyAnimationStyles(element,options),options.domOperation(),tempClasses&&$$jqLite.removeClass(element,tempClasses),element.removeClass(NG_ANIMATE_CLASSNAME),runner.complete(!rejected)}options=prepareAnimationOptions(options);var isStructural=["enter","move","leave"].indexOf(event)>=0,runner=new $$AnimateRunner({end:function(){close()},cancel:function(){close(!0)}});if(!drivers.length)return close(),runner;setRunner(element,runner);var classes=mergeClasses(element.attr("class"),mergeClasses(options.addClass,options.removeClass)),tempClasses=options.tempClasses;tempClasses&&(classes+=" "+tempClasses,options.tempClasses=null);var classBasedIndex;return isStructural||(classBasedIndex=totalPendingClassBasedAnimations,totalPendingClassBasedAnimations+=1),animationQueue.push({element:element,classes:classes,event:event,classBasedIndex:classBasedIndex,structural:isStructural,options:options,beforeStart:beforeStart,close:close}),element.on("$destroy",handleDestroyedElement),animationQueue.length>1?runner:($rootScope.$$postDigest(function(){totalActiveClassBasedAnimations=totalPendingClassBasedAnimations,totalPendingClassBasedAnimations=0,classBasedAnimationsQueue.length=0;var animations=[];forEach(animationQueue,function(entry){getRunner(entry.element)&&animations.push(entry)}),animationQueue.length=0,forEach(groupAnimations(animations),function(animationEntry){function triggerAnimationStart(){animationEntry.beforeStart();var startAnimationFn,closeFn=animationEntry.close,targetElement=animationEntry.anchors?animationEntry.from.element||animationEntry.to.element:animationEntry.element;if(getRunner(targetElement)&&getDomNode(targetElement).parentNode){var operation=invokeFirstDriver(animationEntry);operation&&(startAnimationFn=operation.start)}if(startAnimationFn){var animationRunner=startAnimationFn();animationRunner.done(function(status){closeFn(!status)}),updateAnimationRunners(animationEntry,animationRunner)}else closeFn()}animationEntry.structural?triggerAnimationStart():(classBasedAnimationsQueue.push({node:getDomNode(animationEntry.element),fn:triggerAnimationStart}),animationEntry.classBasedIndex===totalActiveClassBasedAnimations-1&&(classBasedAnimationsQueue=classBasedAnimationsQueue.sort(function(a,b){return b.node.contains(a.node)}).map(function(entry){return entry.fn}),$$rAFScheduler(classBasedAnimationsQueue)))})}),runner)}}]}];angular.module("ngAnimate",[]).directive("ngAnimateChildren",$$AnimateChildrenDirective).factory("$$rAFMutex",$$rAFMutexFactory).factory("$$rAFScheduler",$$rAFSchedulerFactory).factory("$$AnimateRunner",$$AnimateRunnerFactory).provider("$$animateQueue",$$AnimateQueueProvider).provider("$$animation",$$AnimationProvider).provider("$animateCss",$AnimateCssProvider).provider("$$animateCssDriver",$$AnimateCssDriverProvider).provider("$$animateJs",$$AnimateJsProvider).provider("$$animateJsDriver",$$AnimateJsDriverProvider)}(window,window.angular),function(window,angular,undefined){"use strict";function $AriaProvider(){function watchExpr(attrName,ariaAttr,negate){return function(scope,elem,attr){var ariaCamelName=attr.$normalize(ariaAttr);config[ariaCamelName]&&!attr[ariaCamelName]&&scope.$watch(attr[attrName],function(boolVal){boolVal=negate?!boolVal:!!boolVal,elem.attr(ariaAttr,boolVal)})}}var config={ariaHidden:!0,ariaChecked:!0,ariaDisabled:!0,ariaRequired:!0,ariaInvalid:!0,ariaMultiline:!0,ariaValue:!0,tabindex:!0,bindKeypress:!0,bindRoleForClick:!0};this.config=function(newConfig){config=angular.extend(config,newConfig)},this.$get=function(){return{config:function(key){return config[key]},$$watchExpr:watchExpr}}}var ngAriaModule=angular.module("ngAria",["ng"]).provider("$aria",$AriaProvider);ngAriaModule.directive("ngShow",["$aria",function($aria){return $aria.$$watchExpr("ngShow","aria-hidden",!0)}]).directive("ngHide",["$aria",function($aria){return $aria.$$watchExpr("ngHide","aria-hidden",!1)}]).directive("ngModel",["$aria",function($aria){function shouldAttachAttr(attr,normalizedAttr,elem){return $aria.config(normalizedAttr)&&!elem.attr(attr)}function shouldAttachRole(role,elem){return!elem.attr("role")&&elem.attr("type")===role&&"INPUT"!==elem[0].nodeName}function getShape(attr,elem){var type=attr.type,role=attr.role;return"checkbox"===(type||role)||"menuitemcheckbox"===role?"checkbox":"radio"===(type||role)||"menuitemradio"===role?"radio":"range"===type||"progressbar"===role||"slider"===role?"range":"textbox"===(type||role)||"TEXTAREA"===elem[0].nodeName?"multiline":""}return{restrict:"A",require:"?ngModel",priority:200,compile:function(elem,attr){var shape=getShape(attr,elem);return{pre:function(scope,elem,attr,ngModel){
"checkbox"===shape&&"checkbox"!==attr.type&&(ngModel.$isEmpty=function(value){return value===!1})},post:function(scope,elem,attr,ngModel){function ngAriaWatchModelValue(){return ngModel.$modelValue}function getRadioReaction(){return needsTabIndex?(needsTabIndex=!1,function(newVal){var boolVal=attr.value==ngModel.$viewValue;elem.attr("aria-checked",boolVal),elem.attr("tabindex",0-!boolVal)}):function(newVal){elem.attr("aria-checked",attr.value==ngModel.$viewValue)}}function ngAriaCheckboxReaction(){elem.attr("aria-checked",!ngModel.$isEmpty(ngModel.$viewValue))}var needsTabIndex=shouldAttachAttr("tabindex","tabindex",elem);switch(shape){case"radio":case"checkbox":shouldAttachRole(shape,elem)&&elem.attr("role",shape),shouldAttachAttr("aria-checked","ariaChecked",elem)&&scope.$watch(ngAriaWatchModelValue,"radio"===shape?getRadioReaction():ngAriaCheckboxReaction);break;case"range":if(shouldAttachRole(shape,elem)&&elem.attr("role","slider"),$aria.config("ariaValue")){var needsAriaValuemin=!elem.attr("aria-valuemin")&&(attr.hasOwnProperty("min")||attr.hasOwnProperty("ngMin")),needsAriaValuemax=!elem.attr("aria-valuemax")&&(attr.hasOwnProperty("max")||attr.hasOwnProperty("ngMax")),needsAriaValuenow=!elem.attr("aria-valuenow");needsAriaValuemin&&attr.$observe("min",function(newVal){elem.attr("aria-valuemin",newVal)}),needsAriaValuemax&&attr.$observe("max",function(newVal){elem.attr("aria-valuemax",newVal)}),needsAriaValuenow&&scope.$watch(ngAriaWatchModelValue,function(newVal){elem.attr("aria-valuenow",newVal)})}break;case"multiline":shouldAttachAttr("aria-multiline","ariaMultiline",elem)&&elem.attr("aria-multiline",!0)}needsTabIndex&&elem.attr("tabindex",0),ngModel.$validators.required&&shouldAttachAttr("aria-required","ariaRequired",elem)&&scope.$watch(function(){return ngModel.$error.required},function(newVal){elem.attr("aria-required",!!newVal)}),shouldAttachAttr("aria-invalid","ariaInvalid",elem)&&scope.$watch(function(){return ngModel.$invalid},function(newVal){elem.attr("aria-invalid",!!newVal)})}}}}}]).directive("ngDisabled",["$aria",function($aria){return $aria.$$watchExpr("ngDisabled","aria-disabled")}]).directive("ngMessages",function(){return{restrict:"A",require:"?ngMessages",link:function(scope,elem,attr,ngMessages){elem.attr("aria-live")||elem.attr("aria-live","assertive")}}}).directive("ngClick",["$aria","$parse",function($aria,$parse){return{restrict:"A",compile:function(elem,attr){var fn=$parse(attr.ngClick,null,!0);return function(scope,elem,attr){function isNodeOneOf(elem,nodeTypeArray){if(nodeTypeArray.indexOf(elem[0].nodeName)!==-1)return!0}var nodeBlackList=["BUTTON","A","INPUT","TEXTAREA"];!$aria.config("bindRoleForClick")||elem.attr("role")||isNodeOneOf(elem,nodeBlackList)||elem.attr("role","button"),$aria.config("tabindex")&&!elem.attr("tabindex")&&elem.attr("tabindex",0),!$aria.config("bindKeypress")||attr.ngKeypress||isNodeOneOf(elem,nodeBlackList)||elem.on("keypress",function(event){function callback(){fn(scope,{$event:event})}var keyCode=event.which||event.keyCode;32!==keyCode&&13!==keyCode||scope.$apply(callback)})}}}}]).directive("ngDblclick",["$aria",function($aria){return function(scope,elem,attr){$aria.config("tabindex")&&!elem.attr("tabindex")&&elem.attr("tabindex",0)}}])}(window,window.angular),angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.collapse","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.bindHtml","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.position","ui.bootstrap.datepicker","ui.bootstrap.dropdown","ui.bootstrap.modal","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.transition","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.tpls",["template/accordion/accordion-group.html","template/accordion/accordion.html","template/alert/alert.html","template/carousel/carousel.html","template/carousel/slide.html","template/datepicker/datepicker.html","template/datepicker/day.html","template/datepicker/month.html","template/datepicker/popup.html","template/datepicker/year.html","template/modal/backdrop.html","template/modal/window.html","template/pagination/pager.html","template/pagination/pagination.html","template/tooltip/tooltip-html-popup.html","template/tooltip/tooltip-html-unsafe-popup.html","template/tooltip/tooltip-popup.html","template/tooltip/tooltip-template-popup.html","template/popover/popover-html.html","template/popover/popover-template.html","template/popover/popover.html","template/progressbar/bar.html","template/progressbar/progress.html","template/progressbar/progressbar.html","template/rating/rating.html","template/tabs/tab.html","template/tabs/tabset.html","template/timepicker/timepicker.html","template/typeahead/typeahead-match.html","template/typeahead/typeahead-popup.html"]),angular.module("ui.bootstrap.collapse",[]).directive("collapse",["$animate",function($animate){return{link:function(scope,element,attrs){function expand(){element.removeClass("collapse").addClass("collapsing").attr("aria-expanded",!0).attr("aria-hidden",!1),$animate.addClass(element,"in",{to:{height:element[0].scrollHeight+"px"}}).then(expandDone)}function expandDone(){element.removeClass("collapsing"),element.css({height:"auto"})}function collapse(){return element.hasClass("collapse")||element.hasClass("in")?(element.css({height:element[0].scrollHeight+"px"}).removeClass("collapse").addClass("collapsing").attr("aria-expanded",!1).attr("aria-hidden",!0),void $animate.removeClass(element,"in",{to:{height:"0"}}).then(collapseDone)):collapseDone()}function collapseDone(){element.css({height:"0"}),element.removeClass("collapsing"),element.addClass("collapse")}scope.$watch(attrs.collapse,function(shouldCollapse){shouldCollapse?collapse():expand()})}}}]),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse"]).constant("accordionConfig",{closeOthers:!0}).controller("AccordionController",["$scope","$attrs","accordionConfig",function($scope,$attrs,accordionConfig){this.groups=[],this.closeOthers=function(openGroup){var closeOthers=angular.isDefined($attrs.closeOthers)?$scope.$eval($attrs.closeOthers):accordionConfig.closeOthers;closeOthers&&angular.forEach(this.groups,function(group){group!==openGroup&&(group.isOpen=!1)})},this.addGroup=function(groupScope){var that=this;this.groups.push(groupScope),groupScope.$on("$destroy",function(event){that.removeGroup(groupScope)})},this.removeGroup=function(group){var index=this.groups.indexOf(group);index!==-1&&this.groups.splice(index,1)}}]).directive("accordion",function(){return{restrict:"EA",controller:"AccordionController",controllerAs:"accordion",transclude:!0,replace:!1,templateUrl:function(element,attrs){return attrs.templateUrl||"template/accordion/accordion.html"}}}).directive("accordionGroup",function(){return{require:"^accordion",restrict:"EA",transclude:!0,replace:!0,templateUrl:function(element,attrs){return attrs.templateUrl||"template/accordion/accordion-group.html"},scope:{heading:"@",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(element){this.heading=element}},link:function(scope,element,attrs,accordionCtrl){accordionCtrl.addGroup(scope),scope.$watch("isOpen",function(value){value&&accordionCtrl.closeOthers(scope)}),scope.toggleOpen=function(){scope.isDisabled||(scope.isOpen=!scope.isOpen)}}}}).directive("accordionHeading",function(){return{restrict:"EA",transclude:!0,template:"",replace:!0,require:"^accordionGroup",link:function(scope,element,attr,accordionGroupCtrl,transclude){accordionGroupCtrl.setHeading(transclude(scope,angular.noop))}}}).directive("accordionTransclude",function(){return{require:"^accordionGroup",link:function(scope,element,attr,controller){scope.$watch(function(){return controller[attr.accordionTransclude]},function(heading){heading&&(element.find("span").html(""),element.find("span").append(heading))})}}}),angular.module("ui.bootstrap.alert",[]).controller("AlertController",["$scope","$attrs",function($scope,$attrs){$scope.closeable=!!$attrs.close,this.close=$scope.close}]).directive("alert",function(){return{restrict:"EA",controller:"AlertController",controllerAs:"alert",templateUrl:function(element,attrs){return attrs.templateUrl||"template/alert/alert.html"},transclude:!0,replace:!0,scope:{type:"@",close:"&"}}}).directive("dismissOnTimeout",["$timeout",function($timeout){return{require:"alert",link:function(scope,element,attrs,alertCtrl){$timeout(function(){alertCtrl.close()},parseInt(attrs.dismissOnTimeout,10))}}}]),angular.module("ui.bootstrap.bindHtml",[]).value("$bindHtmlUnsafeSuppressDeprecated",!1).directive("bindHtmlUnsafe",["$log","$bindHtmlUnsafeSuppressDeprecated",function($log,$bindHtmlUnsafeSuppressDeprecated){return function(scope,element,attr){$bindHtmlUnsafeSuppressDeprecated||$log.warn("bindHtmlUnsafe is now deprecated. Use ngBindHtml instead"),element.addClass("ng-binding").data("$binding",attr.bindHtmlUnsafe),scope.$watch(attr.bindHtmlUnsafe,function(value){element.html(value||"")})}}]),angular.module("ui.bootstrap.buttons",[]).constant("buttonConfig",{activeClass:"active",toggleEvent:"click"}).controller("ButtonsController",["buttonConfig",function(buttonConfig){this.activeClass=buttonConfig.activeClass||"active",this.toggleEvent=buttonConfig.toggleEvent||"click"}]).directive("btnRadio",function(){return{require:["btnRadio","ngModel"],controller:"ButtonsController",controllerAs:"buttons",link:function(scope,element,attrs,ctrls){var buttonsCtrl=ctrls[0],ngModelCtrl=ctrls[1];ngModelCtrl.$render=function(){element.toggleClass(buttonsCtrl.activeClass,angular.equals(ngModelCtrl.$modelValue,scope.$eval(attrs.btnRadio)))},element.bind(buttonsCtrl.toggleEvent,function(){if(!attrs.disabled){var isActive=element.hasClass(buttonsCtrl.activeClass);isActive&&!angular.isDefined(attrs.uncheckable)||scope.$apply(function(){ngModelCtrl.$setViewValue(isActive?null:scope.$eval(attrs.btnRadio)),ngModelCtrl.$render()})}})}}}).directive("btnCheckbox",function(){return{require:["btnCheckbox","ngModel"],controller:"ButtonsController",controllerAs:"button",link:function(scope,element,attrs,ctrls){function getTrueValue(){return getCheckboxValue(attrs.btnCheckboxTrue,!0)}function getFalseValue(){return getCheckboxValue(attrs.btnCheckboxFalse,!1)}function getCheckboxValue(attributeValue,defaultValue){var val=scope.$eval(attributeValue);return angular.isDefined(val)?val:defaultValue}var buttonsCtrl=ctrls[0],ngModelCtrl=ctrls[1];ngModelCtrl.$render=function(){element.toggleClass(buttonsCtrl.activeClass,angular.equals(ngModelCtrl.$modelValue,getTrueValue()))},element.bind(buttonsCtrl.toggleEvent,function(){attrs.disabled||scope.$apply(function(){ngModelCtrl.$setViewValue(element.hasClass(buttonsCtrl.activeClass)?getFalseValue():getTrueValue()),ngModelCtrl.$render()})})}}}),angular.module("ui.bootstrap.carousel",[]).controller("CarouselController",["$scope","$element","$interval","$animate",function($scope,$element,$interval,$animate){function goNext(slide,index,direction){destroyed||(angular.extend(slide,{direction:direction,active:!0}),angular.extend(self.currentSlide||{},{direction:direction,active:!1}),$animate.enabled()&&!$scope.noTransition&&!$scope.$currentTransition&&slide.$element&&self.slides.length>1&&(slide.$element.data(SLIDE_DIRECTION,slide.direction),self.currentSlide&&self.currentSlide.$element&&self.currentSlide.$element.data(SLIDE_DIRECTION,slide.direction),$scope.$currentTransition=!0,NEW_ANIMATE?$animate.on("addClass",slide.$element,function(element,phase){"close"===phase&&($scope.$currentTransition=null,$animate.off("addClass",element))}):slide.$element.one("$animate:close",function(){$scope.$currentTransition=null})),self.currentSlide=slide,currentIndex=index,restartTimer())}function getSlideByIndex(index){if(angular.isUndefined(slides[index].index))return slides[index];var i;slides.length;for(i=0;i<slides.length;++i)if(slides[i].index==index)return slides[i]}function restartTimer(){resetTimer();var interval=+$scope.interval;!isNaN(interval)&&interval>0&&(currentInterval=$interval(timerFn,interval))}function resetTimer(){currentInterval&&($interval.cancel(currentInterval),currentInterval=null)}function timerFn(){var interval=+$scope.interval;isPlaying&&!isNaN(interval)&&interval>0&&slides.length?$scope.next():$scope.pause()}var currentInterval,isPlaying,self=this,slides=self.slides=$scope.slides=[],NEW_ANIMATE=angular.version.minor>=4,NO_TRANSITION="uib-noTransition",SLIDE_DIRECTION="uib-slideDirection",currentIndex=-1;self.currentSlide=null;var destroyed=!1;self.select=$scope.select=function(nextSlide,direction){var nextIndex=$scope.indexOfSlide(nextSlide);void 0===direction&&(direction=nextIndex>self.getCurrentIndex()?"next":"prev"),nextSlide&&nextSlide!==self.currentSlide&&!$scope.$currentTransition&&goNext(nextSlide,nextIndex,direction)},$scope.$on("$destroy",function(){destroyed=!0}),self.getCurrentIndex=function(){return self.currentSlide&&angular.isDefined(self.currentSlide.index)?+self.currentSlide.index:currentIndex},$scope.indexOfSlide=function(slide){return angular.isDefined(slide.index)?+slide.index:slides.indexOf(slide)},$scope.next=function(){var newIndex=(self.getCurrentIndex()+1)%slides.length;return 0===newIndex&&$scope.noWrap()?void $scope.pause():self.select(getSlideByIndex(newIndex),"next")},$scope.prev=function(){var newIndex=self.getCurrentIndex()-1<0?slides.length-1:self.getCurrentIndex()-1;return $scope.noWrap()&&newIndex===slides.length-1?void $scope.pause():self.select(getSlideByIndex(newIndex),"prev")},$scope.isActive=function(slide){return self.currentSlide===slide},$scope.$watch("interval",restartTimer),$scope.$on("$destroy",resetTimer),$scope.play=function(){isPlaying||(isPlaying=!0,restartTimer())},$scope.pause=function(){$scope.noPause||(isPlaying=!1,resetTimer())},self.addSlide=function(slide,element){slide.$element=element,slides.push(slide),1===slides.length||slide.active?(self.select(slides[slides.length-1]),1==slides.length&&$scope.play()):slide.active=!1},self.removeSlide=function(slide){angular.isDefined(slide.index)&&slides.sort(function(a,b){return+a.index>+b.index});var index=slides.indexOf(slide);slides.splice(index,1),slides.length>0&&slide.active?index>=slides.length?self.select(slides[index-1]):self.select(slides[index]):currentIndex>index&&currentIndex--,0===slides.length&&(self.currentSlide=null)},$scope.$watch("noTransition",function(noTransition){$element.data(NO_TRANSITION,noTransition)})}]).directive("carousel",[function(){return{restrict:"EA",transclude:!0,replace:!0,controller:"CarouselController",controllerAs:"carousel",require:"carousel",templateUrl:function(element,attrs){return attrs.templateUrl||"template/carousel/carousel.html"},scope:{interval:"=",noTransition:"=",noPause:"=",noWrap:"&"}}}]).directive("slide",function(){return{require:"^carousel",restrict:"EA",transclude:!0,replace:!0,templateUrl:function(element,attrs){return attrs.templateUrl||"template/carousel/slide.html"},scope:{active:"=?",index:"=?"},link:function(scope,element,attrs,carouselCtrl){carouselCtrl.addSlide(scope,element),scope.$on("$destroy",function(){carouselCtrl.removeSlide(scope)}),scope.$watch("active",function(active){active&&carouselCtrl.select(scope)})}}}).animation(".item",["$injector","$animate",function($injector,$animate){function removeClass(element,className,callback){element.removeClass(className),callback&&callback()}var NO_TRANSITION="uib-noTransition",SLIDE_DIRECTION="uib-slideDirection",$animateCss=null;return $injector.has("$animateCss")&&($animateCss=$injector.get("$animateCss")),{beforeAddClass:function(element,className,done){if("active"==className&&element.parent()&&!element.parent().data(NO_TRANSITION)){var stopped=!1,direction=element.data(SLIDE_DIRECTION),directionClass="next"==direction?"left":"right",removeClassFn=removeClass.bind(this,element,directionClass+" "+direction,done);return element.addClass(direction),$animateCss?$animateCss(element,{addClass:directionClass}).start().done(removeClassFn):$animate.addClass(element,directionClass).then(function(){stopped||removeClassFn(),done()}),function(){stopped=!0}}done()},beforeRemoveClass:function(element,className,done){if("active"===className&&element.parent()&&!element.parent().data(NO_TRANSITION)){var stopped=!1,direction=element.data(SLIDE_DIRECTION),directionClass="next"==direction?"left":"right",removeClassFn=removeClass.bind(this,element,directionClass,done);return $animateCss?$animateCss(element,{addClass:directionClass}).start().done(removeClassFn):$animate.addClass(element,directionClass).then(function(){stopped||removeClassFn(),done()}),function(){stopped=!0}}done()}}}]),angular.module("ui.bootstrap.dateparser",[]).service("dateParser",["$log","$locale","orderByFilter",function($log,$locale,orderByFilter){function createParser(format){var map=[],regex=format.split("");return angular.forEach(formatCodeToRegex,function(data,code){var index=format.indexOf(code);if(index>-1){format=format.split(""),regex[index]="("+data.regex+")",format[index]="$";for(var i=index+1,n=index+code.length;i<n;i++)regex[i]="",format[i]="$";format=format.join(""),map.push({index:index,apply:data.apply})}}),{regex:new RegExp("^"+regex.join("")+"$"),map:orderByFilter(map,"index")}}function isValid(year,month,date){return!(date<1)&&(1===month&&date>28?29===date&&(year%4===0&&year%100!==0||year%400===0):3!==month&&5!==month&&8!==month&&10!==month||date<31)}var SPECIAL_CHARACTERS_REGEXP=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;this.parsers={};var formatCodeToRegex={yyyy:{regex:"\\d{4}",apply:function(value){this.year=+value}},yy:{regex:"\\d{2}",apply:function(value){this.year=+value+2e3}},y:{regex:"\\d{1,4}",apply:function(value){this.year=+value}},MMMM:{regex:$locale.DATETIME_FORMATS.MONTH.join("|"),apply:function(value){this.month=$locale.DATETIME_FORMATS.MONTH.indexOf(value)}},MMM:{regex:$locale.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(value){this.month=$locale.DATETIME_FORMATS.SHORTMONTH.indexOf(value)}},MM:{regex:"0[1-9]|1[0-2]",apply:function(value){this.month=value-1}},M:{regex:"[1-9]|1[0-2]",apply:function(value){this.month=value-1}},dd:{regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(value){this.date=+value}},d:{regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(value){this.date=+value}},EEEE:{regex:$locale.DATETIME_FORMATS.DAY.join("|")},EEE:{regex:$locale.DATETIME_FORMATS.SHORTDAY.join("|")},HH:{regex:"(?:0|1)[0-9]|2[0-3]",apply:function(value){this.hours=+value}},hh:{regex:"0[0-9]|1[0-2]",apply:function(value){this.hours=+value}},H:{regex:"1?[0-9]|2[0-3]",apply:function(value){this.hours=+value}},mm:{regex:"[0-5][0-9]",apply:function(value){this.minutes=+value}},m:{regex:"[0-9]|[1-5][0-9]",apply:function(value){this.minutes=+value}},sss:{regex:"[0-9][0-9][0-9]",apply:function(value){this.milliseconds=+value}},ss:{regex:"[0-5][0-9]",apply:function(value){this.seconds=+value}},s:{regex:"[0-9]|[1-5][0-9]",apply:function(value){this.seconds=+value}},a:{regex:$locale.DATETIME_FORMATS.AMPMS.join("|"),apply:function(value){12===this.hours&&(this.hours=0),"PM"===value&&(this.hours+=12)}}};this.parse=function(input,format,baseDate){if(!angular.isString(input)||!format)return input;format=$locale.DATETIME_FORMATS[format]||format,format=format.replace(SPECIAL_CHARACTERS_REGEXP,"\\$&"),this.parsers[format]||(this.parsers[format]=createParser(format));var parser=this.parsers[format],regex=parser.regex,map=parser.map,results=input.match(regex);if(results&&results.length){var fields,dt;angular.isDate(baseDate)&&!isNaN(baseDate.getTime())?fields={year:baseDate.getFullYear(),month:baseDate.getMonth(),date:baseDate.getDate(),hours:baseDate.getHours(),minutes:baseDate.getMinutes(),seconds:baseDate.getSeconds(),milliseconds:baseDate.getMilliseconds()}:(baseDate&&$log.warn("dateparser:","baseDate is not a valid date"),fields={year:1900,month:0,date:1,hours:0,minutes:0,seconds:0,milliseconds:0});for(var i=1,n=results.length;i<n;i++){var mapper=map[i-1];mapper.apply&&mapper.apply.call(fields,results[i])}return isValid(fields.year,fields.month,fields.date)&&(dt=new Date(fields.year,fields.month,fields.date,fields.hours,fields.minutes,fields.seconds,fields.milliseconds||0)),dt}}}]),angular.module("ui.bootstrap.position",[]).factory("$position",["$document","$window",function($document,$window){function getStyle(el,cssprop){return el.currentStyle?el.currentStyle[cssprop]:$window.getComputedStyle?$window.getComputedStyle(el)[cssprop]:el.style[cssprop]}function isStaticPositioned(element){return"static"===(getStyle(element,"position")||"static")}var parentOffsetEl=function(element){for(var docDomEl=$document[0],offsetParent=element.offsetParent||docDomEl;offsetParent&&offsetParent!==docDomEl&&isStaticPositioned(offsetParent);)offsetParent=offsetParent.offsetParent;return offsetParent||docDomEl};return{position:function(element){var elBCR=this.offset(element),offsetParentBCR={top:0,left:0},offsetParentEl=parentOffsetEl(element[0]);offsetParentEl!=$document[0]&&(offsetParentBCR=this.offset(angular.element(offsetParentEl)),offsetParentBCR.top+=offsetParentEl.clientTop-offsetParentEl.scrollTop,offsetParentBCR.left+=offsetParentEl.clientLeft-offsetParentEl.scrollLeft);var boundingClientRect=element[0].getBoundingClientRect();return{width:boundingClientRect.width||element.prop("offsetWidth"),height:boundingClientRect.height||element.prop("offsetHeight"),top:elBCR.top-offsetParentBCR.top,left:elBCR.left-offsetParentBCR.left}},offset:function(element){var boundingClientRect=element[0].getBoundingClientRect();return{width:boundingClientRect.width||element.prop("offsetWidth"),height:boundingClientRect.height||element.prop("offsetHeight"),top:boundingClientRect.top+($window.pageYOffset||$document[0].documentElement.scrollTop),left:boundingClientRect.left+($window.pageXOffset||$document[0].documentElement.scrollLeft)}},positionElements:function(hostEl,targetEl,positionStr,appendToBody){var hostElPos,targetElWidth,targetElHeight,targetElPos,positionStrParts=positionStr.split("-"),pos0=positionStrParts[0],pos1=positionStrParts[1]||"center";hostElPos=appendToBody?this.offset(hostEl):this.position(hostEl),targetElWidth=targetEl.prop("offsetWidth"),targetElHeight=targetEl.prop("offsetHeight");var shiftWidth={center:function(){return hostElPos.left+hostElPos.width/2-targetElWidth/2},left:function(){return hostElPos.left},right:function(){return hostElPos.left+hostElPos.width}},shiftHeight={center:function(){return hostElPos.top+hostElPos.height/2-targetElHeight/2},top:function(){return hostElPos.top},bottom:function(){return hostElPos.top+hostElPos.height}};switch(pos0){case"right":targetElPos={top:shiftHeight[pos1](),left:shiftWidth[pos0]()};break;case"left":targetElPos={top:shiftHeight[pos1](),left:hostElPos.left-targetElWidth};break;case"bottom":targetElPos={top:shiftHeight[pos0](),left:shiftWidth[pos1]()};break;default:targetElPos={top:hostElPos.top-targetElHeight,left:shiftWidth[pos1]()}}return targetElPos}}}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.position"]).value("$datepickerSuppressError",!1).constant("datepickerConfig",{formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",datepickerMode:"day",minMode:"day",maxMode:"year",showWeeks:!0,startingDay:0,yearRange:20,minDate:null,maxDate:null,shortcutPropagation:!1}).controller("DatepickerController",["$scope","$attrs","$parse","$interpolate","$log","dateFilter","datepickerConfig","$datepickerSuppressError",function($scope,$attrs,$parse,$interpolate,$log,dateFilter,datepickerConfig,$datepickerSuppressError){var self=this,ngModelCtrl={$setViewValue:angular.noop};this.modes=["day","month","year"],angular.forEach(["formatDay","formatMonth","formatYear","formatDayHeader","formatDayTitle","formatMonthTitle","showWeeks","startingDay","yearRange","shortcutPropagation"],function(key,index){self[key]=angular.isDefined($attrs[key])?index<6?$interpolate($attrs[key])($scope.$parent):$scope.$parent.$eval($attrs[key]):datepickerConfig[key]}),angular.forEach(["minDate","maxDate"],function(key){$attrs[key]?$scope.$parent.$watch($parse($attrs[key]),function(value){self[key]=value?new Date(value):null,self.refreshView()}):self[key]=datepickerConfig[key]?new Date(datepickerConfig[key]):null}),angular.forEach(["minMode","maxMode"],function(key){$attrs[key]?$scope.$parent.$watch($parse($attrs[key]),function(value){self[key]=angular.isDefined(value)?value:$attrs[key],$scope[key]=self[key],("minMode"==key&&self.modes.indexOf($scope.datepickerMode)<self.modes.indexOf(self[key])||"maxMode"==key&&self.modes.indexOf($scope.datepickerMode)>self.modes.indexOf(self[key]))&&($scope.datepickerMode=self[key])}):(self[key]=datepickerConfig[key]||null,$scope[key]=self[key])}),$scope.datepickerMode=$scope.datepickerMode||datepickerConfig.datepickerMode,$scope.uniqueId="datepicker-"+$scope.$id+"-"+Math.floor(1e4*Math.random()),angular.isDefined($attrs.initDate)?(this.activeDate=$scope.$parent.$eval($attrs.initDate)||new Date,$scope.$parent.$watch($attrs.initDate,function(initDate){initDate&&(ngModelCtrl.$isEmpty(ngModelCtrl.$modelValue)||ngModelCtrl.$invalid)&&(self.activeDate=initDate,self.refreshView())})):this.activeDate=new Date,$scope.isActive=function(dateObject){return 0===self.compare(dateObject.date,self.activeDate)&&($scope.activeDateId=dateObject.uid,!0)},this.init=function(ngModelCtrl_){ngModelCtrl=ngModelCtrl_,ngModelCtrl.$render=function(){self.render()}},this.render=function(){if(ngModelCtrl.$viewValue){var date=new Date(ngModelCtrl.$viewValue),isValid=!isNaN(date);isValid?this.activeDate=date:$datepickerSuppressError||$log.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')}this.refreshView()},this.refreshView=function(){if(this.element){this._refreshView();var date=ngModelCtrl.$viewValue?new Date(ngModelCtrl.$viewValue):null;ngModelCtrl.$setValidity("dateDisabled",!date||this.element&&!this.isDisabled(date))}},this.createDateObject=function(date,format){var model=ngModelCtrl.$viewValue?new Date(ngModelCtrl.$viewValue):null;return{date:date,label:dateFilter(date,format),selected:model&&0===this.compare(date,model),disabled:this.isDisabled(date),current:0===this.compare(date,new Date),customClass:this.customClass(date)}},this.isDisabled=function(date){return this.minDate&&this.compare(date,this.minDate)<0||this.maxDate&&this.compare(date,this.maxDate)>0||$attrs.dateDisabled&&$scope.dateDisabled({date:date,mode:$scope.datepickerMode})},this.customClass=function(date){return $scope.customClass({date:date,mode:$scope.datepickerMode})},this.split=function(arr,size){for(var arrays=[];arr.length>0;)arrays.push(arr.splice(0,size));return arrays},this.fixTimeZone=function(date){var hours=date.getHours();date.setHours(23===hours?hours+2:0)},$scope.select=function(date){if($scope.datepickerMode===self.minMode){var dt=ngModelCtrl.$viewValue?new Date(ngModelCtrl.$viewValue):new Date(0,0,0,0,0,0,0);dt.setFullYear(date.getFullYear(),date.getMonth(),date.getDate()),ngModelCtrl.$setViewValue(dt),ngModelCtrl.$render()}else self.activeDate=date,$scope.datepickerMode=self.modes[self.modes.indexOf($scope.datepickerMode)-1]},$scope.move=function(direction){var year=self.activeDate.getFullYear()+direction*(self.step.years||0),month=self.activeDate.getMonth()+direction*(self.step.months||0);self.activeDate.setFullYear(year,month,1),self.refreshView()},$scope.toggleMode=function(direction){direction=direction||1,$scope.datepickerMode===self.maxMode&&1===direction||$scope.datepickerMode===self.minMode&&direction===-1||($scope.datepickerMode=self.modes[self.modes.indexOf($scope.datepickerMode)+direction])},$scope.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};var focusElement=function(){self.element[0].focus()};$scope.$on("datepicker.focus",focusElement),$scope.keydown=function(evt){var key=$scope.keys[evt.which];if(key&&!evt.shiftKey&&!evt.altKey)if(evt.preventDefault(),self.shortcutPropagation||evt.stopPropagation(),"enter"===key||"space"===key){if(self.isDisabled(self.activeDate))return;$scope.select(self.activeDate),focusElement()}else!evt.ctrlKey||"up"!==key&&"down"!==key?(self.handleKeyDown(key,evt),self.refreshView()):($scope.toggleMode("up"===key?1:-1),focusElement())}}]).directive("datepicker",function(){return{restrict:"EA",replace:!0,templateUrl:function(element,attrs){return attrs.templateUrl||"template/datepicker/datepicker.html"},scope:{datepickerMode:"=?",dateDisabled:"&",customClass:"&",shortcutPropagation:"&?"},require:["datepicker","^ngModel"],controller:"DatepickerController",controllerAs:"datepicker",link:function(scope,element,attrs,ctrls){var datepickerCtrl=ctrls[0],ngModelCtrl=ctrls[1];datepickerCtrl.init(ngModelCtrl)}}}).directive("daypicker",["dateFilter",function(dateFilter){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/day.html",require:"^datepicker",link:function(scope,element,attrs,ctrl){function getDaysInMonth(year,month){return 1!==month||year%4!==0||year%100===0&&year%400!==0?DAYS_IN_MONTH[month]:29}function getDates(startDate,n){for(var date,dates=new Array(n),current=new Date(startDate),i=0;i<n;)date=new Date(current),ctrl.fixTimeZone(date),dates[i++]=date,current.setDate(current.getDate()+1);return dates}function getISO8601WeekNumber(date){var checkDate=new Date(date);checkDate.setDate(checkDate.getDate()+4-(checkDate.getDay()||7));var time=checkDate.getTime();return checkDate.setMonth(0),checkDate.setDate(1),Math.floor(Math.round((time-checkDate)/864e5)/7)+1}scope.showWeeks=ctrl.showWeeks,ctrl.step={months:1},ctrl.element=element;var DAYS_IN_MONTH=[31,28,31,30,31,30,31,31,30,31,30,31];ctrl._refreshView=function(){var year=ctrl.activeDate.getFullYear(),month=ctrl.activeDate.getMonth(),firstDayOfMonth=new Date(year,month,1),difference=ctrl.startingDay-firstDayOfMonth.getDay(),numDisplayedFromPreviousMonth=difference>0?7-difference:-difference,firstDate=new Date(firstDayOfMonth);numDisplayedFromPreviousMonth>0&&firstDate.setDate(-numDisplayedFromPreviousMonth+1);for(var days=getDates(firstDate,42),i=0;i<42;i++)days[i]=angular.extend(ctrl.createDateObject(days[i],ctrl.formatDay),{secondary:days[i].getMonth()!==month,uid:scope.uniqueId+"-"+i});scope.labels=new Array(7);for(var j=0;j<7;j++)scope.labels[j]={abbr:dateFilter(days[j].date,ctrl.formatDayHeader),full:dateFilter(days[j].date,"EEEE")};if(scope.title=dateFilter(ctrl.activeDate,ctrl.formatDayTitle),scope.rows=ctrl.split(days,7),scope.showWeeks){scope.weekNumbers=[];for(var thursdayIndex=(11-ctrl.startingDay)%7,numWeeks=scope.rows.length,curWeek=0;curWeek<numWeeks;curWeek++)scope.weekNumbers.push(getISO8601WeekNumber(scope.rows[curWeek][thursdayIndex].date))}},ctrl.compare=function(date1,date2){return new Date(date1.getFullYear(),date1.getMonth(),date1.getDate())-new Date(date2.getFullYear(),date2.getMonth(),date2.getDate())},ctrl.handleKeyDown=function(key,evt){var date=ctrl.activeDate.getDate();if("left"===key)date-=1;else if("up"===key)date-=7;else if("right"===key)date+=1;else if("down"===key)date+=7;else if("pageup"===key||"pagedown"===key){var month=ctrl.activeDate.getMonth()+("pageup"===key?-1:1);ctrl.activeDate.setMonth(month,1),date=Math.min(getDaysInMonth(ctrl.activeDate.getFullYear(),ctrl.activeDate.getMonth()),date)}else"home"===key?date=1:"end"===key&&(date=getDaysInMonth(ctrl.activeDate.getFullYear(),ctrl.activeDate.getMonth()));ctrl.activeDate.setDate(date)},ctrl.refreshView()}}}]).directive("monthpicker",["dateFilter",function(dateFilter){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/month.html",require:"^datepicker",link:function(scope,element,attrs,ctrl){ctrl.step={years:1},ctrl.element=element,ctrl._refreshView=function(){for(var date,months=new Array(12),year=ctrl.activeDate.getFullYear(),i=0;i<12;i++)date=new Date(year,i,1),
ctrl.fixTimeZone(date),months[i]=angular.extend(ctrl.createDateObject(date,ctrl.formatMonth),{uid:scope.uniqueId+"-"+i});scope.title=dateFilter(ctrl.activeDate,ctrl.formatMonthTitle),scope.rows=ctrl.split(months,3)},ctrl.compare=function(date1,date2){return new Date(date1.getFullYear(),date1.getMonth())-new Date(date2.getFullYear(),date2.getMonth())},ctrl.handleKeyDown=function(key,evt){var date=ctrl.activeDate.getMonth();if("left"===key)date-=1;else if("up"===key)date-=3;else if("right"===key)date+=1;else if("down"===key)date+=3;else if("pageup"===key||"pagedown"===key){var year=ctrl.activeDate.getFullYear()+("pageup"===key?-1:1);ctrl.activeDate.setFullYear(year)}else"home"===key?date=0:"end"===key&&(date=11);ctrl.activeDate.setMonth(date)},ctrl.refreshView()}}}]).directive("yearpicker",["dateFilter",function(dateFilter){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/year.html",require:"^datepicker",link:function(scope,element,attrs,ctrl){function getStartingYear(year){return parseInt((year-1)/range,10)*range+1}var range=ctrl.yearRange;ctrl.step={years:range},ctrl.element=element,ctrl._refreshView=function(){for(var date,years=new Array(range),i=0,start=getStartingYear(ctrl.activeDate.getFullYear());i<range;i++)date=new Date(start+i,0,1),ctrl.fixTimeZone(date),years[i]=angular.extend(ctrl.createDateObject(date,ctrl.formatYear),{uid:scope.uniqueId+"-"+i});scope.title=[years[0].label,years[range-1].label].join(" - "),scope.rows=ctrl.split(years,5)},ctrl.compare=function(date1,date2){return date1.getFullYear()-date2.getFullYear()},ctrl.handleKeyDown=function(key,evt){var date=ctrl.activeDate.getFullYear();"left"===key?date-=1:"up"===key?date-=5:"right"===key?date+=1:"down"===key?date+=5:"pageup"===key||"pagedown"===key?date+=("pageup"===key?-1:1)*ctrl.step.years:"home"===key?date=getStartingYear(ctrl.activeDate.getFullYear()):"end"===key&&(date=getStartingYear(ctrl.activeDate.getFullYear())+range-1),ctrl.activeDate.setFullYear(date)},ctrl.refreshView()}}}]).constant("datepickerPopupConfig",{datepickerPopup:"yyyy-MM-dd",datepickerPopupTemplateUrl:"template/datepicker/popup.html",datepickerTemplateUrl:"template/datepicker/datepicker.html",html5Types:{date:"yyyy-MM-dd","datetime-local":"yyyy-MM-ddTHH:mm:ss.sss",month:"yyyy-MM"},currentText:"Today",clearText:"Clear",closeText:"Done",closeOnDateSelection:!0,appendToBody:!1,showButtonBar:!0,onOpenFocus:!0}).directive("datepickerPopup",["$compile","$parse","$document","$rootScope","$position","dateFilter","dateParser","datepickerPopupConfig","$timeout",function($compile,$parse,$document,$rootScope,$position,dateFilter,dateParser,datepickerPopupConfig,$timeout){return{restrict:"EA",require:"ngModel",scope:{isOpen:"=?",currentText:"@",clearText:"@",closeText:"@",dateDisabled:"&",customClass:"&"},link:function(scope,element,attrs,ngModel){function cameltoDash(string){return string.replace(/([A-Z])/g,function($1){return"-"+$1.toLowerCase()})}function parseDate(viewValue){angular.isNumber(viewValue)&&(viewValue=new Date(viewValue));{if(!viewValue)return null;if(angular.isDate(viewValue)&&!isNaN(viewValue))return viewValue;if(angular.isString(viewValue)){var date=dateParser.parse(viewValue,dateFormat,scope.date);return isNaN(date)?void 0:date}}}function validator(modelValue,viewValue){var value=modelValue||viewValue;if(!attrs.ngRequired&&!value)return!0;if(angular.isNumber(value)&&(value=new Date(value)),value){if(angular.isDate(value)&&!isNaN(value))return!0;if(angular.isString(value)){var date=dateParser.parse(value,dateFormat);return!isNaN(date)}return!1}return!0}var dateFormat,closeOnDateSelection=angular.isDefined(attrs.closeOnDateSelection)?scope.$parent.$eval(attrs.closeOnDateSelection):datepickerPopupConfig.closeOnDateSelection,appendToBody=angular.isDefined(attrs.datepickerAppendToBody)?scope.$parent.$eval(attrs.datepickerAppendToBody):datepickerPopupConfig.appendToBody,onOpenFocus=angular.isDefined(attrs.onOpenFocus)?scope.$parent.$eval(attrs.onOpenFocus):datepickerPopupConfig.onOpenFocus,datepickerPopupTemplateUrl=angular.isDefined(attrs.datepickerPopupTemplateUrl)?attrs.datepickerPopupTemplateUrl:datepickerPopupConfig.datepickerPopupTemplateUrl,datepickerTemplateUrl=angular.isDefined(attrs.datepickerTemplateUrl)?attrs.datepickerTemplateUrl:datepickerPopupConfig.datepickerTemplateUrl;scope.showButtonBar=angular.isDefined(attrs.showButtonBar)?scope.$parent.$eval(attrs.showButtonBar):datepickerPopupConfig.showButtonBar,scope.getText=function(key){return scope[key+"Text"]||datepickerPopupConfig[key+"Text"]};var isHtml5DateInput=!1;if(datepickerPopupConfig.html5Types[attrs.type]?(dateFormat=datepickerPopupConfig.html5Types[attrs.type],isHtml5DateInput=!0):(dateFormat=attrs.datepickerPopup||datepickerPopupConfig.datepickerPopup,attrs.$observe("datepickerPopup",function(value,oldValue){var newDateFormat=value||datepickerPopupConfig.datepickerPopup;if(newDateFormat!==dateFormat&&(dateFormat=newDateFormat,ngModel.$modelValue=null,!dateFormat))throw new Error("datepickerPopup must have a date format specified.")})),!dateFormat)throw new Error("datepickerPopup must have a date format specified.");if(isHtml5DateInput&&attrs.datepickerPopup)throw new Error("HTML5 date input types do not support custom formats.");var popupEl=angular.element("<div datepicker-popup-wrap><div datepicker></div></div>");popupEl.attr({"ng-model":"date","ng-change":"dateSelection(date)","template-url":datepickerPopupTemplateUrl});var datepickerEl=angular.element(popupEl.children()[0]);if(datepickerEl.attr("template-url",datepickerTemplateUrl),isHtml5DateInput&&"month"==attrs.type&&(datepickerEl.attr("datepicker-mode",'"month"'),datepickerEl.attr("min-mode","month")),attrs.datepickerOptions){var options=scope.$parent.$eval(attrs.datepickerOptions);options&&options.initDate&&(scope.initDate=options.initDate,datepickerEl.attr("init-date","initDate"),delete options.initDate),angular.forEach(options,function(value,option){datepickerEl.attr(cameltoDash(option),value)})}scope.watchData={},angular.forEach(["minMode","maxMode","minDate","maxDate","datepickerMode","initDate","shortcutPropagation"],function(key){if(attrs[key]){var getAttribute=$parse(attrs[key]);if(scope.$parent.$watch(getAttribute,function(value){scope.watchData[key]=value}),datepickerEl.attr(cameltoDash(key),"watchData."+key),"datepickerMode"===key){var setAttribute=getAttribute.assign;scope.$watch("watchData."+key,function(value,oldvalue){angular.isFunction(setAttribute)&&value!==oldvalue&&setAttribute(scope.$parent,value)})}}}),attrs.dateDisabled&&datepickerEl.attr("date-disabled","dateDisabled({ date: date, mode: mode })"),attrs.showWeeks&&datepickerEl.attr("show-weeks",attrs.showWeeks),attrs.customClass&&datepickerEl.attr("custom-class","customClass({ date: date, mode: mode })"),isHtml5DateInput?ngModel.$formatters.push(function(value){return scope.date=value,value}):(ngModel.$$parserName="date",ngModel.$validators.date=validator,ngModel.$parsers.unshift(parseDate),ngModel.$formatters.push(function(value){return scope.date=value,ngModel.$isEmpty(value)?value:dateFilter(value,dateFormat)})),scope.dateSelection=function(dt){angular.isDefined(dt)&&(scope.date=dt);var date=scope.date?dateFilter(scope.date,dateFormat):null;element.val(date),ngModel.$setViewValue(date),closeOnDateSelection&&(scope.isOpen=!1,element[0].focus())},ngModel.$viewChangeListeners.push(function(){scope.date=dateParser.parse(ngModel.$viewValue,dateFormat,scope.date)});var documentClickBind=function(event){scope.isOpen&&!element[0].contains(event.target)&&scope.$apply(function(){scope.isOpen=!1})},inputKeydownBind=function(evt){27===evt.which&&scope.isOpen?(evt.preventDefault(),evt.stopPropagation(),scope.$apply(function(){scope.isOpen=!1}),element[0].focus()):40!==evt.which||scope.isOpen||(evt.preventDefault(),evt.stopPropagation(),scope.$apply(function(){scope.isOpen=!0}))};element.bind("keydown",inputKeydownBind),scope.keydown=function(evt){27===evt.which&&(scope.isOpen=!1,element[0].focus())},scope.$watch("isOpen",function(value){value?(scope.position=appendToBody?$position.offset(element):$position.position(element),scope.position.top=scope.position.top+element.prop("offsetHeight"),$timeout(function(){onOpenFocus&&scope.$broadcast("datepicker.focus"),$document.bind("click",documentClickBind)},0,!1)):$document.unbind("click",documentClickBind)}),scope.select=function(date){if("today"===date){var today=new Date;angular.isDate(scope.date)?(date=new Date(scope.date),date.setFullYear(today.getFullYear(),today.getMonth(),today.getDate())):date=new Date(today.setHours(0,0,0,0))}scope.dateSelection(date)},scope.close=function(){scope.isOpen=!1,element[0].focus()};var $popup=$compile(popupEl)(scope);popupEl.remove(),appendToBody?$document.find("body").append($popup):element.after($popup),scope.$on("$destroy",function(){scope.isOpen===!0&&($rootScope.$$phase||scope.$apply(function(){scope.isOpen=!1})),$popup.remove(),element.unbind("keydown",inputKeydownBind),$document.unbind("click",documentClickBind)})}}}]).directive("datepickerPopupWrap",function(){return{restrict:"EA",replace:!0,transclude:!0,templateUrl:function(element,attrs){return attrs.templateUrl||"template/datepicker/popup.html"}}}),angular.module("ui.bootstrap.dropdown",["ui.bootstrap.position"]).constant("dropdownConfig",{openClass:"open"}).service("dropdownService",["$document","$rootScope",function($document,$rootScope){var openScope=null;this.open=function(dropdownScope){openScope||($document.bind("click",closeDropdown),$document.bind("keydown",keybindFilter)),openScope&&openScope!==dropdownScope&&(openScope.isOpen=!1),openScope=dropdownScope},this.close=function(dropdownScope){openScope===dropdownScope&&(openScope=null,$document.unbind("click",closeDropdown),$document.unbind("keydown",keybindFilter))};var closeDropdown=function(evt){if(openScope&&(!evt||"disabled"!==openScope.getAutoClose())){var toggleElement=openScope.getToggleElement();if(!(evt&&toggleElement&&toggleElement[0].contains(evt.target))){var dropdownElement=openScope.getDropdownElement();evt&&"outsideClick"===openScope.getAutoClose()&&dropdownElement&&dropdownElement[0].contains(evt.target)||(openScope.isOpen=!1,$rootScope.$$phase||openScope.$apply())}}},keybindFilter=function(evt){27===evt.which?(openScope.focusToggleElement(),closeDropdown()):openScope.isKeynavEnabled()&&/(38|40)/.test(evt.which)&&openScope.isOpen&&(evt.preventDefault(),evt.stopPropagation(),openScope.focusDropdownEntry(evt.which))}}]).controller("DropdownController",["$scope","$attrs","$parse","dropdownConfig","dropdownService","$animate","$position","$document","$compile","$templateRequest",function($scope,$attrs,$parse,dropdownConfig,dropdownService,$animate,$position,$document,$compile,$templateRequest){var templateScope,getIsOpen,self=this,scope=$scope.$new(),openClass=dropdownConfig.openClass,setIsOpen=angular.noop,toggleInvoker=$attrs.onToggle?$parse($attrs.onToggle):angular.noop,appendToBody=!1,keynavEnabled=!1;this.init=function(element){self.$element=element,$attrs.isOpen&&(getIsOpen=$parse($attrs.isOpen),setIsOpen=getIsOpen.assign,$scope.$watch(getIsOpen,function(value){scope.isOpen=!!value})),appendToBody=angular.isDefined($attrs.dropdownAppendToBody),keynavEnabled=angular.isDefined($attrs.keyboardNav),appendToBody&&self.dropdownMenu&&($document.find("body").append(self.dropdownMenu),element.on("$destroy",function(){self.dropdownMenu.remove()}))},this.toggle=function(open){return scope.isOpen=arguments.length?!!open:!scope.isOpen},this.isOpen=function(){return scope.isOpen},scope.getToggleElement=function(){return self.toggleElement},scope.getAutoClose=function(){return $attrs.autoClose||"always"},scope.getElement=function(){return self.$element},scope.isKeynavEnabled=function(){return keynavEnabled},scope.focusDropdownEntry=function(keyCode){var elems=self.dropdownMenu?angular.element(self.dropdownMenu).find("a"):angular.element(self.$element).find("ul").eq(0).find("a");switch(keyCode){case 40:angular.isNumber(self.selectedOption)?self.selectedOption=self.selectedOption===elems.length-1?self.selectedOption:self.selectedOption+1:self.selectedOption=0;break;case 38:if(!angular.isNumber(self.selectedOption))return;self.selectedOption=0===self.selectedOption?0:self.selectedOption-1}elems[self.selectedOption].focus()},scope.getDropdownElement=function(){return self.dropdownMenu},scope.focusToggleElement=function(){self.toggleElement&&self.toggleElement[0].focus()},scope.$watch("isOpen",function(isOpen,wasOpen){if(appendToBody&&self.dropdownMenu){var pos=$position.positionElements(self.$element,self.dropdownMenu,"bottom-left",!0),css={top:pos.top+"px",display:isOpen?"block":"none"},rightalign=self.dropdownMenu.hasClass("dropdown-menu-right");rightalign?(css.left="auto",css.right=window.innerWidth-(pos.left+self.$element.prop("offsetWidth"))+"px"):(css.left=pos.left+"px",css.right="auto"),self.dropdownMenu.css(css)}if($animate[isOpen?"addClass":"removeClass"](self.$element,openClass).then(function(){angular.isDefined(isOpen)&&isOpen!==wasOpen&&toggleInvoker($scope,{open:!!isOpen})}),isOpen)self.dropdownMenuTemplateUrl&&$templateRequest(self.dropdownMenuTemplateUrl).then(function(tplContent){templateScope=scope.$new(),$compile(tplContent.trim())(templateScope,function(dropdownElement){var newEl=dropdownElement;self.dropdownMenu.replaceWith(newEl),self.dropdownMenu=newEl})}),scope.focusToggleElement(),dropdownService.open(scope);else{if(self.dropdownMenuTemplateUrl){templateScope&&templateScope.$destroy();var newEl=angular.element('<ul class="dropdown-menu"></ul>');self.dropdownMenu.replaceWith(newEl),self.dropdownMenu=newEl}dropdownService.close(scope),self.selectedOption=null}angular.isFunction(setIsOpen)&&setIsOpen($scope,isOpen)}),$scope.$on("$locationChangeSuccess",function(){"disabled"!==scope.getAutoClose()&&(scope.isOpen=!1)}),$scope.$on("$destroy",function(){scope.$destroy()})}]).directive("dropdown",function(){return{controller:"DropdownController",link:function(scope,element,attrs,dropdownCtrl){dropdownCtrl.init(element),element.addClass("dropdown")}}}).directive("dropdownMenu",function(){return{restrict:"AC",require:"?^dropdown",link:function(scope,element,attrs,dropdownCtrl){if(dropdownCtrl){var tplUrl=attrs.templateUrl;tplUrl&&(dropdownCtrl.dropdownMenuTemplateUrl=tplUrl),dropdownCtrl.dropdownMenu||(dropdownCtrl.dropdownMenu=element)}}}}).directive("keyboardNav",function(){return{restrict:"A",require:"?^dropdown",link:function(scope,element,attrs,dropdownCtrl){element.bind("keydown",function(e){if([38,40].indexOf(e.which)!==-1){e.preventDefault(),e.stopPropagation();var elems=dropdownCtrl.dropdownMenu.find("a");switch(e.which){case 40:angular.isNumber(dropdownCtrl.selectedOption)?dropdownCtrl.selectedOption=dropdownCtrl.selectedOption===elems.length-1?dropdownCtrl.selectedOption:dropdownCtrl.selectedOption+1:dropdownCtrl.selectedOption=0;break;case 38:dropdownCtrl.selectedOption=0===dropdownCtrl.selectedOption?0:dropdownCtrl.selectedOption-1}elems[dropdownCtrl.selectedOption].focus()}})}}}).directive("dropdownToggle",function(){return{require:"?^dropdown",link:function(scope,element,attrs,dropdownCtrl){if(dropdownCtrl){element.addClass("dropdown-toggle"),dropdownCtrl.toggleElement=element;var toggleDropdown=function(event){event.preventDefault(),element.hasClass("disabled")||attrs.disabled||scope.$apply(function(){dropdownCtrl.toggle()})};element.bind("click",toggleDropdown),element.attr({"aria-haspopup":!0,"aria-expanded":!1}),scope.$watch(dropdownCtrl.isOpen,function(isOpen){element.attr("aria-expanded",!!isOpen)}),scope.$on("$destroy",function(){element.unbind("click",toggleDropdown)})}}}}),angular.module("ui.bootstrap.modal",[]).factory("$$stackedMap",function(){return{createNew:function(){var stack=[];return{add:function(key,value){stack.push({key:key,value:value})},get:function(key){for(var i=0;i<stack.length;i++)if(key==stack[i].key)return stack[i]},keys:function(){for(var keys=[],i=0;i<stack.length;i++)keys.push(stack[i].key);return keys},top:function(){return stack[stack.length-1]},remove:function(key){for(var idx=-1,i=0;i<stack.length;i++)if(key==stack[i].key){idx=i;break}return stack.splice(idx,1)[0]},removeTop:function(){return stack.splice(stack.length-1,1)[0]},length:function(){return stack.length}}}}}).directive("modalBackdrop",["$animate","$injector","$modalStack",function($animate,$injector,$modalStack){function linkFn(scope,element,attrs){attrs.modalInClass&&($animateCss?$animateCss(element,{addClass:attrs.modalInClass}).start():$animate.addClass(element,attrs.modalInClass),scope.$on($modalStack.NOW_CLOSING_EVENT,function(e,setIsAsync){var done=setIsAsync();$animateCss?$animateCss(element,{removeClass:attrs.modalInClass}).start().then(done):$animate.removeClass(element,attrs.modalInClass).then(done)}))}var $animateCss=null;return $injector.has("$animateCss")&&($animateCss=$injector.get("$animateCss")),{restrict:"EA",replace:!0,templateUrl:"template/modal/backdrop.html",compile:function(tElement,tAttrs){return tElement.addClass(tAttrs.backdropClass),linkFn}}}]).directive("modalWindow",["$modalStack","$q","$animate","$injector",function($modalStack,$q,$animate,$injector){var $animateCss=null;return $injector.has("$animateCss")&&($animateCss=$injector.get("$animateCss")),{restrict:"EA",scope:{index:"@"},replace:!0,transclude:!0,templateUrl:function(tElement,tAttrs){return tAttrs.templateUrl||"template/modal/window.html"},link:function(scope,element,attrs){element.addClass(attrs.windowClass||""),scope.size=attrs.size,scope.close=function(evt){var modal=$modalStack.getTop();modal&&modal.value.backdrop&&"static"!=modal.value.backdrop&&evt.target===evt.currentTarget&&(evt.preventDefault(),evt.stopPropagation(),$modalStack.dismiss(modal.key,"backdrop click"))},scope.$isRendered=!0;var modalRenderDeferObj=$q.defer();attrs.$observe("modalRender",function(value){"true"==value&&modalRenderDeferObj.resolve()}),modalRenderDeferObj.promise.then(function(){attrs.modalInClass&&($animateCss?$animateCss(element,{addClass:attrs.modalInClass}).start():$animate.addClass(element,attrs.modalInClass),scope.$on($modalStack.NOW_CLOSING_EVENT,function(e,setIsAsync){var done=setIsAsync();$animateCss?$animateCss(element,{removeClass:attrs.modalInClass}).start().then(done):$animate.removeClass(element,attrs.modalInClass).then(done)}));var inputsWithAutofocus=element[0].querySelectorAll("[autofocus]");inputsWithAutofocus.length?inputsWithAutofocus[0].focus():element[0].focus();var modal=$modalStack.getTop();modal&&$modalStack.modalRendered(modal.key)})}}}]).directive("modalAnimationClass",[function(){return{compile:function(tElement,tAttrs){tAttrs.modalAnimation&&tElement.addClass(tAttrs.modalAnimationClass)}}}]).directive("modalTransclude",function(){return{link:function($scope,$element,$attrs,controller,$transclude){$transclude($scope.$parent,function(clone){$element.empty(),$element.append(clone)})}}}).factory("$modalStack",["$animate","$timeout","$document","$compile","$rootScope","$q","$injector","$$stackedMap",function($animate,$timeout,$document,$compile,$rootScope,$q,$injector,$$stackedMap){function backdropIndex(){for(var topBackdropIndex=-1,opened=openedWindows.keys(),i=0;i<opened.length;i++)openedWindows.get(opened[i]).value.backdrop&&(topBackdropIndex=i);return topBackdropIndex}function removeModalWindow(modalInstance,elementToReceiveFocus){var body=$document.find("body").eq(0),modalWindow=openedWindows.get(modalInstance).value;openedWindows.remove(modalInstance),removeAfterAnimate(modalWindow.modalDomEl,modalWindow.modalScope,function(){body.toggleClass(modalInstance.openedClass||OPENED_MODAL_CLASS,openedWindows.length()>0)}),checkRemoveBackdrop(),elementToReceiveFocus&&elementToReceiveFocus.focus?elementToReceiveFocus.focus():body.focus()}function checkRemoveBackdrop(){if(backdropDomEl&&backdropIndex()==-1){var backdropScopeRef=backdropScope;removeAfterAnimate(backdropDomEl,backdropScope,function(){backdropScopeRef=null}),backdropDomEl=void 0,backdropScope=void 0}}function removeAfterAnimate(domEl,scope,done){function afterAnimating(){afterAnimating.done||(afterAnimating.done=!0,$animateCss?$animateCss(domEl,{event:"leave"}).start().then(function(){domEl.remove()}):$animate.leave(domEl),scope.$destroy(),done&&done())}var asyncDeferred,asyncPromise=null,setIsAsync=function(){return asyncDeferred||(asyncDeferred=$q.defer(),asyncPromise=asyncDeferred.promise),function(){asyncDeferred.resolve()}};return scope.$broadcast($modalStack.NOW_CLOSING_EVENT,setIsAsync),$q.when(asyncPromise).then(afterAnimating)}function broadcastClosing(modalWindow,resultOrReason,closing){return!modalWindow.value.modalScope.$broadcast("modal.closing",resultOrReason,closing).defaultPrevented}var $animateCss=null;$injector.has("$animateCss")&&($animateCss=$injector.get("$animateCss"));var backdropDomEl,backdropScope,focusableElementList,OPENED_MODAL_CLASS="modal-open",openedWindows=$$stackedMap.createNew(),$modalStack={NOW_CLOSING_EVENT:"modal.stack.now-closing"},focusIndex=0,tababbleSelector="a[href], area[href], input:not([disabled]), button:not([disabled]),select:not([disabled]), textarea:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable=true]";return $rootScope.$watch(backdropIndex,function(newBackdropIndex){backdropScope&&(backdropScope.index=newBackdropIndex)}),$document.bind("keydown",function(evt){if(evt.isDefaultPrevented())return evt;var modal=openedWindows.top();if(modal&&modal.value.keyboard)switch(evt.which){case 27:evt.preventDefault(),$rootScope.$apply(function(){$modalStack.dismiss(modal.key,"escape key press")});break;case 9:$modalStack.loadFocusElementList(modal);var focusChanged=!1;evt.shiftKey?$modalStack.isFocusInFirstItem(evt)&&(focusChanged=$modalStack.focusLastFocusableElement()):$modalStack.isFocusInLastItem(evt)&&(focusChanged=$modalStack.focusFirstFocusableElement()),focusChanged&&(evt.preventDefault(),evt.stopPropagation())}}),$modalStack.open=function(modalInstance,modal){var modalOpener=$document[0].activeElement;openedWindows.add(modalInstance,{deferred:modal.deferred,renderDeferred:modal.renderDeferred,modalScope:modal.scope,backdrop:modal.backdrop,keyboard:modal.keyboard,openedClass:modal.openedClass});var body=$document.find("body").eq(0),currBackdropIndex=backdropIndex();if(currBackdropIndex>=0&&!backdropDomEl){backdropScope=$rootScope.$new(!0),backdropScope.index=currBackdropIndex;var angularBackgroundDomEl=angular.element('<div modal-backdrop="modal-backdrop"></div>');angularBackgroundDomEl.attr("backdrop-class",modal.backdropClass),modal.animation&&angularBackgroundDomEl.attr("modal-animation","true"),backdropDomEl=$compile(angularBackgroundDomEl)(backdropScope),body.append(backdropDomEl)}var angularDomEl=angular.element('<div modal-window="modal-window"></div>');angularDomEl.attr({"template-url":modal.windowTemplateUrl,"window-class":modal.windowClass,size:modal.size,index:openedWindows.length()-1,animate:"animate"}).html(modal.content),modal.animation&&angularDomEl.attr("modal-animation","true");var modalDomEl=$compile(angularDomEl)(modal.scope);openedWindows.top().value.modalDomEl=modalDomEl,openedWindows.top().value.modalOpener=modalOpener,body.append(modalDomEl),body.addClass(modal.openedClass||OPENED_MODAL_CLASS),$modalStack.clearFocusListCache()},$modalStack.close=function(modalInstance,result){var modalWindow=openedWindows.get(modalInstance);return modalWindow&&broadcastClosing(modalWindow,result,!0)?(modalWindow.value.modalScope.$$uibDestructionScheduled=!0,modalWindow.value.deferred.resolve(result),removeModalWindow(modalInstance,modalWindow.value.modalOpener),!0):!modalWindow},$modalStack.dismiss=function(modalInstance,reason){var modalWindow=openedWindows.get(modalInstance);return modalWindow&&broadcastClosing(modalWindow,reason,!1)?(modalWindow.value.modalScope.$$uibDestructionScheduled=!0,modalWindow.value.deferred.reject(reason),removeModalWindow(modalInstance,modalWindow.value.modalOpener),!0):!modalWindow},$modalStack.dismissAll=function(reason){for(var topModal=this.getTop();topModal&&this.dismiss(topModal.key,reason);)topModal=this.getTop()},$modalStack.getTop=function(){return openedWindows.top()},$modalStack.modalRendered=function(modalInstance){var modalWindow=openedWindows.get(modalInstance);modalWindow&&modalWindow.value.renderDeferred.resolve()},$modalStack.focusFirstFocusableElement=function(){return focusableElementList.length>0&&(focusableElementList[0].focus(),!0)},$modalStack.focusLastFocusableElement=function(){return focusableElementList.length>0&&(focusableElementList[focusableElementList.length-1].focus(),!0)},$modalStack.isFocusInFirstItem=function(evt){return focusableElementList.length>0&&(evt.target||evt.srcElement)==focusableElementList[0]},$modalStack.isFocusInLastItem=function(evt){return focusableElementList.length>0&&(evt.target||evt.srcElement)==focusableElementList[focusableElementList.length-1]},$modalStack.clearFocusListCache=function(){focusableElementList=[],focusIndex=0},$modalStack.loadFocusElementList=function(modalWindow){if((void 0===focusableElementList||!focusableElementList.length0)&&modalWindow){var modalDomE1=modalWindow.value.modalDomEl;modalDomE1&&modalDomE1.length&&(focusableElementList=modalDomE1[0].querySelectorAll(tababbleSelector))}},$modalStack}]).provider("$modal",function(){var $modalProvider={options:{animation:!0,backdrop:!0,keyboard:!0},$get:["$injector","$rootScope","$q","$templateRequest","$controller","$modalStack",function($injector,$rootScope,$q,$templateRequest,$controller,$modalStack){function getTemplatePromise(options){return options.template?$q.when(options.template):$templateRequest(angular.isFunction(options.templateUrl)?options.templateUrl():options.templateUrl)}function getResolvePromises(resolves){var promisesArr=[];return angular.forEach(resolves,function(value){angular.isFunction(value)||angular.isArray(value)?promisesArr.push($q.when($injector.invoke(value))):angular.isString(value)&&promisesArr.push($q.when($injector.get(value)))}),promisesArr}var $modal={};return $modal.open=function(modalOptions){var modalResultDeferred=$q.defer(),modalOpenedDeferred=$q.defer(),modalRenderDeferred=$q.defer(),modalInstance={result:modalResultDeferred.promise,opened:modalOpenedDeferred.promise,rendered:modalRenderDeferred.promise,close:function(result){return $modalStack.close(modalInstance,result)},dismiss:function(reason){return $modalStack.dismiss(modalInstance,reason)}};if(modalOptions=angular.extend({},$modalProvider.options,modalOptions),modalOptions.resolve=modalOptions.resolve||{},!modalOptions.template&&!modalOptions.templateUrl)throw new Error("One of template or templateUrl options is required.");var templateAndResolvePromise=$q.all([getTemplatePromise(modalOptions)].concat(getResolvePromises(modalOptions.resolve)));return templateAndResolvePromise.then(function(tplAndVars){var modalScope=(modalOptions.scope||$rootScope).$new();modalScope.$close=modalInstance.close,modalScope.$dismiss=modalInstance.dismiss,modalScope.$on("$destroy",function(){modalScope.$$uibDestructionScheduled||modalScope.$dismiss("$uibUnscheduledDestruction")});var ctrlInstance,ctrlLocals={},resolveIter=1;modalOptions.controller&&(ctrlLocals.$scope=modalScope,ctrlLocals.$modalInstance=modalInstance,angular.forEach(modalOptions.resolve,function(value,key){ctrlLocals[key]=tplAndVars[resolveIter++]}),ctrlInstance=$controller(modalOptions.controller,ctrlLocals),modalOptions.controllerAs&&(modalOptions.bindToController&&angular.extend(ctrlInstance,modalScope),modalScope[modalOptions.controllerAs]=ctrlInstance)),$modalStack.open(modalInstance,{scope:modalScope,deferred:modalResultDeferred,renderDeferred:modalRenderDeferred,content:tplAndVars[0],animation:modalOptions.animation,backdrop:modalOptions.backdrop,keyboard:modalOptions.keyboard,backdropClass:modalOptions.backdropClass,windowClass:modalOptions.windowClass,windowTemplateUrl:modalOptions.windowTemplateUrl,size:modalOptions.size,openedClass:modalOptions.openedClass})},function(reason){modalResultDeferred.reject(reason)}),templateAndResolvePromise.then(function(){modalOpenedDeferred.resolve(!0)},function(reason){modalOpenedDeferred.reject(reason)}),modalInstance},$modal}]};return $modalProvider}),angular.module("ui.bootstrap.pagination",[]).controller("PaginationController",["$scope","$attrs","$parse",function($scope,$attrs,$parse){var self=this,ngModelCtrl={$setViewValue:angular.noop},setNumPages=$attrs.numPages?$parse($attrs.numPages).assign:angular.noop;this.init=function(ngModelCtrl_,config){ngModelCtrl=ngModelCtrl_,this.config=config,ngModelCtrl.$render=function(){self.render()},$attrs.itemsPerPage?$scope.$parent.$watch($parse($attrs.itemsPerPage),function(value){self.itemsPerPage=parseInt(value,10),$scope.totalPages=self.calculateTotalPages()}):this.itemsPerPage=config.itemsPerPage,$scope.$watch("totalItems",function(){$scope.totalPages=self.calculateTotalPages()}),$scope.$watch("totalPages",function(value){setNumPages($scope.$parent,value),$scope.page>value?$scope.selectPage(value):ngModelCtrl.$render()})},this.calculateTotalPages=function(){var totalPages=this.itemsPerPage<1?1:Math.ceil($scope.totalItems/this.itemsPerPage);return Math.max(totalPages||0,1)},this.render=function(){$scope.page=parseInt(ngModelCtrl.$viewValue,10)||1},$scope.selectPage=function(page,evt){evt&&evt.preventDefault();var clickAllowed=!$scope.ngDisabled||!evt;clickAllowed&&$scope.page!==page&&page>0&&page<=$scope.totalPages&&(evt&&evt.target&&evt.target.blur(),ngModelCtrl.$setViewValue(page),ngModelCtrl.$render())},$scope.getText=function(key){return $scope[key+"Text"]||self.config[key+"Text"]},$scope.noPrevious=function(){return 1===$scope.page},$scope.noNext=function(){return $scope.page===$scope.totalPages}}]).constant("paginationConfig",{itemsPerPage:10,boundaryLinks:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0}).directive("pagination",["$parse","paginationConfig",function($parse,paginationConfig){return{restrict:"EA",scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@",ngDisabled:"="},require:["pagination","?ngModel"],controller:"PaginationController",controllerAs:"pagination",templateUrl:function(element,attrs){return attrs.templateUrl||"template/pagination/pagination.html"},replace:!0,link:function(scope,element,attrs,ctrls){function makePage(number,text,isActive){return{number:number,text:text,active:isActive}}function getPages(currentPage,totalPages){var pages=[],startPage=1,endPage=totalPages,isMaxSized=angular.isDefined(maxSize)&&maxSize<totalPages;isMaxSized&&(rotate?(startPage=Math.max(currentPage-Math.floor(maxSize/2),1),endPage=startPage+maxSize-1,endPage>totalPages&&(endPage=totalPages,startPage=endPage-maxSize+1)):(startPage=(Math.ceil(currentPage/maxSize)-1)*maxSize+1,endPage=Math.min(startPage+maxSize-1,totalPages)));for(var number=startPage;number<=endPage;number++){var page=makePage(number,number,number===currentPage);pages.push(page)}if(isMaxSized&&!rotate){if(startPage>1){var previousPageSet=makePage(startPage-1,"...",!1);pages.unshift(previousPageSet)}if(endPage<totalPages){var nextPageSet=makePage(endPage+1,"...",!1);pages.push(nextPageSet)}}return pages}var paginationCtrl=ctrls[0],ngModelCtrl=ctrls[1];if(ngModelCtrl){var maxSize=angular.isDefined(attrs.maxSize)?scope.$parent.$eval(attrs.maxSize):paginationConfig.maxSize,rotate=angular.isDefined(attrs.rotate)?scope.$parent.$eval(attrs.rotate):paginationConfig.rotate;scope.boundaryLinks=angular.isDefined(attrs.boundaryLinks)?scope.$parent.$eval(attrs.boundaryLinks):paginationConfig.boundaryLinks,scope.directionLinks=angular.isDefined(attrs.directionLinks)?scope.$parent.$eval(attrs.directionLinks):paginationConfig.directionLinks,paginationCtrl.init(ngModelCtrl,paginationConfig),attrs.maxSize&&scope.$parent.$watch($parse(attrs.maxSize),function(value){maxSize=parseInt(value,10),paginationCtrl.render()});var originalRender=paginationCtrl.render;
paginationCtrl.render=function(){originalRender(),scope.page>0&&scope.page<=scope.totalPages&&(scope.pages=getPages(scope.page,scope.totalPages))}}}}}]).constant("pagerConfig",{itemsPerPage:10,previousText:" Previous",nextText:"Next ",align:!0}).directive("pager",["pagerConfig",function(pagerConfig){return{restrict:"EA",scope:{totalItems:"=",previousText:"@",nextText:"@"},require:["pager","?ngModel"],controller:"PaginationController",templateUrl:"template/pagination/pager.html",replace:!0,link:function(scope,element,attrs,ctrls){var paginationCtrl=ctrls[0],ngModelCtrl=ctrls[1];ngModelCtrl&&(scope.align=angular.isDefined(attrs.align)?scope.$parent.$eval(attrs.align):pagerConfig.align,paginationCtrl.init(ngModelCtrl,pagerConfig))}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).provider("$tooltip",function(){function snake_case(name){var regexp=/[A-Z]/g,separator="-";return name.replace(regexp,function(letter,pos){return(pos?separator:"")+letter.toLowerCase()})}var defaultOptions={placement:"top",animation:!0,popupDelay:0,useContentExp:!1},triggerMap={mouseenter:"mouseleave",click:"click",focus:"blur"},globalOptions={};this.options=function(value){angular.extend(globalOptions,value)},this.setTriggers=function(triggers){angular.extend(triggerMap,triggers)},this.$get=["$window","$compile","$timeout","$document","$position","$interpolate","$rootScope",function($window,$compile,$timeout,$document,$position,$interpolate,$rootScope){return function(type,prefix,defaultTriggerShow,options){function getTriggers(trigger){var show=(trigger||options.trigger||defaultTriggerShow).split(" "),hide=show.map(function(trigger){return triggerMap[trigger]||trigger});return{show:show,hide:hide}}options=angular.extend({},defaultOptions,globalOptions,options);var directiveName=snake_case(type),startSym=$interpolate.startSymbol(),endSym=$interpolate.endSymbol(),template="<div "+directiveName+'-popup title="'+startSym+"title"+endSym+'" '+(options.useContentExp?'content-exp="contentExp()" ':'content="'+startSym+"content"+endSym+'" ')+'placement="'+startSym+"placement"+endSym+'" popup-class="'+startSym+"popupClass"+endSym+'" animation="animation" is-open="isOpen"origin-scope="origScope" ></div>';return{restrict:"EA",compile:function(tElem,tAttrs){var tooltipLinker=$compile(template);return function(scope,element,attrs,tooltipCtrl){function toggleTooltipBind(){ttScope.isOpen?hideTooltipBind():showTooltipBind()}function showTooltipBind(){hasEnableExp&&!scope.$eval(attrs[prefix+"Enable"])||(prepareTooltip(),ttScope.popupDelay?popupTimeout||(popupTimeout=$timeout(show,ttScope.popupDelay,!1),popupTimeout.then(function(reposition){reposition()})):show()())}function hideTooltipBind(){hide(),$rootScope.$$phase||$rootScope.$digest()}function show(){return popupTimeout=null,transitionTimeout&&($timeout.cancel(transitionTimeout),transitionTimeout=null),(options.useContentExp?ttScope.contentExp():ttScope.content)?(createTooltip(),tooltip.css({top:0,left:0,display:"block"}),positionTooltip(),ttScope.isOpen=!0,ttScope.$apply(),positionTooltip):angular.noop}function hide(){ttScope.isOpen=!1,$timeout.cancel(popupTimeout),popupTimeout=null,ttScope.animation?transitionTimeout||(transitionTimeout=$timeout(removeTooltip,500)):removeTooltip()}function createTooltip(){tooltip&&removeTooltip(),tooltipLinkedScope=ttScope.$new(),tooltip=tooltipLinker(tooltipLinkedScope,function(tooltip){appendToBody?$document.find("body").append(tooltip):element.after(tooltip)}),options.useContentExp&&(tooltipLinkedScope.$watch("contentExp()",function(val){!val&&ttScope.isOpen&&hide()}),tooltipLinkedScope.$watch(function(){repositionScheduled||(repositionScheduled=!0,tooltipLinkedScope.$$postDigest(function(){repositionScheduled=!1,positionTooltipAsync()}))}))}function removeTooltip(){transitionTimeout=null,tooltip&&(tooltip.remove(),tooltip=null),tooltipLinkedScope&&(tooltipLinkedScope.$destroy(),tooltipLinkedScope=null)}function prepareTooltip(){prepPopupClass(),prepPlacement(),prepPopupDelay()}function prepPopupClass(){ttScope.popupClass=attrs[prefix+"Class"]}function prepPlacement(){var val=attrs[prefix+"Placement"];ttScope.placement=angular.isDefined(val)?val:options.placement}function prepPopupDelay(){var val=attrs[prefix+"PopupDelay"],delay=parseInt(val,10);ttScope.popupDelay=isNaN(delay)?options.popupDelay:delay}function prepTriggers(){var val=attrs[prefix+"Trigger"];unregisterTriggers(),triggers=getTriggers(val),triggers.show.forEach(function(trigger,idx){trigger===triggers.hide[idx]?element.bind(trigger,toggleTooltipBind):trigger&&(element.bind(trigger,showTooltipBind),element.bind(triggers.hide[idx],hideTooltipBind))})}var tooltip,tooltipLinkedScope,transitionTimeout,popupTimeout,appendToBody=!!angular.isDefined(options.appendToBody)&&options.appendToBody,triggers=getTriggers(void 0),hasEnableExp=angular.isDefined(attrs[prefix+"Enable"]),ttScope=scope.$new(!0),repositionScheduled=!1,positionTooltip=function(){if(tooltip){var ttPosition=$position.positionElements(element,tooltip,ttScope.placement,appendToBody);ttPosition.top+="px",ttPosition.left+="px",tooltip.css(ttPosition)}},positionTooltipAsync=function(){$timeout(positionTooltip,0,!1)};ttScope.origScope=scope,ttScope.isOpen=!1,ttScope.contentExp=function(){return scope.$eval(attrs[type])},options.useContentExp||attrs.$observe(type,function(val){ttScope.content=val,!val&&ttScope.isOpen?hide():positionTooltipAsync()}),attrs.$observe("disabled",function(val){popupTimeout&&val&&$timeout.cancel(popupTimeout),val&&ttScope.isOpen&&hide()}),attrs.$observe(prefix+"Title",function(val){ttScope.title=val,positionTooltipAsync()}),attrs.$observe(prefix+"Placement",function(){ttScope.isOpen&&$timeout(function(){prepPlacement(),show()()},0,!1)});var unregisterTriggers=function(){triggers.show.forEach(function(trigger){element.unbind(trigger,showTooltipBind)}),triggers.hide.forEach(function(trigger){element.unbind(trigger,hideTooltipBind)})};prepTriggers();var animation=scope.$eval(attrs[prefix+"Animation"]);ttScope.animation=angular.isDefined(animation)?!!animation:options.animation;var appendToBodyVal=scope.$eval(attrs[prefix+"AppendToBody"]);appendToBody=angular.isDefined(appendToBodyVal)?appendToBodyVal:appendToBody,appendToBody&&scope.$on("$locationChangeSuccess",function(){ttScope.isOpen&&hide()}),scope.$on("$destroy",function(){$timeout.cancel(transitionTimeout),$timeout.cancel(popupTimeout),unregisterTriggers(),removeTooltip(),ttScope=null})}}}}}]}).directive("tooltipTemplateTransclude",["$animate","$sce","$compile","$templateRequest",function($animate,$sce,$compile,$templateRequest){return{link:function(scope,elem,attrs){var currentScope,previousElement,currentElement,origScope=scope.$eval(attrs.tooltipTemplateTranscludeScope),changeCounter=0,cleanupLastIncludeContent=function(){previousElement&&(previousElement.remove(),previousElement=null),currentScope&&(currentScope.$destroy(),currentScope=null),currentElement&&($animate.leave(currentElement).then(function(){previousElement=null}),previousElement=currentElement,currentElement=null)};scope.$watch($sce.parseAsResourceUrl(attrs.tooltipTemplateTransclude),function(src){var thisChangeId=++changeCounter;src?($templateRequest(src,!0).then(function(response){if(thisChangeId===changeCounter){var newScope=origScope.$new(),template=response,clone=$compile(template)(newScope,function(clone){cleanupLastIncludeContent(),$animate.enter(clone,elem)});currentScope=newScope,currentElement=clone,currentScope.$emit("$includeContentLoaded",src)}},function(){thisChangeId===changeCounter&&(cleanupLastIncludeContent(),scope.$emit("$includeContentError",src))}),scope.$emit("$includeContentRequested",src)):cleanupLastIncludeContent()}),scope.$on("$destroy",cleanupLastIncludeContent)}}}]).directive("tooltipClasses",function(){return{restrict:"A",link:function(scope,element,attrs){scope.placement&&element.addClass(scope.placement),scope.popupClass&&element.addClass(scope.popupClass),scope.animation()&&element.addClass(attrs.tooltipAnimationClass)}}}).directive("tooltipPopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html"}}).directive("tooltip",["$tooltip",function($tooltip){return $tooltip("tooltip","tooltip","mouseenter")}]).directive("tooltipTemplatePopup",function(){return{restrict:"EA",replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"template/tooltip/tooltip-template-popup.html"}}).directive("tooltipTemplate",["$tooltip",function($tooltip){return $tooltip("tooltipTemplate","tooltip","mouseenter",{useContentExp:!0})}]).directive("tooltipHtmlPopup",function(){return{restrict:"EA",replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-popup.html"}}).directive("tooltipHtml",["$tooltip",function($tooltip){return $tooltip("tooltipHtml","tooltip","mouseenter",{useContentExp:!0})}]).directive("tooltipHtmlUnsafePopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-unsafe-popup.html"}}).value("tooltipHtmlUnsafeSuppressDeprecated",!1).directive("tooltipHtmlUnsafe",["$tooltip","tooltipHtmlUnsafeSuppressDeprecated","$log",function($tooltip,tooltipHtmlUnsafeSuppressDeprecated,$log){return tooltipHtmlUnsafeSuppressDeprecated||$log.warn("tooltip-html-unsafe is now deprecated. Use tooltip-html or tooltip-template instead."),$tooltip("tooltipHtmlUnsafe","tooltip","mouseenter")}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("popoverTemplatePopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"template/popover/popover-template.html"}}).directive("popoverTemplate",["$tooltip",function($tooltip){return $tooltip("popoverTemplate","popover","click",{useContentExp:!0})}]).directive("popoverHtmlPopup",function(){return{restrict:"EA",replace:!0,scope:{contentExp:"&",title:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover-html.html"}}).directive("popoverHtml",["$tooltip",function($tooltip){return $tooltip("popoverHtml","popover","click",{useContentExp:!0})}]).directive("popoverPopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover.html"}}).directive("popover",["$tooltip",function($tooltip){return $tooltip("popover","popover","click")}]),angular.module("ui.bootstrap.progressbar",[]).constant("progressConfig",{animate:!0,max:100}).controller("ProgressController",["$scope","$attrs","progressConfig",function($scope,$attrs,progressConfig){var self=this,animate=angular.isDefined($attrs.animate)?$scope.$parent.$eval($attrs.animate):progressConfig.animate;this.bars=[],$scope.max=angular.isDefined($scope.max)?$scope.max:progressConfig.max,this.addBar=function(bar,element){animate||element.css({transition:"none"}),this.bars.push(bar),bar.max=$scope.max,bar.$watch("value",function(value){bar.recalculatePercentage()}),bar.recalculatePercentage=function(){bar.percent=+(100*bar.value/bar.max).toFixed(2);var totalPercentage=0;self.bars.forEach(function(bar){totalPercentage+=bar.percent}),totalPercentage>100&&(bar.percent-=totalPercentage-100)},bar.$on("$destroy",function(){element=null,self.removeBar(bar)})},this.removeBar=function(bar){this.bars.splice(this.bars.indexOf(bar),1)},$scope.$watch("max",function(max){self.bars.forEach(function(bar){bar.max=$scope.max,bar.recalculatePercentage()})})}]).directive("progress",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",require:"progress",scope:{max:"=?"},templateUrl:"template/progressbar/progress.html"}}).directive("bar",function(){return{restrict:"EA",replace:!0,transclude:!0,require:"^progress",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/bar.html",link:function(scope,element,attrs,progressCtrl){progressCtrl.addBar(scope,element)}}}).directive("progressbar",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",scope:{value:"=",max:"=?",type:"@"},templateUrl:"template/progressbar/progressbar.html",link:function(scope,element,attrs,progressCtrl){progressCtrl.addBar(scope,angular.element(element.children()[0]))}}}),angular.module("ui.bootstrap.rating",[]).constant("ratingConfig",{max:5,stateOn:null,stateOff:null,titles:["one","two","three","four","five"]}).controller("RatingController",["$scope","$attrs","ratingConfig",function($scope,$attrs,ratingConfig){var ngModelCtrl={$setViewValue:angular.noop};this.init=function(ngModelCtrl_){ngModelCtrl=ngModelCtrl_,ngModelCtrl.$render=this.render,ngModelCtrl.$formatters.push(function(value){return angular.isNumber(value)&&value<<0!==value&&(value=Math.round(value)),value}),this.stateOn=angular.isDefined($attrs.stateOn)?$scope.$parent.$eval($attrs.stateOn):ratingConfig.stateOn,this.stateOff=angular.isDefined($attrs.stateOff)?$scope.$parent.$eval($attrs.stateOff):ratingConfig.stateOff;var tmpTitles=angular.isDefined($attrs.titles)?$scope.$parent.$eval($attrs.titles):ratingConfig.titles;this.titles=angular.isArray(tmpTitles)&&tmpTitles.length>0?tmpTitles:ratingConfig.titles;var ratingStates=angular.isDefined($attrs.ratingStates)?$scope.$parent.$eval($attrs.ratingStates):new Array(angular.isDefined($attrs.max)?$scope.$parent.$eval($attrs.max):ratingConfig.max);$scope.range=this.buildTemplateObjects(ratingStates)},this.buildTemplateObjects=function(states){for(var i=0,n=states.length;i<n;i++)states[i]=angular.extend({index:i},{stateOn:this.stateOn,stateOff:this.stateOff,title:this.getTitle(i)},states[i]);return states},this.getTitle=function(index){return index>=this.titles.length?index+1:this.titles[index]},$scope.rate=function(value){!$scope.readonly&&value>=0&&value<=$scope.range.length&&(ngModelCtrl.$setViewValue(ngModelCtrl.$viewValue===value?0:value),ngModelCtrl.$render())},$scope.enter=function(value){$scope.readonly||($scope.value=value),$scope.onHover({value:value})},$scope.reset=function(){$scope.value=ngModelCtrl.$viewValue,$scope.onLeave()},$scope.onKeydown=function(evt){/(37|38|39|40)/.test(evt.which)&&(evt.preventDefault(),evt.stopPropagation(),$scope.rate($scope.value+(38===evt.which||39===evt.which?1:-1)))},this.render=function(){$scope.value=ngModelCtrl.$viewValue}}]).directive("rating",function(){return{restrict:"EA",require:["rating","ngModel"],scope:{readonly:"=?",onHover:"&",onLeave:"&"},controller:"RatingController",templateUrl:"template/rating/rating.html",replace:!0,link:function(scope,element,attrs,ctrls){var ratingCtrl=ctrls[0],ngModelCtrl=ctrls[1];ratingCtrl.init(ngModelCtrl)}}}),angular.module("ui.bootstrap.tabs",[]).controller("TabsetController",["$scope",function($scope){var ctrl=this,tabs=ctrl.tabs=$scope.tabs=[];ctrl.select=function(selectedTab){angular.forEach(tabs,function(tab){tab.active&&tab!==selectedTab&&(tab.active=!1,tab.onDeselect())}),selectedTab.active=!0,selectedTab.onSelect()},ctrl.addTab=function(tab){tabs.push(tab),1===tabs.length&&tab.active!==!1?tab.active=!0:tab.active?ctrl.select(tab):tab.active=!1},ctrl.removeTab=function(tab){var index=tabs.indexOf(tab);if(tab.active&&tabs.length>1&&!destroyed){var newActiveIndex=index==tabs.length-1?index-1:index+1;ctrl.select(tabs[newActiveIndex])}tabs.splice(index,1)};var destroyed;$scope.$on("$destroy",function(){destroyed=!0})}]).directive("tabset",function(){return{restrict:"EA",transclude:!0,replace:!0,scope:{type:"@"},controller:"TabsetController",templateUrl:"template/tabs/tabset.html",link:function(scope,element,attrs){scope.vertical=!!angular.isDefined(attrs.vertical)&&scope.$parent.$eval(attrs.vertical),scope.justified=!!angular.isDefined(attrs.justified)&&scope.$parent.$eval(attrs.justified)}}}).directive("tab",["$parse","$log",function($parse,$log){return{require:"^tabset",restrict:"EA",replace:!0,templateUrl:"template/tabs/tab.html",transclude:!0,scope:{active:"=?",heading:"@",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},link:function(scope,elm,attrs,tabsetCtrl,transclude){scope.$watch("active",function(active){active&&tabsetCtrl.select(scope)}),scope.disabled=!1,attrs.disable&&scope.$parent.$watch($parse(attrs.disable),function(value){scope.disabled=!!value}),attrs.disabled&&($log.warn('Use of "disabled" attribute has been deprecated, please use "disable"'),scope.$parent.$watch($parse(attrs.disabled),function(value){scope.disabled=!!value})),scope.select=function(){scope.disabled||(scope.active=!0)},tabsetCtrl.addTab(scope),scope.$on("$destroy",function(){tabsetCtrl.removeTab(scope)}),scope.$transcludeFn=transclude}}}]).directive("tabHeadingTransclude",[function(){return{restrict:"A",require:"^tab",link:function(scope,elm,attrs,tabCtrl){scope.$watch("headingElement",function(heading){heading&&(elm.html(""),elm.append(heading))})}}}]).directive("tabContentTransclude",function(){function isTabHeading(node){return node.tagName&&(node.hasAttribute("tab-heading")||node.hasAttribute("data-tab-heading")||"tab-heading"===node.tagName.toLowerCase()||"data-tab-heading"===node.tagName.toLowerCase())}return{restrict:"A",require:"^tabset",link:function(scope,elm,attrs){var tab=scope.$eval(attrs.tabContentTransclude);tab.$transcludeFn(tab.$parent,function(contents){angular.forEach(contents,function(node){isTabHeading(node)?tab.headingElement=node:elm.append(node)})})}}}),angular.module("ui.bootstrap.timepicker",[]).constant("timepickerConfig",{hourStep:1,minuteStep:1,showMeridian:!0,meridians:null,readonlyInput:!1,mousewheel:!0,arrowkeys:!0,showSpinners:!0}).controller("TimepickerController",["$scope","$attrs","$parse","$log","$locale","timepickerConfig",function($scope,$attrs,$parse,$log,$locale,timepickerConfig){function getHoursFromTemplate(){var hours=parseInt($scope.hours,10),valid=$scope.showMeridian?hours>0&&hours<13:hours>=0&&hours<24;if(valid)return $scope.showMeridian&&(12===hours&&(hours=0),$scope.meridian===meridians[1]&&(hours+=12)),hours}function getMinutesFromTemplate(){var minutes=parseInt($scope.minutes,10);return minutes>=0&&minutes<60?minutes:void 0}function pad(value){return angular.isDefined(value)&&value.toString().length<2?"0"+value:value.toString()}function refresh(keyboardChange){makeValid(),ngModelCtrl.$setViewValue(new Date(selected)),updateTemplate(keyboardChange)}function makeValid(){ngModelCtrl.$setValidity("time",!0),$scope.invalidHours=!1,$scope.invalidMinutes=!1}function updateTemplate(keyboardChange){var hours=selected.getHours(),minutes=selected.getMinutes();$scope.showMeridian&&(hours=0===hours||12===hours?12:hours%12),$scope.hours="h"===keyboardChange?hours:pad(hours),"m"!==keyboardChange&&($scope.minutes=pad(minutes)),$scope.meridian=selected.getHours()<12?meridians[0]:meridians[1]}function addMinutes(date,minutes){var dt=new Date(date.getTime()+6e4*minutes),newDate=new Date(date);return newDate.setHours(dt.getHours(),dt.getMinutes()),newDate}function addMinutesToSelected(minutes){selected=addMinutes(selected,minutes),refresh()}var selected=new Date,ngModelCtrl={$setViewValue:angular.noop},meridians=angular.isDefined($attrs.meridians)?$scope.$parent.$eval($attrs.meridians):timepickerConfig.meridians||$locale.DATETIME_FORMATS.AMPMS;this.init=function(ngModelCtrl_,inputs){ngModelCtrl=ngModelCtrl_,ngModelCtrl.$render=this.render,ngModelCtrl.$formatters.unshift(function(modelValue){return modelValue?new Date(modelValue):null});var hoursInputEl=inputs.eq(0),minutesInputEl=inputs.eq(1),mousewheel=angular.isDefined($attrs.mousewheel)?$scope.$parent.$eval($attrs.mousewheel):timepickerConfig.mousewheel;mousewheel&&this.setupMousewheelEvents(hoursInputEl,minutesInputEl);var arrowkeys=angular.isDefined($attrs.arrowkeys)?$scope.$parent.$eval($attrs.arrowkeys):timepickerConfig.arrowkeys;arrowkeys&&this.setupArrowkeyEvents(hoursInputEl,minutesInputEl),$scope.readonlyInput=angular.isDefined($attrs.readonlyInput)?$scope.$parent.$eval($attrs.readonlyInput):timepickerConfig.readonlyInput,this.setupInputEvents(hoursInputEl,minutesInputEl)};var hourStep=timepickerConfig.hourStep;$attrs.hourStep&&$scope.$parent.$watch($parse($attrs.hourStep),function(value){hourStep=parseInt(value,10)});var minuteStep=timepickerConfig.minuteStep;$attrs.minuteStep&&$scope.$parent.$watch($parse($attrs.minuteStep),function(value){minuteStep=parseInt(value,10)});var min;$scope.$parent.$watch($parse($attrs.min),function(value){var dt=new Date(value);min=isNaN(dt)?void 0:dt});var max;$scope.$parent.$watch($parse($attrs.max),function(value){var dt=new Date(value);max=isNaN(dt)?void 0:dt}),$scope.noIncrementHours=function(){var incrementedSelected=addMinutes(selected,60*hourStep);return incrementedSelected>max||incrementedSelected<selected&&incrementedSelected<min},$scope.noDecrementHours=function(){var decrementedSelected=addMinutes(selected,60*-hourStep);return decrementedSelected<min||decrementedSelected>selected&&decrementedSelected>max},$scope.noIncrementMinutes=function(){var incrementedSelected=addMinutes(selected,minuteStep);return incrementedSelected>max||incrementedSelected<selected&&incrementedSelected<min},$scope.noDecrementMinutes=function(){var decrementedSelected=addMinutes(selected,-minuteStep);return decrementedSelected<min||decrementedSelected>selected&&decrementedSelected>max},$scope.noToggleMeridian=function(){return selected.getHours()<13?addMinutes(selected,720)>max:addMinutes(selected,-720)<min},$scope.showMeridian=timepickerConfig.showMeridian,$attrs.showMeridian&&$scope.$parent.$watch($parse($attrs.showMeridian),function(value){if($scope.showMeridian=!!value,ngModelCtrl.$error.time){var hours=getHoursFromTemplate(),minutes=getMinutesFromTemplate();angular.isDefined(hours)&&angular.isDefined(minutes)&&(selected.setHours(hours),refresh())}else updateTemplate()}),this.setupMousewheelEvents=function(hoursInputEl,minutesInputEl){var isScrollingUp=function(e){e.originalEvent&&(e=e.originalEvent);var delta=e.wheelDelta?e.wheelDelta:-e.deltaY;return e.detail||delta>0};hoursInputEl.bind("mousewheel wheel",function(e){$scope.$apply(isScrollingUp(e)?$scope.incrementHours():$scope.decrementHours()),e.preventDefault()}),minutesInputEl.bind("mousewheel wheel",function(e){$scope.$apply(isScrollingUp(e)?$scope.incrementMinutes():$scope.decrementMinutes()),e.preventDefault()})},this.setupArrowkeyEvents=function(hoursInputEl,minutesInputEl){hoursInputEl.bind("keydown",function(e){38===e.which?(e.preventDefault(),$scope.incrementHours(),$scope.$apply()):40===e.which&&(e.preventDefault(),$scope.decrementHours(),$scope.$apply())}),minutesInputEl.bind("keydown",function(e){38===e.which?(e.preventDefault(),$scope.incrementMinutes(),$scope.$apply()):40===e.which&&(e.preventDefault(),$scope.decrementMinutes(),$scope.$apply())})},this.setupInputEvents=function(hoursInputEl,minutesInputEl){if($scope.readonlyInput)return $scope.updateHours=angular.noop,void($scope.updateMinutes=angular.noop);var invalidate=function(invalidHours,invalidMinutes){ngModelCtrl.$setViewValue(null),ngModelCtrl.$setValidity("time",!1),angular.isDefined(invalidHours)&&($scope.invalidHours=invalidHours),angular.isDefined(invalidMinutes)&&($scope.invalidMinutes=invalidMinutes)};$scope.updateHours=function(){var hours=getHoursFromTemplate();angular.isDefined(hours)?(selected.setHours(hours),selected<min||selected>max?invalidate(!0):refresh("h")):invalidate(!0)},hoursInputEl.bind("blur",function(e){!$scope.invalidHours&&$scope.hours<10&&$scope.$apply(function(){$scope.hours=pad($scope.hours)})}),$scope.updateMinutes=function(){var minutes=getMinutesFromTemplate();angular.isDefined(minutes)?(selected.setMinutes(minutes),selected<min||selected>max?invalidate(void 0,!0):refresh("m")):invalidate(void 0,!0)},minutesInputEl.bind("blur",function(e){!$scope.invalidMinutes&&$scope.minutes<10&&$scope.$apply(function(){$scope.minutes=pad($scope.minutes)})})},this.render=function(){var date=ngModelCtrl.$viewValue;isNaN(date)?(ngModelCtrl.$setValidity("time",!1),$log.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(date&&(selected=date),selected<min||selected>max?(ngModelCtrl.$setValidity("time",!1),$scope.invalidHours=!0,$scope.invalidMinutes=!0):makeValid(),updateTemplate())},$scope.showSpinners=angular.isDefined($attrs.showSpinners)?$scope.$parent.$eval($attrs.showSpinners):timepickerConfig.showSpinners,$scope.incrementHours=function(){$scope.noIncrementHours()||addMinutesToSelected(60*hourStep)},$scope.decrementHours=function(){$scope.noDecrementHours()||addMinutesToSelected(60*-hourStep)},$scope.incrementMinutes=function(){$scope.noIncrementMinutes()||addMinutesToSelected(minuteStep)},$scope.decrementMinutes=function(){$scope.noDecrementMinutes()||addMinutesToSelected(-minuteStep)},$scope.toggleMeridian=function(){$scope.noToggleMeridian()||addMinutesToSelected(720*(selected.getHours()<12?1:-1))}}]).directive("timepicker",function(){return{restrict:"EA",require:["timepicker","?^ngModel"],controller:"TimepickerController",replace:!0,scope:{},templateUrl:"template/timepicker/timepicker.html",link:function(scope,element,attrs,ctrls){var timepickerCtrl=ctrls[0],ngModelCtrl=ctrls[1];ngModelCtrl&&timepickerCtrl.init(ngModelCtrl,element.find("input"))}}}),angular.module("ui.bootstrap.transition",[]).value("$transitionSuppressDeprecated",!1).factory("$transition",["$q","$timeout","$rootScope","$log","$transitionSuppressDeprecated",function($q,$timeout,$rootScope,$log,$transitionSuppressDeprecated){function findEndEventName(endEventNames){for(var name in endEventNames)if(void 0!==transElement.style[name])return endEventNames[name]}$transitionSuppressDeprecated||$log.warn("$transition is now deprecated. Use $animate from ngAnimate instead.");var $transition=function(element,trigger,options){options=options||{};var deferred=$q.defer(),endEventName=$transition[options.animation?"animationEndEventName":"transitionEndEventName"],transitionEndHandler=function(event){$rootScope.$apply(function(){element.unbind(endEventName,transitionEndHandler),deferred.resolve(element)})};return endEventName&&element.bind(endEventName,transitionEndHandler),$timeout(function(){angular.isString(trigger)?element.addClass(trigger):angular.isFunction(trigger)?trigger(element):angular.isObject(trigger)&&element.css(trigger),endEventName||deferred.resolve(element)}),deferred.promise.cancel=function(){endEventName&&element.unbind(endEventName,transitionEndHandler),deferred.reject("Transition cancelled")},deferred.promise},transElement=document.createElement("trans"),transitionEndEventNames={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"},animationEndEventNames={WebkitTransition:"webkitAnimationEnd",MozTransition:"animationend",OTransition:"oAnimationEnd",transition:"animationend"};return $transition.transitionEndEventName=findEndEventName(transitionEndEventNames),$transition.animationEndEventName=findEndEventName(animationEndEventNames),$transition}]),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).factory("typeaheadParser",["$parse",function($parse){var TYPEAHEAD_REGEXP=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(input){var match=input.match(TYPEAHEAD_REGEXP);if(!match)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+input+'".');return{itemName:match[3],source:$parse(match[4]),viewMapper:$parse(match[2]||match[1]),modelMapper:$parse(match[1])}}}}]).directive("typeahead",["$compile","$parse","$q","$timeout","$document","$window","$rootScope","$position","typeaheadParser",function($compile,$parse,$q,$timeout,$document,$window,$rootScope,$position,typeaheadParser){var HOT_KEYS=[9,13,27,38,40],eventDebounceTime=200;return{require:"ngModel",link:function(originalScope,element,attrs,modelCtrl){function fireRecalculating(){scope.moveInProgress||(scope.moveInProgress=!0,scope.$digest()),timeoutEventPromise&&$timeout.cancel(timeoutEventPromise),timeoutEventPromise=$timeout(function(){scope.matches.length&&recalculatePosition(),scope.moveInProgress=!1,scope.$digest()},eventDebounceTime)}function recalculatePosition(){scope.position=appendToBody?$position.offset(element):$position.position(element),scope.position.top+=element.prop("offsetHeight")}var minLength=originalScope.$eval(attrs.typeaheadMinLength);minLength||0===minLength||(minLength=1);var hasFocus,selected,waitTime=originalScope.$eval(attrs.typeaheadWaitMs)||0,isEditable=originalScope.$eval(attrs.typeaheadEditable)!==!1,isLoadingSetter=$parse(attrs.typeaheadLoading).assign||angular.noop,onSelectCallback=$parse(attrs.typeaheadOnSelect),isSelectOnBlur=!!angular.isDefined(attrs.typeaheadSelectOnBlur)&&originalScope.$eval(attrs.typeaheadSelectOnBlur),isNoResultsSetter=$parse(attrs.typeaheadNoResults).assign||angular.noop,inputFormatter=attrs.typeaheadInputFormatter?$parse(attrs.typeaheadInputFormatter):void 0,appendToBody=!!attrs.typeaheadAppendToBody&&originalScope.$eval(attrs.typeaheadAppendToBody),focusFirst=originalScope.$eval(attrs.typeaheadFocusFirst)!==!1,selectOnExact=!!attrs.typeaheadSelectOnExact&&originalScope.$eval(attrs.typeaheadSelectOnExact),$setModelValue=$parse(attrs.ngModel).assign,parserResult=typeaheadParser.parse(attrs.typeahead),scope=originalScope.$new();originalScope.$on("$destroy",function(){scope.$destroy()});var popupId="typeahead-"+scope.$id+"-"+Math.floor(1e4*Math.random());element.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":popupId});var popUpEl=angular.element("<div typeahead-popup></div>");popUpEl.attr({id:popupId,matches:"matches",active:"activeIdx",select:"select(activeIdx)","move-in-progress":"moveInProgress",query:"query",position:"position"}),angular.isDefined(attrs.typeaheadTemplateUrl)&&popUpEl.attr("template-url",attrs.typeaheadTemplateUrl);var resetMatches=function(){scope.matches=[],scope.activeIdx=-1,element.attr("aria-expanded",!1)},getMatchId=function(index){return popupId+"-option-"+index};scope.$watch("activeIdx",function(index){index<0?element.removeAttr("aria-activedescendant"):element.attr("aria-activedescendant",getMatchId(index))});var inputIsExactMatch=function(inputValue,index){return!!(scope.matches.length>index&&inputValue)&&inputValue.toUpperCase()===scope.matches[index].label.toUpperCase()},getMatchesAsync=function(inputValue){var locals={$viewValue:inputValue};isLoadingSetter(originalScope,!0),isNoResultsSetter(originalScope,!1),$q.when(parserResult.source(originalScope,locals)).then(function(matches){var onCurrentRequest=inputValue===modelCtrl.$viewValue;if(onCurrentRequest&&hasFocus)if(matches&&matches.length>0){scope.activeIdx=focusFirst?0:-1,isNoResultsSetter(originalScope,!1),scope.matches.length=0;for(var i=0;i<matches.length;i++)locals[parserResult.itemName]=matches[i],scope.matches.push({id:getMatchId(i),label:parserResult.viewMapper(scope,locals),model:matches[i]});scope.query=inputValue,recalculatePosition(),element.attr("aria-expanded",!0),selectOnExact&&1===scope.matches.length&&inputIsExactMatch(inputValue,0)&&scope.select(0)}else resetMatches(),isNoResultsSetter(originalScope,!0);onCurrentRequest&&isLoadingSetter(originalScope,!1)},function(){resetMatches(),isLoadingSetter(originalScope,!1),isNoResultsSetter(originalScope,!0)})};appendToBody&&(angular.element($window).bind("resize",fireRecalculating),$document.find("body").bind("scroll",fireRecalculating));var timeoutEventPromise;scope.moveInProgress=!1,resetMatches(),scope.query=void 0;var timeoutPromise,scheduleSearchWithTimeout=function(inputValue){
timeoutPromise=$timeout(function(){getMatchesAsync(inputValue)},waitTime)},cancelPreviousTimeout=function(){timeoutPromise&&$timeout.cancel(timeoutPromise)};modelCtrl.$parsers.unshift(function(inputValue){return hasFocus=!0,0===minLength||inputValue&&inputValue.length>=minLength?waitTime>0?(cancelPreviousTimeout(),scheduleSearchWithTimeout(inputValue)):getMatchesAsync(inputValue):(isLoadingSetter(originalScope,!1),cancelPreviousTimeout(),resetMatches()),isEditable?inputValue:inputValue?void modelCtrl.$setValidity("editable",!1):(modelCtrl.$setValidity("editable",!0),null)}),modelCtrl.$formatters.push(function(modelValue){var candidateViewValue,emptyViewValue,locals={};return isEditable||modelCtrl.$setValidity("editable",!0),inputFormatter?(locals.$model=modelValue,inputFormatter(originalScope,locals)):(locals[parserResult.itemName]=modelValue,candidateViewValue=parserResult.viewMapper(originalScope,locals),locals[parserResult.itemName]=void 0,emptyViewValue=parserResult.viewMapper(originalScope,locals),candidateViewValue!==emptyViewValue?candidateViewValue:modelValue)}),scope.select=function(activeIdx){var model,item,locals={};selected=!0,locals[parserResult.itemName]=item=scope.matches[activeIdx].model,model=parserResult.modelMapper(originalScope,locals),$setModelValue(originalScope,model),modelCtrl.$setValidity("editable",!0),modelCtrl.$setValidity("parse",!0),onSelectCallback(originalScope,{$item:item,$model:model,$label:parserResult.viewMapper(originalScope,locals)}),resetMatches(),$timeout(function(){element[0].focus()},0,!1)},element.bind("keydown",function(evt){if(0!==scope.matches.length&&HOT_KEYS.indexOf(evt.which)!==-1){if(scope.activeIdx===-1&&(9===evt.which||13===evt.which))return resetMatches(),void scope.$digest();evt.preventDefault(),40===evt.which?(scope.activeIdx=(scope.activeIdx+1)%scope.matches.length,scope.$digest()):38===evt.which?(scope.activeIdx=(scope.activeIdx>0?scope.activeIdx:scope.matches.length)-1,scope.$digest()):13===evt.which||9===evt.which?scope.$apply(function(){scope.select(scope.activeIdx)}):27===evt.which&&(evt.stopPropagation(),resetMatches(),scope.$digest())}}),element.bind("blur",function(){isSelectOnBlur&&scope.matches.length&&scope.activeIdx!==-1&&!selected&&(selected=!0,scope.$apply(function(){scope.select(scope.activeIdx)})),hasFocus=!1,selected=!1});var dismissClickHandler=function(evt){element[0]!==evt.target&&3!==evt.which&&0!==scope.matches.length&&(resetMatches(),$rootScope.$$phase||scope.$digest())};$document.bind("click",dismissClickHandler),originalScope.$on("$destroy",function(){$document.unbind("click",dismissClickHandler),appendToBody&&$popup.remove(),popUpEl.remove()});var $popup=$compile(popUpEl)(scope);appendToBody?$document.find("body").append($popup):element.after($popup)}}}]).directive("typeaheadPopup",function(){return{restrict:"EA",scope:{matches:"=",query:"=",active:"=",position:"&",moveInProgress:"=",select:"&"},replace:!0,templateUrl:"template/typeahead/typeahead-popup.html",link:function(scope,element,attrs){scope.templateUrl=attrs.templateUrl,scope.isOpen=function(){return scope.matches.length>0},scope.isActive=function(matchIdx){return scope.active==matchIdx},scope.selectActive=function(matchIdx){scope.active=matchIdx},scope.selectMatch=function(activeIdx){scope.select({activeIdx:activeIdx})}}}}).directive("typeaheadMatch",["$templateRequest","$compile","$parse",function($templateRequest,$compile,$parse){return{restrict:"EA",scope:{index:"=",match:"=",query:"="},link:function(scope,element,attrs){var tplUrl=$parse(attrs.templateUrl)(scope.$parent)||"template/typeahead/typeahead-match.html";$templateRequest(tplUrl).then(function(tplContent){$compile(tplContent.trim())(scope,function(clonedElement){element.replaceWith(clonedElement)})})}}}]).filter("typeaheadHighlight",function(){function escapeRegexp(queryToEscape){return queryToEscape.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}return function(matchItem,query){return query?(""+matchItem).replace(new RegExp(escapeRegexp(query),"gi"),"<strong>$&</strong>"):matchItem}}),angular.module("template/accordion/accordion-group.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/accordion/accordion-group.html",'<div class="panel panel-default" ng-class="{\'panel-open\': isOpen}">\n  <div class="panel-heading">\n    <h4 class="panel-title">\n      <a href tabindex="0" class="accordion-toggle" ng-click="toggleOpen()" accordion-transclude="heading"><span ng-class="{\'text-muted\': isDisabled}">{{heading}}</span></a>\n    </h4>\n  </div>\n  <div class="panel-collapse collapse" collapse="!isOpen">\n\t  <div class="panel-body" ng-transclude></div>\n  </div>\n</div>\n')}]),angular.module("template/accordion/accordion.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/accordion/accordion.html",'<div class="panel-group" ng-transclude></div>')}]),angular.module("template/alert/alert.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/alert/alert.html",'<div class="alert" ng-class="[\'alert-\' + (type || \'warning\'), closeable ? \'alert-dismissible\' : null]" role="alert">\n    <button ng-show="closeable" type="button" class="close" ng-click="close($event)">\n        <span aria-hidden="true">&times;</span>\n        <span class="sr-only">Close</span>\n    </button>\n    <div ng-transclude></div>\n</div>\n')}]),angular.module("template/carousel/carousel.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/carousel/carousel.html",'<div ng-mouseenter="pause()" ng-mouseleave="play()" class="carousel" ng-swipe-right="prev()" ng-swipe-left="next()">\n    <ol class="carousel-indicators" ng-show="slides.length > 1">\n        <li ng-repeat="slide in slides | orderBy:indexOfSlide track by $index" ng-class="{active: isActive(slide)}" ng-click="select(slide)"></li>\n    </ol>\n    <div class="carousel-inner" ng-transclude></div>\n    <a class="left carousel-control" ng-click="prev()" ng-show="slides.length > 1"><span class="glyphicon glyphicon-chevron-left"></span></a>\n    <a class="right carousel-control" ng-click="next()" ng-show="slides.length > 1"><span class="glyphicon glyphicon-chevron-right"></span></a>\n</div>\n')}]),angular.module("template/carousel/slide.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/carousel/slide.html",'<div ng-class="{\n    \'active\': active\n  }" class="item text-center" ng-transclude></div>\n')}]),angular.module("template/datepicker/datepicker.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/datepicker/datepicker.html",'<div ng-switch="datepickerMode" role="application" ng-keydown="keydown($event)">\n  <daypicker ng-switch-when="day" tabindex="0"></daypicker>\n  <monthpicker ng-switch-when="month" tabindex="0"></monthpicker>\n  <yearpicker ng-switch-when="year" tabindex="0"></yearpicker>\n</div>')}]),angular.module("template/datepicker/day.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/datepicker/day.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="{{::5 + showWeeks}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n    <tr>\n      <th ng-if="showWeeks" class="text-center"></th>\n      <th ng-repeat="label in ::labels track by $index" class="text-center"><small aria-label="{{::label.full}}">{{::label.abbr}}</small></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-if="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}</em></td>\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{::dt.uid}}" ng-class="::dt.customClass">\n        <button type="button" style="min-width:100%;" class="btn btn-default btn-sm" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="::{\'text-muted\': dt.secondary, \'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/month.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/datepicker/month.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{::dt.uid}}" ng-class="::dt.customClass">\n        <button type="button" style="min-width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/popup.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/datepicker/popup.html",'<ul class="dropdown-menu" ng-if="isOpen" style="display: block" ng-style="{top: position.top+\'px\', left: position.left+\'px\'}" ng-keydown="keydown($event)" ng-click="$event.stopPropagation()">\n\t<li ng-transclude></li>\n\t<li ng-if="showButtonBar" style="padding:10px 9px 2px">\n\t\t<span class="btn-group pull-left">\n\t\t\t<button type="button" class="btn btn-sm btn-info" ng-click="select(\'today\')">{{ getText(\'current\') }}</button>\n\t\t\t<button type="button" class="btn btn-sm btn-danger" ng-click="select(null)">{{ getText(\'clear\') }}</button>\n\t\t</span>\n\t\t<button type="button" class="btn btn-sm btn-success pull-right" ng-click="close()">{{ getText(\'close\') }}</button>\n\t</li>\n</ul>\n')}]),angular.module("template/datepicker/year.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/datepicker/year.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="3"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{::dt.uid}}">\n        <button type="button" style="min-width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/modal/backdrop.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/modal/backdrop.html",'<div class="modal-backdrop"\n     modal-animation-class="fade"\n     modal-in-class="in"\n     ng-style="{\'z-index\': 1040 + (index && 1 || 0) + index*10}"\n></div>\n')}]),angular.module("template/modal/window.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/modal/window.html",'<div modal-render="{{$isRendered}}" tabindex="-1" role="dialog" class="modal"\n    modal-animation-class="fade"\n    modal-in-class="in"\n\tng-style="{\'z-index\': 1050 + index*10, display: \'block\'}" ng-click="close($event)">\n    <div class="modal-dialog" ng-class="size ? \'modal-\' + size : \'\'"><div class="modal-content" modal-transclude></div></div>\n</div>\n')}]),angular.module("template/pagination/pager.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/pagination/pager.html",'<ul class="pager">\n  <li ng-class="{disabled: noPrevious(), previous: align}"><a href ng-click="selectPage(page - 1, $event)">{{::getText(\'previous\')}}</a></li>\n  <li ng-class="{disabled: noNext(), next: align}"><a href ng-click="selectPage(page + 1, $event)">{{::getText(\'next\')}}</a></li>\n</ul>')}]),angular.module("template/pagination/pagination.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/pagination/pagination.html",'<ul class="pagination">\n  <li ng-if="::boundaryLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-first"><a href ng-click="selectPage(1, $event)">{{::getText(\'first\')}}</a></li>\n  <li ng-if="::directionLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-prev"><a href ng-click="selectPage(page - 1, $event)">{{::getText(\'previous\')}}</a></li>\n  <li ng-repeat="page in pages track by $index" ng-class="{active: page.active,disabled: ngDisabled&&!page.active}" class="pagination-page"><a href ng-click="selectPage(page.number, $event)">{{page.text}}</a></li>\n  <li ng-if="::directionLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-next"><a href ng-click="selectPage(page + 1, $event)">{{::getText(\'next\')}}</a></li>\n  <li ng-if="::boundaryLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-last"><a href ng-click="selectPage(totalPages, $event)">{{::getText(\'last\')}}</a></li>\n</ul>\n')}]),angular.module("template/tooltip/tooltip-html-popup.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/tooltip/tooltip-html-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind-html="contentExp()"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-html-unsafe-popup.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/tooltip/tooltip-html-unsafe-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" bind-html-unsafe="content"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/tooltip/tooltip-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind="content"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-template-popup.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/tooltip/tooltip-template-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner"\n    tooltip-template-transclude="contentExp()"\n    tooltip-template-transclude-scope="originScope()"></div>\n</div>\n')}]),angular.module("template/popover/popover-html.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/popover/popover-html.html",'<div class="popover"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n      <div class="popover-content" ng-bind-html="contentExp()"></div>\n  </div>\n</div>\n')}]),angular.module("template/popover/popover-template.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/popover/popover-template.html",'<div class="popover"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n      <div class="popover-content"\n        tooltip-template-transclude="contentExp()"\n        tooltip-template-transclude-scope="originScope()"></div>\n  </div>\n</div>\n')}]),angular.module("template/popover/popover.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/popover/popover.html",'<div class="popover"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n      <div class="popover-content" ng-bind="content"></div>\n  </div>\n</div>\n')}]),angular.module("template/progressbar/bar.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/progressbar/bar.html",'<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" style="min-width: 0;" ng-transclude></div>\n')}]),angular.module("template/progressbar/progress.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/progressbar/progress.html",'<div class="progress" ng-transclude></div>')}]),angular.module("template/progressbar/progressbar.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/progressbar/progressbar.html",'<div class="progress">\n  <div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" style="min-width: 0;" ng-transclude></div>\n</div>\n')}]),angular.module("template/rating/rating.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/rating/rating.html",'<span ng-mouseleave="reset()" ng-keydown="onKeydown($event)" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="{{range.length}}" aria-valuenow="{{value}}">\n    <span ng-repeat-start="r in range track by $index" class="sr-only">({{ $index < value ? \'*\' : \' \' }})</span>\n    <i ng-repeat-end ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="glyphicon" ng-class="$index < value && (r.stateOn || \'glyphicon-star\') || (r.stateOff || \'glyphicon-star-empty\')" ng-attr-title="{{r.title}}" ></i>\n</span>\n')}]),angular.module("template/tabs/tab.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/tabs/tab.html",'<li ng-class="{active: active, disabled: disabled}">\n  <a href ng-click="select()" tab-heading-transclude>{{heading}}</a>\n</li>\n')}]),angular.module("template/tabs/tabset.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/tabs/tabset.html",'<div>\n  <ul class="nav nav-{{type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n  <div class="tab-content">\n    <div class="tab-pane" \n         ng-repeat="tab in tabs" \n         ng-class="{active: tab.active}"\n         tab-content-transclude="tab">\n    </div>\n  </div>\n</div>\n')}]),angular.module("template/timepicker/timepicker.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/timepicker/timepicker.html",'<table>\n  <tbody>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td><a ng-click="incrementHours()" ng-class="{disabled: noIncrementHours()}" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td>&nbsp;</td>\n      <td><a ng-click="incrementMinutes()" ng-class="{disabled: noIncrementMinutes()}" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n    <tr>\n      <td class="form-group" ng-class="{\'has-error\': invalidHours}">\n        <input style="width:50px;" type="text" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2">\n      </td>\n      <td>:</td>\n      <td class="form-group" ng-class="{\'has-error\': invalidMinutes}">\n        <input style="width:50px;" type="text" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2">\n      </td>\n      <td ng-show="showMeridian"><button type="button" ng-class="{disabled: noToggleMeridian()}" class="btn btn-default text-center" ng-click="toggleMeridian()">{{meridian}}</button></td>\n    </tr>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td><a ng-click="decrementHours()" ng-class="{disabled: noDecrementHours()}" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td>&nbsp;</td>\n      <td><a ng-click="decrementMinutes()" ng-class="{disabled: noDecrementMinutes()}" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/typeahead/typeahead-match.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/typeahead/typeahead-match.html",'<a href tabindex="-1" bind-html-unsafe="match.label | typeaheadHighlight:query"></a>\n')}]),angular.module("template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/typeahead/typeahead-popup.html",'<ul class="dropdown-menu" ng-show="isOpen() && !moveInProgress" ng-style="{top: position().top+\'px\', left: position().left+\'px\'}" style="display: block;" role="listbox" aria-hidden="{{!isOpen()}}">\n    <li ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index)" role="option" id="{{::match.id}}">\n        <div typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>\n')}]),!angular.$$csp()&&angular.element(document).find("head").prepend('<style type="text/css">.ng-animate.item:not(.left):not(.right){-webkit-transition:0s ease-in-out left;transition:0s ease-in-out left}</style>'),function(global,factory){"object"==typeof exports&&"undefined"!=typeof module?module.exports=factory():"function"==typeof define&&define.amd?define(factory):global.moment=factory()}(this,function(){"use strict";function utils_hooks__hooks(){return hookCallback.apply(null,arguments)}function setHookCallback(callback){hookCallback=callback}function isArray(input){return"[object Array]"===Object.prototype.toString.call(input)}function isDate(input){return input instanceof Date||"[object Date]"===Object.prototype.toString.call(input)}function map(arr,fn){var i,res=[];for(i=0;i<arr.length;++i)res.push(fn(arr[i],i));return res}function hasOwnProp(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function extend(a,b){for(var i in b)hasOwnProp(b,i)&&(a[i]=b[i]);return hasOwnProp(b,"toString")&&(a.toString=b.toString),hasOwnProp(b,"valueOf")&&(a.valueOf=b.valueOf),a}function create_utc__createUTC(input,format,locale,strict){return createLocalOrUTC(input,format,locale,strict,!0).utc()}function defaultParsingFlags(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function getParsingFlags(m){return null==m._pf&&(m._pf=defaultParsingFlags()),m._pf}function valid__isValid(m){if(null==m._isValid){var flags=getParsingFlags(m);m._isValid=!(isNaN(m._d.getTime())||!(flags.overflow<0)||flags.empty||flags.invalidMonth||flags.invalidWeekday||flags.nullInput||flags.invalidFormat||flags.userInvalidated),m._strict&&(m._isValid=m._isValid&&0===flags.charsLeftOver&&0===flags.unusedTokens.length&&void 0===flags.bigHour)}return m._isValid}function valid__createInvalid(flags){var m=create_utc__createUTC(NaN);return null!=flags?extend(getParsingFlags(m),flags):getParsingFlags(m).userInvalidated=!0,m}function copyConfig(to,from){var i,prop,val;if("undefined"!=typeof from._isAMomentObject&&(to._isAMomentObject=from._isAMomentObject),"undefined"!=typeof from._i&&(to._i=from._i),"undefined"!=typeof from._f&&(to._f=from._f),"undefined"!=typeof from._l&&(to._l=from._l),"undefined"!=typeof from._strict&&(to._strict=from._strict),"undefined"!=typeof from._tzm&&(to._tzm=from._tzm),"undefined"!=typeof from._isUTC&&(to._isUTC=from._isUTC),"undefined"!=typeof from._offset&&(to._offset=from._offset),"undefined"!=typeof from._pf&&(to._pf=getParsingFlags(from)),"undefined"!=typeof from._locale&&(to._locale=from._locale),momentProperties.length>0)for(i in momentProperties)prop=momentProperties[i],val=from[prop],"undefined"!=typeof val&&(to[prop]=val);return to}function Moment(config){copyConfig(this,config),this._d=new Date(null!=config._d?config._d.getTime():NaN),updateInProgress===!1&&(updateInProgress=!0,utils_hooks__hooks.updateOffset(this),updateInProgress=!1)}function isMoment(obj){return obj instanceof Moment||null!=obj&&null!=obj._isAMomentObject}function absFloor(number){return number<0?Math.ceil(number):Math.floor(number)}function toInt(argumentForCoercion){var coercedNumber=+argumentForCoercion,value=0;return 0!==coercedNumber&&isFinite(coercedNumber)&&(value=absFloor(coercedNumber)),value}function compareArrays(array1,array2,dontConvert){var i,len=Math.min(array1.length,array2.length),lengthDiff=Math.abs(array1.length-array2.length),diffs=0;for(i=0;i<len;i++)(dontConvert&&array1[i]!==array2[i]||!dontConvert&&toInt(array1[i])!==toInt(array2[i]))&&diffs++;return diffs+lengthDiff}function Locale(){}function normalizeLocale(key){return key?key.toLowerCase().replace("_","-"):key}function chooseLocale(names){for(var j,next,locale,split,i=0;i<names.length;){for(split=normalizeLocale(names[i]).split("-"),j=split.length,next=normalizeLocale(names[i+1]),next=next?next.split("-"):null;j>0;){if(locale=loadLocale(split.slice(0,j).join("-")))return locale;if(next&&next.length>=j&&compareArrays(split,next,!0)>=j-1)break;j--}i++}return null}function loadLocale(name){var oldLocale=null;if(!locales[name]&&"undefined"!=typeof module&&module&&module.exports)try{oldLocale=globalLocale._abbr,require("./locale/"+name),locale_locales__getSetGlobalLocale(oldLocale)}catch(e){}return locales[name]}function locale_locales__getSetGlobalLocale(key,values){var data;return key&&(data="undefined"==typeof values?locale_locales__getLocale(key):defineLocale(key,values),data&&(globalLocale=data)),globalLocale._abbr}function defineLocale(name,values){return null!==values?(values.abbr=name,locales[name]=locales[name]||new Locale,locales[name].set(values),locale_locales__getSetGlobalLocale(name),locales[name]):(delete locales[name],null)}function locale_locales__getLocale(key){var locale;if(key&&key._locale&&key._locale._abbr&&(key=key._locale._abbr),!key)return globalLocale;if(!isArray(key)){if(locale=loadLocale(key))return locale;key=[key]}return chooseLocale(key)}function addUnitAlias(unit,shorthand){var lowerCase=unit.toLowerCase();aliases[lowerCase]=aliases[lowerCase+"s"]=aliases[shorthand]=unit}function normalizeUnits(units){return"string"==typeof units?aliases[units]||aliases[units.toLowerCase()]:void 0}function normalizeObjectUnits(inputObject){var normalizedProp,prop,normalizedInput={};for(prop in inputObject)hasOwnProp(inputObject,prop)&&(normalizedProp=normalizeUnits(prop),normalizedProp&&(normalizedInput[normalizedProp]=inputObject[prop]));return normalizedInput}function makeGetSet(unit,keepTime){return function(value){return null!=value?(get_set__set(this,unit,value),utils_hooks__hooks.updateOffset(this,keepTime),this):get_set__get(this,unit)}}function get_set__get(mom,unit){return mom._d["get"+(mom._isUTC?"UTC":"")+unit]()}function get_set__set(mom,unit,value){return mom._d["set"+(mom._isUTC?"UTC":"")+unit](value)}function getSet(units,value){var unit;if("object"==typeof units)for(unit in units)this.set(unit,units[unit]);else if(units=normalizeUnits(units),"function"==typeof this[units])return this[units](value);return this}function zeroFill(number,targetLength,forceSign){var absNumber=""+Math.abs(number),zerosToFill=targetLength-absNumber.length,sign=number>=0;return(sign?forceSign?"+":"":"-")+Math.pow(10,Math.max(0,zerosToFill)).toString().substr(1)+absNumber}function addFormatToken(token,padded,ordinal,callback){var func=callback;"string"==typeof callback&&(func=function(){return this[callback]()}),token&&(formatTokenFunctions[token]=func),padded&&(formatTokenFunctions[padded[0]]=function(){return zeroFill(func.apply(this,arguments),padded[1],padded[2])}),ordinal&&(formatTokenFunctions[ordinal]=function(){return this.localeData().ordinal(func.apply(this,arguments),token)})}function removeFormattingTokens(input){return input.match(/\[[\s\S]/)?input.replace(/^\[|\]$/g,""):input.replace(/\\/g,"")}function makeFormatFunction(format){var i,length,array=format.match(formattingTokens);for(i=0,length=array.length;i<length;i++)formatTokenFunctions[array[i]]?array[i]=formatTokenFunctions[array[i]]:array[i]=removeFormattingTokens(array[i]);return function(mom){var output="";for(i=0;i<length;i++)output+=array[i]instanceof Function?array[i].call(mom,format):array[i];return output}}function formatMoment(m,format){return m.isValid()?(format=expandFormat(format,m.localeData()),formatFunctions[format]=formatFunctions[format]||makeFormatFunction(format),formatFunctions[format](m)):m.localeData().invalidDate()}function expandFormat(format,locale){function replaceLongDateFormatTokens(input){return locale.longDateFormat(input)||input}var i=5;for(localFormattingTokens.lastIndex=0;i>=0&&localFormattingTokens.test(format);)format=format.replace(localFormattingTokens,replaceLongDateFormatTokens),localFormattingTokens.lastIndex=0,i-=1;return format}function isFunction(sth){return"function"==typeof sth&&"[object Function]"===Object.prototype.toString.call(sth)}function addRegexToken(token,regex,strictRegex){regexes[token]=isFunction(regex)?regex:function(isStrict){return isStrict&&strictRegex?strictRegex:regex}}function getParseRegexForToken(token,config){return hasOwnProp(regexes,token)?regexes[token](config._strict,config._locale):new RegExp(unescapeFormat(token))}function unescapeFormat(s){return s.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(matched,p1,p2,p3,p4){
return p1||p2||p3||p4}).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function addParseToken(token,callback){var i,func=callback;for("string"==typeof token&&(token=[token]),"number"==typeof callback&&(func=function(input,array){array[callback]=toInt(input)}),i=0;i<token.length;i++)tokens[token[i]]=func}function addWeekParseToken(token,callback){addParseToken(token,function(input,array,config,token){config._w=config._w||{},callback(input,config._w,config,token)})}function addTimeToArrayFromToken(token,input,config){null!=input&&hasOwnProp(tokens,token)&&tokens[token](input,config._a,config,token)}function daysInMonth(year,month){return new Date(Date.UTC(year,month+1,0)).getUTCDate()}function localeMonths(m){return this._months[m.month()]}function localeMonthsShort(m){return this._monthsShort[m.month()]}function localeMonthsParse(monthName,format,strict){var i,mom,regex;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(mom=create_utc__createUTC([2e3,i]),strict&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(mom,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(mom,"").replace(".","")+"$","i")),strict||this._monthsParse[i]||(regex="^"+this.months(mom,"")+"|^"+this.monthsShort(mom,""),this._monthsParse[i]=new RegExp(regex.replace(".",""),"i")),strict&&"MMMM"===format&&this._longMonthsParse[i].test(monthName))return i;if(strict&&"MMM"===format&&this._shortMonthsParse[i].test(monthName))return i;if(!strict&&this._monthsParse[i].test(monthName))return i}}function setMonth(mom,value){var dayOfMonth;return"string"==typeof value&&(value=mom.localeData().monthsParse(value),"number"!=typeof value)?mom:(dayOfMonth=Math.min(mom.date(),daysInMonth(mom.year(),value)),mom._d["set"+(mom._isUTC?"UTC":"")+"Month"](value,dayOfMonth),mom)}function getSetMonth(value){return null!=value?(setMonth(this,value),utils_hooks__hooks.updateOffset(this,!0),this):get_set__get(this,"Month")}function getDaysInMonth(){return daysInMonth(this.year(),this.month())}function checkOverflow(m){var overflow,a=m._a;return a&&getParsingFlags(m).overflow===-2&&(overflow=a[MONTH]<0||a[MONTH]>11?MONTH:a[DATE]<1||a[DATE]>daysInMonth(a[YEAR],a[MONTH])?DATE:a[HOUR]<0||a[HOUR]>24||24===a[HOUR]&&(0!==a[MINUTE]||0!==a[SECOND]||0!==a[MILLISECOND])?HOUR:a[MINUTE]<0||a[MINUTE]>59?MINUTE:a[SECOND]<0||a[SECOND]>59?SECOND:a[MILLISECOND]<0||a[MILLISECOND]>999?MILLISECOND:-1,getParsingFlags(m)._overflowDayOfYear&&(overflow<YEAR||overflow>DATE)&&(overflow=DATE),getParsingFlags(m).overflow=overflow),m}function warn(msg){utils_hooks__hooks.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+msg)}function deprecate(msg,fn){var firstTime=!0;return extend(function(){return firstTime&&(warn(msg+"\n"+(new Error).stack),firstTime=!1),fn.apply(this,arguments)},fn)}function deprecateSimple(name,msg){deprecations[name]||(warn(msg),deprecations[name]=!0)}function configFromISO(config){var i,l,string=config._i,match=from_string__isoRegex.exec(string);if(match){for(getParsingFlags(config).iso=!0,i=0,l=isoDates.length;i<l;i++)if(isoDates[i][1].exec(string)){config._f=isoDates[i][0];break}for(i=0,l=isoTimes.length;i<l;i++)if(isoTimes[i][1].exec(string)){config._f+=(match[6]||" ")+isoTimes[i][0];break}string.match(matchOffset)&&(config._f+="Z"),configFromStringAndFormat(config)}else config._isValid=!1}function configFromString(config){var matched=aspNetJsonRegex.exec(config._i);return null!==matched?void(config._d=new Date((+matched[1]))):(configFromISO(config),void(config._isValid===!1&&(delete config._isValid,utils_hooks__hooks.createFromInputFallback(config))))}function createDate(y,m,d,h,M,s,ms){var date=new Date(y,m,d,h,M,s,ms);return y<1970&&date.setFullYear(y),date}function createUTCDate(y){var date=new Date(Date.UTC.apply(null,arguments));return y<1970&&date.setUTCFullYear(y),date}function daysInYear(year){return isLeapYear(year)?366:365}function isLeapYear(year){return year%4===0&&year%100!==0||year%400===0}function getIsLeapYear(){return isLeapYear(this.year())}function weekOfYear(mom,firstDayOfWeek,firstDayOfWeekOfYear){var adjustedMoment,end=firstDayOfWeekOfYear-firstDayOfWeek,daysToDayOfWeek=firstDayOfWeekOfYear-mom.day();return daysToDayOfWeek>end&&(daysToDayOfWeek-=7),daysToDayOfWeek<end-7&&(daysToDayOfWeek+=7),adjustedMoment=local__createLocal(mom).add(daysToDayOfWeek,"d"),{week:Math.ceil(adjustedMoment.dayOfYear()/7),year:adjustedMoment.year()}}function localeWeek(mom){return weekOfYear(mom,this._week.dow,this._week.doy).week}function localeFirstDayOfWeek(){return this._week.dow}function localeFirstDayOfYear(){return this._week.doy}function getSetWeek(input){var week=this.localeData().week(this);return null==input?week:this.add(7*(input-week),"d")}function getSetISOWeek(input){var week=weekOfYear(this,1,4).week;return null==input?week:this.add(7*(input-week),"d")}function dayOfYearFromWeeks(year,week,weekday,firstDayOfWeekOfYear,firstDayOfWeek){var dayOfYear,week1Jan=6+firstDayOfWeek-firstDayOfWeekOfYear,janX=createUTCDate(year,0,1+week1Jan),d=janX.getUTCDay();return d<firstDayOfWeek&&(d+=7),weekday=null!=weekday?1*weekday:firstDayOfWeek,dayOfYear=1+week1Jan+7*(week-1)-d+weekday,{year:dayOfYear>0?year:year-1,dayOfYear:dayOfYear>0?dayOfYear:daysInYear(year-1)+dayOfYear}}function getSetDayOfYear(input){var dayOfYear=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==input?dayOfYear:this.add(input-dayOfYear,"d")}function defaults(a,b,c){return null!=a?a:null!=b?b:c}function currentDateArray(config){var now=new Date;return config._useUTC?[now.getUTCFullYear(),now.getUTCMonth(),now.getUTCDate()]:[now.getFullYear(),now.getMonth(),now.getDate()]}function configFromArray(config){var i,date,currentDate,yearToUse,input=[];if(!config._d){for(currentDate=currentDateArray(config),config._w&&null==config._a[DATE]&&null==config._a[MONTH]&&dayOfYearFromWeekInfo(config),config._dayOfYear&&(yearToUse=defaults(config._a[YEAR],currentDate[YEAR]),config._dayOfYear>daysInYear(yearToUse)&&(getParsingFlags(config)._overflowDayOfYear=!0),date=createUTCDate(yearToUse,0,config._dayOfYear),config._a[MONTH]=date.getUTCMonth(),config._a[DATE]=date.getUTCDate()),i=0;i<3&&null==config._a[i];++i)config._a[i]=input[i]=currentDate[i];for(;i<7;i++)config._a[i]=input[i]=null==config._a[i]?2===i?1:0:config._a[i];24===config._a[HOUR]&&0===config._a[MINUTE]&&0===config._a[SECOND]&&0===config._a[MILLISECOND]&&(config._nextDay=!0,config._a[HOUR]=0),config._d=(config._useUTC?createUTCDate:createDate).apply(null,input),null!=config._tzm&&config._d.setUTCMinutes(config._d.getUTCMinutes()-config._tzm),config._nextDay&&(config._a[HOUR]=24)}}function dayOfYearFromWeekInfo(config){var w,weekYear,week,weekday,dow,doy,temp;w=config._w,null!=w.GG||null!=w.W||null!=w.E?(dow=1,doy=4,weekYear=defaults(w.GG,config._a[YEAR],weekOfYear(local__createLocal(),1,4).year),week=defaults(w.W,1),weekday=defaults(w.E,1)):(dow=config._locale._week.dow,doy=config._locale._week.doy,weekYear=defaults(w.gg,config._a[YEAR],weekOfYear(local__createLocal(),dow,doy).year),week=defaults(w.w,1),null!=w.d?(weekday=w.d,weekday<dow&&++week):weekday=null!=w.e?w.e+dow:dow),temp=dayOfYearFromWeeks(weekYear,week,weekday,doy,dow),config._a[YEAR]=temp.year,config._dayOfYear=temp.dayOfYear}function configFromStringAndFormat(config){if(config._f===utils_hooks__hooks.ISO_8601)return void configFromISO(config);config._a=[],getParsingFlags(config).empty=!0;var i,parsedInput,tokens,token,skipped,string=""+config._i,stringLength=string.length,totalParsedInputLength=0;for(tokens=expandFormat(config._f,config._locale).match(formattingTokens)||[],i=0;i<tokens.length;i++)token=tokens[i],parsedInput=(string.match(getParseRegexForToken(token,config))||[])[0],parsedInput&&(skipped=string.substr(0,string.indexOf(parsedInput)),skipped.length>0&&getParsingFlags(config).unusedInput.push(skipped),string=string.slice(string.indexOf(parsedInput)+parsedInput.length),totalParsedInputLength+=parsedInput.length),formatTokenFunctions[token]?(parsedInput?getParsingFlags(config).empty=!1:getParsingFlags(config).unusedTokens.push(token),addTimeToArrayFromToken(token,parsedInput,config)):config._strict&&!parsedInput&&getParsingFlags(config).unusedTokens.push(token);getParsingFlags(config).charsLeftOver=stringLength-totalParsedInputLength,string.length>0&&getParsingFlags(config).unusedInput.push(string),getParsingFlags(config).bigHour===!0&&config._a[HOUR]<=12&&config._a[HOUR]>0&&(getParsingFlags(config).bigHour=void 0),config._a[HOUR]=meridiemFixWrap(config._locale,config._a[HOUR],config._meridiem),configFromArray(config),checkOverflow(config)}function meridiemFixWrap(locale,hour,meridiem){var isPm;return null==meridiem?hour:null!=locale.meridiemHour?locale.meridiemHour(hour,meridiem):null!=locale.isPM?(isPm=locale.isPM(meridiem),isPm&&hour<12&&(hour+=12),isPm||12!==hour||(hour=0),hour):hour}function configFromStringAndArray(config){var tempConfig,bestMoment,scoreToBeat,i,currentScore;if(0===config._f.length)return getParsingFlags(config).invalidFormat=!0,void(config._d=new Date(NaN));for(i=0;i<config._f.length;i++)currentScore=0,tempConfig=copyConfig({},config),null!=config._useUTC&&(tempConfig._useUTC=config._useUTC),tempConfig._f=config._f[i],configFromStringAndFormat(tempConfig),valid__isValid(tempConfig)&&(currentScore+=getParsingFlags(tempConfig).charsLeftOver,currentScore+=10*getParsingFlags(tempConfig).unusedTokens.length,getParsingFlags(tempConfig).score=currentScore,(null==scoreToBeat||currentScore<scoreToBeat)&&(scoreToBeat=currentScore,bestMoment=tempConfig));extend(config,bestMoment||tempConfig)}function configFromObject(config){if(!config._d){var i=normalizeObjectUnits(config._i);config._a=[i.year,i.month,i.day||i.date,i.hour,i.minute,i.second,i.millisecond],configFromArray(config)}}function createFromConfig(config){var res=new Moment(checkOverflow(prepareConfig(config)));return res._nextDay&&(res.add(1,"d"),res._nextDay=void 0),res}function prepareConfig(config){var input=config._i,format=config._f;return config._locale=config._locale||locale_locales__getLocale(config._l),null===input||void 0===format&&""===input?valid__createInvalid({nullInput:!0}):("string"==typeof input&&(config._i=input=config._locale.preparse(input)),isMoment(input)?new Moment(checkOverflow(input)):(isArray(format)?configFromStringAndArray(config):format?configFromStringAndFormat(config):isDate(input)?config._d=input:configFromInput(config),config))}function configFromInput(config){var input=config._i;void 0===input?config._d=new Date:isDate(input)?config._d=new Date((+input)):"string"==typeof input?configFromString(config):isArray(input)?(config._a=map(input.slice(0),function(obj){return parseInt(obj,10)}),configFromArray(config)):"object"==typeof input?configFromObject(config):"number"==typeof input?config._d=new Date(input):utils_hooks__hooks.createFromInputFallback(config)}function createLocalOrUTC(input,format,locale,strict,isUTC){var c={};return"boolean"==typeof locale&&(strict=locale,locale=void 0),c._isAMomentObject=!0,c._useUTC=c._isUTC=isUTC,c._l=locale,c._i=input,c._f=format,c._strict=strict,createFromConfig(c)}function local__createLocal(input,format,locale,strict){return createLocalOrUTC(input,format,locale,strict,!1)}function pickBy(fn,moments){var res,i;if(1===moments.length&&isArray(moments[0])&&(moments=moments[0]),!moments.length)return local__createLocal();for(res=moments[0],i=1;i<moments.length;++i)moments[i].isValid()&&!moments[i][fn](res)||(res=moments[i]);return res}function min(){var args=[].slice.call(arguments,0);return pickBy("isBefore",args)}function max(){var args=[].slice.call(arguments,0);return pickBy("isAfter",args)}function Duration(duration){var normalizedInput=normalizeObjectUnits(duration),years=normalizedInput.year||0,quarters=normalizedInput.quarter||0,months=normalizedInput.month||0,weeks=normalizedInput.week||0,days=normalizedInput.day||0,hours=normalizedInput.hour||0,minutes=normalizedInput.minute||0,seconds=normalizedInput.second||0,milliseconds=normalizedInput.millisecond||0;this._milliseconds=+milliseconds+1e3*seconds+6e4*minutes+36e5*hours,this._days=+days+7*weeks,this._months=+months+3*quarters+12*years,this._data={},this._locale=locale_locales__getLocale(),this._bubble()}function isDuration(obj){return obj instanceof Duration}function offset(token,separator){addFormatToken(token,0,0,function(){var offset=this.utcOffset(),sign="+";return offset<0&&(offset=-offset,sign="-"),sign+zeroFill(~~(offset/60),2)+separator+zeroFill(~~offset%60,2)})}function offsetFromString(string){var matches=(string||"").match(matchOffset)||[],chunk=matches[matches.length-1]||[],parts=(chunk+"").match(chunkOffset)||["-",0,0],minutes=+(60*parts[1])+toInt(parts[2]);return"+"===parts[0]?minutes:-minutes}function cloneWithOffset(input,model){var res,diff;return model._isUTC?(res=model.clone(),diff=(isMoment(input)||isDate(input)?+input:+local__createLocal(input))-+res,res._d.setTime(+res._d+diff),utils_hooks__hooks.updateOffset(res,!1),res):local__createLocal(input).local()}function getDateOffset(m){return 15*-Math.round(m._d.getTimezoneOffset()/15)}function getSetOffset(input,keepLocalTime){var localAdjust,offset=this._offset||0;return null!=input?("string"==typeof input&&(input=offsetFromString(input)),Math.abs(input)<16&&(input=60*input),!this._isUTC&&keepLocalTime&&(localAdjust=getDateOffset(this)),this._offset=input,this._isUTC=!0,null!=localAdjust&&this.add(localAdjust,"m"),offset!==input&&(!keepLocalTime||this._changeInProgress?add_subtract__addSubtract(this,create__createDuration(input-offset,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,utils_hooks__hooks.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?offset:getDateOffset(this)}function getSetZone(input,keepLocalTime){return null!=input?("string"!=typeof input&&(input=-input),this.utcOffset(input,keepLocalTime),this):-this.utcOffset()}function setOffsetToUTC(keepLocalTime){return this.utcOffset(0,keepLocalTime)}function setOffsetToLocal(keepLocalTime){return this._isUTC&&(this.utcOffset(0,keepLocalTime),this._isUTC=!1,keepLocalTime&&this.subtract(getDateOffset(this),"m")),this}function setOffsetToParsedOffset(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(offsetFromString(this._i)),this}function hasAlignedHourOffset(input){return input=input?local__createLocal(input).utcOffset():0,(this.utcOffset()-input)%60===0}function isDaylightSavingTime(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function isDaylightSavingTimeShifted(){if("undefined"!=typeof this._isDSTShifted)return this._isDSTShifted;var c={};if(copyConfig(c,this),c=prepareConfig(c),c._a){var other=c._isUTC?create_utc__createUTC(c._a):local__createLocal(c._a);this._isDSTShifted=this.isValid()&&compareArrays(c._a,other.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function isLocal(){return!this._isUTC}function isUtcOffset(){return this._isUTC}function isUtc(){return this._isUTC&&0===this._offset}function create__createDuration(input,key){var sign,ret,diffRes,duration=input,match=null;return isDuration(input)?duration={ms:input._milliseconds,d:input._days,M:input._months}:"number"==typeof input?(duration={},key?duration[key]=input:duration.milliseconds=input):(match=aspNetRegex.exec(input))?(sign="-"===match[1]?-1:1,duration={y:0,d:toInt(match[DATE])*sign,h:toInt(match[HOUR])*sign,m:toInt(match[MINUTE])*sign,s:toInt(match[SECOND])*sign,ms:toInt(match[MILLISECOND])*sign}):(match=create__isoRegex.exec(input))?(sign="-"===match[1]?-1:1,duration={y:parseIso(match[2],sign),M:parseIso(match[3],sign),d:parseIso(match[4],sign),h:parseIso(match[5],sign),m:parseIso(match[6],sign),s:parseIso(match[7],sign),w:parseIso(match[8],sign)}):null==duration?duration={}:"object"==typeof duration&&("from"in duration||"to"in duration)&&(diffRes=momentsDifference(local__createLocal(duration.from),local__createLocal(duration.to)),duration={},duration.ms=diffRes.milliseconds,duration.M=diffRes.months),ret=new Duration(duration),isDuration(input)&&hasOwnProp(input,"_locale")&&(ret._locale=input._locale),ret}function parseIso(inp,sign){var res=inp&&parseFloat(inp.replace(",","."));return(isNaN(res)?0:res)*sign}function positiveMomentsDifference(base,other){var res={milliseconds:0,months:0};return res.months=other.month()-base.month()+12*(other.year()-base.year()),base.clone().add(res.months,"M").isAfter(other)&&--res.months,res.milliseconds=+other-+base.clone().add(res.months,"M"),res}function momentsDifference(base,other){var res;return other=cloneWithOffset(other,base),base.isBefore(other)?res=positiveMomentsDifference(base,other):(res=positiveMomentsDifference(other,base),res.milliseconds=-res.milliseconds,res.months=-res.months),res}function createAdder(direction,name){return function(val,period){var dur,tmp;return null===period||isNaN(+period)||(deprecateSimple(name,"moment()."+name+"(period, number) is deprecated. Please use moment()."+name+"(number, period)."),tmp=val,val=period,period=tmp),val="string"==typeof val?+val:val,dur=create__createDuration(val,period),add_subtract__addSubtract(this,dur,direction),this}}function add_subtract__addSubtract(mom,duration,isAdding,updateOffset){var milliseconds=duration._milliseconds,days=duration._days,months=duration._months;updateOffset=null==updateOffset||updateOffset,milliseconds&&mom._d.setTime(+mom._d+milliseconds*isAdding),days&&get_set__set(mom,"Date",get_set__get(mom,"Date")+days*isAdding),months&&setMonth(mom,get_set__get(mom,"Month")+months*isAdding),updateOffset&&utils_hooks__hooks.updateOffset(mom,days||months)}function moment_calendar__calendar(time,formats){var now=time||local__createLocal(),sod=cloneWithOffset(now,this).startOf("day"),diff=this.diff(sod,"days",!0),format=diff<-6?"sameElse":diff<-1?"lastWeek":diff<0?"lastDay":diff<1?"sameDay":diff<2?"nextDay":diff<7?"nextWeek":"sameElse";return this.format(formats&&formats[format]||this.localeData().calendar(format,this,local__createLocal(now)))}function clone(){return new Moment(this)}function isAfter(input,units){var inputMs;return units=normalizeUnits("undefined"!=typeof units?units:"millisecond"),"millisecond"===units?(input=isMoment(input)?input:local__createLocal(input),+this>+input):(inputMs=isMoment(input)?+input:+local__createLocal(input),inputMs<+this.clone().startOf(units))}function isBefore(input,units){var inputMs;return units=normalizeUnits("undefined"!=typeof units?units:"millisecond"),"millisecond"===units?(input=isMoment(input)?input:local__createLocal(input),+this<+input):(inputMs=isMoment(input)?+input:+local__createLocal(input),+this.clone().endOf(units)<inputMs)}function isBetween(from,to,units){return this.isAfter(from,units)&&this.isBefore(to,units)}function isSame(input,units){var inputMs;return units=normalizeUnits(units||"millisecond"),"millisecond"===units?(input=isMoment(input)?input:local__createLocal(input),+this===+input):(inputMs=+local__createLocal(input),+this.clone().startOf(units)<=inputMs&&inputMs<=+this.clone().endOf(units))}function diff(input,units,asFloat){var delta,output,that=cloneWithOffset(input,this),zoneDelta=6e4*(that.utcOffset()-this.utcOffset());return units=normalizeUnits(units),"year"===units||"month"===units||"quarter"===units?(output=monthDiff(this,that),"quarter"===units?output/=3:"year"===units&&(output/=12)):(delta=this-that,output="second"===units?delta/1e3:"minute"===units?delta/6e4:"hour"===units?delta/36e5:"day"===units?(delta-zoneDelta)/864e5:"week"===units?(delta-zoneDelta)/6048e5:delta),asFloat?output:absFloor(output)}function monthDiff(a,b){var anchor2,adjust,wholeMonthDiff=12*(b.year()-a.year())+(b.month()-a.month()),anchor=a.clone().add(wholeMonthDiff,"months");return b-anchor<0?(anchor2=a.clone().add(wholeMonthDiff-1,"months"),adjust=(b-anchor)/(anchor-anchor2)):(anchor2=a.clone().add(wholeMonthDiff+1,"months"),adjust=(b-anchor)/(anchor2-anchor)),-(wholeMonthDiff+adjust)}function toString(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function moment_format__toISOString(){var m=this.clone().utc();return 0<m.year()&&m.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():formatMoment(m,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):formatMoment(m,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function format(inputString){var output=formatMoment(this,inputString||utils_hooks__hooks.defaultFormat);return this.localeData().postformat(output)}function from(time,withoutSuffix){return this.isValid()?create__createDuration({to:this,from:time}).locale(this.locale()).humanize(!withoutSuffix):this.localeData().invalidDate()}function fromNow(withoutSuffix){return this.from(local__createLocal(),withoutSuffix)}function to(time,withoutSuffix){return this.isValid()?create__createDuration({from:this,to:time}).locale(this.locale()).humanize(!withoutSuffix):this.localeData().invalidDate()}function toNow(withoutSuffix){return this.to(local__createLocal(),withoutSuffix)}function locale(key){var newLocaleData;return void 0===key?this._locale._abbr:(newLocaleData=locale_locales__getLocale(key),null!=newLocaleData&&(this._locale=newLocaleData),this)}function localeData(){return this._locale}function startOf(units){switch(units=normalizeUnits(units)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===units&&this.weekday(0),"isoWeek"===units&&this.isoWeekday(1),"quarter"===units&&this.month(3*Math.floor(this.month()/3)),this}function endOf(units){return units=normalizeUnits(units),void 0===units||"millisecond"===units?this:this.startOf(units).add(1,"isoWeek"===units?"week":units).subtract(1,"ms")}function to_type__valueOf(){return+this._d-6e4*(this._offset||0)}function unix(){return Math.floor(+this/1e3)}function toDate(){return this._offset?new Date((+this)):this._d}function toArray(){var m=this;return[m.year(),m.month(),m.date(),m.hour(),m.minute(),m.second(),m.millisecond()]}function toObject(){var m=this;return{years:m.year(),months:m.month(),date:m.date(),hours:m.hours(),minutes:m.minutes(),seconds:m.seconds(),milliseconds:m.milliseconds()}}function moment_valid__isValid(){return valid__isValid(this)}function parsingFlags(){return extend({},getParsingFlags(this))}function invalidAt(){return getParsingFlags(this).overflow}function addWeekYearFormatToken(token,getter){addFormatToken(0,[token,token.length],0,getter)}function weeksInYear(year,dow,doy){return weekOfYear(local__createLocal([year,11,31+dow-doy]),dow,doy).week}function getSetWeekYear(input){var year=weekOfYear(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==input?year:this.add(input-year,"y")}function getSetISOWeekYear(input){var year=weekOfYear(this,1,4).year;return null==input?year:this.add(input-year,"y")}function getISOWeeksInYear(){return weeksInYear(this.year(),1,4)}function getWeeksInYear(){var weekInfo=this.localeData()._week;return weeksInYear(this.year(),weekInfo.dow,weekInfo.doy)}function getSetQuarter(input){return null==input?Math.ceil((this.month()+1)/3):this.month(3*(input-1)+this.month()%3)}function parseWeekday(input,locale){return"string"!=typeof input?input:isNaN(input)?(input=locale.weekdaysParse(input),"number"==typeof input?input:null):parseInt(input,10)}function localeWeekdays(m){return this._weekdays[m.day()]}function localeWeekdaysShort(m){return this._weekdaysShort[m.day()]}function localeWeekdaysMin(m){return this._weekdaysMin[m.day()]}function localeWeekdaysParse(weekdayName){var i,mom,regex;for(this._weekdaysParse=this._weekdaysParse||[],i=0;i<7;i++)if(this._weekdaysParse[i]||(mom=local__createLocal([2e3,1]).day(i),regex="^"+this.weekdays(mom,"")+"|^"+this.weekdaysShort(mom,"")+"|^"+this.weekdaysMin(mom,""),this._weekdaysParse[i]=new RegExp(regex.replace(".",""),"i")),this._weekdaysParse[i].test(weekdayName))return i}function getSetDayOfWeek(input){var day=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=input?(input=parseWeekday(input,this.localeData()),this.add(input-day,"d")):day}function getSetLocaleDayOfWeek(input){var weekday=(this.day()+7-this.localeData()._week.dow)%7;return null==input?weekday:this.add(input-weekday,"d")}function getSetISODayOfWeek(input){return null==input?this.day()||7:this.day(this.day()%7?input:input-7)}function meridiem(token,lowercase){addFormatToken(token,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),lowercase)})}function matchMeridiem(isStrict,locale){return locale._meridiemParse}function localeIsPM(input){return"p"===(input+"").toLowerCase().charAt(0)}function localeMeridiem(hours,minutes,isLower){return hours>11?isLower?"pm":"PM":isLower?"am":"AM"}function parseMs(input,array){array[MILLISECOND]=toInt(1e3*("0."+input))}function getZoneAbbr(){return this._isUTC?"UTC":""}function getZoneName(){return this._isUTC?"Coordinated Universal Time":""}function moment__createUnix(input){return local__createLocal(1e3*input)}function moment__createInZone(){return local__createLocal.apply(null,arguments).parseZone()}function locale_calendar__calendar(key,mom,now){var output=this._calendar[key];return"function"==typeof output?output.call(mom,now):output}function longDateFormat(key){var format=this._longDateFormat[key],formatUpper=this._longDateFormat[key.toUpperCase()];return format||!formatUpper?format:(this._longDateFormat[key]=formatUpper.replace(/MMMM|MM|DD|dddd/g,function(val){return val.slice(1)}),this._longDateFormat[key])}function invalidDate(){return this._invalidDate}function ordinal(number){return this._ordinal.replace("%d",number)}function preParsePostFormat(string){return string}function relative__relativeTime(number,withoutSuffix,string,isFuture){var output=this._relativeTime[string];return"function"==typeof output?output(number,withoutSuffix,string,isFuture):output.replace(/%d/i,number)}function pastFuture(diff,output){var format=this._relativeTime[diff>0?"future":"past"];return"function"==typeof format?format(output):format.replace(/%s/i,output)}function locale_set__set(config){var prop,i;for(i in config)prop=config[i],"function"==typeof prop?this[i]=prop:this["_"+i]=prop;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function lists__get(format,index,field,setter){var locale=locale_locales__getLocale(),utc=create_utc__createUTC().set(setter,index);return locale[field](utc,format)}function list(format,index,field,count,setter){if("number"==typeof format&&(index=format,format=void 0),format=format||"",null!=index)return lists__get(format,index,field,setter);var i,out=[];for(i=0;i<count;i++)out[i]=lists__get(format,i,field,setter);return out}function lists__listMonths(format,index){return list(format,index,"months",12,"month")}function lists__listMonthsShort(format,index){return list(format,index,"monthsShort",12,"month")}function lists__listWeekdays(format,index){return list(format,index,"weekdays",7,"day")}function lists__listWeekdaysShort(format,index){return list(format,index,"weekdaysShort",7,"day")}function lists__listWeekdaysMin(format,index){return list(format,index,"weekdaysMin",7,"day")}function duration_abs__abs(){var data=this._data;return this._milliseconds=mathAbs(this._milliseconds),this._days=mathAbs(this._days),this._months=mathAbs(this._months),data.milliseconds=mathAbs(data.milliseconds),data.seconds=mathAbs(data.seconds),data.minutes=mathAbs(data.minutes),data.hours=mathAbs(data.hours),data.months=mathAbs(data.months),data.years=mathAbs(data.years),this}function duration_add_subtract__addSubtract(duration,input,value,direction){var other=create__createDuration(input,value);return duration._milliseconds+=direction*other._milliseconds,duration._days+=direction*other._days,duration._months+=direction*other._months,duration._bubble()}function duration_add_subtract__add(input,value){return duration_add_subtract__addSubtract(this,input,value,1)}function duration_add_subtract__subtract(input,value){return duration_add_subtract__addSubtract(this,input,value,-1)}function absCeil(number){return number<0?Math.floor(number):Math.ceil(number)}function bubble(){var seconds,minutes,hours,years,monthsFromDays,milliseconds=this._milliseconds,days=this._days,months=this._months,data=this._data;return milliseconds>=0&&days>=0&&months>=0||milliseconds<=0&&days<=0&&months<=0||(milliseconds+=864e5*absCeil(monthsToDays(months)+days),days=0,months=0),data.milliseconds=milliseconds%1e3,seconds=absFloor(milliseconds/1e3),data.seconds=seconds%60,minutes=absFloor(seconds/60),data.minutes=minutes%60,hours=absFloor(minutes/60),data.hours=hours%24,days+=absFloor(hours/24),monthsFromDays=absFloor(daysToMonths(days)),months+=monthsFromDays,days-=absCeil(monthsToDays(monthsFromDays)),years=absFloor(months/12),months%=12,data.days=days,data.months=months,data.years=years,this}function daysToMonths(days){return 4800*days/146097}function monthsToDays(months){return 146097*months/4800}function as(units){var days,months,milliseconds=this._milliseconds;if(units=normalizeUnits(units),"month"===units||"year"===units)return days=this._days+milliseconds/864e5,months=this._months+daysToMonths(days),"month"===units?months:months/12;switch(days=this._days+Math.round(monthsToDays(this._months)),units){case"week":return days/7+milliseconds/6048e5;case"day":return days+milliseconds/864e5;case"hour":return 24*days+milliseconds/36e5;case"minute":return 1440*days+milliseconds/6e4;case"second":return 86400*days+milliseconds/1e3;case"millisecond":return Math.floor(864e5*days)+milliseconds;default:throw new Error("Unknown unit "+units)}}function duration_as__valueOf(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*toInt(this._months/12)}function makeAs(alias){return function(){return this.as(alias)}}function duration_get__get(units){return units=normalizeUnits(units),this[units+"s"]()}function makeGetter(name){return function(){return this._data[name]}}function weeks(){return absFloor(this.days()/7)}function substituteTimeAgo(string,number,withoutSuffix,isFuture,locale){return locale.relativeTime(number||1,!!withoutSuffix,string,isFuture)}function duration_humanize__relativeTime(posNegDuration,withoutSuffix,locale){var duration=create__createDuration(posNegDuration).abs(),seconds=round(duration.as("s")),minutes=round(duration.as("m")),hours=round(duration.as("h")),days=round(duration.as("d")),months=round(duration.as("M")),years=round(duration.as("y")),a=seconds<thresholds.s&&["s",seconds]||1===minutes&&["m"]||minutes<thresholds.m&&["mm",minutes]||1===hours&&["h"]||hours<thresholds.h&&["hh",hours]||1===days&&["d"]||days<thresholds.d&&["dd",days]||1===months&&["M"]||months<thresholds.M&&["MM",months]||1===years&&["y"]||["yy",years];return a[2]=withoutSuffix,a[3]=+posNegDuration>0,a[4]=locale,substituteTimeAgo.apply(null,a)}function duration_humanize__getSetRelativeTimeThreshold(threshold,limit){return void 0!==thresholds[threshold]&&(void 0===limit?thresholds[threshold]:(thresholds[threshold]=limit,!0))}function humanize(withSuffix){var locale=this.localeData(),output=duration_humanize__relativeTime(this,!withSuffix,locale);return withSuffix&&(output=locale.pastFuture(+this,output)),locale.postformat(output)}function iso_string__toISOString(){var minutes,hours,years,seconds=iso_string__abs(this._milliseconds)/1e3,days=iso_string__abs(this._days),months=iso_string__abs(this._months);minutes=absFloor(seconds/60),hours=absFloor(minutes/60),seconds%=60,minutes%=60,years=absFloor(months/12),months%=12;var Y=years,M=months,D=days,h=hours,m=minutes,s=seconds,total=this.asSeconds();return total?(total<0?"-":"")+"P"+(Y?Y+"Y":"")+(M?M+"M":"")+(D?D+"D":"")+(h||m||s?"T":"")+(h?h+"H":"")+(m?m+"M":"")+(s?s+"S":""):"P0D";
}var hookCallback,globalLocale,momentProperties=utils_hooks__hooks.momentProperties=[],updateInProgress=!1,locales={},aliases={},formattingTokens=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,localFormattingTokens=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,formatFunctions={},formatTokenFunctions={},match1=/\d/,match2=/\d\d/,match3=/\d{3}/,match4=/\d{4}/,match6=/[+-]?\d{6}/,match1to2=/\d\d?/,match1to3=/\d{1,3}/,match1to4=/\d{1,4}/,match1to6=/[+-]?\d{1,6}/,matchUnsigned=/\d+/,matchSigned=/[+-]?\d+/,matchOffset=/Z|[+-]\d\d:?\d\d/gi,matchTimestamp=/[+-]?\d+(\.\d{1,3})?/,matchWord=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,regexes={},tokens={},YEAR=0,MONTH=1,DATE=2,HOUR=3,MINUTE=4,SECOND=5,MILLISECOND=6;addFormatToken("M",["MM",2],"Mo",function(){return this.month()+1}),addFormatToken("MMM",0,0,function(format){return this.localeData().monthsShort(this,format)}),addFormatToken("MMMM",0,0,function(format){return this.localeData().months(this,format)}),addUnitAlias("month","M"),addRegexToken("M",match1to2),addRegexToken("MM",match1to2,match2),addRegexToken("MMM",matchWord),addRegexToken("MMMM",matchWord),addParseToken(["M","MM"],function(input,array){array[MONTH]=toInt(input)-1}),addParseToken(["MMM","MMMM"],function(input,array,config,token){var month=config._locale.monthsParse(input,token,config._strict);null!=month?array[MONTH]=month:getParsingFlags(config).invalidMonth=input});var defaultLocaleMonths="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),defaultLocaleMonthsShort="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),deprecations={};utils_hooks__hooks.suppressDeprecationWarnings=!1;var from_string__isoRegex=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,isoDates=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],isoTimes=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],aspNetJsonRegex=/^\/?Date\((\-?\d+)/i;utils_hooks__hooks.createFromInputFallback=deprecate("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(config){config._d=new Date(config._i+(config._useUTC?" UTC":""))}),addFormatToken(0,["YY",2],0,function(){return this.year()%100}),addFormatToken(0,["YYYY",4],0,"year"),addFormatToken(0,["YYYYY",5],0,"year"),addFormatToken(0,["YYYYYY",6,!0],0,"year"),addUnitAlias("year","y"),addRegexToken("Y",matchSigned),addRegexToken("YY",match1to2,match2),addRegexToken("YYYY",match1to4,match4),addRegexToken("YYYYY",match1to6,match6),addRegexToken("YYYYYY",match1to6,match6),addParseToken(["YYYYY","YYYYYY"],YEAR),addParseToken("YYYY",function(input,array){array[YEAR]=2===input.length?utils_hooks__hooks.parseTwoDigitYear(input):toInt(input)}),addParseToken("YY",function(input,array){array[YEAR]=utils_hooks__hooks.parseTwoDigitYear(input)}),utils_hooks__hooks.parseTwoDigitYear=function(input){return toInt(input)+(toInt(input)>68?1900:2e3)};var getSetYear=makeGetSet("FullYear",!1);addFormatToken("w",["ww",2],"wo","week"),addFormatToken("W",["WW",2],"Wo","isoWeek"),addUnitAlias("week","w"),addUnitAlias("isoWeek","W"),addRegexToken("w",match1to2),addRegexToken("ww",match1to2,match2),addRegexToken("W",match1to2),addRegexToken("WW",match1to2,match2),addWeekParseToken(["w","ww","W","WW"],function(input,week,config,token){week[token.substr(0,1)]=toInt(input)});var defaultLocaleWeek={dow:0,doy:6};addFormatToken("DDD",["DDDD",3],"DDDo","dayOfYear"),addUnitAlias("dayOfYear","DDD"),addRegexToken("DDD",match1to3),addRegexToken("DDDD",match3),addParseToken(["DDD","DDDD"],function(input,array,config){config._dayOfYear=toInt(input)}),utils_hooks__hooks.ISO_8601=function(){};var prototypeMin=deprecate("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var other=local__createLocal.apply(null,arguments);return other<this?this:other}),prototypeMax=deprecate("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var other=local__createLocal.apply(null,arguments);return other>this?this:other});offset("Z",":"),offset("ZZ",""),addRegexToken("Z",matchOffset),addRegexToken("ZZ",matchOffset),addParseToken(["Z","ZZ"],function(input,array,config){config._useUTC=!0,config._tzm=offsetFromString(input)});var chunkOffset=/([\+\-]|\d\d)/gi;utils_hooks__hooks.updateOffset=function(){};var aspNetRegex=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,create__isoRegex=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;create__createDuration.fn=Duration.prototype;var add_subtract__add=createAdder(1,"add"),add_subtract__subtract=createAdder(-1,"subtract");utils_hooks__hooks.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";var lang=deprecate("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(key){return void 0===key?this.localeData():this.locale(key)});addFormatToken(0,["gg",2],0,function(){return this.weekYear()%100}),addFormatToken(0,["GG",2],0,function(){return this.isoWeekYear()%100}),addWeekYearFormatToken("gggg","weekYear"),addWeekYearFormatToken("ggggg","weekYear"),addWeekYearFormatToken("GGGG","isoWeekYear"),addWeekYearFormatToken("GGGGG","isoWeekYear"),addUnitAlias("weekYear","gg"),addUnitAlias("isoWeekYear","GG"),addRegexToken("G",matchSigned),addRegexToken("g",matchSigned),addRegexToken("GG",match1to2,match2),addRegexToken("gg",match1to2,match2),addRegexToken("GGGG",match1to4,match4),addRegexToken("gggg",match1to4,match4),addRegexToken("GGGGG",match1to6,match6),addRegexToken("ggggg",match1to6,match6),addWeekParseToken(["gggg","ggggg","GGGG","GGGGG"],function(input,week,config,token){week[token.substr(0,2)]=toInt(input)}),addWeekParseToken(["gg","GG"],function(input,week,config,token){week[token]=utils_hooks__hooks.parseTwoDigitYear(input)}),addFormatToken("Q",0,0,"quarter"),addUnitAlias("quarter","Q"),addRegexToken("Q",match1),addParseToken("Q",function(input,array){array[MONTH]=3*(toInt(input)-1)}),addFormatToken("D",["DD",2],"Do","date"),addUnitAlias("date","D"),addRegexToken("D",match1to2),addRegexToken("DD",match1to2,match2),addRegexToken("Do",function(isStrict,locale){return isStrict?locale._ordinalParse:locale._ordinalParseLenient}),addParseToken(["D","DD"],DATE),addParseToken("Do",function(input,array){array[DATE]=toInt(input.match(match1to2)[0],10)});var getSetDayOfMonth=makeGetSet("Date",!0);addFormatToken("d",0,"do","day"),addFormatToken("dd",0,0,function(format){return this.localeData().weekdaysMin(this,format)}),addFormatToken("ddd",0,0,function(format){return this.localeData().weekdaysShort(this,format)}),addFormatToken("dddd",0,0,function(format){return this.localeData().weekdays(this,format)}),addFormatToken("e",0,0,"weekday"),addFormatToken("E",0,0,"isoWeekday"),addUnitAlias("day","d"),addUnitAlias("weekday","e"),addUnitAlias("isoWeekday","E"),addRegexToken("d",match1to2),addRegexToken("e",match1to2),addRegexToken("E",match1to2),addRegexToken("dd",matchWord),addRegexToken("ddd",matchWord),addRegexToken("dddd",matchWord),addWeekParseToken(["dd","ddd","dddd"],function(input,week,config){var weekday=config._locale.weekdaysParse(input);null!=weekday?week.d=weekday:getParsingFlags(config).invalidWeekday=input}),addWeekParseToken(["d","e","E"],function(input,week,config,token){week[token]=toInt(input)});var defaultLocaleWeekdays="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),defaultLocaleWeekdaysShort="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),defaultLocaleWeekdaysMin="Su_Mo_Tu_We_Th_Fr_Sa".split("_");addFormatToken("H",["HH",2],0,"hour"),addFormatToken("h",["hh",2],0,function(){return this.hours()%12||12}),meridiem("a",!0),meridiem("A",!1),addUnitAlias("hour","h"),addRegexToken("a",matchMeridiem),addRegexToken("A",matchMeridiem),addRegexToken("H",match1to2),addRegexToken("h",match1to2),addRegexToken("HH",match1to2,match2),addRegexToken("hh",match1to2,match2),addParseToken(["H","HH"],HOUR),addParseToken(["a","A"],function(input,array,config){config._isPm=config._locale.isPM(input),config._meridiem=input}),addParseToken(["h","hh"],function(input,array,config){array[HOUR]=toInt(input),getParsingFlags(config).bigHour=!0});var defaultLocaleMeridiemParse=/[ap]\.?m?\.?/i,getSetHour=makeGetSet("Hours",!0);addFormatToken("m",["mm",2],0,"minute"),addUnitAlias("minute","m"),addRegexToken("m",match1to2),addRegexToken("mm",match1to2,match2),addParseToken(["m","mm"],MINUTE);var getSetMinute=makeGetSet("Minutes",!1);addFormatToken("s",["ss",2],0,"second"),addUnitAlias("second","s"),addRegexToken("s",match1to2),addRegexToken("ss",match1to2,match2),addParseToken(["s","ss"],SECOND);var getSetSecond=makeGetSet("Seconds",!1);addFormatToken("S",0,0,function(){return~~(this.millisecond()/100)}),addFormatToken(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),addFormatToken(0,["SSS",3],0,"millisecond"),addFormatToken(0,["SSSS",4],0,function(){return 10*this.millisecond()}),addFormatToken(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),addFormatToken(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),addFormatToken(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),addFormatToken(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),addFormatToken(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),addUnitAlias("millisecond","ms"),addRegexToken("S",match1to3,match1),addRegexToken("SS",match1to3,match2),addRegexToken("SSS",match1to3,match3);var token;for(token="SSSS";token.length<=9;token+="S")addRegexToken(token,matchUnsigned);for(token="S";token.length<=9;token+="S")addParseToken(token,parseMs);var getSetMillisecond=makeGetSet("Milliseconds",!1);addFormatToken("z",0,0,"zoneAbbr"),addFormatToken("zz",0,0,"zoneName");var momentPrototype__proto=Moment.prototype;momentPrototype__proto.add=add_subtract__add,momentPrototype__proto.calendar=moment_calendar__calendar,momentPrototype__proto.clone=clone,momentPrototype__proto.diff=diff,momentPrototype__proto.endOf=endOf,momentPrototype__proto.format=format,momentPrototype__proto.from=from,momentPrototype__proto.fromNow=fromNow,momentPrototype__proto.to=to,momentPrototype__proto.toNow=toNow,momentPrototype__proto.get=getSet,momentPrototype__proto.invalidAt=invalidAt,momentPrototype__proto.isAfter=isAfter,momentPrototype__proto.isBefore=isBefore,momentPrototype__proto.isBetween=isBetween,momentPrototype__proto.isSame=isSame,momentPrototype__proto.isValid=moment_valid__isValid,momentPrototype__proto.lang=lang,momentPrototype__proto.locale=locale,momentPrototype__proto.localeData=localeData,momentPrototype__proto.max=prototypeMax,momentPrototype__proto.min=prototypeMin,momentPrototype__proto.parsingFlags=parsingFlags,momentPrototype__proto.set=getSet,momentPrototype__proto.startOf=startOf,momentPrototype__proto.subtract=add_subtract__subtract,momentPrototype__proto.toArray=toArray,momentPrototype__proto.toObject=toObject,momentPrototype__proto.toDate=toDate,momentPrototype__proto.toISOString=moment_format__toISOString,momentPrototype__proto.toJSON=moment_format__toISOString,momentPrototype__proto.toString=toString,momentPrototype__proto.unix=unix,momentPrototype__proto.valueOf=to_type__valueOf,momentPrototype__proto.year=getSetYear,momentPrototype__proto.isLeapYear=getIsLeapYear,momentPrototype__proto.weekYear=getSetWeekYear,momentPrototype__proto.isoWeekYear=getSetISOWeekYear,momentPrototype__proto.quarter=momentPrototype__proto.quarters=getSetQuarter,momentPrototype__proto.month=getSetMonth,momentPrototype__proto.daysInMonth=getDaysInMonth,momentPrototype__proto.week=momentPrototype__proto.weeks=getSetWeek,momentPrototype__proto.isoWeek=momentPrototype__proto.isoWeeks=getSetISOWeek,momentPrototype__proto.weeksInYear=getWeeksInYear,momentPrototype__proto.isoWeeksInYear=getISOWeeksInYear,momentPrototype__proto.date=getSetDayOfMonth,momentPrototype__proto.day=momentPrototype__proto.days=getSetDayOfWeek,momentPrototype__proto.weekday=getSetLocaleDayOfWeek,momentPrototype__proto.isoWeekday=getSetISODayOfWeek,momentPrototype__proto.dayOfYear=getSetDayOfYear,momentPrototype__proto.hour=momentPrototype__proto.hours=getSetHour,momentPrototype__proto.minute=momentPrototype__proto.minutes=getSetMinute,momentPrototype__proto.second=momentPrototype__proto.seconds=getSetSecond,momentPrototype__proto.millisecond=momentPrototype__proto.milliseconds=getSetMillisecond,momentPrototype__proto.utcOffset=getSetOffset,momentPrototype__proto.utc=setOffsetToUTC,momentPrototype__proto.local=setOffsetToLocal,momentPrototype__proto.parseZone=setOffsetToParsedOffset,momentPrototype__proto.hasAlignedHourOffset=hasAlignedHourOffset,momentPrototype__proto.isDST=isDaylightSavingTime,momentPrototype__proto.isDSTShifted=isDaylightSavingTimeShifted,momentPrototype__proto.isLocal=isLocal,momentPrototype__proto.isUtcOffset=isUtcOffset,momentPrototype__proto.isUtc=isUtc,momentPrototype__proto.isUTC=isUtc,momentPrototype__proto.zoneAbbr=getZoneAbbr,momentPrototype__proto.zoneName=getZoneName,momentPrototype__proto.dates=deprecate("dates accessor is deprecated. Use date instead.",getSetDayOfMonth),momentPrototype__proto.months=deprecate("months accessor is deprecated. Use month instead",getSetMonth),momentPrototype__proto.years=deprecate("years accessor is deprecated. Use year instead",getSetYear),momentPrototype__proto.zone=deprecate("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",getSetZone);var momentPrototype=momentPrototype__proto,defaultCalendar={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},defaultLongDateFormat={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},defaultInvalidDate="Invalid date",defaultOrdinal="%d",defaultOrdinalParse=/\d{1,2}/,defaultRelativeTime={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},prototype__proto=Locale.prototype;prototype__proto._calendar=defaultCalendar,prototype__proto.calendar=locale_calendar__calendar,prototype__proto._longDateFormat=defaultLongDateFormat,prototype__proto.longDateFormat=longDateFormat,prototype__proto._invalidDate=defaultInvalidDate,prototype__proto.invalidDate=invalidDate,prototype__proto._ordinal=defaultOrdinal,prototype__proto.ordinal=ordinal,prototype__proto._ordinalParse=defaultOrdinalParse,prototype__proto.preparse=preParsePostFormat,prototype__proto.postformat=preParsePostFormat,prototype__proto._relativeTime=defaultRelativeTime,prototype__proto.relativeTime=relative__relativeTime,prototype__proto.pastFuture=pastFuture,prototype__proto.set=locale_set__set,prototype__proto.months=localeMonths,prototype__proto._months=defaultLocaleMonths,prototype__proto.monthsShort=localeMonthsShort,prototype__proto._monthsShort=defaultLocaleMonthsShort,prototype__proto.monthsParse=localeMonthsParse,prototype__proto.week=localeWeek,prototype__proto._week=defaultLocaleWeek,prototype__proto.firstDayOfYear=localeFirstDayOfYear,prototype__proto.firstDayOfWeek=localeFirstDayOfWeek,prototype__proto.weekdays=localeWeekdays,prototype__proto._weekdays=defaultLocaleWeekdays,prototype__proto.weekdaysMin=localeWeekdaysMin,prototype__proto._weekdaysMin=defaultLocaleWeekdaysMin,prototype__proto.weekdaysShort=localeWeekdaysShort,prototype__proto._weekdaysShort=defaultLocaleWeekdaysShort,prototype__proto.weekdaysParse=localeWeekdaysParse,prototype__proto.isPM=localeIsPM,prototype__proto._meridiemParse=defaultLocaleMeridiemParse,prototype__proto.meridiem=localeMeridiem,locale_locales__getSetGlobalLocale("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(number){var b=number%10,output=1===toInt(number%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return number+output}}),utils_hooks__hooks.lang=deprecate("moment.lang is deprecated. Use moment.locale instead.",locale_locales__getSetGlobalLocale),utils_hooks__hooks.langData=deprecate("moment.langData is deprecated. Use moment.localeData instead.",locale_locales__getLocale);var mathAbs=Math.abs,asMilliseconds=makeAs("ms"),asSeconds=makeAs("s"),asMinutes=makeAs("m"),asHours=makeAs("h"),asDays=makeAs("d"),asWeeks=makeAs("w"),asMonths=makeAs("M"),asYears=makeAs("y"),milliseconds=makeGetter("milliseconds"),seconds=makeGetter("seconds"),minutes=makeGetter("minutes"),hours=makeGetter("hours"),days=makeGetter("days"),months=makeGetter("months"),years=makeGetter("years"),round=Math.round,thresholds={s:45,m:45,h:22,d:26,M:11},iso_string__abs=Math.abs,duration_prototype__proto=Duration.prototype;duration_prototype__proto.abs=duration_abs__abs,duration_prototype__proto.add=duration_add_subtract__add,duration_prototype__proto.subtract=duration_add_subtract__subtract,duration_prototype__proto.as=as,duration_prototype__proto.asMilliseconds=asMilliseconds,duration_prototype__proto.asSeconds=asSeconds,duration_prototype__proto.asMinutes=asMinutes,duration_prototype__proto.asHours=asHours,duration_prototype__proto.asDays=asDays,duration_prototype__proto.asWeeks=asWeeks,duration_prototype__proto.asMonths=asMonths,duration_prototype__proto.asYears=asYears,duration_prototype__proto.valueOf=duration_as__valueOf,duration_prototype__proto._bubble=bubble,duration_prototype__proto.get=duration_get__get,duration_prototype__proto.milliseconds=milliseconds,duration_prototype__proto.seconds=seconds,duration_prototype__proto.minutes=minutes,duration_prototype__proto.hours=hours,duration_prototype__proto.days=days,duration_prototype__proto.weeks=weeks,duration_prototype__proto.months=months,duration_prototype__proto.years=years,duration_prototype__proto.humanize=humanize,duration_prototype__proto.toISOString=iso_string__toISOString,duration_prototype__proto.toString=iso_string__toISOString,duration_prototype__proto.toJSON=iso_string__toISOString,duration_prototype__proto.locale=locale,duration_prototype__proto.localeData=localeData,duration_prototype__proto.toIsoString=deprecate("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",iso_string__toISOString),duration_prototype__proto.lang=lang,addFormatToken("X",0,0,"unix"),addFormatToken("x",0,0,"valueOf"),addRegexToken("x",matchSigned),addRegexToken("X",matchTimestamp),addParseToken("X",function(input,array,config){config._d=new Date(1e3*parseFloat(input,10))}),addParseToken("x",function(input,array,config){config._d=new Date(toInt(input))}),utils_hooks__hooks.version="2.10.6",setHookCallback(local__createLocal),utils_hooks__hooks.fn=momentPrototype,utils_hooks__hooks.min=min,utils_hooks__hooks.max=max,utils_hooks__hooks.utc=create_utc__createUTC,utils_hooks__hooks.unix=moment__createUnix,utils_hooks__hooks.months=lists__listMonths,utils_hooks__hooks.isDate=isDate,utils_hooks__hooks.locale=locale_locales__getSetGlobalLocale,utils_hooks__hooks.invalid=valid__createInvalid,utils_hooks__hooks.duration=create__createDuration,utils_hooks__hooks.isMoment=isMoment,utils_hooks__hooks.weekdays=lists__listWeekdays,utils_hooks__hooks.parseZone=moment__createInZone,utils_hooks__hooks.localeData=locale_locales__getLocale,utils_hooks__hooks.isDuration=isDuration,utils_hooks__hooks.monthsShort=lists__listMonthsShort,utils_hooks__hooks.weekdaysMin=lists__listWeekdaysMin,utils_hooks__hooks.defineLocale=defineLocale,utils_hooks__hooks.weekdaysShort=lists__listWeekdaysShort,utils_hooks__hooks.normalizeUnits=normalizeUnits,utils_hooks__hooks.relativeTimeThreshold=duration_humanize__getSetRelativeTimeThreshold;var _moment=utils_hooks__hooks;return _moment}),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function($){"use strict";var version=$.fn.jquery.split(" ")[0].split(".");if(version[0]<2&&version[1]<9||1==version[0]&&9==version[1]&&version[2]<1)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher")}(jQuery),+function($){"use strict";function transitionEnd(){var el=document.createElement("bootstrap"),transEndEventNames={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var name in transEndEventNames)if(void 0!==el.style[name])return{end:transEndEventNames[name]};return!1}$.fn.emulateTransitionEnd=function(duration){var called=!1,$el=this;$(this).one("bsTransitionEnd",function(){called=!0});var callback=function(){called||$($el).trigger($.support.transition.end)};return setTimeout(callback,duration),this},$(function(){$.support.transition=transitionEnd(),$.support.transition&&($.event.special.bsTransitionEnd={bindType:$.support.transition.end,delegateType:$.support.transition.end,handle:function(e){if($(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}})})}(jQuery),+function($){"use strict";function Plugin(option){return this.each(function(){var $this=$(this),data=$this.data("bs.alert");data||$this.data("bs.alert",data=new Alert(this)),"string"==typeof option&&data[option].call($this)})}var dismiss='[data-dismiss="alert"]',Alert=function(el){$(el).on("click",dismiss,this.close)};Alert.VERSION="3.3.4",Alert.TRANSITION_DURATION=150,Alert.prototype.close=function(e){function removeElement(){$parent.detach().trigger("closed.bs.alert").remove()}var $this=$(this),selector=$this.attr("data-target");selector||(selector=$this.attr("href"),selector=selector&&selector.replace(/.*(?=#[^\s]*$)/,""));var $parent=$(selector);e&&e.preventDefault(),$parent.length||($parent=$this.closest(".alert")),$parent.trigger(e=$.Event("close.bs.alert")),e.isDefaultPrevented()||($parent.removeClass("in"),$.support.transition&&$parent.hasClass("fade")?$parent.one("bsTransitionEnd",removeElement).emulateTransitionEnd(Alert.TRANSITION_DURATION):removeElement())};var old=$.fn.alert;$.fn.alert=Plugin,$.fn.alert.Constructor=Alert,$.fn.alert.noConflict=function(){return $.fn.alert=old,this},$(document).on("click.bs.alert.data-api",dismiss,Alert.prototype.close)}(jQuery),+function($){"use strict";function Plugin(option){return this.each(function(){var $this=$(this),data=$this.data("bs.button"),options="object"==typeof option&&option;data||$this.data("bs.button",data=new Button(this,options)),"toggle"==option?data.toggle():option&&data.setState(option)})}var Button=function(element,options){this.$element=$(element),this.options=$.extend({},Button.DEFAULTS,options),this.isLoading=!1};Button.VERSION="3.3.4",Button.DEFAULTS={loadingText:"loading..."},Button.prototype.setState=function(state){var d="disabled",$el=this.$element,val=$el.is("input")?"val":"html",data=$el.data();state+="Text",null==data.resetText&&$el.data("resetText",$el[val]()),setTimeout($.proxy(function(){$el[val](null==data[state]?this.options[state]:data[state]),"loadingText"==state?(this.isLoading=!0,$el.addClass(d).attr(d,d)):this.isLoading&&(this.isLoading=!1,$el.removeClass(d).removeAttr(d))},this),0)},Button.prototype.toggle=function(){var changed=!0,$parent=this.$element.closest('[data-toggle="buttons"]');if($parent.length){var $input=this.$element.find("input");"radio"==$input.prop("type")&&($input.prop("checked")&&this.$element.hasClass("active")?changed=!1:$parent.find(".active").removeClass("active")),changed&&$input.prop("checked",!this.$element.hasClass("active")).trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active"));changed&&this.$element.toggleClass("active")};var old=$.fn.button;$.fn.button=Plugin,$.fn.button.Constructor=Button,$.fn.button.noConflict=function(){return $.fn.button=old,this},$(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(e){var $btn=$(e.target);$btn.hasClass("btn")||($btn=$btn.closest(".btn")),Plugin.call($btn,"toggle"),e.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(e){$(e.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(e.type))})}(jQuery),+function($){"use strict";function Plugin(option){return this.each(function(){var $this=$(this),data=$this.data("bs.carousel"),options=$.extend({},Carousel.DEFAULTS,$this.data(),"object"==typeof option&&option),action="string"==typeof option?option:options.slide;data||$this.data("bs.carousel",data=new Carousel(this,options)),"number"==typeof option?data.to(option):action?data[action]():options.interval&&data.pause().cycle()})}var Carousel=function(element,options){this.$element=$(element),this.$indicators=this.$element.find(".carousel-indicators"),this.options=options,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",$.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",$.proxy(this.pause,this)).on("mouseleave.bs.carousel",$.proxy(this.cycle,this))};Carousel.VERSION="3.3.4",Carousel.TRANSITION_DURATION=600,Carousel.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},Carousel.prototype.keydown=function(e){if(!/input|textarea/i.test(e.target.tagName)){switch(e.which){case 37:this.prev();break;case 39:this.next();break;default:return}e.preventDefault()}},Carousel.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval($.proxy(this.next,this),this.options.interval)),this},Carousel.prototype.getItemIndex=function(item){return this.$items=item.parent().children(".item"),this.$items.index(item||this.$active)},Carousel.prototype.getItemForDirection=function(direction,active){var activeIndex=this.getItemIndex(active),willWrap="prev"==direction&&0===activeIndex||"next"==direction&&activeIndex==this.$items.length-1;if(willWrap&&!this.options.wrap)return active;var delta="prev"==direction?-1:1,itemIndex=(activeIndex+delta)%this.$items.length;return this.$items.eq(itemIndex)},Carousel.prototype.to=function(pos){var that=this,activeIndex=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(pos>this.$items.length-1||pos<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){that.to(pos)}):activeIndex==pos?this.pause().cycle():this.slide(pos>activeIndex?"next":"prev",this.$items.eq(pos))},Carousel.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&$.support.transition&&(this.$element.trigger($.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},Carousel.prototype.next=function(){if(!this.sliding)return this.slide("next")},Carousel.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},Carousel.prototype.slide=function(type,next){var $active=this.$element.find(".item.active"),$next=next||this.getItemForDirection(type,$active),isCycling=this.interval,direction="next"==type?"left":"right",that=this;if($next.hasClass("active"))return this.sliding=!1;var relatedTarget=$next[0],slideEvent=$.Event("slide.bs.carousel",{relatedTarget:relatedTarget,direction:direction});if(this.$element.trigger(slideEvent),!slideEvent.isDefaultPrevented()){if(this.sliding=!0,isCycling&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var $nextIndicator=$(this.$indicators.children()[this.getItemIndex($next)]);$nextIndicator&&$nextIndicator.addClass("active")}var slidEvent=$.Event("slid.bs.carousel",{relatedTarget:relatedTarget,direction:direction});return $.support.transition&&this.$element.hasClass("slide")?($next.addClass(type),$next[0].offsetWidth,$active.addClass(direction),$next.addClass(direction),$active.one("bsTransitionEnd",function(){$next.removeClass([type,direction].join(" ")).addClass("active"),$active.removeClass(["active",direction].join(" ")),that.sliding=!1,setTimeout(function(){that.$element.trigger(slidEvent)},0)}).emulateTransitionEnd(Carousel.TRANSITION_DURATION)):($active.removeClass("active"),$next.addClass("active"),this.sliding=!1,this.$element.trigger(slidEvent)),isCycling&&this.cycle(),this}};var old=$.fn.carousel;$.fn.carousel=Plugin,$.fn.carousel.Constructor=Carousel,$.fn.carousel.noConflict=function(){return $.fn.carousel=old,this};var clickHandler=function(e){var href,$this=$(this),$target=$($this.attr("data-target")||(href=$this.attr("href"))&&href.replace(/.*(?=#[^\s]+$)/,""));if($target.hasClass("carousel")){var options=$.extend({},$target.data(),$this.data()),slideIndex=$this.attr("data-slide-to");slideIndex&&(options.interval=!1),Plugin.call($target,options),slideIndex&&$target.data("bs.carousel").to(slideIndex),e.preventDefault()}};$(document).on("click.bs.carousel.data-api","[data-slide]",clickHandler).on("click.bs.carousel.data-api","[data-slide-to]",clickHandler),$(window).on("load",function(){$('[data-ride="carousel"]').each(function(){var $carousel=$(this);Plugin.call($carousel,$carousel.data())})})}(jQuery),+function($){"use strict";function getTargetFromTrigger($trigger){var href,target=$trigger.attr("data-target")||(href=$trigger.attr("href"))&&href.replace(/.*(?=#[^\s]+$)/,"");return $(target)}function Plugin(option){return this.each(function(){var $this=$(this),data=$this.data("bs.collapse"),options=$.extend({},Collapse.DEFAULTS,$this.data(),"object"==typeof option&&option);!data&&options.toggle&&/show|hide/.test(option)&&(options.toggle=!1),data||$this.data("bs.collapse",data=new Collapse(this,options)),"string"==typeof option&&data[option]()})}var Collapse=function(element,options){this.$element=$(element),this.options=$.extend({},Collapse.DEFAULTS,options),this.$trigger=$('[data-toggle="collapse"][href="#'+element.id+'"],[data-toggle="collapse"][data-target="#'+element.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};Collapse.VERSION="3.3.4",Collapse.TRANSITION_DURATION=350,Collapse.DEFAULTS={toggle:!0},Collapse.prototype.dimension=function(){var hasWidth=this.$element.hasClass("width");return hasWidth?"width":"height"},Collapse.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var activesData,actives=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(actives&&actives.length&&(activesData=actives.data("bs.collapse"),activesData&&activesData.transitioning))){var startEvent=$.Event("show.bs.collapse");if(this.$element.trigger(startEvent),!startEvent.isDefaultPrevented()){actives&&actives.length&&(Plugin.call(actives,"hide"),activesData||actives.data("bs.collapse",null));var dimension=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[dimension](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var complete=function(){this.$element.removeClass("collapsing").addClass("collapse in")[dimension](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!$.support.transition)return complete.call(this);var scrollSize=$.camelCase(["scroll",dimension].join("-"));this.$element.one("bsTransitionEnd",$.proxy(complete,this)).emulateTransitionEnd(Collapse.TRANSITION_DURATION)[dimension](this.$element[0][scrollSize])}}}},Collapse.prototype.hide=function(){
if(!this.transitioning&&this.$element.hasClass("in")){var startEvent=$.Event("hide.bs.collapse");if(this.$element.trigger(startEvent),!startEvent.isDefaultPrevented()){var dimension=this.dimension();this.$element[dimension](this.$element[dimension]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var complete=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return $.support.transition?void this.$element[dimension](0).one("bsTransitionEnd",$.proxy(complete,this)).emulateTransitionEnd(Collapse.TRANSITION_DURATION):complete.call(this)}}},Collapse.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},Collapse.prototype.getParent=function(){return $(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each($.proxy(function(i,element){var $element=$(element);this.addAriaAndCollapsedClass(getTargetFromTrigger($element),$element)},this)).end()},Collapse.prototype.addAriaAndCollapsedClass=function($element,$trigger){var isOpen=$element.hasClass("in");$element.attr("aria-expanded",isOpen),$trigger.toggleClass("collapsed",!isOpen).attr("aria-expanded",isOpen)};var old=$.fn.collapse;$.fn.collapse=Plugin,$.fn.collapse.Constructor=Collapse,$.fn.collapse.noConflict=function(){return $.fn.collapse=old,this},$(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(e){var $this=$(this);$this.attr("data-target")||e.preventDefault();var $target=getTargetFromTrigger($this),data=$target.data("bs.collapse"),option=data?"toggle":$this.data();Plugin.call($target,option)})}(jQuery),+function($){"use strict";function clearMenus(e){e&&3===e.which||($(backdrop).remove(),$(toggle).each(function(){var $this=$(this),$parent=getParent($this),relatedTarget={relatedTarget:this};$parent.hasClass("open")&&($parent.trigger(e=$.Event("hide.bs.dropdown",relatedTarget)),e.isDefaultPrevented()||($this.attr("aria-expanded","false"),$parent.removeClass("open").trigger("hidden.bs.dropdown",relatedTarget)))}))}function getParent($this){var selector=$this.attr("data-target");selector||(selector=$this.attr("href"),selector=selector&&/#[A-Za-z]/.test(selector)&&selector.replace(/.*(?=#[^\s]*$)/,""));var $parent=selector&&$(selector);return $parent&&$parent.length?$parent:$this.parent()}function Plugin(option){return this.each(function(){var $this=$(this),data=$this.data("bs.dropdown");data||$this.data("bs.dropdown",data=new Dropdown(this)),"string"==typeof option&&data[option].call($this)})}var backdrop=".dropdown-backdrop",toggle='[data-toggle="dropdown"]',Dropdown=function(element){$(element).on("click.bs.dropdown",this.toggle)};Dropdown.VERSION="3.3.4",Dropdown.prototype.toggle=function(e){var $this=$(this);if(!$this.is(".disabled, :disabled")){var $parent=getParent($this),isActive=$parent.hasClass("open");if(clearMenus(),!isActive){"ontouchstart"in document.documentElement&&!$parent.closest(".navbar-nav").length&&$('<div class="dropdown-backdrop"/>').insertAfter($(this)).on("click",clearMenus);var relatedTarget={relatedTarget:this};if($parent.trigger(e=$.Event("show.bs.dropdown",relatedTarget)),e.isDefaultPrevented())return;$this.trigger("focus").attr("aria-expanded","true"),$parent.toggleClass("open").trigger("shown.bs.dropdown",relatedTarget)}return!1}},Dropdown.prototype.keydown=function(e){if(/(38|40|27|32)/.test(e.which)&&!/input|textarea/i.test(e.target.tagName)){var $this=$(this);if(e.preventDefault(),e.stopPropagation(),!$this.is(".disabled, :disabled")){var $parent=getParent($this),isActive=$parent.hasClass("open");if(!isActive&&27!=e.which||isActive&&27==e.which)return 27==e.which&&$parent.find(toggle).trigger("focus"),$this.trigger("click");var desc=" li:not(.disabled):visible a",$items=$parent.find('[role="menu"]'+desc+', [role="listbox"]'+desc);if($items.length){var index=$items.index(e.target);38==e.which&&index>0&&index--,40==e.which&&index<$items.length-1&&index++,~index||(index=0),$items.eq(index).trigger("focus")}}}};var old=$.fn.dropdown;$.fn.dropdown=Plugin,$.fn.dropdown.Constructor=Dropdown,$.fn.dropdown.noConflict=function(){return $.fn.dropdown=old,this},$(document).on("click.bs.dropdown.data-api",clearMenus).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",toggle,Dropdown.prototype.toggle).on("keydown.bs.dropdown.data-api",toggle,Dropdown.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="menu"]',Dropdown.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="listbox"]',Dropdown.prototype.keydown)}(jQuery),+function($){"use strict";function Plugin(option,_relatedTarget){return this.each(function(){var $this=$(this),data=$this.data("bs.modal"),options=$.extend({},Modal.DEFAULTS,$this.data(),"object"==typeof option&&option);data||$this.data("bs.modal",data=new Modal(this,options)),"string"==typeof option?data[option](_relatedTarget):options.show&&data.show(_relatedTarget)})}var Modal=function(element,options){this.options=options,this.$body=$(document.body),this.$element=$(element),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,$.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};Modal.VERSION="3.3.4",Modal.TRANSITION_DURATION=300,Modal.BACKDROP_TRANSITION_DURATION=150,Modal.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},Modal.prototype.toggle=function(_relatedTarget){return this.isShown?this.hide():this.show(_relatedTarget)},Modal.prototype.show=function(_relatedTarget){var that=this,e=$.Event("show.bs.modal",{relatedTarget:_relatedTarget});this.$element.trigger(e),this.isShown||e.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',$.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){that.$element.one("mouseup.dismiss.bs.modal",function(e){$(e.target).is(that.$element)&&(that.ignoreBackdropClick=!0)})}),this.backdrop(function(){var transition=$.support.transition&&that.$element.hasClass("fade");that.$element.parent().length||that.$element.appendTo(that.$body),that.$element.show().scrollTop(0),that.adjustDialog(),transition&&that.$element[0].offsetWidth,that.$element.addClass("in").attr("aria-hidden",!1),that.enforceFocus();var e=$.Event("shown.bs.modal",{relatedTarget:_relatedTarget});transition?that.$dialog.one("bsTransitionEnd",function(){that.$element.trigger("focus").trigger(e)}).emulateTransitionEnd(Modal.TRANSITION_DURATION):that.$element.trigger("focus").trigger(e)}))},Modal.prototype.hide=function(e){e&&e.preventDefault(),e=$.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),$(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),$.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",$.proxy(this.hideModal,this)).emulateTransitionEnd(Modal.TRANSITION_DURATION):this.hideModal())},Modal.prototype.enforceFocus=function(){$(document).off("focusin.bs.modal").on("focusin.bs.modal",$.proxy(function(e){this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.trigger("focus")},this))},Modal.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",$.proxy(function(e){27==e.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},Modal.prototype.resize=function(){this.isShown?$(window).on("resize.bs.modal",$.proxy(this.handleUpdate,this)):$(window).off("resize.bs.modal")},Modal.prototype.hideModal=function(){var that=this;this.$element.hide(),this.backdrop(function(){that.$body.removeClass("modal-open"),that.resetAdjustments(),that.resetScrollbar(),that.$element.trigger("hidden.bs.modal")})},Modal.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},Modal.prototype.backdrop=function(callback){var that=this,animate=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var doAnimate=$.support.transition&&animate;if(this.$backdrop=$('<div class="modal-backdrop '+animate+'" />').appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",$.proxy(function(e){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),doAnimate&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!callback)return;doAnimate?this.$backdrop.one("bsTransitionEnd",callback).emulateTransitionEnd(Modal.BACKDROP_TRANSITION_DURATION):callback()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var callbackRemove=function(){that.removeBackdrop(),callback&&callback()};$.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",callbackRemove).emulateTransitionEnd(Modal.BACKDROP_TRANSITION_DURATION):callbackRemove()}else callback&&callback()},Modal.prototype.handleUpdate=function(){this.adjustDialog()},Modal.prototype.adjustDialog=function(){var modalIsOverflowing=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&modalIsOverflowing?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!modalIsOverflowing?this.scrollbarWidth:""})},Modal.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},Modal.prototype.checkScrollbar=function(){var fullWindowWidth=window.innerWidth;if(!fullWindowWidth){var documentElementRect=document.documentElement.getBoundingClientRect();fullWindowWidth=documentElementRect.right-Math.abs(documentElementRect.left)}this.bodyIsOverflowing=document.body.clientWidth<fullWindowWidth,this.scrollbarWidth=this.measureScrollbar()},Modal.prototype.setScrollbar=function(){var bodyPad=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",bodyPad+this.scrollbarWidth)},Modal.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},Modal.prototype.measureScrollbar=function(){var scrollDiv=document.createElement("div");scrollDiv.className="modal-scrollbar-measure",this.$body.append(scrollDiv);var scrollbarWidth=scrollDiv.offsetWidth-scrollDiv.clientWidth;return this.$body[0].removeChild(scrollDiv),scrollbarWidth};var old=$.fn.modal;$.fn.modal=Plugin,$.fn.modal.Constructor=Modal,$.fn.modal.noConflict=function(){return $.fn.modal=old,this},$(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(e){var $this=$(this),href=$this.attr("href"),$target=$($this.attr("data-target")||href&&href.replace(/.*(?=#[^\s]+$)/,"")),option=$target.data("bs.modal")?"toggle":$.extend({remote:!/#/.test(href)&&href},$target.data(),$this.data());$this.is("a")&&e.preventDefault(),$target.one("show.bs.modal",function(showEvent){showEvent.isDefaultPrevented()||$target.one("hidden.bs.modal",function(){$this.is(":visible")&&$this.trigger("focus")})}),Plugin.call($target,option,this)})}(jQuery),+function($){"use strict";function Plugin(option){return this.each(function(){var $this=$(this),data=$this.data("bs.tooltip"),options="object"==typeof option&&option;!data&&/destroy|hide/.test(option)||(data||$this.data("bs.tooltip",data=new Tooltip(this,options)),"string"==typeof option&&data[option]())})}var Tooltip=function(element,options){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.init("tooltip",element,options)};Tooltip.VERSION="3.3.4",Tooltip.TRANSITION_DURATION=150,Tooltip.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},Tooltip.prototype.init=function(type,element,options){if(this.enabled=!0,this.type=type,this.$element=$(element),this.options=this.getOptions(options),this.$viewport=this.options.viewport&&$(this.options.viewport.selector||this.options.viewport),this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var triggers=this.options.trigger.split(" "),i=triggers.length;i--;){var trigger=triggers[i];if("click"==trigger)this.$element.on("click."+this.type,this.options.selector,$.proxy(this.toggle,this));else if("manual"!=trigger){var eventIn="hover"==trigger?"mouseenter":"focusin",eventOut="hover"==trigger?"mouseleave":"focusout";this.$element.on(eventIn+"."+this.type,this.options.selector,$.proxy(this.enter,this)),this.$element.on(eventOut+"."+this.type,this.options.selector,$.proxy(this.leave,this))}}this.options.selector?this._options=$.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},Tooltip.prototype.getDefaults=function(){return Tooltip.DEFAULTS},Tooltip.prototype.getOptions=function(options){return options=$.extend({},this.getDefaults(),this.$element.data(),options),options.delay&&"number"==typeof options.delay&&(options.delay={show:options.delay,hide:options.delay}),options},Tooltip.prototype.getDelegateOptions=function(){var options={},defaults=this.getDefaults();return this._options&&$.each(this._options,function(key,value){defaults[key]!=value&&(options[key]=value)}),options},Tooltip.prototype.enter=function(obj){var self=obj instanceof this.constructor?obj:$(obj.currentTarget).data("bs."+this.type);return self&&self.$tip&&self.$tip.is(":visible")?void(self.hoverState="in"):(self||(self=new this.constructor(obj.currentTarget,this.getDelegateOptions()),$(obj.currentTarget).data("bs."+this.type,self)),clearTimeout(self.timeout),self.hoverState="in",self.options.delay&&self.options.delay.show?void(self.timeout=setTimeout(function(){"in"==self.hoverState&&self.show()},self.options.delay.show)):self.show())},Tooltip.prototype.leave=function(obj){var self=obj instanceof this.constructor?obj:$(obj.currentTarget).data("bs."+this.type);return self||(self=new this.constructor(obj.currentTarget,this.getDelegateOptions()),$(obj.currentTarget).data("bs."+this.type,self)),clearTimeout(self.timeout),self.hoverState="out",self.options.delay&&self.options.delay.hide?void(self.timeout=setTimeout(function(){"out"==self.hoverState&&self.hide()},self.options.delay.hide)):self.hide()},Tooltip.prototype.show=function(){var e=$.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(e);var inDom=$.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(e.isDefaultPrevented()||!inDom)return;var that=this,$tip=this.tip(),tipId=this.getUID(this.type);this.setContent(),$tip.attr("id",tipId),this.$element.attr("aria-describedby",tipId),this.options.animation&&$tip.addClass("fade");var placement="function"==typeof this.options.placement?this.options.placement.call(this,$tip[0],this.$element[0]):this.options.placement,autoToken=/\s?auto?\s?/i,autoPlace=autoToken.test(placement);autoPlace&&(placement=placement.replace(autoToken,"")||"top"),$tip.detach().css({top:0,left:0,display:"block"}).addClass(placement).data("bs."+this.type,this),this.options.container?$tip.appendTo(this.options.container):$tip.insertAfter(this.$element);var pos=this.getPosition(),actualWidth=$tip[0].offsetWidth,actualHeight=$tip[0].offsetHeight;if(autoPlace){var orgPlacement=placement,$container=this.options.container?$(this.options.container):this.$element.parent(),containerDim=this.getPosition($container);placement="bottom"==placement&&pos.bottom+actualHeight>containerDim.bottom?"top":"top"==placement&&pos.top-actualHeight<containerDim.top?"bottom":"right"==placement&&pos.right+actualWidth>containerDim.width?"left":"left"==placement&&pos.left-actualWidth<containerDim.left?"right":placement,$tip.removeClass(orgPlacement).addClass(placement)}var calculatedOffset=this.getCalculatedOffset(placement,pos,actualWidth,actualHeight);this.applyPlacement(calculatedOffset,placement);var complete=function(){var prevHoverState=that.hoverState;that.$element.trigger("shown.bs."+that.type),that.hoverState=null,"out"==prevHoverState&&that.leave(that)};$.support.transition&&this.$tip.hasClass("fade")?$tip.one("bsTransitionEnd",complete).emulateTransitionEnd(Tooltip.TRANSITION_DURATION):complete()}},Tooltip.prototype.applyPlacement=function(offset,placement){var $tip=this.tip(),width=$tip[0].offsetWidth,height=$tip[0].offsetHeight,marginTop=parseInt($tip.css("margin-top"),10),marginLeft=parseInt($tip.css("margin-left"),10);isNaN(marginTop)&&(marginTop=0),isNaN(marginLeft)&&(marginLeft=0),offset.top=offset.top+marginTop,offset.left=offset.left+marginLeft,$.offset.setOffset($tip[0],$.extend({using:function(props){$tip.css({top:Math.round(props.top),left:Math.round(props.left)})}},offset),0),$tip.addClass("in");var actualWidth=$tip[0].offsetWidth,actualHeight=$tip[0].offsetHeight;"top"==placement&&actualHeight!=height&&(offset.top=offset.top+height-actualHeight);var delta=this.getViewportAdjustedDelta(placement,offset,actualWidth,actualHeight);delta.left?offset.left+=delta.left:offset.top+=delta.top;var isVertical=/top|bottom/.test(placement),arrowDelta=isVertical?2*delta.left-width+actualWidth:2*delta.top-height+actualHeight,arrowOffsetPosition=isVertical?"offsetWidth":"offsetHeight";$tip.offset(offset),this.replaceArrow(arrowDelta,$tip[0][arrowOffsetPosition],isVertical)},Tooltip.prototype.replaceArrow=function(delta,dimension,isVertical){this.arrow().css(isVertical?"left":"top",50*(1-delta/dimension)+"%").css(isVertical?"top":"left","")},Tooltip.prototype.setContent=function(){var $tip=this.tip(),title=this.getTitle();$tip.find(".tooltip-inner")[this.options.html?"html":"text"](title),$tip.removeClass("fade in top bottom left right")},Tooltip.prototype.hide=function(callback){function complete(){"in"!=that.hoverState&&$tip.detach(),that.$element.removeAttr("aria-describedby").trigger("hidden.bs."+that.type),callback&&callback()}var that=this,$tip=$(this.$tip),e=$.Event("hide.bs."+this.type);if(this.$element.trigger(e),!e.isDefaultPrevented())return $tip.removeClass("in"),$.support.transition&&$tip.hasClass("fade")?$tip.one("bsTransitionEnd",complete).emulateTransitionEnd(Tooltip.TRANSITION_DURATION):complete(),this.hoverState=null,this},Tooltip.prototype.fixTitle=function(){var $e=this.$element;($e.attr("title")||"string"!=typeof $e.attr("data-original-title"))&&$e.attr("data-original-title",$e.attr("title")||"").attr("title","")},Tooltip.prototype.hasContent=function(){return this.getTitle()},Tooltip.prototype.getPosition=function($element){$element=$element||this.$element;var el=$element[0],isBody="BODY"==el.tagName,elRect=el.getBoundingClientRect();null==elRect.width&&(elRect=$.extend({},elRect,{width:elRect.right-elRect.left,height:elRect.bottom-elRect.top}));var elOffset=isBody?{top:0,left:0}:$element.offset(),scroll={scroll:isBody?document.documentElement.scrollTop||document.body.scrollTop:$element.scrollTop()},outerDims=isBody?{width:$(window).width(),height:$(window).height()}:null;return $.extend({},elRect,scroll,outerDims,elOffset)},Tooltip.prototype.getCalculatedOffset=function(placement,pos,actualWidth,actualHeight){return"bottom"==placement?{top:pos.top+pos.height,left:pos.left+pos.width/2-actualWidth/2}:"top"==placement?{top:pos.top-actualHeight,left:pos.left+pos.width/2-actualWidth/2}:"left"==placement?{top:pos.top+pos.height/2-actualHeight/2,left:pos.left-actualWidth}:{top:pos.top+pos.height/2-actualHeight/2,left:pos.left+pos.width}},Tooltip.prototype.getViewportAdjustedDelta=function(placement,pos,actualWidth,actualHeight){var delta={top:0,left:0};if(!this.$viewport)return delta;var viewportPadding=this.options.viewport&&this.options.viewport.padding||0,viewportDimensions=this.getPosition(this.$viewport);if(/right|left/.test(placement)){var topEdgeOffset=pos.top-viewportPadding-viewportDimensions.scroll,bottomEdgeOffset=pos.top+viewportPadding-viewportDimensions.scroll+actualHeight;topEdgeOffset<viewportDimensions.top?delta.top=viewportDimensions.top-topEdgeOffset:bottomEdgeOffset>viewportDimensions.top+viewportDimensions.height&&(delta.top=viewportDimensions.top+viewportDimensions.height-bottomEdgeOffset)}else{var leftEdgeOffset=pos.left-viewportPadding,rightEdgeOffset=pos.left+viewportPadding+actualWidth;leftEdgeOffset<viewportDimensions.left?delta.left=viewportDimensions.left-leftEdgeOffset:rightEdgeOffset>viewportDimensions.width&&(delta.left=viewportDimensions.left+viewportDimensions.width-rightEdgeOffset)}return delta},Tooltip.prototype.getTitle=function(){var title,$e=this.$element,o=this.options;return title=$e.attr("data-original-title")||("function"==typeof o.title?o.title.call($e[0]):o.title)},Tooltip.prototype.getUID=function(prefix){do prefix+=~~(1e6*Math.random());while(document.getElementById(prefix));return prefix},Tooltip.prototype.tip=function(){return this.$tip=this.$tip||$(this.options.template)},Tooltip.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},Tooltip.prototype.enable=function(){this.enabled=!0},Tooltip.prototype.disable=function(){this.enabled=!1},Tooltip.prototype.toggleEnabled=function(){this.enabled=!this.enabled},Tooltip.prototype.toggle=function(e){var self=this;e&&(self=$(e.currentTarget).data("bs."+this.type),self||(self=new this.constructor(e.currentTarget,this.getDelegateOptions()),$(e.currentTarget).data("bs."+this.type,self))),self.tip().hasClass("in")?self.leave(self):self.enter(self)},Tooltip.prototype.destroy=function(){var that=this;clearTimeout(this.timeout),this.hide(function(){that.$element.off("."+that.type).removeData("bs."+that.type)})};var old=$.fn.tooltip;$.fn.tooltip=Plugin,$.fn.tooltip.Constructor=Tooltip,$.fn.tooltip.noConflict=function(){return $.fn.tooltip=old,this}}(jQuery),+function($){"use strict";function Plugin(option){return this.each(function(){var $this=$(this),data=$this.data("bs.popover"),options="object"==typeof option&&option;!data&&/destroy|hide/.test(option)||(data||$this.data("bs.popover",data=new Popover(this,options)),"string"==typeof option&&data[option]())})}var Popover=function(element,options){this.init("popover",element,options)};if(!$.fn.tooltip)throw new Error("Popover requires tooltip.js");Popover.VERSION="3.3.4",Popover.DEFAULTS=$.extend({},$.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),Popover.prototype=$.extend({},$.fn.tooltip.Constructor.prototype),Popover.prototype.constructor=Popover,Popover.prototype.getDefaults=function(){return Popover.DEFAULTS},Popover.prototype.setContent=function(){var $tip=this.tip(),title=this.getTitle(),content=this.getContent();$tip.find(".popover-title")[this.options.html?"html":"text"](title),$tip.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof content?"html":"append":"text"](content),$tip.removeClass("fade top bottom left right in"),$tip.find(".popover-title").html()||$tip.find(".popover-title").hide()},Popover.prototype.hasContent=function(){return this.getTitle()||this.getContent()},Popover.prototype.getContent=function(){var $e=this.$element,o=this.options;return $e.attr("data-content")||("function"==typeof o.content?o.content.call($e[0]):o.content)},Popover.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var old=$.fn.popover;$.fn.popover=Plugin,$.fn.popover.Constructor=Popover,$.fn.popover.noConflict=function(){return $.fn.popover=old,this}}(jQuery),+function($){"use strict";function ScrollSpy(element,options){this.$body=$(document.body),this.$scrollElement=$($(element).is(document.body)?window:element),this.options=$.extend({},ScrollSpy.DEFAULTS,options),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",$.proxy(this.process,this)),this.refresh(),this.process()}function Plugin(option){return this.each(function(){var $this=$(this),data=$this.data("bs.scrollspy"),options="object"==typeof option&&option;data||$this.data("bs.scrollspy",data=new ScrollSpy(this,options)),"string"==typeof option&&data[option]()})}ScrollSpy.VERSION="3.3.4",ScrollSpy.DEFAULTS={offset:10},ScrollSpy.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},ScrollSpy.prototype.refresh=function(){var that=this,offsetMethod="offset",offsetBase=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),$.isWindow(this.$scrollElement[0])||(offsetMethod="position",offsetBase=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var $el=$(this),href=$el.data("target")||$el.attr("href"),$href=/^#./.test(href)&&$(href);return $href&&$href.length&&$href.is(":visible")&&[[$href[offsetMethod]().top+offsetBase,href]]||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){that.offsets.push(this[0]),that.targets.push(this[1])})},ScrollSpy.prototype.process=function(){var i,scrollTop=this.$scrollElement.scrollTop()+this.options.offset,scrollHeight=this.getScrollHeight(),maxScroll=this.options.offset+scrollHeight-this.$scrollElement.height(),offsets=this.offsets,targets=this.targets,activeTarget=this.activeTarget;if(this.scrollHeight!=scrollHeight&&this.refresh(),scrollTop>=maxScroll)return activeTarget!=(i=targets[targets.length-1])&&this.activate(i);if(activeTarget&&scrollTop<offsets[0])return this.activeTarget=null,this.clear();for(i=offsets.length;i--;)activeTarget!=targets[i]&&scrollTop>=offsets[i]&&(void 0===offsets[i+1]||scrollTop<offsets[i+1])&&this.activate(targets[i])},ScrollSpy.prototype.activate=function(target){this.activeTarget=target,this.clear();var selector=this.selector+'[data-target="'+target+'"],'+this.selector+'[href="'+target+'"]',active=$(selector).parents("li").addClass("active");active.parent(".dropdown-menu").length&&(active=active.closest("li.dropdown").addClass("active")),active.trigger("activate.bs.scrollspy")},ScrollSpy.prototype.clear=function(){$(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var old=$.fn.scrollspy;$.fn.scrollspy=Plugin,$.fn.scrollspy.Constructor=ScrollSpy,$.fn.scrollspy.noConflict=function(){return $.fn.scrollspy=old,this},$(window).on("load.bs.scrollspy.data-api",function(){$('[data-spy="scroll"]').each(function(){var $spy=$(this);Plugin.call($spy,$spy.data())})})}(jQuery),+function($){"use strict";function Plugin(option){return this.each(function(){var $this=$(this),data=$this.data("bs.tab");data||$this.data("bs.tab",data=new Tab(this)),"string"==typeof option&&data[option]()})}var Tab=function(element){this.element=$(element)};Tab.VERSION="3.3.4",Tab.TRANSITION_DURATION=150,Tab.prototype.show=function(){var $this=this.element,$ul=$this.closest("ul:not(.dropdown-menu)"),selector=$this.data("target");if(selector||(selector=$this.attr("href"),selector=selector&&selector.replace(/.*(?=#[^\s]*$)/,"")),!$this.parent("li").hasClass("active")){var $previous=$ul.find(".active:last a"),hideEvent=$.Event("hide.bs.tab",{relatedTarget:$this[0]}),showEvent=$.Event("show.bs.tab",{relatedTarget:$previous[0]});if($previous.trigger(hideEvent),$this.trigger(showEvent),!showEvent.isDefaultPrevented()&&!hideEvent.isDefaultPrevented()){var $target=$(selector);this.activate($this.closest("li"),$ul),this.activate($target,$target.parent(),function(){$previous.trigger({type:"hidden.bs.tab",relatedTarget:$this[0]}),$this.trigger({type:"shown.bs.tab",relatedTarget:$previous[0]})})}}},Tab.prototype.activate=function(element,container,callback){function next(){$active.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),element.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),transition?(element[0].offsetWidth,element.addClass("in")):element.removeClass("fade"),element.parent(".dropdown-menu").length&&element.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),callback&&callback()}var $active=container.find("> .active"),transition=callback&&$.support.transition&&($active.length&&$active.hasClass("fade")||!!container.find("> .fade").length);$active.length&&transition?$active.one("bsTransitionEnd",next).emulateTransitionEnd(Tab.TRANSITION_DURATION):next(),$active.removeClass("in")};var old=$.fn.tab;$.fn.tab=Plugin,$.fn.tab.Constructor=Tab,$.fn.tab.noConflict=function(){return $.fn.tab=old,this};var clickHandler=function(e){e.preventDefault(),Plugin.call($(this),"show")};$(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',clickHandler).on("click.bs.tab.data-api",'[data-toggle="pill"]',clickHandler)}(jQuery),+function($){"use strict";function Plugin(option){return this.each(function(){var $this=$(this),data=$this.data("bs.affix"),options="object"==typeof option&&option;data||$this.data("bs.affix",data=new Affix(this,options)),"string"==typeof option&&data[option]()})}var Affix=function(element,options){this.options=$.extend({},Affix.DEFAULTS,options),this.$target=$(this.options.target).on("scroll.bs.affix.data-api",$.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",$.proxy(this.checkPositionWithEventLoop,this)),this.$element=$(element),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};Affix.VERSION="3.3.4",Affix.RESET="affix affix-top affix-bottom",Affix.DEFAULTS={offset:0,target:window},Affix.prototype.getState=function(scrollHeight,height,offsetTop,offsetBottom){var scrollTop=this.$target.scrollTop(),position=this.$element.offset(),targetHeight=this.$target.height();if(null!=offsetTop&&"top"==this.affixed)return scrollTop<offsetTop&&"top";if("bottom"==this.affixed)return null!=offsetTop?!(scrollTop+this.unpin<=position.top)&&"bottom":!(scrollTop+targetHeight<=scrollHeight-offsetBottom)&&"bottom";var initializing=null==this.affixed,colliderTop=initializing?scrollTop:position.top,colliderHeight=initializing?targetHeight:height;return null!=offsetTop&&scrollTop<=offsetTop?"top":null!=offsetBottom&&colliderTop+colliderHeight>=scrollHeight-offsetBottom&&"bottom"},Affix.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(Affix.RESET).addClass("affix");var scrollTop=this.$target.scrollTop(),position=this.$element.offset();return this.pinnedOffset=position.top-scrollTop},Affix.prototype.checkPositionWithEventLoop=function(){setTimeout($.proxy(this.checkPosition,this),1)},Affix.prototype.checkPosition=function(){if(this.$element.is(":visible")){var height=this.$element.height(),offset=this.options.offset,offsetTop=offset.top,offsetBottom=offset.bottom,scrollHeight=$(document.body).height();"object"!=typeof offset&&(offsetBottom=offsetTop=offset),"function"==typeof offsetTop&&(offsetTop=offset.top(this.$element)),"function"==typeof offsetBottom&&(offsetBottom=offset.bottom(this.$element));var affix=this.getState(scrollHeight,height,offsetTop,offsetBottom);if(this.affixed!=affix){null!=this.unpin&&this.$element.css("top","");var affixType="affix"+(affix?"-"+affix:""),e=$.Event(affixType+".bs.affix");
if(this.$element.trigger(e),e.isDefaultPrevented())return;this.affixed=affix,this.unpin="bottom"==affix?this.getPinnedOffset():null,this.$element.removeClass(Affix.RESET).addClass(affixType).trigger(affixType.replace("affix","affixed")+".bs.affix")}"bottom"==affix&&this.$element.offset({top:scrollHeight-height-offsetBottom})}};var old=$.fn.affix;$.fn.affix=Plugin,$.fn.affix.Constructor=Affix,$.fn.affix.noConflict=function(){return $.fn.affix=old,this},$(window).on("load",function(){$('[data-spy="affix"]').each(function(){var $spy=$(this),data=$spy.data();data.offset=data.offset||{},null!=data.offsetBottom&&(data.offset.bottom=data.offsetBottom),null!=data.offsetTop&&(data.offset.top=data.offsetTop),Plugin.call($spy,data)})})}(jQuery),function(window,angular){"use strict";angular.module("mwl.calendar",[]),angular.module("mwl.calendar").run(["$templateCache",function($templateCache){$templateCache.put("src/templates/calendar.html",'<div class="cal-context" ng-switch="view"><div class="alert alert-danger" ng-switch-default>The value passed to the view attribute of the calendar is not set</div><div class="alert alert-danger" ng-hide="currentDay">The value passed to current-day attribute of the calendar is not set</div><mwl-calendar-year events="events" current-day="currentDay" on-event-click="onEventClick" on-event-drop="onEventDrop" on-edit-event-click="onEditEventClick" on-delete-event-click="onDeleteEventClick" on-timespan-click="onTimespanClick" edit-event-html="editEventHtml" delete-event-html="deleteEventHtml" auto-open="autoOpen" ng-switch-when="year"></mwl-calendar-year><mwl-calendar-month events="events" current-day="currentDay" on-event-click="onEventClick" on-event-drop="onEventDrop" on-edit-event-click="onEditEventClick" on-delete-event-click="onDeleteEventClick" on-timespan-click="onTimespanClick" edit-event-html="editEventHtml" delete-event-html="deleteEventHtml" auto-open="autoOpen" ng-switch-when="month"></mwl-calendar-month><mwl-calendar-week events="events" current-day="currentDay" on-event-click="onEventClick" on-event-drop="onEventDrop" day-view-start="dayViewStart" day-view-end="dayViewEnd" day-view-split="dayViewSplit || 30" ng-switch-when="week"></mwl-calendar-week><mwl-calendar-day events="events" current-day="currentDay" on-event-click="onEventClick" on-event-drop="onEventDrop" day-view-start="dayViewStart" day-view-end="dayViewEnd" day-view-split="dayViewSplit || 30" ng-switch-when="day"></mwl-calendar-day></div>'),$templateCache.put("src/templates/calendarDayView.html",'<div class="cal-day-box"><div class="row-fluid clearfix cal-row-head"><div class="span1 col-xs-1 cal-cell" ng-bind="vm.calendarConfig.i18nStrings.timeLabel"></div><div class="span11 col-xs-11 cal-cell" ng-bind="vm.calendarConfig.i18nStrings.eventsLabel"></div></div><div class="cal-day-panel clearfix" ng-style="{height: vm.dayViewHeight + \'px\'}"><mwl-calendar-hour-list day-view-start="dayViewStart" day-view-end="dayViewEnd" day-view-split="dayViewSplit"></mwl-calendar-hour-list><div class="pull-left day-event day-highlight" ng-class="\'dh-event-\' + event.type + \' \' + event.cssClass" ng-repeat="event in vm.view track by event.$id" ng-style="{top: event.top + \'px\', left: event.left + 60 + \'px\', height: event.height + \'px\'}" mwl-draggable="event.editable !== false" axis="y" snap-grid="{y: 30}" on-drag="vm.tempTimeChanged(event, y)" on-drag-end="vm.timeChanged(event, y)"><span class="cal-hours"><span ng-show="event.top == 0"><span ng-bind="(event.tempStartsAt || event.startsAt) | calendarDate:\'day\':true"></span>,</span> <span ng-bind="(event.tempStartsAt || event.startsAt) | calendarDate:\'time\':true"></span></span> <a href="javascript:;" class="event-item" ng-click="onEventClick({calendarEvent: event})"><span ng-bind-html="vm.$sce.trustAsHtml(event.title) | calendarTruncateEventTitle:20:event.height"></span></a></div></div></div>'),$templateCache.put("src/templates/calendarHourList.html",'<div class="cal-day-panel-hour"><div class="cal-day-hour" ng-repeat="hour in vm.hours track by $index"><div class="row-fluid cal-day-hour-part"><div class="span1 col-xs-1"><strong ng-bind="hour.label"></strong></div><div class="span11 col-xs-11"></div></div><div class="row-fluid cal-day-hour-part"><div class="span1 col-xs-1"></div><div class="span11 col-xs-11"></div></div><div class="row-fluid cal-day-hour-part" ng-show="vm.dayViewSplit < 30"><div class="span1 col-xs-1"></div><div class="span11 col-xs-11"></div></div><div class="row-fluid cal-day-hour-part" ng-show="vm.dayViewSplit < 30"><div class="span1 col-xs-1"></div><div class="span11 col-xs-11"></div></div><div class="row-fluid cal-day-hour-part" ng-show="vm.dayViewSplit < 15"><div class="span1 col-xs-1"></div><div class="span11 col-xs-11"></div></div><div class="row-fluid cal-day-hour-part" ng-show="vm.dayViewSplit < 15"><div class="span1 col-xs-1"></div><div class="span11 col-xs-11"></div></div></div></div>'),$templateCache.put("src/templates/calendarMonthDay.html",'<div mwl-droppable on-drop="vm.handleEventDrop(dropData.event, day.date)" class="cal-month-day" ng-class="{\n            \'cal-day-outmonth\': !day.inMonth,\n            \'cal-day-inmonth\': day.inMonth,\n            \'cal-day-weekend\': day.isWeekend,\n            \'cal-day-past\': day.isPast,\n            \'cal-day-today\': day.isToday,\n            \'cal-day-future\': day.isFuture\n          }"><small class="cal-events-num badge badge-important pull-left" ng-show="day.badgeTotal > 0" ng-bind="day.badgeTotal"></small> <span class="pull-right" data-cal-date ng-click="vm.calendarCtrl.drillDown(day.date)" ng-bind="day.label"></span><div class="cal-day-tick" ng-show="dayIndex === vm.openDayIndex && vm.view[vm.openDayIndex].events.length > 0"><i class="glyphicon glyphicon-chevron-up"></i> <i class="fa fa-chevron-up"></i></div><div ng-include="\'src/templates/calendarMonthEventsList.html\'"></div></div>'),$templateCache.put("src/templates/calendarMonthEventsList.html",'<div class="events-list" ng-show="day.events.length > 0"><a ng-repeat="event in day.events | orderBy:\'startsAt\' track by event.$id" href="javascript:;" ng-click="onEventClick({calendarEvent: event})" class="pull-left event" ng-class="\'event-\' + event.type + \' \' + event.cssClass" ng-mouseenter="vm.highlightEvent(event, true)" ng-mouseleave="vm.highlightEvent(event, false)" tooltip-append-to-body="true" tooltip-html-unsafe="{{ (event.startsAt | calendarDate:\'time\':true) + \' - \' + event.title }}" mwl-draggable="event.editable !== false" drop-data="{event: event}"></a></div>'),$templateCache.put("src/templates/calendarMonthView.html",'<div class="cal-row-fluid cal-row-head"><div class="cal-cell1" ng-repeat="day in vm.weekDays track by $index" ng-bind="day"></div></div><div class="cal-month-box"><div ng-repeat="rowOffset in vm.monthOffsets track by rowOffset"><div class="cal-row-fluid cal-before-eventlist"><div ng-repeat="day in vm.view | calendarLimitTo:7:rowOffset track by $index" ng-init="dayIndex = vm.view.indexOf(day)" class="cal-cell1 cal-cell {{ day.highlightClass }}" ng-click="vm.dayClicked(day)" ng-class="{pointer: day.events.length > 0}"><div ng-include="\'src/templates/calendarMonthDay.html\'"></div></div></div><mwl-calendar-slide-box is-open="vm.openRowIndex === $index && vm.view[vm.openDayIndex].events.length > 0" events="vm.view[vm.openDayIndex].events" on-event-click="onEventClick" edit-event-html="editEventHtml" on-edit-event-click="onEditEventClick" delete-event-html="deleteEventHtml" on-delete-event-click="onDeleteEventClick"></mwl-calendar-slide-box></div></div>'),$templateCache.put("src/templates/calendarSlideBox.html",'<div class="cal-slide-box" collapse="vm.shouldCollapse" mwl-collapse-fallback="vm.shouldCollapse"><div class="cal-slide-content cal-event-list"><ul class="unstyled list-unstyled"><li ng-repeat="event in events | orderBy:\'startsAt\' track by event.$id" ng-class="event.cssClass" mwl-draggable="event.editable !== false" drop-data="{event: event}"><span class="pull-left event" ng-class="\'event-\' + event.type"></span> &nbsp; <a href="javascript:;" class="event-item" ng-click="onEventClick({calendarEvent: event})"><span ng-bind-html="vm.$sce.trustAsHtml(event.title)"></span> <span ng-show="isMonthView">(<span ng-bind="event.startsAt | calendarDate:\'time\':true"></span>)</span> <span ng-show="isYearView">(<span ng-bind="event.startsAt | calendarDate:\'datetime\':true"></span>)</span></a> <a href="javascript:;" class="event-item-edit" ng-if="editEventHtml && event.editable !== false" ng-bind-html="vm.$sce.trustAsHtml(editEventHtml)" ng-click="onEditEventClick({calendarEvent: event})"></a> <a href="javascript:;" class="event-item-delete" ng-if="deleteEventHtml && event.deletable !== false" ng-bind-html="vm.$sce.trustAsHtml(deleteEventHtml)" ng-click="onDeleteEventClick({calendarEvent: event})"></a></li></ul></div></div>'),$templateCache.put("src/templates/calendarWeekView.html",'<div class="cal-week-box" ng-class="{\'cal-day-box\': vm.showTimes}"><div class="cal-row-fluid cal-row-head"><div class="cal-cell1" ng-repeat="day in vm.view.days track by $index" ng-class="{\n        \'cal-day-weekend\': day.isWeekend,\n        \'cal-day-past\': day.isPast,\n        \'cal-day-today\': day.isToday,\n        \'cal-day-future\': day.isFuture}" mwl-element-dimensions="vm.dayColumnDimensions"><span ng-bind="day.weekDayLabel"></span><br><small><span data-cal-date ng-click="vm.calendarCtrl.drillDown(day.date)" class="pointer" ng-bind="day.dayLabel"></span></small></div></div><div class="cal-day-panel clearfix" ng-style="{height: vm.showTimes ? (vm.dayViewHeight + \'px\') : \'auto\'}"><mwl-calendar-hour-list day-view-start="dayViewStart" day-view-end="dayViewEnd" day-view-split="dayViewSplit" ng-if="vm.showTimes"></mwl-calendar-hour-list><div class="row"><div class="col-xs-12"><div class="cal-row-fluid" ng-repeat="event in vm.view.events track by event.$id"><div ng-class="\'cal-cell\' + (vm.showTimes ? 1 : event.daySpan) + \' cal-offset\' + event.dayOffset + \' day-highlight dh-event-\' + event.type + \' \' + event.cssClass" ng-style="{top: (event.top + 2) + \'px\', position: vm.showTimes ? \'absolute\' : \'inherit\'}" data-event-class mwl-draggable="event.editable !== false" axis="vm.showTimes ? \'xy\' : \'x\'" snap-grid="vm.showTimes ? {x: vm.dayColumnDimensions.width, y: 30} : {x: vm.dayColumnDimensions.width}" on-drag="vm.tempTimeChanged(event, y)" on-drag-end="vm.weekDragged(event, x, y)"><strong ng-bind="(event.tempStartsAt || event.startsAt) | calendarDate:\'time\':true" ng-show="vm.showTimes"></strong> <a href="javascript:;" ng-click="onEventClick({calendarEvent: event})" class="event-item" ng-bind-html="vm.$sce.trustAsHtml(event.title)" tooltip-html-unsafe="{{ event.title }}" tooltip-placement="left" tooltip-append-to-body="true"></a></div></div></div></div></div></div>'),$templateCache.put("src/templates/calendarYearView.html",'<div class="cal-year-box"><div ng-repeat="rowOffset in [0, 4, 8] track by rowOffset"><div class="row cal-before-eventlist"><div class="span3 col-md-3 col-xs-6 cal-cell" ng-repeat="month in vm.view | calendarLimitTo:4:rowOffset track by $index" ng-init="monthIndex = vm.view.indexOf(month)" ng-click="vm.monthClicked(month)" ng-class="{pointer: month.events.length > 0, \'cal-day-today\': month.isToday}" mwl-droppable on-drop="vm.handleEventDrop(dropData.event, month.date)"><span class="pull-right" data-cal-date ng-click="vm.calendarCtrl.drillDown(month.date)" ng-bind="month.label"></span> <small class="cal-events-num badge badge-important pull-left" ng-show="month.badgeTotal > 0" ng-bind="month.badgeTotal"></small><div class="cal-day-tick" ng-show="monthIndex === vm.openMonthIndex && vm.view[vm.openMonthIndex].events.length > 0"><i class="glyphicon glyphicon-chevron-up"></i> <i class="fa fa-chevron-up"></i></div></div></div><mwl-calendar-slide-box is-open="vm.openRowIndex === $index && vm.view[vm.openMonthIndex].events.length > 0" events="vm.view[vm.openMonthIndex].events" on-event-click="onEventClick" edit-event-html="editEventHtml" on-edit-event-click="onEditEventClick" delete-event-html="deleteEventHtml" on-delete-event-click="onDeleteEventClick"></mwl-calendar-slide-box></div></div>')}]),angular.module("mwl.calendar").constant("moment",window.moment),angular.module("mwl.calendar").constant("interact",window.interact),angular.module("mwl.calendar").factory("calendarTitle",["moment","calendarConfig","calendarHelper",function(moment,calendarConfig,calendarHelper){function day(currentDay){return calendarHelper.formatDate(currentDay,calendarConfig.titleFormats.day)}function week(currentDay){var weekTitleLabel=calendarConfig.titleFormats.week;return weekTitleLabel.replace("{week}",moment(currentDay).week()).replace("{year}",moment(currentDay).format("YYYY"))}function month(currentDay){return calendarHelper.formatDate(currentDay,calendarConfig.titleFormats.month)}function year(currentDay){return calendarHelper.formatDate(currentDay,calendarConfig.titleFormats.year)}return{day:day,week:week,month:month,year:year}}]),angular.module("mwl.calendar").factory("calendarHelper",["dateFilter","moment","calendarConfig",function(dateFilter,moment,calendarConfig){function formatDate(date,format){return"angular"===calendarConfig.dateFormatter?dateFilter(moment(date).toDate(),format):"moment"===calendarConfig.dateFormatter?moment(date).format(format):void 0}function adjustEndDateFromStartDiff(oldStart,newStart,oldEnd){if(!oldEnd)return oldEnd;var diffInSeconds=moment(newStart).diff(moment(oldStart));return moment(oldEnd).add(diffInSeconds)}function eventIsInPeriod(event,periodStart,periodEnd){var eventStart=moment(event.startsAt),eventEnd=moment(event.endsAt||event.startsAt);if(periodStart=moment(periodStart),periodEnd=moment(periodEnd),angular.isDefined(event.recursOn)){switch(event.recursOn){case"year":eventStart.set({year:periodStart.year()});break;case"month":eventStart.set({year:periodStart.year(),month:periodStart.month()});break;default:throw new Error("Invalid value ("+event.recursOn+") given for recurs on. Can only be year, month or week.")}eventEnd=adjustEndDateFromStartDiff(event.startsAt,eventStart,eventEnd)}return eventStart.isAfter(periodStart)&&eventStart.isBefore(periodEnd)||eventEnd.isAfter(periodStart)&&eventEnd.isBefore(periodEnd)||eventStart.isBefore(periodStart)&&eventEnd.isAfter(periodEnd)||eventStart.isSame(periodStart)||eventEnd.isSame(periodEnd)}function filterEventsInPeriod(events,startPeriod,endPeriod){return events.filter(function(event){return eventIsInPeriod(event,startPeriod,endPeriod)})}function getEventsInPeriod(calendarDate,period,allEvents){var startPeriod=moment(calendarDate).startOf(period),endPeriod=moment(calendarDate).endOf(period);return filterEventsInPeriod(allEvents,startPeriod,endPeriod)}function getBadgeTotal(events){return events.filter(function(event){return event.incrementsBadgeTotal!==!1}).length}function getWeekDayNames(){for(var weekdays=[],count=0;count<7;)weekdays.push(formatDate(moment().weekday(count++),calendarConfig.dateFormats.weekDay));return weekdays}function getYearView(events,currentDay){for(var view=[],eventsInPeriod=getEventsInPeriod(currentDay,"year",events),month=moment(currentDay).startOf("year"),count=0;count<12;){var startPeriod=month.clone(),endPeriod=startPeriod.clone().endOf("month"),periodEvents=filterEventsInPeriod(eventsInPeriod,startPeriod,endPeriod);view.push({label:formatDate(startPeriod,calendarConfig.dateFormats.month),isToday:startPeriod.isSame(moment().startOf("month")),events:periodEvents,date:startPeriod,badgeTotal:getBadgeTotal(periodEvents)}),month.add(1,"month"),count++}return view}function getMonthView(events,currentDay){var eventsInPeriod,startOfMonth=moment(currentDay).startOf("month"),day=startOfMonth.clone().startOf("week"),endOfMonthView=moment(currentDay).endOf("month").endOf("week");eventsInPeriod=calendarConfig.displayAllMonthEvents?filterEventsInPeriod(events,day,endOfMonthView):filterEventsInPeriod(events,startOfMonth,startOfMonth.clone().endOf("month"));for(var view=[],today=moment().startOf("day");day.isBefore(endOfMonthView);){var inMonth=day.month()===moment(currentDay).month(),monthEvents=[];(inMonth||calendarConfig.displayAllMonthEvents)&&(monthEvents=filterEventsInPeriod(eventsInPeriod,day,day.clone().endOf("day"))),view.push({label:day.date(),date:day.clone(),inMonth:inMonth,isPast:today.isAfter(day),isToday:today.isSame(day),isFuture:today.isBefore(day),isWeekend:[0,6].indexOf(day.day())>-1,events:monthEvents,badgeTotal:getBadgeTotal(monthEvents)}),day.add(1,"day")}return view}function getWeekView(events,currentDay){for(var startOfWeek=moment(currentDay).startOf("week"),endOfWeek=moment(currentDay).endOf("week"),dayCounter=startOfWeek.clone(),days=[],today=moment().startOf("day");days.length<7;)days.push({weekDayLabel:formatDate(dayCounter,calendarConfig.dateFormats.weekDay),date:dayCounter.clone(),dayLabel:formatDate(dayCounter,calendarConfig.dateFormats.day),isPast:dayCounter.isBefore(today),isToday:dayCounter.isSame(today),isFuture:dayCounter.isAfter(today),isWeekend:[0,6].indexOf(dayCounter.day())>-1}),dayCounter.add(1,"day");var eventsSorted=filterEventsInPeriod(events,startOfWeek,endOfWeek).map(function(event){var offset,span,eventStart=moment(event.startsAt).startOf("day"),eventEnd=moment(event.endsAt||event.startsAt).startOf("day"),weekViewStart=moment(startOfWeek).startOf("day"),weekViewEnd=moment(endOfWeek).startOf("day");return offset=eventStart.isBefore(weekViewStart)||eventStart.isSame(weekViewStart)?0:eventStart.diff(weekViewStart,"days"),eventEnd.isAfter(weekViewEnd)&&(eventEnd=weekViewEnd),eventStart.isBefore(weekViewStart)&&(eventStart=weekViewStart),span=moment(eventEnd).diff(eventStart,"days")+1,event.daySpan=span,event.dayOffset=offset,event});return{days:days,events:eventsSorted}}function getDayView(events,currentDay,dayViewStart,dayViewEnd,dayViewSplit){var dayStartHour=moment(dayViewStart||"00:00","HH:mm").hours(),dayEndHour=moment(dayViewEnd||"23:00","HH:mm").hours(),hourHeight=60/dayViewSplit*30,calendarStart=moment(currentDay).startOf("day").add(dayStartHour,"hours"),calendarEnd=moment(currentDay).startOf("day").add(dayEndHour,"hours"),calendarHeight=(dayEndHour-dayStartHour+1)*hourHeight,hourHeightMultiplier=hourHeight/60,buckets=[],eventsInPeriod=filterEventsInPeriod(events,moment(currentDay).startOf("day").toDate(),moment(currentDay).endOf("day").toDate());return eventsInPeriod.map(function(event){if(moment(event.startsAt).isBefore(calendarStart)?event.top=0:event.top=moment(event.startsAt).startOf("minute").diff(calendarStart.startOf("minute"),"minutes")*hourHeightMultiplier-2,moment(event.endsAt||event.startsAt).isAfter(calendarEnd))event.height=calendarHeight-event.top;else{var diffStart=event.startsAt;moment(event.startsAt).isBefore(calendarStart)&&(diffStart=calendarStart.toDate()),event.endsAt?event.height=moment(event.endsAt||event.startsAt).diff(diffStart,"minutes")*hourHeightMultiplier:event.height=30}return event.top-event.height>calendarHeight&&(event.height=0),event.left=0,event}).filter(function(event){return event.height>0}).map(function(event){var cannotFitInABucket=!0;return buckets.forEach(function(bucket,bucketIndex){var canFitInThisBucket=!0;bucket.forEach(function(bucketItem){(eventIsInPeriod(event,bucketItem.startsAt,bucketItem.endsAt||bucketItem.startsAt)||eventIsInPeriod(bucketItem,event.startsAt,event.endsAt||event.startsAt))&&(canFitInThisBucket=!1)}),canFitInThisBucket&&cannotFitInABucket&&(cannotFitInABucket=!1,event.left=150*bucketIndex,buckets[bucketIndex].push(event))}),cannotFitInABucket&&(event.left=150*buckets.length,buckets.push([event])),event})}function getWeekViewWithTimes(events,currentDay,dayViewStart,dayViewEnd,dayViewSplit){var weekView=getWeekView(events,currentDay),newEvents=[];return weekView.days.forEach(function(day){var dayEvents=weekView.events.filter(function(event){return moment(event.startsAt).startOf("day").isSame(moment(day.date).startOf("day"))}),newDayEvents=getDayView(dayEvents,day.date,dayViewStart,dayViewEnd,dayViewSplit);newEvents=newEvents.concat(newDayEvents)}),weekView.events=newEvents,weekView}function getDayViewHeight(dayViewStart,dayViewEnd,dayViewSplit){var dayViewStartM=moment(dayViewStart||"00:00","HH:mm"),dayViewEndM=moment(dayViewEnd||"23:00","HH:mm"),hourHeight=60/dayViewSplit*30;return(dayViewEndM.diff(dayViewStartM,"hours")+1)*hourHeight+2}return{getWeekDayNames:getWeekDayNames,getYearView:getYearView,getMonthView:getMonthView,getWeekView:getWeekView,getDayView:getDayView,getWeekViewWithTimes:getWeekViewWithTimes,getDayViewHeight:getDayViewHeight,adjustEndDateFromStartDiff:adjustEndDateFromStartDiff,formatDate:formatDate,eventIsInPeriod:eventIsInPeriod}}]),angular.module("mwl.calendar").service("calendarDebounce",["$timeout",function($timeout){function debounce(func,wait,immediate){var timeout;return function(){function later(){timeout=null,immediate||func.apply(context,args)}var context=this,args=arguments,callNow=immediate&&!timeout;$timeout.cancel(timeout),timeout=$timeout(later,wait),callNow&&func.apply(context,args)}}return debounce}]),angular.module("mwl.calendar").provider("calendarConfig",function(){var defaultFormats={angular:{date:{hour:"ha",day:"d MMM",month:"MMMM",weekDay:"EEEE",time:"HH:mm",datetime:"MMM d, h:mm a"},title:{day:"EEEE d MMMM, yyyy",week:"Week {week} of {year}",month:"MMMM yyyy",year:"yyyy"}},moment:{date:{hour:"ha",day:"D MMM",month:"MMMM",weekDay:"dddd",time:"HH:mm",datetime:"MMM D, h:mm a"},title:{day:"dddd D MMMM, YYYY",week:"Week {week} of {year}",month:"MMMM YYYY",year:"YYYY"}}},dateFormatter="angular",defaultDateFormats=angular.copy(defaultFormats[dateFormatter].date),defaultTitleFormats=angular.copy(defaultFormats[dateFormatter].title),showTimesOnWeekView=!1,i18nStrings={eventsLabel:"Events",timeLabel:"Time"},displayAllMonthEvents=!1,configProvider=this;configProvider.setDateFormats=function(formats){return angular.extend(defaultDateFormats,formats),configProvider},configProvider.setTitleFormats=function(formats){return angular.extend(defaultTitleFormats,formats),configProvider},configProvider.setI18nStrings=function(strings){return angular.extend(i18nStrings,strings),configProvider},configProvider.setDisplayAllMonthEvents=function(value){return displayAllMonthEvents=value,configProvider},configProvider.setDateFormatter=function(value){if(["angular","moment"].indexOf(value)===-1)throw new Error("Invalid date formatter. Allowed types are angular and moment.");return dateFormatter=value,defaultDateFormats=angular.copy(defaultFormats[dateFormatter].date),defaultTitleFormats=angular.copy(defaultFormats[dateFormatter].title),configProvider},configProvider.showTimesOnWeekView=function(value){return showTimesOnWeekView=value,configProvider},configProvider.$get=function(){return{dateFormats:defaultDateFormats,titleFormats:defaultTitleFormats,i18nStrings:i18nStrings,displayAllMonthEvents:displayAllMonthEvents,dateFormatter:dateFormatter,showTimesOnWeekView:showTimesOnWeekView}}}),angular.module("mwl.calendar").filter("calendarTruncateEventTitle",function(){return function(string,length,boxHeight){return string?string.length>=length&&string.length/20>boxHeight/30?string.substr(0,length)+"...":string:""}}),angular.module("mwl.calendar").filter("calendarLimitTo",["limitToFilter",function(limitToFilter){return angular.version.minor>=4?limitToFilter:function(input,limit,begin){return limit=Math.abs(Number(limit))===1/0?Number(limit):parseInt(limit),isNaN(limit)?input:(angular.isNumber(input)&&(input=input.toString()),angular.isArray(input)||angular.isString(input)?(begin=!begin||isNaN(begin)?0:parseInt(begin),begin=begin<0&&begin>=-input.length?input.length+begin:begin,limit>=0?input.slice(begin,begin+limit):0===begin?input.slice(limit,input.length):input.slice(Math.max(0,begin+limit),begin)):input)}}]),angular.module("mwl.calendar").filter("calendarDate",["calendarHelper","calendarConfig",function(calendarHelper,calendarConfig){function calendarDate(date,format,getFromConfig){return getFromConfig===!0&&(format=calendarConfig.dateFormats[format]),calendarHelper.formatDate(date,format)}return calendarDate.$stateful=!0,calendarDate}]),angular.module("mwl.calendar").controller("MwlElementDimensionsCtrl",["$element","$scope","$parse","$attrs",function($element,$scope,$parse,$attrs){$parse($attrs.mwlElementDimensions).assign($scope,{width:$element[0].offsetWidth,height:$element[0].offsetHeight})}]).directive("mwlElementDimensions",function(){return{restrict:"A",controller:"MwlElementDimensionsCtrl"}}),angular.module("mwl.calendar").controller("MwlDroppableCtrl",["$element","$scope","$parse","$attrs","interact",function($element,$scope,$parse,$attrs,interact){if(interact){interact($element[0]).dropzone({ondragenter:function(event){angular.element(event.target).addClass("drop-active")},ondragleave:function(event){angular.element(event.target).removeClass("drop-active")},ondropdeactivate:function(event){angular.element(event.target).removeClass("drop-active")},ondrop:function(event){event.relatedTarget.dropData&&($parse($attrs.onDrop)($scope,{dropData:event.relatedTarget.dropData}),$scope.$apply())}});var unbindDestroy=$scope.$on("$destroy",function(){unbindDestroy(),interact($element[0]).unset()})}}]).directive("mwlDroppable",function(){return{restrict:"A",controller:"MwlDroppableCtrl"}}),angular.module("mwl.calendar").controller("MwlDraggableCtrl",["$element","$scope","$window","$parse","$attrs","$timeout","interact",function($element,$scope,$window,$parse,$attrs,$timeout,interact){function translateElement(elm,transformValue){return elm.css("transform",transformValue).css("-ms-transform",transformValue).css("-webkit-transform",transformValue)}function canDrag(){return $parse($attrs.mwlDraggable)($scope)}function getUnitsMoved(x,y,gridDimensions){var result={x:x,y:y};return gridDimensions&&gridDimensions.x&&(result.x/=gridDimensions.x),gridDimensions&&gridDimensions.y&&(result.y/=gridDimensions.y),result}if(interact){var snap,snapGridDimensions;$attrs.snapGrid&&(snapGridDimensions=$parse($attrs.snapGrid)($scope),snap={targets:[interact.createSnapGrid(snapGridDimensions)]}),interact($element[0]).draggable({snap:snap,onstart:function(event){canDrag()&&(angular.element(event.target).addClass("dragging-active"),event.target.dropData=$parse($attrs.dropData)($scope),event.target.style.pointerEvents="none",$attrs.onDragStart&&($parse($attrs.onDragStart)($scope),$scope.$apply()))},onmove:function(event){if(canDrag()){var elm=angular.element(event.target),x=(parseFloat(elm.attr("data-x"))||0)+(event.dx||0),y=(parseFloat(elm.attr("data-y"))||0)+(event.dy||0);switch($parse($attrs.axis)($scope)){case"x":y=0;break;case"y":x=0}"static"===$window.getComputedStyle(elm[0]).position&&elm.css("position","relative"),translateElement(elm,"translate("+x+"px, "+y+"px)").css("z-index",1e3).attr("data-x",x).attr("data-y",y),$attrs.onDrag&&($parse($attrs.onDrag)($scope,getUnitsMoved(x,y,snapGridDimensions)),$scope.$apply())}},onend:function(event){if(canDrag()){var elm=angular.element(event.target),x=elm.attr("data-x"),y=elm.attr("data-y");event.target.style.pointerEvents="auto",$attrs.onDragEnd&&($parse($attrs.onDragEnd)($scope,getUnitsMoved(x,y,snapGridDimensions)),$scope.$apply()),$timeout(function(){translateElement(elm,null).removeAttr("data-x").removeAttr("data-y").removeClass("dragging-active")},50)}}});var unbindDestroy=$scope.$on("$destroy",function(){unbindDestroy(),interact($element[0]).unset()})}}]).directive("mwlDraggable",function(){return{restrict:"A",controller:"MwlDraggableCtrl"}}),angular.module("mwl.calendar").controller("MwlDateModifierCtrl",["$element","$attrs","$scope","moment",function($element,$attrs,$scope,moment){function onClick(){angular.isDefined($attrs.setToToday)?$scope.date=new Date:angular.isDefined($attrs.increment)?$scope.date=moment($scope.date).add(1,$scope.increment).toDate():angular.isDefined($attrs.decrement)&&($scope.date=moment($scope.date).subtract(1,$scope.decrement).toDate()),$scope.$apply()}$element.bind("click",onClick),$scope.$on("$destroy",function(){$element.unbind("click",onClick)})}]).directive("mwlDateModifier",function(){return{restrict:"A",controller:"MwlDateModifierCtrl",scope:{date:"=",increment:"=",decrement:"="}}}),angular.module("mwl.calendar").controller("MwlCollapseFallbackCtrl",["$scope","$attrs","$element",function($scope,$attrs,$element){var unbindWatcher=$scope.$watch($attrs.mwlCollapseFallback,function(shouldCollapse){shouldCollapse?$element.addClass("ng-hide"):$element.removeClass("ng-hide")}),unbindDestroy=$scope.$on("$destroy",function(){unbindDestroy(),unbindWatcher()})}]).directive("mwlCollapseFallback",["$injector",function($injector){return $injector.has("collapseDirective")?{}:{restrict:"A",controller:"MwlCollapseFallbackCtrl"}}]),angular.module("mwl.calendar").controller("MwlCalendarYearCtrl",["$scope","moment","calendarHelper",function($scope,moment,calendarHelper){var vm=this,firstRun=!0;$scope.$on("calendar.refreshView",function(){vm.view=calendarHelper.getYearView($scope.events,$scope.currentDay),$scope.autoOpen&&firstRun&&(firstRun=!1,vm.view.forEach(function(month){moment($scope.currentDay).startOf("month").isSame(month.date)&&vm.monthClicked(month,!0)}))}),vm.monthClicked=function(month,monthClickedFirstRun){monthClickedFirstRun||$scope.onTimespanClick({calendarDate:month.date.toDate()}),vm.openRowIndex=null;var monthIndex=vm.view.indexOf(month);monthIndex===vm.openMonthIndex?vm.openMonthIndex=null:(vm.openMonthIndex=monthIndex,vm.openRowIndex=Math.floor(monthIndex/4))},vm.handleEventDrop=function(event,newMonthDate){var newStart=moment(event.startsAt).month(moment(newMonthDate).month()),newEnd=calendarHelper.adjustEndDateFromStartDiff(event.startsAt,newStart,event.endsAt);$scope.onEventDrop({calendarEvent:event,calendarDate:newMonthDate,calendarNewEventStart:newStart.toDate(),calendarNewEventEnd:newEnd.toDate()})}}]).directive("mwlCalendarYear",function(){return{templateUrl:"src/templates/calendarYearView.html",restrict:"EA",require:"^mwlCalendar",scope:{events:"=",currentDay:"=",onEventClick:"=",onEventDrop:"=",onEditEventClick:"=",onDeleteEventClick:"=",editEventHtml:"=",deleteEventHtml:"=",autoOpen:"=",onTimespanClick:"="},controller:"MwlCalendarYearCtrl as vm",link:function(scope,element,attrs,calendarCtrl){scope.vm.calendarCtrl=calendarCtrl}}}),angular.module("mwl.calendar").controller("MwlCalendarWeekCtrl",["$scope","$sce","moment","calendarHelper","calendarConfig",function($scope,$sce,moment,calendarHelper,calendarConfig){var vm=this;vm.showTimes=calendarConfig.showTimesOnWeekView,vm.$sce=$sce,$scope.$on("calendar.refreshView",function(){vm.dayViewHeight=calendarHelper.getDayViewHeight($scope.dayViewStart,$scope.dayViewEnd,$scope.dayViewSplit),vm.showTimes?vm.view=calendarHelper.getWeekViewWithTimes($scope.events,$scope.currentDay,$scope.dayViewStart,$scope.dayViewEnd,$scope.dayViewSplit):vm.view=calendarHelper.getWeekView($scope.events,$scope.currentDay)}),vm.weekDragged=function(event,daysDiff,minuteChunksMoved){var newStart=moment(event.startsAt).add(daysDiff,"days"),newEnd=moment(event.endsAt).add(daysDiff,"days");if(minuteChunksMoved){var minutesDiff=minuteChunksMoved*$scope.dayViewSplit;newStart=newStart.add(minutesDiff,"minutes"),newEnd=newEnd.add(minutesDiff,"minutes")}delete event.tempStartsAt,$scope.onEventDrop({calendarEvent:event,calendarNewEventStart:newStart.toDate(),calendarNewEventEnd:newEnd.toDate()})},vm.tempTimeChanged=function(event,minuteChunksMoved){var minutesDiff=minuteChunksMoved*$scope.dayViewSplit;event.tempStartsAt=moment(event.startsAt).add(minutesDiff,"minutes").toDate()}}]).directive("mwlCalendarWeek",function(){return{templateUrl:"src/templates/calendarWeekView.html",restrict:"EA",require:"^mwlCalendar",scope:{events:"=",currentDay:"=",onEventClick:"=",onEventDrop:"=",dayViewStart:"=",dayViewEnd:"=",dayViewSplit:"="},controller:"MwlCalendarWeekCtrl as vm",link:function(scope,element,attrs,calendarCtrl){
scope.vm.calendarCtrl=calendarCtrl}}}),angular.module("mwl.calendar").controller("MwlCalendarSlideBoxCtrl",["$scope","$sce",function($scope,$sce){var vm=this;vm.$sce=$sce;var unbindWatcher=$scope.$watch("isOpen",function(isOpen){vm.shouldCollapse=!isOpen}),unbindDestroy=$scope.$on("$destroy",function(){unbindDestroy(),unbindWatcher()})}]).directive("mwlCalendarSlideBox",function(){return{restrict:"EA",templateUrl:"src/templates/calendarSlideBox.html",replace:!0,controller:"MwlCalendarSlideBoxCtrl as vm",require:["^?mwlCalendarMonth","^?mwlCalendarYear"],link:function(scope,elm,attrs,ctrls){scope.isMonthView=!!ctrls[0],scope.isYearView=!!ctrls[1]},scope:{isOpen:"=",events:"=",onEventClick:"=",editEventHtml:"=",onEditEventClick:"=",deleteEventHtml:"=",onDeleteEventClick:"="}}}),angular.module("mwl.calendar").controller("MwlCalendarMonthCtrl",["$scope","moment","calendarHelper",function($scope,moment,calendarHelper){var vm=this,firstRun=!0;$scope.$on("calendar.refreshView",function(){vm.weekDays=calendarHelper.getWeekDayNames(),vm.view=calendarHelper.getMonthView($scope.events,$scope.currentDay);var rows=Math.floor(vm.view.length/7);vm.monthOffsets=[];for(var i=0;i<rows;i++)vm.monthOffsets.push(7*i);$scope.autoOpen&&firstRun&&(firstRun=!1,vm.view.forEach(function(day){day.inMonth&&moment($scope.currentDay).startOf("day").isSame(day.date)&&vm.dayClicked(day,!0)}))}),vm.dayClicked=function(day,dayClickedFirstRun){dayClickedFirstRun||$scope.onTimespanClick({calendarDate:day.date.toDate()}),vm.openRowIndex=null;var dayIndex=vm.view.indexOf(day);dayIndex===vm.openDayIndex?vm.openDayIndex=null:(vm.openDayIndex=dayIndex,vm.openRowIndex=Math.floor(dayIndex/7))},vm.highlightEvent=function(event,shouldAddClass){vm.view.forEach(function(day){if(delete day.highlightClass,shouldAddClass){var dayContainsEvent=day.events.indexOf(event)>-1;dayContainsEvent&&(day.highlightClass="day-highlight dh-event-"+event.type)}})},vm.handleEventDrop=function(event,newDayDate){var newStart=moment(event.startsAt).date(moment(newDayDate).date()).month(moment(newDayDate).month()),newEnd=calendarHelper.adjustEndDateFromStartDiff(event.startsAt,newStart,event.endsAt);$scope.onEventDrop({calendarEvent:event,calendarDate:newDayDate,calendarNewEventStart:newStart.toDate(),calendarNewEventEnd:newEnd.toDate()})}}]).directive("mwlCalendarMonth",function(){return{templateUrl:"src/templates/calendarMonthView.html",restrict:"EA",require:"^mwlCalendar",scope:{events:"=",currentDay:"=",onEventClick:"=",onEditEventClick:"=",onDeleteEventClick:"=",onEventDrop:"=",editEventHtml:"=",deleteEventHtml:"=",autoOpen:"=",onTimespanClick:"="},controller:"MwlCalendarMonthCtrl as vm",link:function(scope,element,attrs,calendarCtrl){scope.vm.calendarCtrl=calendarCtrl}}}),angular.module("mwl.calendar").controller("MwlCalendarHourListCtrl",["$scope","moment","calendarConfig","calendarHelper",function($scope,moment,calendarConfig,calendarHelper){function updateDays(){dayViewStart=moment($scope.dayViewStart||"00:00","HH:mm"),dayViewEnd=moment($scope.dayViewEnd||"23:00","HH:mm"),vm.dayViewSplit=parseInt($scope.dayViewSplit),vm.hours=[];for(var dayCounter=moment(dayViewStart),i=0;i<=dayViewEnd.diff(dayViewStart,"hours");i++)vm.hours.push({label:calendarHelper.formatDate(dayCounter,calendarConfig.dateFormats.hour)}),dayCounter.add(1,"hour")}var dayViewStart,dayViewEnd,vm=this,originalLocale=moment.locale();$scope.$on("calendar.refreshView",function(){originalLocale!==moment.locale()&&(originalLocale=moment.locale(),updateDays())}),updateDays()}]).directive("mwlCalendarHourList",function(){return{restrict:"EA",templateUrl:"src/templates/calendarHourList.html",controller:"MwlCalendarHourListCtrl as vm",scope:{dayViewStart:"=",dayViewEnd:"=",dayViewSplit:"="}}}),angular.module("mwl.calendar").controller("MwlCalendarDayCtrl",["$scope","$timeout","$sce","moment","calendarHelper","calendarConfig",function($scope,$timeout,$sce,moment,calendarHelper,calendarConfig){var vm=this;vm.calendarConfig=calendarConfig,vm.$sce=$sce,$scope.$on("calendar.refreshView",function(){vm.dayViewHeight=calendarHelper.getDayViewHeight($scope.dayViewStart,$scope.dayViewEnd,$scope.dayViewSplit),vm.view=calendarHelper.getDayView($scope.events,$scope.currentDay,$scope.dayViewStart,$scope.dayViewEnd,$scope.dayViewSplit)}),vm.timeChanged=function(event,minuteChunksMoved){var minutesDiff=minuteChunksMoved*$scope.dayViewSplit,newStart=moment(event.startsAt).add(minutesDiff,"minutes"),newEnd=moment(event.endsAt).add(minutesDiff,"minutes");delete event.tempStartsAt,$scope.onEventDrop({calendarEvent:event,calendarNewEventStart:newStart.toDate(),calendarNewEventEnd:newEnd.toDate()})},vm.tempTimeChanged=function(event,minuteChunksMoved){var minutesDiff=minuteChunksMoved*$scope.dayViewSplit;event.tempStartsAt=moment(event.startsAt).add(minutesDiff,"minutes").toDate()}}]).directive("mwlCalendarDay",function(){return{templateUrl:"src/templates/calendarDayView.html",restrict:"EA",require:"^mwlCalendar",scope:{events:"=",currentDay:"=",onEventClick:"=",onEventDrop:"=",dayViewStart:"=",dayViewEnd:"=",dayViewSplit:"="},controller:"MwlCalendarDayCtrl as vm"}}),angular.module("mwl.calendar").controller("MwlCalendarCtrl",["$scope","$timeout","$window","$locale","moment","calendarTitle","calendarDebounce",function($scope,$timeout,$window,$locale,moment,calendarTitle,calendarDebounce){var vm=this;$scope.events=$scope.events||[],vm.changeView=function(view,newDay){$scope.view=view,$scope.currentDay=newDay},vm.drillDown=function(date){var rawDate=moment(date).toDate(),nextView={year:"month",month:"day",week:"day"};$scope.onDrillDownClick({calendarDate:rawDate,calendarNextView:nextView[$scope.view]})!==!1&&vm.changeView(nextView[$scope.view],rawDate)};var previousDate=moment($scope.currentDay),previousView=angular.copy($scope.view),refreshCalendar=calendarDebounce(function(){calendarTitle[$scope.view]&&($scope.viewTitle=calendarTitle[$scope.view]($scope.currentDay)),$scope.events.map&&($scope.events=$scope.events.map(function(event,index){return Object.defineProperty(event,"$id",{enumerable:!1,value:index}),event}));var currentDate=moment($scope.currentDay),shouldUpdate=!0;previousDate.clone().startOf($scope.view).isSame(currentDate.clone().startOf($scope.view))&&!previousDate.isSame(currentDate)&&$scope.view===previousView&&(shouldUpdate=!1),previousDate=currentDate,previousView=angular.copy($scope.view),shouldUpdate&&$scope.$broadcast("calendar.refreshView")},50),unbindLocaleWatcher=$scope.$watch(function(){return moment.locale()+$locale.id},refreshCalendar),unbindOnDestroy=[];unbindOnDestroy.push(unbindLocaleWatcher),unbindOnDestroy.push($scope.$watch("currentDay",refreshCalendar)),unbindOnDestroy.push($scope.$watch("view",refreshCalendar)),unbindOnDestroy.push($scope.$watch("events",refreshCalendar,!0));var unbindDestroyListener=$scope.$on("$destroy",function(){unbindOnDestroy.forEach(function(unbind){unbind()})});unbindOnDestroy.push(unbindDestroyListener)}]).directive("mwlCalendar",function(){return{templateUrl:"src/templates/calendar.html",restrict:"EA",scope:{events:"=",view:"=",viewTitle:"=",currentDay:"=",editEventHtml:"=",deleteEventHtml:"=",autoOpen:"=",onEventClick:"&",onEventDrop:"&",onEditEventClick:"&",onDeleteEventClick:"&",onTimespanClick:"&",onDrillDownClick:"&",dayViewStart:"@",dayViewEnd:"@",dayViewSplit:"@"},controller:"MwlCalendarCtrl as vm"}})}(window,angular),angular.module("bootstrapLightbox",["ui.bootstrap"]);try{angular.module("angular-loading-bar"),angular.module("bootstrapLightbox").requires.push("angular-loading-bar")}catch(e){}try{angular.module("ngTouch"),angular.module("bootstrapLightbox").requires.push("ngTouch")}catch(e){}angular.module("bootstrapLightbox").run(["$templateCache",function($templateCache){"use strict";$templateCache.put("lightbox.html",'<div class=modal-body ng-swipe-left=Lightbox.nextImage() ng-swipe-right=Lightbox.prevImage()><div class=lightbox-nav><button class=close aria-hidden=true ng-click=$dismiss()></button><div class=btn-group><a class="btn btn-xs btn-default" ng-click=Lightbox.prevImage()> Previous</a> <a ng-href={{Lightbox.imageUrl}} target=_blank class="btn btn-xs btn-default" title="Open in new tab">Open image in new tab</a> <a class="btn btn-xs btn-default" ng-click=Lightbox.nextImage()>Next </a></div></div><div class=lightbox-image-container><div class=lightbox-image-caption><span>{{Lightbox.imageCaption}}</span></div><img lightbox-src={{Lightbox.imageUrl}} alt=""></div></div>')}]),angular.module("bootstrapLightbox").service("ImageLoader",["$q",function($q){this.load=function(url){var deferred=$q.defer(),image=new Image;return image.onload=function(){("boolean"==typeof this.complete&&this.complete===!1||"number"==typeof this.naturalWidth&&0===this.naturalWidth)&&deferred.reject(),deferred.resolve(image)},image.onerror=function(){deferred.reject()},image.src=url,deferred.promise}}]),angular.module("bootstrapLightbox").provider("Lightbox",function(){this.templateUrl="lightbox.html",this.getImageUrl=function(image){return image.url},this.getImageCaption=function(image){return image.caption},this.calculateImageDimensionLimits=function(dimensions){return dimensions.windowWidth>=768?{maxWidth:dimensions.windowWidth-92,maxHeight:dimensions.windowHeight-126}:{maxWidth:dimensions.windowWidth-52,maxHeight:dimensions.windowHeight-86}},this.calculateModalDimensions=function(dimensions){var width=Math.max(400,dimensions.imageDisplayWidth+32),height=Math.max(200,dimensions.imageDisplayHeight+66);return(width>=dimensions.windowWidth-20||dimensions.windowWidth<768)&&(width="auto"),height>=dimensions.windowHeight&&(height="auto"),{width:width,height:height}},this.$get=["$document","$injector","$modal","$timeout","ImageLoader",function($document,$injector,$modal,$timeout,ImageLoader){var cfpLoadingBar=$injector.has("cfpLoadingBar")?$injector.get("cfpLoadingBar"):null,Lightbox={};return Lightbox.images=[],Lightbox.index=-1,Lightbox.templateUrl=this.templateUrl,Lightbox.getImageUrl=this.getImageUrl,Lightbox.getImageCaption=this.getImageCaption,Lightbox.calculateImageDimensionLimits=this.calculateImageDimensionLimits,Lightbox.calculateModalDimensions=this.calculateModalDimensions,Lightbox.keyboardNavEnabled=!1,Lightbox.image={},Lightbox.modalInstance=null,Lightbox.openModal=function(newImages,newIndex){return Lightbox.images=newImages,Lightbox.setImage(newIndex),Lightbox.modalInstance=$modal.open({templateUrl:Lightbox.templateUrl,controller:["$scope",function($scope){$scope.Lightbox=Lightbox,Lightbox.keyboardNavEnabled=!0}],windowClass:"lightbox-modal"}),Lightbox.modalInstance.result["finally"](function(){Lightbox.images=[],Lightbox.index=1,Lightbox.image={},Lightbox.imageUrl=null,Lightbox.imageCaption=null,Lightbox.keyboardNavEnabled=!1,cfpLoadingBar&&cfpLoadingBar.complete()}),Lightbox.modalInstance},Lightbox.closeModal=function(result){return Lightbox.modalInstance.close(result)},Lightbox.setImage=function(newIndex){if(!(newIndex in Lightbox.images))throw"Invalid image.";cfpLoadingBar&&cfpLoadingBar.start();var success=function(){Lightbox.index=newIndex,Lightbox.image=Lightbox.images[Lightbox.index],cfpLoadingBar&&cfpLoadingBar.complete()},imageUrl=Lightbox.getImageUrl(Lightbox.images[newIndex]);ImageLoader.load(imageUrl).then(function(){success(),Lightbox.imageUrl=imageUrl,Lightbox.imageCaption=Lightbox.getImageCaption(Lightbox.image)},function(){success(),Lightbox.imageUrl="//:0",Lightbox.imageCaption="Failed to load image"})},Lightbox.firstImage=function(){Lightbox.setImage(0)},Lightbox.prevImage=function(){Lightbox.setImage((Lightbox.index-1+Lightbox.images.length)%Lightbox.images.length)},Lightbox.nextImage=function(){Lightbox.setImage((Lightbox.index+1)%Lightbox.images.length)},Lightbox.lastImage=function(){Lightbox.setImage(Lightbox.images.length-1)},Lightbox.setImages=function(newImages){Lightbox.images=newImages,Lightbox.setImage(Lightbox.index)},$document.bind("keydown",function(event){if(Lightbox.keyboardNavEnabled){var method=null;switch(event.which){case 39:method="nextImage";break;case 37:method="prevImage"}null!==method&&["input","textarea"].indexOf(event.target.tagName.toLowerCase())===-1&&($timeout(function(){Lightbox[method]()}),event.preventDefault())}}),Lightbox}]}),angular.module("bootstrapLightbox").directive("lightboxSrc",["$window","ImageLoader","Lightbox",function($window,ImageLoader,Lightbox){var calculateImageDisplayDimensions=function(dimensions){var w=dimensions.width,h=dimensions.height,minW=dimensions.minWidth,minH=dimensions.minHeight,maxW=dimensions.maxWidth,maxH=dimensions.maxHeight,displayW=w,displayH=h;return w<minW&&h<minH?w/h>maxW/maxH?(displayH=minH,displayW=Math.round(w*minH/h)):(displayW=minW,displayH=Math.round(h*minW/w)):w<minW?(displayW=minW,displayH=Math.round(h*minW/w)):h<minH&&(displayH=minH,displayW=Math.round(w*minH/h)),w>maxW&&h>maxH?w/h>maxW/maxH?(displayW=maxW,displayH=Math.round(h*maxW/w)):(displayH=maxH,displayW=Math.round(w*maxH/h)):w>maxW?(displayW=maxW,displayH=Math.round(h*maxW/w)):h>maxH&&(displayH=maxH,displayW=Math.round(w*maxH/h)),{width:displayW||0,height:displayH||0}},imageWidth=0,imageHeight=0;return{link:function(scope,element,attrs){var resize=function(){var windowWidth=$window.innerWidth,windowHeight=$window.innerHeight,imageDimensionLimits=Lightbox.calculateImageDimensionLimits({windowWidth:windowWidth,windowHeight:windowHeight,imageWidth:imageWidth,imageHeight:imageHeight}),imageDisplayDimensions=calculateImageDisplayDimensions(angular.extend({width:imageWidth,height:imageHeight,minWidth:1,minHeight:1,maxWidth:3e3,maxHeight:3e3},imageDimensionLimits)),modalDimensions=Lightbox.calculateModalDimensions({windowWidth:windowWidth,windowHeight:windowHeight,imageDisplayWidth:imageDisplayDimensions.width,imageDisplayHeight:imageDisplayDimensions.height});element.css({width:imageDisplayDimensions.width+"px",height:imageDisplayDimensions.height+"px"}),angular.element(document.querySelector(".lightbox-modal .modal-dialog")).css({width:modalDimensions.width+"px"}),angular.element(document.querySelector(".lightbox-modal .modal-content")).css({height:modalDimensions.height+"px"})};scope.$watch(function(){return attrs.lightboxSrc},function(src){element[0].src="//:0",ImageLoader.load(src).then(function(image){imageWidth=image.naturalWidth,imageHeight=image.naturalHeight,resize(),element[0].src=src})}),angular.element($window).on("resize",resize)}}}]),angular.module("angular-capitalize-filter",[]).filter("capitalize",function(){return function(input,format){if(!input)return input;if(format=format||"all","first"===format)return input.charAt(0).toUpperCase()+input.slice(1).toLowerCase();var words=input.split(" "),result=[];return words.forEach(function(word){2===word.length&&"team"===format?result.push(word.toUpperCase()):result.push(word.charAt(0).toUpperCase()+word.slice(1).toLowerCase())}),result.join(" ")}}),function(window,angular,undefined){"use strict";function $$CookieWriter($document,$log,$browser){function buildCookieString(name,value,options){var path,expires;options=options||{},expires=options.expires,path=angular.isDefined(options.path)?options.path:cookiePath,value===undefined&&(expires="Thu, 01 Jan 1970 00:00:00 GMT",value=""),angular.isString(expires)&&(expires=new Date(expires));var str=encodeURIComponent(name)+"="+encodeURIComponent(value);str+=path?";path="+path:"",str+=options.domain?";domain="+options.domain:"",str+=expires?";expires="+expires.toUTCString():"",str+=options.secure?";secure":"";var cookieLength=str.length+1;return cookieLength>4096&&$log.warn("Cookie '"+name+"' possibly not set or overflowed because it was too large ("+cookieLength+" > 4096 bytes)!"),str}var cookiePath=$browser.baseHref(),rawDocument=$document[0];return function(name,value,options){rawDocument.cookie=buildCookieString(name,value,options)}}angular.module("ngCookies",["ng"]).provider("$cookies",[function(){function calcOptions(options){return options?angular.extend({},defaults,options):defaults}var defaults=this.defaults={};this.$get=["$$cookieReader","$$cookieWriter",function($$cookieReader,$$cookieWriter){return{get:function(key){return $$cookieReader()[key]},getObject:function(key){var value=this.get(key);return value?angular.fromJson(value):value},getAll:function(){return $$cookieReader()},put:function(key,value,options){$$cookieWriter(key,value,calcOptions(options))},putObject:function(key,value,options){this.put(key,angular.toJson(value),options)},remove:function(key,options){$$cookieWriter(key,undefined,calcOptions(options))}}}]}]),angular.module("ngCookies").factory("$cookieStore",["$cookies",function($cookies){return{get:function(key){return $cookies.getObject(key)},put:function(key,value){$cookies.putObject(key,value)},remove:function(key){$cookies.remove(key)}}}]),$$CookieWriter.$inject=["$document","$log","$browser"],angular.module("ngCookies").provider("$$cookieWriter",function(){this.$get=$$CookieWriter})}(window,window.angular),function(window,angular,undefined){"use strict";!function(){angular.module("ngMaterial",["ng","ngAnimate","ngAria","material.core","material.core.gestures","material.core.theming.palette","material.core.theming","material.components.autocomplete","material.components.backdrop","material.components.bottomSheet","material.components.button","material.components.card","material.components.checkbox","material.components.chips","material.components.content","material.components.dialog","material.components.divider","material.components.fabActions","material.components.fabSpeedDial","material.components.fabToolbar","material.components.fabTrigger","material.components.gridList","material.components.icon","material.components.input","material.components.list","material.components.menu","material.components.progressCircular","material.components.progressLinear","material.components.radioButton","material.components.select","material.components.sidenav","material.components.slider","material.components.sticky","material.components.subheader","material.components.swipe","material.components.switch","material.components.tabs","material.components.toast","material.components.toolbar","material.components.tooltip","material.components.virtualRepeat","material.components.whiteframe"])}(),function(){function MdCoreConfigure($provide,$mdThemingProvider){$provide.decorator("$$rAF",["$delegate",rAFDecorator]),$mdThemingProvider.theme("default").primaryPalette("indigo").accentPalette("pink").warnPalette("red").backgroundPalette("grey")}function rAFDecorator($delegate){return $delegate.throttle=function(cb){var queuedArgs,alreadyQueued,queueCb,context;return function(){queuedArgs=arguments,context=this,queueCb=cb,alreadyQueued||(alreadyQueued=!0,$delegate(function(){queueCb.apply(context,Array.prototype.slice.call(queuedArgs)),alreadyQueued=!1}))}},$delegate}angular.module("material.core",["material.core.gestures","material.core.theming"]).config(MdCoreConfigure),MdCoreConfigure.$inject=["$provide","$mdThemingProvider"]}(),function(){function AnimateDomUtils($mdUtil,$$rAF,$q,$timeout,$mdConstant){var self;return self={translate3d:function(target,from,to,options){function reverseTranslate(newFrom){return target.removeClass(options.transitionInClass).addClass(options.transitionOutClass).css(newFrom||from),self.waitTransitionEnd(target)}return target.css(from),$$rAF(function(){target.css(to).addClass(options.transitionInClass)}),self.waitTransitionEnd(target).then(function(){return reverseTranslate})},waitTransitionEnd:function(element,opts){var TIMEOUT=3e3;return $q(function(resolve,reject){function finished(ev){ev&&ev.target!==element[0]||(ev&&$timeout.cancel(timer),element.off($mdConstant.CSS.TRANSITIONEND,finished),resolve())}opts=opts||{};var timer=$timeout(finished,opts.timeout||TIMEOUT);element.on($mdConstant.CSS.TRANSITIONEND,finished)})},calculateZoomToOrigin:function(element,originator){var origin=originator.element,zoomTemplate="translate3d( {centerX}px, {centerY}px, 0 ) scale( {scaleX}, {scaleY} )",buildZoom=angular.bind(null,$mdUtil.supplant,zoomTemplate),zoomStyle=buildZoom({centerX:0,centerY:0,scaleX:.5,scaleY:.5});if(origin){var originBnds=self.clientRect(origin)||self.copyRect(originator.bounds),dialogRect=self.copyRect(element[0].getBoundingClientRect()),dialogCenterPt=self.centerPointFor(dialogRect),originCenterPt=self.centerPointFor(originBnds);zoomStyle=buildZoom({centerX:originCenterPt.x-dialogCenterPt.x,centerY:originCenterPt.y-dialogCenterPt.y,scaleX:Math.min(.5,originBnds.width/dialogRect.width),scaleY:Math.min(.5,originBnds.height/dialogRect.height)})}return zoomStyle},toTransformCss:function(transform,addTransition){var css={};return angular.forEach($mdConstant.CSS.TRANSFORM.split(" "),function(key){css[key]=transform}),addTransition&&(css.transition="all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1) !important"),css},copyRect:function(source,destination){return source?(destination=destination||{},angular.forEach("left top right bottom width height".split(" "),function(key){destination[key]=Math.round(source[key])}),destination.width=destination.width||destination.right-destination.left,destination.height=destination.height||destination.bottom-destination.top,destination):null},clientRect:function(element){var bounds=angular.element(element)[0].getBoundingClientRect(),isPositiveSizeClientRect=function(rect){return rect&&rect.width>0&&rect.height>0};return isPositiveSizeClientRect(bounds)?self.copyRect(bounds):null},centerPointFor:function(targetRect){return{x:Math.round(targetRect.left+targetRect.width/2),y:Math.round(targetRect.top+targetRect.height/2)}}}}angular.module("material.core").factory("$$mdAnimate",["$$rAF","$q","$timeout","$mdConstant",function($$rAF,$q,$timeout,$mdConstant){return function($mdUtil){return AnimateDomUtils($mdUtil,$$rAF,$q,$timeout,$mdConstant)}}])}(),function(){function MdConstantFactory($sniffer){function vendorProperty(name){return webkit?"webkit"+name.charAt(0).toUpperCase()+name.substring(1):name}var webkit=/webkit/i.test($sniffer.vendorPrefix);return{KEY_CODE:{ENTER:13,ESCAPE:27,SPACE:32,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,TAB:9,BACKSPACE:8,DELETE:46},CSS:{TRANSITIONEND:"transitionend"+(webkit?" webkitTransitionEnd":""),ANIMATIONEND:"animationend"+(webkit?" webkitAnimationEnd":""),TRANSFORM:vendorProperty("transform"),TRANSFORM_ORIGIN:vendorProperty("transformOrigin"),TRANSITION:vendorProperty("transition"),TRANSITION_DURATION:vendorProperty("transitionDuration"),ANIMATION_PLAY_STATE:vendorProperty("animationPlayState"),ANIMATION_DURATION:vendorProperty("animationDuration"),ANIMATION_NAME:vendorProperty("animationName"),ANIMATION_TIMING:vendorProperty("animationTimingFunction"),ANIMATION_DIRECTION:vendorProperty("animationDirection")},MEDIA:{sm:"(max-width: 599px)","gt-sm":"(min-width: 600px)",md:"(min-width: 600px) and (max-width: 959px)","gt-md":"(min-width: 960px)",lg:"(min-width: 960px) and (max-width: 1199px)","gt-lg":"(min-width: 1200px)"},MEDIA_PRIORITY:["gt-lg","lg","gt-md","md","gt-sm","sm"]}}angular.module("material.core").factory("$mdConstant",MdConstantFactory),MdConstantFactory.$inject=["$sniffer"]}(),function(){function MdIterator(items,reloop){function getItems(){return[].concat(_items)}function count(){return _items.length}function inRange(index){return _items.length&&index>-1&&index<_items.length}function hasNext(item){return!!item&&inRange(indexOf(item)+1)}function hasPrevious(item){return!!item&&inRange(indexOf(item)-1)}function itemAt(index){return inRange(index)?_items[index]:null}function findBy(key,val){return _items.filter(function(item){return item[key]===val})}function add(item,index){return item?(angular.isNumber(index)||(index=_items.length),_items.splice(index,0,item),indexOf(item)):-1}function remove(item){contains(item)&&_items.splice(indexOf(item),1)}function indexOf(item){return _items.indexOf(item)}function contains(item){return item&&indexOf(item)>-1}function first(){return _items.length?_items[0]:null}function last(){return _items.length?_items[_items.length-1]:null}function findSubsequentItem(backwards,item,validate,limit){validate=validate||trueFn;for(var curIndex=indexOf(item);;){if(!inRange(curIndex))return null;var nextIndex=curIndex+(backwards?-1:1),foundItem=null;if(inRange(nextIndex)?foundItem=_items[nextIndex]:reloop&&(foundItem=backwards?last():first(),nextIndex=indexOf(foundItem)),null===foundItem||nextIndex===limit)return null;if(validate(foundItem))return foundItem;angular.isUndefined(limit)&&(limit=nextIndex),curIndex=nextIndex}}var trueFn=function(){return!0};items&&!angular.isArray(items)&&(items=Array.prototype.slice.call(items)),reloop=!!reloop;var _items=items||[];return{items:getItems,count:count,inRange:inRange,contains:contains,indexOf:indexOf,itemAt:itemAt,findBy:findBy,add:add,remove:remove,first:first,last:last,next:angular.bind(null,findSubsequentItem,!1),previous:angular.bind(null,findSubsequentItem,!0),hasPrevious:hasPrevious,hasNext:hasNext}}angular.module("material.core").config(["$provide",function($provide){$provide.decorator("$mdUtil",["$delegate",function($delegate){return $delegate.iterator=MdIterator,$delegate}])}])}(),function(){function mdMediaFactory($mdConstant,$rootScope,$window){function $mdMedia(query){var validated=queries[query];angular.isUndefined(validated)&&(validated=queries[query]=validate(query));var result=results[validated];return angular.isUndefined(result)&&(result=add(validated)),result}function validate(query){return $mdConstant.MEDIA[query]||("("!==query.charAt(0)?"("+query+")":query)}function add(query){var result=mqls[query]=$window.matchMedia(query);return result.addListener(onQueryChange),results[result.media]=!!result.matches}function onQueryChange(query){$rootScope.$evalAsync(function(){results[query.media]=!!query.matches})}function getQuery(name){return mqls[name]}function getResponsiveAttribute(attrs,attrName){for(var i=0;i<$mdConstant.MEDIA_PRIORITY.length;i++){var mediaName=$mdConstant.MEDIA_PRIORITY[i];if(mqls[queries[mediaName]].matches){var normalizedName=getNormalizedName(attrs,attrName+"-"+mediaName);if(attrs[normalizedName])return attrs[normalizedName]}}return attrs[getNormalizedName(attrs,attrName)]}function watchResponsiveAttributes(attrNames,attrs,watchFn){var unwatchFns=[];return attrNames.forEach(function(attrName){var normalizedName=getNormalizedName(attrs,attrName);attrs[normalizedName]&&unwatchFns.push(attrs.$observe(normalizedName,angular.bind(void 0,watchFn,null)));for(var mediaName in $mdConstant.MEDIA){if(normalizedName=getNormalizedName(attrs,attrName+"-"+mediaName),!attrs[normalizedName])return;unwatchFns.push(attrs.$observe(normalizedName,angular.bind(void 0,watchFn,mediaName)))}}),function(){unwatchFns.forEach(function(fn){fn()})}}function getNormalizedName(attrs,attrName){return normalizeCache[attrName]||(normalizeCache[attrName]=attrs.$normalize(attrName))}var queries={},mqls={},results={},normalizeCache={};return $mdMedia.getResponsiveAttribute=getResponsiveAttribute,$mdMedia.getQuery=getQuery,$mdMedia.watchResponsiveAttributes=watchResponsiveAttributes,$mdMedia}angular.module("material.core").factory("$mdMedia",mdMediaFactory),mdMediaFactory.$inject=["$mdConstant","$rootScope","$window"]}(),function(){var nextUniqueId=0;angular.module("material.core").factory("$mdUtil",["$cacheFactory","$document","$timeout","$q","$compile","$window","$mdConstant","$$rAF","$rootScope","$$mdAnimate",function($cacheFactory,$document,$timeout,$q,$compile,$window,$mdConstant,$$rAF,$rootScope,$$mdAnimate){function getNode(el){return el[0]||el}var $mdUtil={dom:{},now:window.performance?angular.bind(window.performance,window.performance.now):Date.now,clientRect:function(element,offsetParent,isOffsetRect){var node=getNode(element);offsetParent=getNode(offsetParent||node.offsetParent||document.body);var nodeRect=node.getBoundingClientRect(),offsetRect=isOffsetRect?offsetParent.getBoundingClientRect():{left:0,top:0,width:0,height:0};return{left:nodeRect.left-offsetRect.left,top:nodeRect.top-offsetRect.top,width:nodeRect.width,height:nodeRect.height}},offsetRect:function(element,offsetParent){return $mdUtil.clientRect(element,offsetParent,!0)},nodesToArray:function(nodes){nodes=nodes||[];for(var results=[],i=0;i<nodes.length;++i)results.push(nodes.item(i));return results},scrollTop:function(element){element=angular.element(element||$document[0].body);var body=element[0]==$document[0].body?$document[0].body:undefined,scrollTop=body?body.scrollTop+body.parentElement.scrollTop:0;return scrollTop||Math.abs(element[0].getBoundingClientRect().top)},disableScrollAround:function(element,parent){function disableElementScroll(element){function disableKeyNav(e){}function preventDefault(e){e.preventDefault()}element=angular.element(element||body)[0];var zIndex=50,scrollMask=angular.element('<div class="md-scroll-mask" style="z-index: '+zIndex+'">  <div class="md-scroll-mask-bar"></div></div>');return element.appendChild(scrollMask[0]),scrollMask.on("wheel",preventDefault),scrollMask.on("touchmove",preventDefault),$document.on("keydown",disableKeyNav),function(){scrollMask.off("wheel"),scrollMask.off("touchmove"),scrollMask[0].parentNode.removeChild(scrollMask[0]),$document.off("keydown",disableKeyNav),delete $mdUtil.disableScrollAround._enableScrolling}}function disableBodyScroll(){var htmlNode=body.parentNode,restoreHtmlStyle=htmlNode.getAttribute("style")||"",restoreBodyStyle=body.getAttribute("style")||"",scrollOffset=$mdUtil.scrollTop(body),clientWidth=body.clientWidth;return body.scrollHeight>body.clientHeight&&(applyStyles(body,{position:"fixed",width:"100%",top:-scrollOffset+"px"}),applyStyles(htmlNode,{overflowY:"scroll"})),body.clientWidth<clientWidth&&applyStyles(body,{overflow:"hidden"}),function(){body.setAttribute("style",restoreBodyStyle),htmlNode.setAttribute("style",restoreHtmlStyle),body.scrollTop=scrollOffset}}function applyStyles(el,styles){for(var key in styles)el.style[key]=styles[key]}if($mdUtil.disableScrollAround._count=$mdUtil.disableScrollAround._count||0,++$mdUtil.disableScrollAround._count,$mdUtil.disableScrollAround._enableScrolling)return $mdUtil.disableScrollAround._enableScrolling;element=angular.element(element);var body=$document[0].body,restoreBody=disableBodyScroll(),restoreElement=disableElementScroll(parent);return $mdUtil.disableScrollAround._enableScrolling=function(){--$mdUtil.disableScrollAround._count||(restoreBody(),restoreElement(),delete $mdUtil.disableScrollAround._enableScrolling)}},enableScrolling:function(){var method=this.disableScrollAround._enableScrolling;method&&method()},floatingScrollbars:function(){if(this.floatingScrollbars.cached===undefined){var tempNode=angular.element('<div style="width: 100%; z-index: -1; position: absolute; height: 35px; overflow-y: scroll"><div style="height: 60;"></div></div>');$document[0].body.appendChild(tempNode[0]),this.floatingScrollbars.cached=tempNode[0].offsetWidth==tempNode[0].childNodes[0].offsetWidth,tempNode.remove()}return this.floatingScrollbars.cached},forceFocus:function(element){var node=element[0]||element;document.addEventListener("click",function focusOnClick(ev){ev.target===node&&ev.$focus&&(node.focus(),ev.stopImmediatePropagation(),ev.preventDefault(),node.removeEventListener("click",focusOnClick))},!0);var newEvent=document.createEvent("MouseEvents");newEvent.initMouseEvent("click",!1,!0,window,{},0,0,0,0,!1,!1,!1,!1,0,null),newEvent.$material=!0,newEvent.$focus=!0,node.dispatchEvent(newEvent)},createBackdrop:function(scope,addClass){return $compile($mdUtil.supplant('<md-backdrop class="{0}">',[addClass]))(scope)},supplant:function(template,values,pattern){return pattern=pattern||/\{([^\{\}]*)\}/g,template.replace(pattern,function(a,b){var p=b.split("."),r=values;try{for(var s in p)r=r[p[s]]}catch(e){r=a}return"string"==typeof r||"number"==typeof r?r:a})},fakeNgModel:function(){return{$fake:!0,$setTouched:angular.noop,$setViewValue:function(value){this.$viewValue=value,this.$render(value),this.$viewChangeListeners.forEach(function(cb){
cb()})},$isEmpty:function(value){return 0===(""+value).length},$parsers:[],$formatters:[],$viewChangeListeners:[],$render:angular.noop}},debounce:function(func,wait,scope,invokeApply){var timer;return function(){var context=scope,args=Array.prototype.slice.call(arguments);$timeout.cancel(timer),timer=$timeout(function(){timer=undefined,func.apply(context,args)},wait||10,invokeApply)}},throttle:function(func,delay){var recent;return function(){var context=this,args=arguments,now=$mdUtil.now();(!recent||now-recent>delay)&&(func.apply(context,args),recent=now)}},time:function(cb){var start=$mdUtil.now();return cb(),$mdUtil.now()-start},nextUid:function(){return""+nextUniqueId++},disconnectScope:function(scope){if(scope&&scope.$root!==scope&&!scope.$$destroyed){var parent=scope.$parent;scope.$$disconnected=!0,parent.$$childHead===scope&&(parent.$$childHead=scope.$$nextSibling),parent.$$childTail===scope&&(parent.$$childTail=scope.$$prevSibling),scope.$$prevSibling&&(scope.$$prevSibling.$$nextSibling=scope.$$nextSibling),scope.$$nextSibling&&(scope.$$nextSibling.$$prevSibling=scope.$$prevSibling),scope.$$nextSibling=scope.$$prevSibling=null}},reconnectScope:function(scope){if(scope&&scope.$root!==scope&&scope.$$disconnected){var child=scope,parent=child.$parent;child.$$disconnected=!1,child.$$prevSibling=parent.$$childTail,parent.$$childHead?(parent.$$childTail.$$nextSibling=child,parent.$$childTail=child):parent.$$childHead=parent.$$childTail=child}},getClosest:function(el,tagName,onlyParent){if(el instanceof angular.element&&(el=el[0]),tagName=tagName.toUpperCase(),onlyParent&&(el=el.parentNode),!el)return null;do if(el.nodeName===tagName)return el;while(el=el.parentNode);return null},extractElementByName:function(element,nodeName){for(var i=0,len=element.length;i<len;i++)if(element[i].nodeName.toLowerCase()===nodeName)return angular.element(element[i]);return element},initOptionalProperties:function(scope,attr,defaults){defaults=defaults||{},angular.forEach(scope.$$isolateBindings,function(binding,key){if(binding.optional&&angular.isUndefined(scope[key])){var attrIsDefined=angular.isDefined(attr[binding.attrName]);scope[key]=angular.isDefined(defaults[key])?defaults[key]:attrIsDefined}})},nextTick:function(callback,digest){function processQueue(){var queue=nextTick.queue,digest=nextTick.digest;nextTick.queue=[],nextTick.timeout=null,nextTick.digest=!1,queue.forEach(function(callback){callback()}),digest&&$rootScope.$digest()}var nextTick=$mdUtil.nextTick,timeout=nextTick.timeout,queue=nextTick.queue||[];return queue.push(callback),null==digest&&(digest=!0),nextTick.digest=nextTick.digest||digest,nextTick.queue=queue,timeout||(nextTick.timeout=$timeout(processQueue,0,!1))}};return $mdUtil.dom.animator=$$mdAnimate($mdUtil),$mdUtil}]),angular.element.prototype.focus=angular.element.prototype.focus||function(){return this.length&&this[0].focus(),this},angular.element.prototype.blur=angular.element.prototype.blur||function(){return this.length&&this[0].blur(),this}}(),function(){function AriaService($$rAF,$log,$window){function expect(element,attrName,defaultValue){var node=element[0]||element;!node||node.hasAttribute(attrName)&&0!==node.getAttribute(attrName).length||childHasAttribute(node,attrName)||(defaultValue=angular.isString(defaultValue)?defaultValue.trim():"",defaultValue.length?element.attr(attrName,defaultValue):$log.warn('ARIA: Attribute "',attrName,'", required for accessibility, is missing on node:',node))}function expectAsync(element,attrName,defaultValueGetter){$$rAF(function(){expect(element,attrName,defaultValueGetter())})}function expectWithText(element,attrName){expectAsync(element,attrName,function(){return getText(element)})}function getText(element){return element.text().trim()}function childHasAttribute(node,attrName){function isHidden(el){var style=el.currentStyle?el.currentStyle:$window.getComputedStyle(el);return"none"===style.display}var hasChildren=node.hasChildNodes(),hasAttr=!1;if(hasChildren)for(var children=node.childNodes,i=0;i<children.length;i++){var child=children[i];1===child.nodeType&&child.hasAttribute(attrName)&&(isHidden(child)||(hasAttr=!0))}return hasAttr}return{expect:expect,expectAsync:expectAsync,expectWithText:expectWithText}}angular.module("material.core").service("$mdAria",AriaService),AriaService.$inject=["$$rAF","$log","$window"]}(),function(){function mdCompilerService($q,$http,$injector,$compile,$controller,$templateCache){this.compile=function(options){var templateUrl=options.templateUrl,template=options.template||"",controller=options.controller,controllerAs=options.controllerAs,resolve=angular.extend({},options.resolve||{}),locals=angular.extend({},options.locals||{}),transformTemplate=options.transformTemplate||angular.identity,bindToController=options.bindToController;return angular.forEach(resolve,function(value,key){angular.isString(value)?resolve[key]=$injector.get(value):resolve[key]=$injector.invoke(value)}),angular.extend(resolve,locals),templateUrl?resolve.$template=$http.get(templateUrl,{cache:$templateCache}).then(function(response){return response.data}):resolve.$template=$q.when(template),$q.all(resolve).then(function(locals){var template=transformTemplate(locals.$template),element=options.element||angular.element("<div>").html(template.trim()).contents(),linkFn=$compile(element);return{locals:locals,element:element,link:function(scope){if(locals.$scope=scope,controller){var invokeCtrl=$controller(controller,locals,!0);bindToController&&angular.extend(invokeCtrl.instance,locals);var ctrl=invokeCtrl();element.data("$ngControllerController",ctrl),element.children().data("$ngControllerController",ctrl),controllerAs&&(scope[controllerAs]=ctrl)}return linkFn(scope)}}})}}angular.module("material.core").service("$mdCompiler",mdCompilerService),mdCompilerService.$inject=["$q","$http","$injector","$compile","$controller","$templateCache"]}(),function(){function MdGestureProvider(){}function MdGesture($$MdGestureHandler,$$rAF,$timeout){function register(element,handlerName,options){var handler=HANDLERS[handlerName.replace(/^\$md./,"")];if(!handler)throw new Error("Failed to register element with handler "+handlerName+". Available handlers: "+Object.keys(HANDLERS).join(", "));return handler.registerElement(element,options)}function addHandler(name,definition){var handler=new $$MdGestureHandler(name);return angular.extend(handler,definition),HANDLERS[name]=handler,self}var userAgent=navigator.userAgent||navigator.vendor||window.opera,isIos=userAgent.match(/ipad|iphone|ipod/i),isAndroid=userAgent.match(/android/i),hasJQuery="undefined"!=typeof window.jQuery&&angular.element===window.jQuery,self={handler:addHandler,register:register,isHijackingClicks:(isIos||isAndroid)&&!hasJQuery&&!forceSkipClickHijack};return self.isHijackingClicks&&self.handler("click",{options:{maxDistance:6},onEnd:function(ev,pointer){pointer.distance<this.state.options.maxDistance&&this.dispatchEvent(ev,"click")}}),self.handler("press",{onStart:function(ev,pointer){this.dispatchEvent(ev,"$md.pressdown")},onEnd:function(ev,pointer){this.dispatchEvent(ev,"$md.pressup")}}).handler("hold",{options:{maxDistance:6,delay:500},onCancel:function(){$timeout.cancel(this.state.timeout)},onStart:function(ev,pointer){return this.state.registeredParent?(this.state.pos={x:pointer.x,y:pointer.y},void(this.state.timeout=$timeout(angular.bind(this,function(){this.dispatchEvent(ev,"$md.hold"),this.cancel()}),this.state.options.delay,!1))):this.cancel()},onMove:function(ev,pointer){ev.preventDefault();var dx=this.state.pos.x-pointer.x,dy=this.state.pos.y-pointer.y;Math.sqrt(dx*dx+dy*dy)>this.options.maxDistance&&this.cancel()},onEnd:function(){this.onCancel()}}).handler("drag",{options:{minDistance:6,horizontal:!0,cancelMultiplier:1.5},onStart:function(ev){this.state.registeredParent||this.cancel()},onMove:function(ev,pointer){var shouldStartDrag,shouldCancel;ev.preventDefault(),this.state.dragPointer?this.dispatchDragMove(ev):(this.state.options.horizontal?(shouldStartDrag=Math.abs(pointer.distanceX)>this.state.options.minDistance,shouldCancel=Math.abs(pointer.distanceY)>this.state.options.minDistance*this.state.options.cancelMultiplier):(shouldStartDrag=Math.abs(pointer.distanceY)>this.state.options.minDistance,shouldCancel=Math.abs(pointer.distanceX)>this.state.options.minDistance*this.state.options.cancelMultiplier),shouldStartDrag?(this.state.dragPointer=makeStartPointer(ev),updatePointerState(ev,this.state.dragPointer),this.dispatchEvent(ev,"$md.dragstart",this.state.dragPointer)):shouldCancel&&this.cancel())},dispatchDragMove:$$rAF.throttle(function(ev){this.state.isRunning&&(updatePointerState(ev,this.state.dragPointer),this.dispatchEvent(ev,"$md.drag",this.state.dragPointer))}),onEnd:function(ev,pointer){this.state.dragPointer&&(updatePointerState(ev,this.state.dragPointer),this.dispatchEvent(ev,"$md.dragend",this.state.dragPointer))}}).handler("swipe",{options:{minVelocity:.65,minDistance:10},onEnd:function(ev,pointer){if(Math.abs(pointer.velocityX)>this.state.options.minVelocity&&Math.abs(pointer.distanceX)>this.state.options.minDistance){var eventType="left"==pointer.directionX?"$md.swipeleft":"$md.swiperight";this.dispatchEvent(ev,eventType)}}})}function GestureHandler(name){this.name=name,this.state={}}function MdGestureHandler(){function jQueryDispatchEvent(srcEvent,eventType,eventPointer){eventPointer=eventPointer||pointer;var eventObj=new angular.element.Event(eventType);eventObj.$material=!0,eventObj.pointer=eventPointer,eventObj.srcEvent=srcEvent,angular.extend(eventObj,{clientX:eventPointer.x,clientY:eventPointer.y,screenX:eventPointer.x,screenY:eventPointer.y,pageX:eventPointer.x,pageY:eventPointer.y,ctrlKey:srcEvent.ctrlKey,altKey:srcEvent.altKey,shiftKey:srcEvent.shiftKey,metaKey:srcEvent.metaKey}),angular.element(eventPointer.target).trigger(eventObj)}function nativeDispatchEvent(srcEvent,eventType,eventPointer){eventPointer=eventPointer||pointer;var eventObj;"click"===eventType?(eventObj=document.createEvent("MouseEvents"),eventObj.initMouseEvent("click",!0,!0,window,srcEvent.detail,eventPointer.x,eventPointer.y,eventPointer.x,eventPointer.y,srcEvent.ctrlKey,srcEvent.altKey,srcEvent.shiftKey,srcEvent.metaKey,srcEvent.button,srcEvent.relatedTarget||null)):(eventObj=document.createEvent("CustomEvent"),eventObj.initCustomEvent(eventType,!0,!0,{})),eventObj.$material=!0,eventObj.pointer=eventPointer,eventObj.srcEvent=srcEvent,eventPointer.target.dispatchEvent(eventObj)}var hasJQuery="undefined"!=typeof window.jQuery&&angular.element===window.jQuery;return GestureHandler.prototype={options:{},dispatchEvent:hasJQuery?jQueryDispatchEvent:nativeDispatchEvent,onStart:angular.noop,onMove:angular.noop,onEnd:angular.noop,onCancel:angular.noop,start:function(ev,pointer){if(!this.state.isRunning){var parentTarget=this.getNearestParent(ev.target),parentTargetOptions=parentTarget&&parentTarget.$mdGesture[this.name]||{};this.state={isRunning:!0,options:angular.extend({},this.options,parentTargetOptions),registeredParent:parentTarget},this.onStart(ev,pointer)}},move:function(ev,pointer){this.state.isRunning&&this.onMove(ev,pointer)},end:function(ev,pointer){this.state.isRunning&&(this.onEnd(ev,pointer),this.state.isRunning=!1)},cancel:function(ev,pointer){this.onCancel(ev,pointer),this.state={}},getNearestParent:function(node){for(var current=node;current;){if((current.$mdGesture||{})[this.name])return current;current=current.parentNode}return null},registerElement:function(element,options){function onDestroy(){delete element[0].$mdGesture[self.name],element.off("$destroy",onDestroy)}var self=this;return element[0].$mdGesture=element[0].$mdGesture||{},element[0].$mdGesture[this.name]=options||{},element.on("$destroy",onDestroy),onDestroy}},GestureHandler}function attachToDocument($mdGesture,$$MdGestureHandler){function runHandlers(handlerEvent,event){var handler;for(var name in HANDLERS)handler=HANDLERS[name],handler instanceof $$MdGestureHandler&&("start"===handlerEvent&&handler.cancel(),handler[handlerEvent](event,pointer))}function gestureStart(ev){if(!pointer){var now=+Date.now();lastPointer&&!typesMatch(ev,lastPointer)&&now-lastPointer.endTime<1500||(pointer=makeStartPointer(ev),runHandlers("start",ev))}}function gestureMove(ev){pointer&&typesMatch(ev,pointer)&&(updatePointerState(ev,pointer),runHandlers("move",ev))}function gestureEnd(ev){pointer&&typesMatch(ev,pointer)&&(updatePointerState(ev,pointer),pointer.endTime=+Date.now(),runHandlers("end",ev),lastPointer=pointer,pointer=null)}document.contains||(document.contains=function(node){return document.body.contains(node)}),!isInitialized&&$mdGesture.isHijackingClicks&&(document.addEventListener("click",function(ev){var isKeyClick=0===ev.clientX&&0===ev.clientY;isKeyClick||ev.$material||ev.isIonicTap||(ev.preventDefault(),ev.stopPropagation())},!0),isInitialized=!0);var START_EVENTS="mousedown touchstart pointerdown",MOVE_EVENTS="mousemove touchmove pointermove",END_EVENTS="mouseup mouseleave touchend touchcancel pointerup pointercancel";angular.element(document).on(START_EVENTS,gestureStart).on(MOVE_EVENTS,gestureMove).on(END_EVENTS,gestureEnd).on("$$mdGestureReset",function(){lastPointer=pointer=null})}function makeStartPointer(ev){var point=getEventPoint(ev),startPointer={startTime:+Date.now(),target:ev.target,type:ev.type.charAt(0)};return startPointer.startX=startPointer.x=point.pageX,startPointer.startY=startPointer.y=point.pageY,startPointer}function typesMatch(ev,pointer){return ev&&pointer&&ev.type.charAt(0)===pointer.type}function updatePointerState(ev,pointer){var point=getEventPoint(ev),x=pointer.x=point.pageX,y=pointer.y=point.pageY;pointer.distanceX=x-pointer.startX,pointer.distanceY=y-pointer.startY,pointer.distance=Math.sqrt(pointer.distanceX*pointer.distanceX+pointer.distanceY*pointer.distanceY),pointer.directionX=pointer.distanceX>0?"right":pointer.distanceX<0?"left":"",pointer.directionY=pointer.distanceY>0?"up":pointer.distanceY<0?"down":"",pointer.duration=+Date.now()-pointer.startTime,pointer.velocityX=pointer.distanceX/pointer.duration,pointer.velocityY=pointer.distanceY/pointer.duration}function getEventPoint(ev){return ev=ev.originalEvent||ev,ev.touches&&ev.touches[0]||ev.changedTouches&&ev.changedTouches[0]||ev}var pointer,lastPointer,HANDLERS={},forceSkipClickHijack=!1,isInitialized=!1;angular.module("material.core.gestures",[]).provider("$mdGesture",MdGestureProvider).factory("$$MdGestureHandler",MdGestureHandler).run(attachToDocument),MdGestureProvider.prototype={skipClickHijack:function(){return forceSkipClickHijack=!0},$get:["$$MdGestureHandler","$$rAF","$timeout",function($$MdGestureHandler,$$rAF,$timeout){return new MdGesture($$MdGestureHandler,$$rAF,$timeout)}]},MdGesture.$inject=["$$MdGestureHandler","$$rAF","$timeout"],attachToDocument.$inject=["$mdGesture","$$MdGestureHandler"]}(),function(){function InterimElementProvider(){function createInterimElementProvider(interimFactoryName){function setDefaults(definition){return providerConfig.optionsFactory=definition.options,providerConfig.methods=(definition.methods||[]).concat(EXPOSED_METHODS),provider}function addMethod(name,fn){return customMethods[name]=fn,provider}function addPreset(name,definition){if(definition=definition||{},definition.methods=definition.methods||[],definition.options=definition.options||function(){return{}},/^cancel|hide|show$/.test(name))throw new Error("Preset '"+name+"' in "+interimFactoryName+" is reserved!");if(definition.methods.indexOf("_options")>-1)throw new Error("Method '_options' in "+interimFactoryName+" is reserved!");return providerConfig.presets[name]={methods:definition.methods.concat(EXPOSED_METHODS),optionsFactory:definition.options,argOption:definition.argOption},provider}function factory($$interimElement,$injector){function showInterimElement(opts){return opts=opts||{},opts._options&&(opts=opts._options),interimElementService.show(angular.extend({},defaultOptions,opts))}function invokeFactory(factory,defaultVal){var locals={};return locals[interimFactoryName]=publicService,$injector.invoke(factory||function(){return defaultVal},{},locals)}var defaultMethods,defaultOptions,interimElementService=$$interimElement(),publicService={hide:interimElementService.hide,cancel:interimElementService.cancel,show:showInterimElement};return defaultMethods=providerConfig.methods||[],defaultOptions=invokeFactory(providerConfig.optionsFactory,{}),angular.forEach(customMethods,function(fn,name){publicService[name]=fn}),angular.forEach(providerConfig.presets,function(definition,name){function Preset(opts){this._options=angular.extend({},presetDefaults,opts)}var presetDefaults=invokeFactory(definition.optionsFactory,{}),presetMethods=(definition.methods||[]).concat(defaultMethods);if(angular.extend(presetDefaults,{$type:name}),angular.forEach(presetMethods,function(name){Preset.prototype[name]=function(value){return this._options[name]=value,this}}),definition.argOption){var methodName="show"+name.charAt(0).toUpperCase()+name.slice(1);publicService[methodName]=function(arg){var config=publicService[name](arg);return publicService.show(config)}}publicService[name]=function(arg){return arguments.length&&definition.argOption&&!angular.isObject(arg)&&!angular.isArray(arg)?(new Preset)[definition.argOption](arg):new Preset(arg)}}),publicService}var EXPOSED_METHODS=["onHide","onShow","onRemove"],customMethods={},providerConfig={presets:{}},provider={setDefaults:setDefaults,addPreset:addPreset,addMethod:addMethod,$get:factory};return provider.addPreset("build",{methods:["controller","controllerAs","resolve","template","templateUrl","themable","transformTemplate","parent"]}),factory.$inject=["$$interimElement","$injector"],provider}function InterimElementFactory($document,$q,$rootScope,$timeout,$rootElement,$animate,$interpolate,$mdCompiler,$mdTheming,$log){function replaceInterpolationSymbols(text){return text&&angular.isString(text)?text.replace(/\{\{/g,startSymbol).replace(/}}/g,endSymbol):text}var startSymbol=$interpolate.startSymbol(),endSymbol=$interpolate.endSymbol(),usesStandardSymbols="{{"===startSymbol&&"}}"===endSymbol,processTemplate=usesStandardSymbols?angular.identity:replaceInterpolationSymbols;return function(){function show(options){var interimElement=new InterimElement(options),hideExisting=stack.length?service.hide():$q.when(!0);return hideExisting["finally"](function(){stack.push(interimElement),interimElement.show()["catch"](function(reason){})}),interimElement.deferred.promise}function hide(reason){var interim=stack.shift();return interim?(interim.remove(reason||SHOW_CLOSED,!1)["catch"](function(reason){}),interim.deferred.promise):$q.when(reason)}function cancel(reason){var interim=stack.shift();return interim?(interim.remove(reason||SHOW_CANCELLED,!0)["catch"](function(reason){}),interim.deferred.promise):$q.when(reason)}function InterimElement(options){function createAndTransitionIn(){return $q(function(resolve,reject){function rejectAll(fault){self.deferred.reject(fault),reject(fault)}compileElement(options).then(function(compiledData){element=linkElement(compiledData,options),showAction=showElement(element,options).then(resolve,rejectAll)})})}function transitionOutAndRemove(response,isCancelled){return options.cancelAutoHide&&options.cancelAutoHide(),$q(function(resolve,reject){function resolveAll(){self.deferred.resolve(response),resolve(response)}function rejectAll(fault){self.deferred.reject(fault),reject(fault)}$q.when(showAction)["finally"](function(){hideElement(options.element,options).then(function(){isCancelled&&rejectAll(response)||resolveAll()},rejectAll)})})}function configureScopeAndTransitions(options){return options=options||{},options.template&&(options.template=processTemplate(options.template)),angular.extend({preserveScope:!1,cancelAutoHide:angular.noop,scope:options.scope||$rootScope.$new(options.isolateScope),onShow:function(scope,element,options){return $animate.enter(element,options.parent)},onRemove:function(scope,element){return element&&$animate.leave(element)||$q.when()}},options)}function compileElement(options){var compiled=options.skipCompile?null:$mdCompiler.compile(options);return compiled||$q(function(resolve){resolve({locals:{},link:function(){return options.element}})})}function linkElement(compileData,options){angular.extend(compileData.locals,options);var element=compileData.link(options.scope);return options.element=element,options.parent=findParent(element,options),options.themable&&$mdTheming(element),element}function findParent(element,options){var parent=options.parent;if(parent=angular.isFunction(parent)?parent(options.scope,element,options):angular.isString(parent)?angular.element($document[0].querySelector(parent)):angular.element(parent),!(parent||{}).length){var el;return $rootElement[0]&&$rootElement[0].querySelector&&(el=$rootElement[0].querySelector(":not(svg) > body")),el||(el=$rootElement[0]),"#comment"==el.nodeName&&(el=$document[0].body),angular.element(el)}return parent}function startAutoHide(){var autoHideTimer,cancelAutoHide=angular.noop;options.hideDelay&&(autoHideTimer=$timeout(service.hide,options.hideDelay),cancelAutoHide=function(){$timeout.cancel(autoHideTimer)}),options.cancelAutoHide=function(){cancelAutoHide(),options.cancelAutoHide=undefined}}function showElement(element,options){var notifyComplete=options.onComplete||angular.noop;return $q(function(resolve,reject){try{$q.when(options.onShow(options.scope,element,options)).then(function(){notifyComplete(options.scope,element,options),startAutoHide(),resolve(element)},reject)}catch(e){reject(e.message)}})}function hideElement(element,options){var announceRemoving=options.onRemoving||angular.noop;return $q(function(resolve,reject){try{var action=$q.when(!element||options.onRemove(options.scope,element,options));announceRemoving(element,action),action.then(function(){!options.preserveScope&&options.scope.$destroy(),resolve(element)},reject)}catch(e){reject(e.message)}})}var self,element,showAction=$q.when(!0);return options=configureScopeAndTransitions(options),self={options:options,deferred:$q.defer(),show:createAndTransitionIn,remove:transitionOutAndRemove}}var service,SHOW_CANCELLED=!1,SHOW_CLOSED=!0,stack=[];return service={show:show,hide:hide,cancel:cancel}}}return createInterimElementProvider.$get=InterimElementFactory,InterimElementFactory.$inject=["$document","$q","$rootScope","$timeout","$rootElement","$animate","$interpolate","$mdCompiler","$mdTheming","$log"],createInterimElementProvider}angular.module("material.core").provider("$$interimElement",InterimElementProvider)}(),function(){function ComponentRegistry($log,$q){function isValidID(handle){return handle&&""!==handle}var self,instances=[],pendings={};return self={notFoundError:function(handle){$log.error("No instance found for handle",handle)},getInstances:function(){return instances},get:function(handle){if(!isValidID(handle))return null;var i,j,instance;for(i=0,j=instances.length;i<j;i++)if(instance=instances[i],instance.$$mdHandle===handle)return instance;return null},register:function(instance,handle){function deregister(){var index=instances.indexOf(instance);index!==-1&&instances.splice(index,1)}function resolveWhen(){var dfd=pendings[handle];dfd&&(dfd.resolve(instance),delete pendings[handle])}return handle?(instance.$$mdHandle=handle,instances.push(instance),resolveWhen(),deregister):angular.noop},when:function(handle){if(isValidID(handle)){var deferred=$q.defer(),instance=self.get(handle);return instance?deferred.resolve(instance):pendings[handle]=deferred,deferred.promise}return $q.reject("Invalid `md-component-id` value.")}}}angular.module("material.core").factory("$mdComponentRegistry",ComponentRegistry),ComponentRegistry.$inject=["$log","$q"]}(),function(){!function(){function MdButtonInkRipple($mdInkRipple){function attach(scope,element,options){var elementOptions=optionsForElement(element);return $mdInkRipple.attach(scope,element,angular.extend(elementOptions,options))}function optionsForElement(element){return element.hasClass("md-icon-button")?{isMenuItem:element.hasClass("md-menu-item"),fitRipple:!0,center:!0}:{isMenuItem:element.hasClass("md-menu-item"),dimBackground:!0}}return{attach:attach}}angular.module("material.core").factory("$mdButtonInkRipple",MdButtonInkRipple),MdButtonInkRipple.$inject=["$mdInkRipple"]}()}(),function(){!function(){function MdCheckboxInkRipple($mdInkRipple){function attach(scope,element,options){return $mdInkRipple.attach(scope,element,angular.extend({center:!0,dimBackground:!1,fitRipple:!0},options))}return{attach:attach}}angular.module("material.core").factory("$mdCheckboxInkRipple",MdCheckboxInkRipple),MdCheckboxInkRipple.$inject=["$mdInkRipple"]}()}(),function(){!function(){function MdListInkRipple($mdInkRipple){function attach(scope,element,options){return $mdInkRipple.attach(scope,element,angular.extend({center:!1,dimBackground:!0,outline:!1,rippleSize:"full"},options))}return{attach:attach}}angular.module("material.core").factory("$mdListInkRipple",MdListInkRipple),MdListInkRipple.$inject=["$mdInkRipple"]}()}(),function(){function InkRippleDirective($mdButtonInkRipple,$mdCheckboxInkRipple){return{controller:angular.noop,link:function(scope,element,attr){attr.hasOwnProperty("mdInkRippleCheckbox")?$mdCheckboxInkRipple.attach(scope,element):$mdButtonInkRipple.attach(scope,element)}}}function InkRippleService($window,$timeout,$mdUtil){function attach(scope,element,options){function getRippleContainer(){var container=element.data("$mdRippleContainer");return container?container:(container=angular.element('<div class="md-ripple-container">'),element.append(container),element.data("$mdRippleContainer",container),container)}function parseColor(color){function hexToRGBA(color){var hex="#"===color.charAt(0)?color.substr(1):color,dig=hex.length/3,red=hex.substr(0,dig),grn=hex.substr(dig,dig),blu=hex.substr(2*dig);return 1===dig&&(red+=red,grn+=grn,blu+=blu),"rgba("+parseInt(red,16)+","+parseInt(grn,16)+","+parseInt(blu,16)+",0.1)"}function rgbToRGBA(color){return color.replace(")",", 0.1)").replace("(","a(")}if(color)return 0===color.indexOf("rgba")?color.replace(/\d?\.?\d*\s*\)\s*$/,"0.1)"):0===color.indexOf("rgb")?rgbToRGBA(color):0===color.indexOf("#")?hexToRGBA(color):void 0}function removeElement(elem,wait){ripples.splice(ripples.indexOf(elem),1),0===ripples.length&&getRippleContainer().css({backgroundColor:""}),$timeout(function(){elem.remove()},wait,!1)}function updateElement(elem){var index=ripples.indexOf(elem),state=states[index]||{},elemIsActive=!(ripples.length>1)&&isActive,elemIsHeld=!(ripples.length>1)&&isHeld;elemIsActive||state.animating||elemIsHeld?elem.addClass("md-ripple-visible"):elem&&(elem.removeClass("md-ripple-visible"),options.outline&&elem.css({width:rippleSize+"px",height:rippleSize+"px",marginLeft:rippleSize*-1+"px",marginTop:rippleSize*-1+"px"}),removeElement(elem,options.outline?450:650))}function createRipple(left,top){function getRippleElement(css){var elem=angular.element('<div class="md-ripple" data-counter="'+counter++ +'">');return ripples.unshift(elem),states.unshift({animating:!0}),container.append(elem),css&&elem.css(css),elem}function getRippleSize(left,top){var multiplier,size,rect,width=container.prop("offsetWidth"),height=container.prop("offsetHeight");return options.isMenuItem?size=Math.sqrt(Math.pow(width,2)+Math.pow(height,2)):options.outline?(rect=node.getBoundingClientRect(),left-=rect.left,top-=rect.top,width=Math.max(left,width-left),height=Math.max(top,height-top),size=2*Math.sqrt(Math.pow(width,2)+Math.pow(height,2))):(multiplier=options.fullRipple?1.1:.8,size=Math.sqrt(Math.pow(width,2)+Math.pow(height,2))*multiplier,options.fitRipple&&(size=Math.min(height,width,size))),size}function getRippleCss(size,left,top){function rgbaToRGB(color){return color.replace("rgba","rgb").replace(/,[^\),]+\)/,")")}var rect=node.getBoundingClientRect(),css={backgroundColor:rgbaToRGB(color),borderColor:rgbaToRGB(color),width:size+"px",height:size+"px"};return options.outline?(css.width=0,css.height=0):css.marginLeft=css.marginTop=size*-.5+"px",options.center?css.left=css.top="50%":(css.left=Math.round((left-rect.left)/container.prop("offsetWidth")*100)+"%",css.top=Math.round((top-rect.top)/container.prop("offsetHeight")*100)+"%"),css}color=parseColor(element.attr("md-ink-ripple"))||parseColor($window.getComputedStyle(options.colorElement[0]).color||"rgb(0, 0, 0)");var container=getRippleContainer(),size=getRippleSize(left,top),css=getRippleCss(size,left,top),elem=getRippleElement(css),index=ripples.indexOf(elem),state=states[index]||{};return rippleSize=size,state.animating=!0,$mdUtil.nextTick(function(){options.dimBackground&&container.css({backgroundColor:color}),elem.addClass("md-ripple-placed md-ripple-scaled"),options.outline?elem.css({borderWidth:.5*size+"px",marginLeft:size*-.5+"px",marginTop:size*-.5+"px"}):elem.css({left:"50%",top:"50%"}),updateElement(elem),$timeout(function(){state.animating=!1,updateElement(elem)},options.outline?450:225,!1)}),elem}function onPressDown(ev){isRippleAllowed()&&(createRipple(ev.pointer.x,ev.pointer.y),isHeld=!0)}function onPressUp(){isHeld=!1;var ripple=ripples[ripples.length-1];$mdUtil.nextTick(function(){updateElement(ripple)})}function isRippleAllowed(){function isDisabled(elem){return elem&&elem.hasAttribute&&elem.hasAttribute("disabled")}var parent=node.parentNode,grandparent=parent&&parent.parentNode,ancestor=grandparent&&grandparent.parentNode;return!(isDisabled(node)||isDisabled(parent)||isDisabled(grandparent)||isDisabled(ancestor))}if(element.controller("mdNoInk"))return angular.noop;options=angular.extend({colorElement:element,mousedown:!0,hover:!0,focus:!0,center:!1,mousedownPauseTime:150,dimBackground:!1,outline:!1,fullRipple:!0,isMenuItem:!1,fitRipple:!1},options);var rippleSize,controller=element.controller("mdInkRipple")||{},counter=0,ripples=[],states=[],isActiveExpr=element.attr("md-highlight"),isActive=!1,isHeld=!1,node=element[0],rippleSizeSetting=element.attr("md-ripple-size"),color=parseColor(element.attr("md-ink-ripple"))||parseColor(options.colorElement.length&&$window.getComputedStyle(options.colorElement[0]).color||"rgb(0, 0, 0)");switch(rippleSizeSetting){case"full":options.fullRipple=!0;break;case"partial":options.fullRipple=!1}return options.mousedown&&element.on("$md.pressdown",onPressDown).on("$md.pressup",onPressUp),controller.createRipple=createRipple,isActiveExpr&&scope.$watch(isActiveExpr,function(newValue){isActive=newValue,isActive&&!ripples.length&&mdUtil.nextTick(function(){createRipple(0,0)}),angular.forEach(ripples,updateElement)}),function(){element.off("$md.pressdown",onPressDown).off("$md.pressup",onPressUp),getRippleContainer().remove()}}return{attach:attach}}function attrNoDirective(){return function(){return{controller:angular.noop}}}angular.module("material.core").factory("$mdInkRipple",InkRippleService).directive("mdInkRipple",InkRippleDirective).directive("mdNoInk",attrNoDirective()).directive("mdNoBar",attrNoDirective()).directive("mdNoStretch",attrNoDirective()),InkRippleDirective.$inject=["$mdButtonInkRipple","$mdCheckboxInkRipple"],InkRippleService.$inject=["$window","$timeout","$mdUtil"]}(),function(){!function(){function MdTabInkRipple($mdInkRipple){function attach(scope,element,options){return $mdInkRipple.attach(scope,element,angular.extend({center:!1,dimBackground:!0,outline:!1,rippleSize:"full"},options))}return{attach:attach}}angular.module("material.core").factory("$mdTabInkRipple",MdTabInkRipple),MdTabInkRipple.$inject=["$mdInkRipple"]}()}(),function(){angular.module("material.core.theming.palette",[]).constant("$mdColorPalette",{red:{50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300 400 A100",contrastStrongLightColors:"500 600 700 A200 A400 A700"
},pink:{50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300 400 A100",contrastStrongLightColors:"500 600 A200 A400 A700"},purple:{50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100",contrastStrongLightColors:"300 400 A200 A400 A700"},"deep-purple":{50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",A100:"#b388ff",A200:"#7c4dff",A400:"#651fff",A700:"#6200ea",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100",contrastStrongLightColors:"300 400 A200"},indigo:{50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100",contrastStrongLightColors:"300 400 A200 A400"},blue:{50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff",contrastDefaultColor:"light",contrastDarkColors:"100 200 300 400 A100",contrastStrongLightColors:"500 600 700 A200 A400 A700"},"light-blue":{50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea",contrastDefaultColor:"dark",contrastLightColors:"500 600 700 800 900 A700",contrastStrongLightColors:"500 600 700 800 A700"},cyan:{50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064",A100:"#84ffff",A200:"#18ffff",A400:"#00e5ff",A700:"#00b8d4",contrastDefaultColor:"dark",contrastLightColors:"500 600 700 800 900",contrastStrongLightColors:"500 600 700 800"},teal:{50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",A100:"#a7ffeb",A200:"#64ffda",A400:"#1de9b6",A700:"#00bfa5",contrastDefaultColor:"dark",contrastLightColors:"500 600 700 800 900",contrastStrongLightColors:"500 600 700"},green:{50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853",contrastDefaultColor:"dark",contrastLightColors:"500 600 700 800 900",contrastStrongLightColors:"500 600 700"},"light-green":{50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e",A100:"#ccff90",A200:"#b2ff59",A400:"#76ff03",A700:"#64dd17",contrastDefaultColor:"dark",contrastLightColors:"800 900",contrastStrongLightColors:"800 900"},lime:{50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717",A100:"#f4ff81",A200:"#eeff41",A400:"#c6ff00",A700:"#aeea00",contrastDefaultColor:"dark",contrastLightColors:"900",contrastStrongLightColors:"900"},yellow:{50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",A100:"#ffff8d",A200:"#ffff00",A400:"#ffea00",A700:"#ffd600",contrastDefaultColor:"dark"},amber:{50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",A100:"#ffe57f",A200:"#ffd740",A400:"#ffc400",A700:"#ffab00",contrastDefaultColor:"dark"},orange:{50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00",contrastDefaultColor:"dark",contrastLightColors:"800 900",contrastStrongLightColors:"800 900"},"deep-orange":{50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",A100:"#ff9e80",A200:"#ff6e40",A400:"#ff3d00",A700:"#dd2c00",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300 400 A100 A200",contrastStrongLightColors:"500 600 700 800 900 A400 A700"},brown:{50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723",A100:"#d7ccc8",A200:"#bcaaa4",A400:"#8d6e63",A700:"#5d4037",contrastDefaultColor:"light",contrastDarkColors:"50 100 200",contrastStrongLightColors:"300 400"},grey:{50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",1000:"#000000",A100:"#ffffff",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161",contrastDefaultColor:"dark",contrastLightColors:"600 700 800 900"},"blue-grey":{50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238",A100:"#cfd8dc",A200:"#b0bec5",A400:"#78909c",A700:"#455a64",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300",contrastStrongLightColors:"400 500"}})}(),function(){function ThemingProvider($mdColorPalette){function definePalette(name,map){return map=map||{},PALETTES[name]=checkPaletteValid(name,map),themingProvider}function extendPalette(name,map){return checkPaletteValid(name,angular.extend({},PALETTES[name]||{},map))}function checkPaletteValid(name,map){var missingColors=VALID_HUE_VALUES.filter(function(field){return!map[field]});if(missingColors.length)throw new Error("Missing colors %1 in palette %2!".replace("%1",missingColors.join(", ")).replace("%2",name));return map}function registerTheme(name,inheritFrom){if(THEMES[name])return THEMES[name];inheritFrom=inheritFrom||"default";var parentTheme="string"==typeof inheritFrom?THEMES[inheritFrom]:inheritFrom,theme=new Theme(name);return parentTheme&&angular.forEach(parentTheme.colors,function(color,colorType){theme.colors[colorType]={name:color.name,hues:angular.extend({},color.hues)}}),THEMES[name]=theme,theme}function Theme(name){function setDark(isDark){if(isDark=0===arguments.length||!!isDark,isDark!==self.isDark){self.isDark=isDark,self.foregroundPalette=self.isDark?LIGHT_FOREGROUND:DARK_FOREGROUND,self.foregroundShadow=self.isDark?DARK_SHADOW:LIGHT_SHADOW;var newDefaultHues=self.isDark?DARK_DEFAULT_HUES:LIGHT_DEFAULT_HUES,oldDefaultHues=self.isDark?LIGHT_DEFAULT_HUES:DARK_DEFAULT_HUES;return angular.forEach(newDefaultHues,function(newDefaults,colorType){var color=self.colors[colorType],oldDefaults=oldDefaultHues[colorType];if(color)for(var hueName in color.hues)color.hues[hueName]===oldDefaults[hueName]&&(color.hues[hueName]=newDefaults[hueName])}),self}}var self=this;self.name=name,self.colors={},self.dark=setDark,setDark(!1),THEME_COLOR_TYPES.forEach(function(colorType){var defaultHues=(self.isDark?DARK_DEFAULT_HUES:LIGHT_DEFAULT_HUES)[colorType];self[colorType+"Palette"]=function(paletteName,hues){var color=self.colors[colorType]={name:paletteName,hues:angular.extend({},defaultHues,hues)};return Object.keys(color.hues).forEach(function(name){if(!defaultHues[name])throw new Error("Invalid hue name '%1' in theme %2's %3 color %4. Available hue names: %4".replace("%1",name).replace("%2",self.name).replace("%3",paletteName).replace("%4",Object.keys(defaultHues).join(", ")))}),Object.keys(color.hues).map(function(key){return color.hues[key]}).forEach(function(hueValue){if(VALID_HUE_VALUES.indexOf(hueValue)==-1)throw new Error("Invalid hue value '%1' in theme %2's %3 color %4. Available hue values: %5".replace("%1",hueValue).replace("%2",self.name).replace("%3",colorType).replace("%4",paletteName).replace("%5",VALID_HUE_VALUES.join(", ")))}),self},self[colorType+"Color"]=function(){var args=Array.prototype.slice.call(arguments);return console.warn("$mdThemingProviderTheme."+colorType+"Color() has been deprecated. Use $mdThemingProviderTheme."+colorType+"Palette() instead."),self[colorType+"Palette"].apply(self,args)}})}function ThemingService($rootScope,$log){function registered(themeName){return themeName===undefined||""===themeName||applyTheme.THEMES[themeName]!==undefined}function applyTheme(scope,el){el===undefined&&(el=scope,scope=undefined),scope===undefined&&(scope=$rootScope),applyTheme.inherit(el,el)}return applyTheme.inherit=function(el,parent){function changeTheme(theme){registered(theme)||$log.warn("Attempted to use unregistered theme '"+theme+"'. Register it with $mdThemingProvider.theme().");var oldTheme=el.data("$mdThemeName");oldTheme&&el.removeClass("md-"+oldTheme+"-theme"),el.addClass("md-"+theme+"-theme"),el.data("$mdThemeName",theme),ctrl&&el.data("$mdThemeController",ctrl)}var ctrl=parent.controller("mdTheme"),attrThemeValue=el.attr("md-theme-watch");if((alwaysWatchTheme||angular.isDefined(attrThemeValue))&&"false"!=attrThemeValue){var deregisterWatch=$rootScope.$watch(function(){return ctrl&&ctrl.$mdTheme||defaultTheme},changeTheme);el.on("$destroy",deregisterWatch)}else{var theme=ctrl&&ctrl.$mdTheme||defaultTheme;changeTheme(theme)}},applyTheme.THEMES=angular.extend({},THEMES),applyTheme.defaultTheme=function(){return defaultTheme},applyTheme.registered=registered,applyTheme}PALETTES={},THEMES={};var themingProvider,defaultTheme="default",alwaysWatchTheme=!1;return angular.extend(PALETTES,$mdColorPalette),ThemingService.$inject=["$rootScope","$log"],themingProvider={definePalette:definePalette,extendPalette:extendPalette,theme:registerTheme,setDefaultTheme:function(theme){defaultTheme=theme},alwaysWatchTheme:function(alwaysWatch){alwaysWatchTheme=alwaysWatch},$get:ThemingService,_LIGHT_DEFAULT_HUES:LIGHT_DEFAULT_HUES,_DARK_DEFAULT_HUES:DARK_DEFAULT_HUES,_PALETTES:PALETTES,_THEMES:THEMES,_parseRules:parseRules,_rgba:rgba}}function ThemingDirective($mdTheming,$interpolate,$log){return{priority:100,link:{pre:function(scope,el,attrs){var ctrl={$setTheme:function(theme){$mdTheming.registered(theme)||$log.warn("attempted to use unregistered theme '"+theme+"'"),ctrl.$mdTheme=theme}};el.data("$mdThemeController",ctrl),ctrl.$setTheme($interpolate(attrs.mdTheme)(scope)),attrs.$observe("mdTheme",ctrl.$setTheme)}}}}function ThemableDirective($mdTheming){return $mdTheming}function parseRules(theme,colorType,rules){checkValidPalette(theme,colorType),rules=rules.replace(/THEME_NAME/g,theme.name);var generatedRules=[],color=theme.colors[colorType],themeNameRegex=new RegExp(".md-"+theme.name+"-theme","g"),hueRegex=new RegExp("('|\")?{{\\s*("+colorType+")-(color|contrast)-?(\\d\\.?\\d*)?\\s*}}(\"|')?","g"),simpleVariableRegex=/'?"?\{\{\s*([a-zA-Z]+)-(A?\d+|hue\-[0-3]|shadow)-?(\d\.?\d*)?\s*\}\}'?"?/g,palette=PALETTES[color.name];return rules=rules.replace(simpleVariableRegex,function(match,colorType,hue,opacity){return"foreground"===colorType?"shadow"==hue?theme.foregroundShadow:theme.foregroundPalette[hue]||theme.foregroundPalette[1]:(0===hue.indexOf("hue")&&(hue=theme.colors[colorType].hues[hue]),rgba((PALETTES[theme.colors[colorType].name][hue]||"").value,opacity))}),angular.forEach(color.hues,function(hueValue,hueName){var newRule=rules.replace(hueRegex,function(match,_,colorType,hueType,opacity){return rgba(palette[hueValue]["color"===hueType?"value":"contrast"],opacity)});"default"!==hueName&&(newRule=newRule.replace(themeNameRegex,".md-"+theme.name+"-theme.md-"+hueName)),"default"==theme.name&&(newRule=newRule.replace(/\.md-default-theme/g,"")),generatedRules.push(newRule)}),generatedRules}function generateThemes($injector){function sanitizePalette(palette){var defaultContrast=palette.contrastDefaultColor,lightColors=palette.contrastLightColors||[],strongLightColors=palette.contrastStrongLightColors||[],darkColors=palette.contrastDarkColors||[];"string"==typeof lightColors&&(lightColors=lightColors.split(" ")),"string"==typeof strongLightColors&&(strongLightColors=strongLightColors.split(" ")),"string"==typeof darkColors&&(darkColors=darkColors.split(" ")),delete palette.contrastDefaultColor,delete palette.contrastLightColors,delete palette.contrastStrongLightColors,delete palette.contrastDarkColors,angular.forEach(palette,function(hueValue,hueName){function getContrastColor(){return"light"===defaultContrast?darkColors.indexOf(hueName)>-1?DARK_CONTRAST_COLOR:strongLightColors.indexOf(hueName)>-1?STRONG_LIGHT_CONTRAST_COLOR:LIGHT_CONTRAST_COLOR:lightColors.indexOf(hueName)>-1?strongLightColors.indexOf(hueName)>-1?STRONG_LIGHT_CONTRAST_COLOR:LIGHT_CONTRAST_COLOR:DARK_CONTRAST_COLOR}if(!angular.isObject(hueValue)){var rgbValue=colorToRgbaArray(hueValue);if(!rgbValue)throw new Error("Color %1, in palette %2's hue %3, is invalid. Hex or rgb(a) color expected.".replace("%1",hueValue).replace("%2",palette.name).replace("%3",hueName));palette[hueName]={value:rgbValue,contrast:getContrastColor()}}})}var head=document.getElementsByTagName("head")[0],firstChild=head?head.firstElementChild:null,themeCss=$injector.has("$MD_THEME_CSS")?$injector.get("$MD_THEME_CSS"):"";if(firstChild&&0!==themeCss.length){angular.forEach(PALETTES,sanitizePalette);var rulesByType={},rules=themeCss.split(/\}(?!(\}|'|"|;))/).filter(function(rule){return rule&&rule.length}).map(function(rule){return rule.trim()+"}"}),ruleMatchRegex=new RegExp("md-("+THEME_COLOR_TYPES.join("|")+")","g");THEME_COLOR_TYPES.forEach(function(type){rulesByType[type]=""}),rules.forEach(function(rule){for(var type,i=(rule.match(ruleMatchRegex),0);type=THEME_COLOR_TYPES[i];i++)if(rule.indexOf(".md-"+type)>-1)return rulesByType[type]+=rule;for(i=0;type=THEME_COLOR_TYPES[i];i++)if(rule.indexOf(type)>-1)return rulesByType[type]+=rule;return rulesByType[DEFAULT_COLOR_TYPE]+=rule}),angular.forEach(THEMES,function(theme){GENERATED[theme.name]||(THEME_COLOR_TYPES.forEach(function(colorType){for(var styleStrings=parseRules(theme,colorType,rulesByType[colorType]);styleStrings.length;){var style=document.createElement("style");style.setAttribute("type","text/css"),style.appendChild(document.createTextNode(styleStrings.shift())),head.insertBefore(style,firstChild)}}),theme.colors.primary.name==theme.colors.accent.name&&console.warn("$mdThemingProvider: Using the same palette for primary and accent. This violates the material design spec."),GENERATED[theme.name]=!0)})}}function checkValidPalette(theme,colorType){if(!PALETTES[(theme.colors[colorType]||{}).name])throw new Error("You supplied an invalid color palette for theme %1's %2 palette. Available palettes: %3".replace("%1",theme.name).replace("%2",colorType).replace("%3",Object.keys(PALETTES).join(", ")))}function colorToRgbaArray(clr){if(angular.isArray(clr)&&3==clr.length)return clr;if(/^rgb/.test(clr))return clr.replace(/(^\s*rgba?\(|\)\s*$)/g,"").split(",").map(function(value,i){return 3==i?parseFloat(value,10):parseInt(value,10)});if("#"==clr.charAt(0)&&(clr=clr.substring(1)),/^([a-fA-F0-9]{3}){1,2}$/g.test(clr)){var dig=clr.length/3,red=clr.substr(0,dig),grn=clr.substr(dig,dig),blu=clr.substr(2*dig);return 1===dig&&(red+=red,grn+=grn,blu+=blu),[parseInt(red,16),parseInt(grn,16),parseInt(blu,16)]}}function rgba(rgbArray,opacity){return rgbArray?(4==rgbArray.length&&(rgbArray=angular.copy(rgbArray),opacity?rgbArray.pop():opacity=rgbArray.pop()),opacity&&("number"==typeof opacity||"string"==typeof opacity&&opacity.length)?"rgba("+rgbArray.join(",")+","+opacity+")":"rgb("+rgbArray.join(",")+")"):"rgb('0,0,0')"}angular.module("material.core.theming",["material.core.theming.palette"]).directive("mdTheme",ThemingDirective).directive("mdThemable",ThemableDirective).provider("$mdTheming",ThemingProvider).run(generateThemes);var PALETTES,THEMES,GENERATED={},DARK_FOREGROUND={name:"dark",1:"rgba(0,0,0,0.87)",2:"rgba(0,0,0,0.54)",3:"rgba(0,0,0,0.26)",4:"rgba(0,0,0,0.12)"},LIGHT_FOREGROUND={name:"light",1:"rgba(255,255,255,1.0)",2:"rgba(255,255,255,0.7)",3:"rgba(255,255,255,0.3)",4:"rgba(255,255,255,0.12)"},DARK_SHADOW="1px 1px 0px rgba(0,0,0,0.4), -1px -1px 0px rgba(0,0,0,0.4)",LIGHT_SHADOW="",DARK_CONTRAST_COLOR=colorToRgbaArray("rgba(0,0,0,0.87)"),LIGHT_CONTRAST_COLOR=colorToRgbaArray("rgba(255,255,255,0.87"),STRONG_LIGHT_CONTRAST_COLOR=colorToRgbaArray("rgb(255,255,255)"),THEME_COLOR_TYPES=["primary","accent","warn","background"],DEFAULT_COLOR_TYPE="primary",LIGHT_DEFAULT_HUES={accent:{"default":"A200","hue-1":"A100","hue-2":"A400","hue-3":"A700"},background:{"default":"A100","hue-1":"300","hue-2":"800","hue-3":"900"}},DARK_DEFAULT_HUES={background:{"default":"800","hue-1":"300","hue-2":"600","hue-3":"900"}};THEME_COLOR_TYPES.forEach(function(colorType){var defaultDefaultHues={"default":"500","hue-1":"300","hue-2":"800","hue-3":"A100"};LIGHT_DEFAULT_HUES[colorType]||(LIGHT_DEFAULT_HUES[colorType]=defaultDefaultHues),DARK_DEFAULT_HUES[colorType]||(DARK_DEFAULT_HUES[colorType]=defaultDefaultHues)});var VALID_HUE_VALUES=["50","100","200","300","400","500","600","700","800","900","A100","A200","A400","A700"];ThemingProvider.$inject=["$mdColorPalette"],ThemingDirective.$inject=["$mdTheming","$interpolate","$log"],ThemableDirective.$inject=["$mdTheming"],generateThemes.$inject=["$injector"]}(),function(){angular.module("material.components.autocomplete",["material.core","material.components.icon"])}(),function(){angular.module("material.components.backdrop",["material.core"]).directive("mdBackdrop",["$mdTheming","$animate","$rootElement","$window","$log","$$rAF","$document",function($mdTheming,$animate,$rootElement,$window,$log,$$rAF,$document){function postLink(scope,element,attrs){var body=$window.getComputedStyle($document[0].body);if("fixed"==body.position){var hViewport=parseInt(body.height,10)+Math.abs(parseInt(body.top,10));element.css({height:hViewport+"px"})}$animate.pin&&$animate.pin(element,$rootElement),$$rAF(function(){var parent=element.parent()[0];if(parent){var styles=$window.getComputedStyle(parent);"static"==styles.position&&$log.warn(ERROR_CSS_POSITION)}$mdTheming.inherit(element,element.parent())})}var ERROR_CSS_POSITION="<md-backdrop> may not work properly in a scrolled, static-positioned parent container.";return{restrict:"E",link:postLink}}])}(),function(){function MdBottomSheetDirective(){return{restrict:"E"}}function MdBottomSheetProvider($$interimElementProvider){function bottomSheetDefaults($animate,$mdConstant,$mdUtil,$mdTheming,$mdBottomSheet,$rootElement,$mdGesture){function onShow(scope,element,options){element=$mdUtil.extractElementByName(element,"md-bottom-sheet"),backdrop=$mdUtil.createBackdrop(scope,"md-bottom-sheet-backdrop md-opaque"),backdrop.on("click",function(){$mdUtil.nextTick($mdBottomSheet.cancel,!0)}),$mdTheming.inherit(backdrop,options.parent),$animate.enter(backdrop,options.parent,null);var bottomSheet=new BottomSheet(element,options.parent);return options.bottomSheet=bottomSheet,options.targetEvent&&angular.element(options.targetEvent.target).blur(),$mdTheming.inherit(bottomSheet.element,options.parent),options.disableParentScroll&&(options.lastOverflow=options.parent.css("overflow"),options.parent.css("overflow","hidden")),$animate.enter(bottomSheet.element,options.parent).then(function(){var focusable=angular.element(element[0].querySelector("button")||element[0].querySelector("a")||element[0].querySelector("[ng-click]"));focusable.focus(),options.escapeToClose&&(options.rootElementKeyupCallback=function(e){e.keyCode===$mdConstant.KEY_CODE.ESCAPE&&$mdUtil.nextTick($mdBottomSheet.cancel,!0)},$rootElement.on("keyup",options.rootElementKeyupCallback))})}function onRemove(scope,element,options){var bottomSheet=options.bottomSheet;return $animate.leave(backdrop),$animate.leave(bottomSheet.element).then(function(){options.disableParentScroll&&(options.parent.css("overflow",options.lastOverflow),delete options.lastOverflow),bottomSheet.cleanup(),options.targetEvent&&angular.element(options.targetEvent.target).focus()})}function BottomSheet(element,parent){function onDragStart(ev){element.css($mdConstant.CSS.TRANSITION_DURATION,"0ms")}function onDrag(ev){var transform=ev.pointer.distanceY;transform<5&&(transform=Math.max(-PADDING,transform/2)),element.css($mdConstant.CSS.TRANSFORM,"translate3d(0,"+(PADDING+transform)+"px,0)")}function onDragEnd(ev){if(ev.pointer.distanceY>0&&(ev.pointer.distanceY>20||Math.abs(ev.pointer.velocityY)>CLOSING_VELOCITY)){var distanceRemaining=element.prop("offsetHeight")-ev.pointer.distanceY,transitionDuration=Math.min(distanceRemaining/ev.pointer.velocityY*.75,500);element.css($mdConstant.CSS.TRANSITION_DURATION,transitionDuration+"ms"),$mdUtil.nextTick($mdBottomSheet.cancel,!0)}else element.css($mdConstant.CSS.TRANSITION_DURATION,""),element.css($mdConstant.CSS.TRANSFORM,"")}var deregister=$mdGesture.register(parent,"drag",{horizontal:!1});return parent.on("$md.dragstart",onDragStart).on("$md.drag",onDrag).on("$md.dragend",onDragEnd),{element:element,cleanup:function(){deregister(),parent.off("$md.dragstart",onDragStart).off("$md.drag",onDrag).off("$md.dragend",onDragEnd)}}}var backdrop;return{themable:!0,targetEvent:null,onShow:onShow,onRemove:onRemove,escapeToClose:!0,disableParentScroll:!0}}var CLOSING_VELOCITY=.5,PADDING=80;return bottomSheetDefaults.$inject=["$animate","$mdConstant","$mdUtil","$mdTheming","$mdBottomSheet","$rootElement","$mdGesture"],$$interimElementProvider("$mdBottomSheet").setDefaults({methods:["disableParentScroll","escapeToClose","targetEvent"],options:bottomSheetDefaults})}angular.module("material.components.bottomSheet",["material.core","material.components.backdrop"]).directive("mdBottomSheet",MdBottomSheetDirective).provider("$mdBottomSheet",MdBottomSheetProvider),MdBottomSheetProvider.$inject=["$$interimElementProvider"]}(),function(){function MdButtonDirective($mdButtonInkRipple,$mdTheming,$mdAria,$timeout){function isAnchor(attr){return angular.isDefined(attr.href)||angular.isDefined(attr.ngHref)||angular.isDefined(attr.ngLink)||angular.isDefined(attr.uiSref)}function getTemplate(element,attr){return isAnchor(attr)?'<a class="md-button" ng-transclude></a>':'<button class="md-button" ng-transclude></button>'}function postLink(scope,element,attr){var node=element[0];$mdTheming(element),$mdButtonInkRipple.attach(scope,element);var elementHasText=node.textContent.trim();elementHasText||$mdAria.expect(element,"aria-label"),isAnchor(attr)&&angular.isDefined(attr.ngDisabled)&&scope.$watch(attr.ngDisabled,function(isDisabled){element.attr("tabindex",isDisabled?-1:0)}),element.on("click",function(e){attr.disabled===!0&&(e.preventDefault(),e.stopImmediatePropagation())}),scope.mouseActive=!1,element.on("mousedown",function(){scope.mouseActive=!0,$timeout(function(){scope.mouseActive=!1},100)}).on("focus",function(){scope.mouseActive===!1&&element.addClass("md-focused")}).on("blur",function(){element.removeClass("md-focused")})}return{restrict:"EA",replace:!0,transclude:!0,template:getTemplate,link:postLink}}angular.module("material.components.button",["material.core"]).directive("mdButton",MdButtonDirective),MdButtonDirective.$inject=["$mdButtonInkRipple","$mdTheming","$mdAria","$timeout"]}(),function(){function mdCardDirective($mdTheming){return{restrict:"E",link:function($scope,$element,$attr){$mdTheming($element)}}}angular.module("material.components.card",["material.core"]).directive("mdCard",mdCardDirective),mdCardDirective.$inject=["$mdTheming"]}(),function(){function MdCheckboxDirective(inputDirective,$mdInkRipple,$mdAria,$mdConstant,$mdTheming,$mdUtil,$timeout){function compile(tElement,tAttrs){return tAttrs.type="checkbox",tAttrs.tabindex=tAttrs.tabindex||"0",tElement.attr("role",tAttrs.type),function(scope,element,attr,ngModelCtrl){function $$watchExpr(expr,htmlAttr,valueOpts){attr[expr]&&scope.$watch(attr[expr],function(val){valueOpts[val]&&element.attr(htmlAttr,valueOpts[val])})}function keypressHandler(ev){var keyCode=ev.which||ev.keyCode;keyCode!==$mdConstant.KEY_CODE.SPACE&&keyCode!==$mdConstant.KEY_CODE.ENTER||(ev.preventDefault(),element.hasClass("md-focused")||element.addClass("md-focused"),listener(ev))}function listener(ev){element[0].hasAttribute("disabled")||scope.$apply(function(){var viewValue=attr.ngChecked?attr.checked:!ngModelCtrl.$viewValue;ngModelCtrl.$setViewValue(viewValue,ev&&ev.type),ngModelCtrl.$render()})}function render(){ngModelCtrl.$viewValue?element.addClass(CHECKED_CSS):element.removeClass(CHECKED_CSS)}ngModelCtrl=ngModelCtrl||$mdUtil.fakeNgModel(),$mdTheming(element),attr.ngChecked&&scope.$watch(scope.$eval.bind(scope,attr.ngChecked),ngModelCtrl.$setViewValue.bind(ngModelCtrl)),$$watchExpr("ngDisabled","tabindex",{"true":"-1","false":attr.tabindex}),$mdAria.expectWithText(element,"aria-label"),inputDirective.link.pre(scope,{on:angular.noop,0:{}},attr,[ngModelCtrl]),scope.mouseActive=!1,element.on("click",listener).on("keypress",keypressHandler).on("mousedown",function(){scope.mouseActive=!0,$timeout(function(){scope.mouseActive=!1},100)}).on("focus",function(){scope.mouseActive===!1&&element.addClass("md-focused")}).on("blur",function(){element.removeClass("md-focused")}),ngModelCtrl.$render=render}}inputDirective=inputDirective[0];var CHECKED_CSS="md-checked";return{restrict:"E",transclude:!0,require:"?ngModel",priority:210,template:'<div class="md-container" md-ink-ripple md-ink-ripple-checkbox><div class="md-icon"></div></div><div ng-transclude class="md-label"></div>',compile:compile}}angular.module("material.components.checkbox",["material.core"]).directive("mdCheckbox",MdCheckboxDirective),MdCheckboxDirective.$inject=["inputDirective","$mdInkRipple","$mdAria","$mdConstant","$mdTheming","$mdUtil","$timeout"]}(),function(){angular.module("material.components.chips",["material.core","material.components.autocomplete"])}(),function(){function mdContentDirective($mdTheming){function ContentController($scope,$element){this.$scope=$scope,this.$element=$element}return{restrict:"E",controller:["$scope","$element",ContentController],link:function(scope,element,attr){element[0];$mdTheming(element),scope.$broadcast("$mdContentLoaded",element),iosScrollFix(element[0])}}}function iosScrollFix(node){angular.element(node).on("$md.pressdown",function(ev){"t"===ev.pointer.type&&(ev.$materialScrollFixed||(ev.$materialScrollFixed=!0,0===node.scrollTop?node.scrollTop=1:node.scrollHeight===node.scrollTop+node.offsetHeight&&(node.scrollTop-=1)))})}angular.module("material.components.content",["material.core"]).directive("mdContent",mdContentDirective),mdContentDirective.$inject=["$mdTheming"]}(),function(){function MdDialogDirective($$rAF,$mdTheming){return{restrict:"E",link:function(scope,element,attr){$mdTheming(element),$$rAF(function(){function addOverflowClass(){element.toggleClass("md-content-overflow",content.scrollHeight>content.clientHeight)}var images,content=element[0].querySelector("md-dialog-content");content&&(images=content.getElementsByTagName("img"),addOverflowClass(),angular.element(images).on("load",addOverflowClass))})}}}function MdDialogProvider($$interimElementProvider){function advancedDialogOptions($mdDialog,$mdTheming){return{template:['<md-dialog md-theme="{{ dialog.theme }}" aria-label="{{ dialog.ariaLabel }}">',' <md-dialog-content role="document" tabIndex="-1">','   <h2 class="md-title">{{ dialog.title }}</h2>',"   <p>{{ dialog.content }}</p>"," </md-dialog-content>",' <div class="md-actions">','   <md-button ng-if="dialog.$type == \'confirm\'"     ng-click="dialog.abort()" class="md-primary">',"     {{ dialog.cancel }}","   </md-button>",'   <md-button ng-click="dialog.hide()" class="md-primary">',"     {{ dialog.ok }}","   </md-button>"," </div>","</md-dialog>"].join("").replace(/\s\s+/g,""),controller:function(){this.hide=function(){$mdDialog.hide(!0)},this.abort=function(){$mdDialog.cancel()}},controllerAs:"dialog",bindToController:!0,theme:$mdTheming.defaultTheme()}}function dialogDefaultOptions($mdDialog,$mdAria,$mdUtil,$mdConstant,$animate,$document,$window,$rootElement){function onShow(scope,element,options){function focusOnOpen(){function findCloseButton(){var closeButton=element[0].querySelector(".dialog-close");if(!closeButton){var actionButtons=element[0].querySelectorAll(".md-actions button");closeButton=actionButtons[actionButtons.length-1]}return angular.element(closeButton)}if(options.focusOnOpen){var target="alert"===options.$type?element.find("md-dialog-content"):findCloseButton();target.focus()}}return element=$mdUtil.extractElementByName(element,"md-dialog"),angular.element($document[0].body).addClass("md-dialog-is-showing"),captureSourceAndParent(element,options),configureAria(element.find("md-dialog"),options),showBackdrop(scope,element,options),dialogPopIn(element,options).then(function(){activateListeners(element,options),lockScreenReader(element,options),focusOnOpen()})}function onRemove(scope,element,options){return options.deactivateListeners(),options.unlockScreenReader(),options.hideBackdrop(),dialogPopOut(element,options)["finally"](function(){angular.element($document[0].body).removeClass("md-dialog-is-showing"),element.remove(),options.origin.focus()})}function captureSourceAndParent(element,options){var origin={element:null,bounds:null,focus:angular.noop};options.origin=angular.extend({},origin,options.origin||{});var source=angular.element((options.targetEvent||{}).target);source&&source.length&&(options.origin.element=source,options.origin.bounds=source[0].getBoundingClientRect(),options.origin.focus=function(){source.focus()}),options.parent=angular.element(options.parent||$rootElement),options.disableParentScroll&&(options.restoreScroll=$mdUtil.disableScrollAround(element,options.parent))}function activateListeners(element,options){var removeListeners=[],smartClose=function(){var closeFn="alert"==options.$type?$mdDialog.hide:$mdDialog.cancel;$mdUtil.nextTick(closeFn,!0)};if(options.escapeToClose){var target=options.parent,keyHandlerFn=function(ev){ev.keyCode===$mdConstant.KEY_CODE.ESCAPE&&(ev.stopPropagation(),ev.preventDefault(),smartClose())};element.on("keyup",keyHandlerFn),target.on("keyup",keyHandlerFn),removeListeners.push(function(){element.off("keyup",keyHandlerFn),target.off("keyup",keyHandlerFn)})}if(options.clickOutsideToClose){var target=element,clickHandler=function(ev){ev.target===target[0]&&(ev.stopPropagation(),ev.preventDefault(),smartClose())};target.on("click",clickHandler),removeListeners.push(function(){target.off("click",clickHandler)})}options.deactivateListeners=function(){removeListeners.forEach(function(removeFn){removeFn()}),options.deactivateListeners=null}}function showBackdrop(scope,element,options){options.hasBackdrop&&(options.backdrop=$mdUtil.createBackdrop(scope,"md-dialog-backdrop md-opaque"),$animate.enter(options.backdrop,options.parent)),options.hideBackdrop=function(){options.backdrop&&$animate.leave(options.backdrop),options.disableParentScroll&&options.restoreScroll(),options.hideBackdrop=null}}function configureAria(element,options){var role="alert"===options.$type?"alertdialog":"dialog",dialogContent=element.find("md-dialog-content"),dialogId=element.attr("id")||"dialog_"+$mdUtil.nextUid();element.attr({role:role,tabIndex:"-1"}),0===dialogContent.length&&(dialogContent=element),dialogContent.attr("id",dialogId),element.attr("aria-describedby",dialogId),options.ariaLabel?$mdAria.expect(element,"aria-label",options.ariaLabel):$mdAria.expectAsync(element,"aria-label",function(){var words=dialogContent.text().split(/\s+/);return words.length>3&&(words=words.slice(0,3).concat("...")),words.join(" ")})}function lockScreenReader(element,options){function walkDOM(element){for(;element.parentNode;){if(element===document.body)return;for(var children=element.parentNode.children,i=0;i<children.length;i++)element===children[i]||isNodeOneOf(children[i],["SCRIPT","STYLE"])||children[i].setAttribute("aria-hidden",isHidden);
walkDOM(element=element.parentNode)}}var isHidden=!0;walkDOM(element[0]),options.unlockScreenReader=function(){isHidden=!1,walkDOM(element[0]),options.unlockScreenReader=null}}function stretchDialogContainerToViewport(container,options){var isFixed="fixed"==$window.getComputedStyle($document[0].body).position,backdrop=options.backdrop?$window.getComputedStyle(options.backdrop[0]):null,height=backdrop?Math.ceil(Math.abs(parseInt(backdrop.height,10))):0;return container.css({top:(isFixed?$mdUtil.scrollTop(options.parent)/2:0)+"px",height:height?height+"px":"100%"}),container}function dialogPopIn(container,options){options.parent.append(container),stretchDialogContainerToViewport(container,options);var dialogEl=container.find("md-dialog"),animator=$mdUtil.dom.animator,buildTranslateToOrigin=animator.calculateZoomToOrigin,translateOptions={transitionInClass:"md-transition-in",transitionOutClass:"md-transition-out"},from=animator.toTransformCss(buildTranslateToOrigin(dialogEl,options.origin)),to=animator.toTransformCss("");return animator.translate3d(dialogEl,from,to,translateOptions).then(function(animateReversal){return options.reverseAnimate=function(){return delete options.reverseAnimate,animateReversal(animator.toTransformCss(buildTranslateToOrigin(dialogEl,options.origin)))},!0})}function dialogPopOut(container,options){return options.reverseAnimate()}function isNodeOneOf(elem,nodeTypeArray){if(nodeTypeArray.indexOf(elem.nodeName)!==-1)return!0}return{hasBackdrop:!0,isolateScope:!0,onShow:onShow,onRemove:onRemove,clickOutsideToClose:!1,escapeToClose:!0,targetEvent:null,focusOnOpen:!0,disableParentScroll:!0,transformTemplate:function(template){return'<div class="md-dialog-container">'+template+"</div>"}}}return advancedDialogOptions.$inject=["$mdDialog","$mdTheming"],dialogDefaultOptions.$inject=["$mdDialog","$mdAria","$mdUtil","$mdConstant","$animate","$document","$window","$rootElement"],$$interimElementProvider("$mdDialog").setDefaults({methods:["disableParentScroll","hasBackdrop","clickOutsideToClose","escapeToClose","targetEvent","parent"],options:dialogDefaultOptions}).addPreset("alert",{methods:["title","content","ariaLabel","ok","theme"],options:advancedDialogOptions}).addPreset("confirm",{methods:["title","content","ariaLabel","ok","cancel","theme"],options:advancedDialogOptions})}angular.module("material.components.dialog",["material.core","material.components.backdrop"]).directive("mdDialog",MdDialogDirective).provider("$mdDialog",MdDialogProvider),MdDialogDirective.$inject=["$$rAF","$mdTheming"],MdDialogProvider.$inject=["$$interimElementProvider"]}(),function(){function MdDividerDirective($mdTheming){return{restrict:"E",link:$mdTheming}}angular.module("material.components.divider",["material.core"]).directive("mdDivider",MdDividerDirective),MdDividerDirective.$inject=["$mdTheming"]}(),function(){!function(){function MdFabActionsDirective(){return{restrict:"E",require:["^?mdFabSpeedDial","^?mdFabToolbar"],compile:function(element,attributes){var children=element.children();return children.attr("ng-repeat")?children.addClass("md-fab-action-item"):children.wrap('<div class="md-fab-action-item">'),function(scope,element,attributes,controllers){var controller=controllers[0]||controllers[1];controller&&angular.forEach(element.children(),function(child){child=angular.element(child).children()[0],angular.element(child).on("focus",controller.open),angular.element(child).on("blur",controller.close)})}}}}angular.module("material.components.fabActions",["material.core"]).directive("mdFabActions",MdFabActionsDirective)}()}(),function(){!function(){function MdFabSpeedDialDirective(){function FabSpeedDialLink(scope,element){element.prepend('<div class="md-css-variables"></div>')}function FabSpeedDialController($scope,$element,$animate,$mdUtil){function setupDefaults(){vm.direction=vm.direction||"down",vm.isOpen=vm.isOpen||!1}function setupListeners(){$element.on("mouseenter",vm.mouseenter),$element.on("mouseleave",vm.mouseleave)}function setupWatchers(){$scope.$watch("vm.direction",function(newDir,oldDir){$animate.removeClass($element,"md-"+oldDir),$animate.addClass($element,"md-"+newDir)}),$scope.$watch("vm.isOpen",function(isOpen){var toAdd=isOpen?"md-is-open":"",toRemove=isOpen?"":"md-is-open";$animate.setClass($element,toAdd,toRemove)})}var vm=this;vm.open=function(){$scope.$evalAsync("vm.isOpen = true")},vm.close=function(){!vm.moused&&$scope.$evalAsync("vm.isOpen = false")},vm.mouseenter=function(){vm.moused=!0,vm.open()},vm.mouseleave=function(){vm.moused=!1,vm.close()},setupDefaults(),setupListeners(),setupWatchers(),$mdUtil.nextTick(function(){$animate.addClass($element,"md-noop")})}return FabSpeedDialController.$inject=["$scope","$element","$animate","$mdUtil"],{restrict:"E",scope:{direction:"@?mdDirection",isOpen:"=?mdOpen"},bindToController:!0,controller:FabSpeedDialController,controllerAs:"vm",link:FabSpeedDialLink}}function MdFabSpeedDialFlingAnimation(){function runAnimation(element){var el=element[0],ctrl=element.controller("mdFabSpeedDial"),items=el.querySelectorAll(".md-fab-action-item"),variablesElement=el.querySelector(".md-css-variables"),startZIndex=variablesElement.style.zIndex;angular.forEach(items,function(item,index){var styles=item.style;styles.transform=styles.webkitTransform="",styles.transitionDelay="",styles.opacity=1,styles.zIndex=items.length-index+startZIndex}),ctrl.isOpen||angular.forEach(items,function(item,index){var newPosition,axis,styles=item.style;switch(ctrl.direction){case"up":newPosition=item.scrollHeight*(index+1),axis="Y";break;case"down":newPosition=-item.scrollHeight*(index+1),axis="Y";break;case"left":newPosition=item.scrollWidth*(index+1),axis="X";break;case"right":newPosition=-item.scrollWidth*(index+1),axis="X"}var newTranslate="translate"+axis+"("+newPosition+"px)";styles.transform=styles.webkitTransform=newTranslate})}return{addClass:function(element,className,done){element.hasClass("md-fling")&&(runAnimation(element),done())},removeClass:function(element,className,done){runAnimation(element),done()}}}function MdFabSpeedDialScaleAnimation(){function runAnimation(element){var el=element[0],ctrl=element.controller("mdFabSpeedDial"),items=el.querySelectorAll(".md-fab-action-item");angular.forEach(items,function(item,index){var styles=item.style,offsetDelay=index*delay;styles.opacity=ctrl.isOpen?1:0,styles.transform=styles.webkitTransform=ctrl.isOpen?"scale(1)":"scale(0)",styles.transitionDelay=(ctrl.isOpen?offsetDelay:items.length-offsetDelay)+"ms"})}var delay=65;return{addClass:function(element,className,done){runAnimation(element),done()},removeClass:function(element,className,done){runAnimation(element),done()}}}angular.module("material.components.fabSpeedDial",["material.core","material.components.fabTrigger","material.components.fabActions"]).directive("mdFabSpeedDial",MdFabSpeedDialDirective).animation(".md-fling",MdFabSpeedDialFlingAnimation).animation(".md-scale",MdFabSpeedDialScaleAnimation).service("mdFabSpeedDialFlingAnimation",MdFabSpeedDialFlingAnimation).service("mdFabSpeedDialScaleAnimation",MdFabSpeedDialScaleAnimation)}()}(),function(){!function(){function MdFabToolbarDirective(){function FabToolbarController($scope,$element,$animate){var vm=this;vm.isOpen=vm.isOpen||!1,vm.open=function(){vm.isOpen=!0,$scope.$apply()},vm.close=function(){vm.isOpen=!1,$scope.$apply()},$element.addClass("md-fab-toolbar"),$element.on("mouseenter",vm.open),$element.on("mouseleave",vm.close),$scope.$watch("vm.isOpen",function(isOpen){var toAdd=isOpen?"md-is-open":"",toRemove=isOpen?"":"md-is-open";$animate.setClass($element,toAdd,toRemove)})}function link(scope,element,attributes){element.find("md-fab-trigger").find("button").attr("tabindex","-1"),element.find("md-fab-trigger").find("button").prepend('<div class="md-fab-toolbar-background"></div>')}return FabToolbarController.$inject=["$scope","$element","$animate"],{restrict:"E",transclude:!0,template:'<div class="md-fab-toolbar-wrapper">  <div class="md-fab-toolbar-content" ng-transclude></div></div>',scope:{isOpen:"=?mdOpen"},bindToController:!0,controller:FabToolbarController,controllerAs:"vm",link:link}}function MdFabToolbarAnimation(){function runAnimation(element,className,done){var el=element[0],ctrl=element.controller("mdFabToolbar"),backgroundElement=el.querySelector(".md-fab-toolbar-background"),triggerElement=el.querySelector("md-fab-trigger button"),iconElement=el.querySelector("md-fab-trigger button md-icon"),actions=element.find("md-fab-actions").children();if(triggerElement&&backgroundElement){var color=window.getComputedStyle(triggerElement).getPropertyValue("background-color"),width=el.offsetWidth,scale=(el.offsetHeight,2*width);backgroundElement.style.backgroundColor=color,backgroundElement.style.borderRadius=width+"px",ctrl.isOpen?(backgroundElement.style.width=scale+"px",backgroundElement.style.height=scale+"px",backgroundElement.style.top=-(scale/2)+"px",element.hasClass("md-left")&&(backgroundElement.style.left=-(scale/2)+"px",backgroundElement.style.right=null),element.hasClass("md-right")&&(backgroundElement.style.right=-(scale/2)+"px",backgroundElement.style.left=null),backgroundElement.style.transitionDelay="0ms",iconElement&&(iconElement.style.transitionDelay=".3s"),angular.forEach(actions,function(action,index){action.style.transitionDelay=25*(actions.length-index)+"ms"})):(backgroundElement.style.width=triggerElement.offsetWidth+"px",backgroundElement.style.height=triggerElement.offsetHeight+"px",backgroundElement.style.top="0px",element.hasClass("md-left")&&(backgroundElement.style.left="0px",backgroundElement.style.right=null),element.hasClass("md-right")&&(backgroundElement.style.right="0px",backgroundElement.style.left=null),backgroundElement.style.transitionDelay="200ms",iconElement&&(iconElement.style.transitionDelay="0ms"),angular.forEach(actions,function(action,index){action.style.transitionDelay=25*index+"ms"}))}}return{addClass:function(element,className,done){runAnimation(element,className,done),done()},removeClass:function(element,className,done){runAnimation(element,className,done),done()}}}angular.module("material.components.fabToolbar",["material.core","material.components.fabTrigger","material.components.fabActions"]).directive("mdFabToolbar",MdFabToolbarDirective).animation(".md-fab-toolbar",MdFabToolbarAnimation).service("mdFabToolbarAnimation",MdFabToolbarAnimation)}()}(),function(){!function(){function MdFabTriggerDirective(){return{restrict:"E",require:["^?mdFabSpeedDial","^?mdFabToolbar"],link:function(scope,element,attributes,controllers){var controller=controllers[0]||controllers[1];controller&&angular.forEach(element.children(),function(child){angular.element(child).on("focus",controller.open),angular.element(child).on("blur",controller.close)})}}}angular.module("material.components.fabTrigger",["material.core"]).directive("mdFabTrigger",MdFabTriggerDirective)}()}(),function(){function GridListDirective($interpolate,$mdConstant,$mdGridLayout,$mdMedia){function postLink(scope,element,attrs,ctrl){function watchMedia(){for(var mediaName in $mdConstant.MEDIA)$mdMedia(mediaName),$mdMedia.getQuery($mdConstant.MEDIA[mediaName]).addListener(invalidateLayout);return $mdMedia.watchResponsiveAttributes(["md-cols","md-row-height"],attrs,layoutIfMediaMatch)}function unwatchMedia(){ctrl.layoutDelegate=angular.noop,unwatchAttrs();for(var mediaName in $mdConstant.MEDIA)$mdMedia.getQuery($mdConstant.MEDIA[mediaName]).removeListener(invalidateLayout)}function layoutIfMediaMatch(mediaName){null==mediaName?ctrl.invalidateLayout():$mdMedia(mediaName)&&ctrl.invalidateLayout()}function layoutDelegate(tilesInvalidated){var tiles=getTileElements(),props={tileSpans:getTileSpans(tiles),colCount:getColumnCount(),rowMode:getRowMode(),rowHeight:getRowHeight(),gutter:getGutter()};if(tilesInvalidated||!angular.equals(props,lastLayoutProps)){var performance=$mdGridLayout(props.colCount,props.tileSpans,tiles).map(function(tilePositions,rowCount){return{grid:{element:element,style:getGridStyle(props.colCount,rowCount,props.gutter,props.rowMode,props.rowHeight)},tiles:tilePositions.map(function(ps,i){return{element:angular.element(tiles[i]),style:getTileStyle(ps.position,ps.spans,props.colCount,props.rowCount,props.gutter,props.rowMode,props.rowHeight)}})}}).reflow().performance();scope.mdOnLayout({$event:{performance:performance}}),lastLayoutProps=props}}function expr(exprStr){return startSymbol+exprStr+endSymbol}function getTileStyle(position,spans,colCount,rowCount,gutter,rowMode,rowHeight){var hShare=1/colCount*100,hGutterShare=(colCount-1)/colCount,hUnit=UNIT({share:hShare,gutterShare:hGutterShare,gutter:gutter}),style={left:POSITION({unit:hUnit,offset:position.col,gutter:gutter}),width:DIMENSION({unit:hUnit,span:spans.col,gutter:gutter}),paddingTop:"",marginTop:"",top:"",height:""};switch(rowMode){case"fixed":style.top=POSITION({unit:rowHeight,offset:position.row,gutter:gutter}),style.height=DIMENSION({unit:rowHeight,span:spans.row,gutter:gutter});break;case"ratio":var vShare=hShare/rowHeight,vUnit=UNIT({share:vShare,gutterShare:hGutterShare,gutter:gutter});style.paddingTop=DIMENSION({unit:vUnit,span:spans.row,gutter:gutter}),style.marginTop=POSITION({unit:vUnit,offset:position.row,gutter:gutter});break;case"fit":var vGutterShare=(rowCount-1)/rowCount,vShare=1/rowCount*100,vUnit=UNIT({share:vShare,gutterShare:vGutterShare,gutter:gutter});style.top=POSITION({unit:vUnit,offset:position.row,gutter:gutter}),style.height=DIMENSION({unit:vUnit,span:spans.row,gutter:gutter})}return style}function getGridStyle(colCount,rowCount,gutter,rowMode,rowHeight){var style={height:"",paddingBottom:""};switch(rowMode){case"fixed":style.height=DIMENSION({unit:rowHeight,span:rowCount,gutter:gutter});break;case"ratio":var hGutterShare=1===colCount?0:(colCount-1)/colCount,hShare=1/colCount*100,vShare=hShare*(1/rowHeight),vUnit=UNIT({share:vShare,gutterShare:hGutterShare,gutter:gutter});style.paddingBottom=DIMENSION({unit:vUnit,span:rowCount,gutter:gutter});break;case"fit":}return style}function getTileElements(){return[].filter.call(element.children(),function(ele){return"MD-GRID-TILE"==ele.tagName})}function getTileSpans(tileElements){return[].map.call(tileElements,function(ele){var ctrl=angular.element(ele).controller("mdGridTile");return{row:parseInt($mdMedia.getResponsiveAttribute(ctrl.$attrs,"md-rowspan"),10)||1,col:parseInt($mdMedia.getResponsiveAttribute(ctrl.$attrs,"md-colspan"),10)||1}})}function getColumnCount(){var colCount=parseInt($mdMedia.getResponsiveAttribute(attrs,"md-cols"),10);if(isNaN(colCount))throw"md-grid-list: md-cols attribute was not found, or contained a non-numeric value";return colCount}function getGutter(){return applyDefaultUnit($mdMedia.getResponsiveAttribute(attrs,"md-gutter")||1)}function getRowHeight(){var rowHeight=$mdMedia.getResponsiveAttribute(attrs,"md-row-height");switch(getRowMode()){case"fixed":return applyDefaultUnit(rowHeight);case"ratio":var whRatio=rowHeight.split(":");return parseFloat(whRatio[0])/parseFloat(whRatio[1]);case"fit":return 0}}function getRowMode(){var rowHeight=$mdMedia.getResponsiveAttribute(attrs,"md-row-height");return"fit"==rowHeight?"fit":rowHeight.indexOf(":")!==-1?"ratio":"fixed"}function applyDefaultUnit(val){return/\D$/.test(val)?val:val+"px"}element.attr("role","list"),ctrl.layoutDelegate=layoutDelegate;var invalidateLayout=angular.bind(ctrl,ctrl.invalidateLayout),unwatchAttrs=watchMedia();scope.$on("$destroy",unwatchMedia);var lastLayoutProps,startSymbol=$interpolate.startSymbol(),endSymbol=$interpolate.endSymbol(),UNIT=$interpolate(expr("share")+"% - ("+expr("gutter")+" * "+expr("gutterShare")+")"),POSITION=$interpolate("calc(("+expr("unit")+" + "+expr("gutter")+") * "+expr("offset")+")"),DIMENSION=$interpolate("calc(("+expr("unit")+") * "+expr("span")+" + ("+expr("span")+" - 1) * "+expr("gutter")+")")}return{restrict:"E",controller:GridListController,scope:{mdOnLayout:"&"},link:postLink}}function GridListController($mdUtil){this.layoutInvalidated=!1,this.tilesInvalidated=!1,this.$timeout_=$mdUtil.nextTick,this.layoutDelegate=angular.noop}function GridLayoutFactory($mdUtil){function GridLayout(colCount,tileSpans){var self,layoutInfo,gridStyles,layoutTime,mapTime,reflowTime;return layoutTime=$mdUtil.time(function(){layoutInfo=calculateGridFor(colCount,tileSpans)}),self={layoutInfo:function(){return layoutInfo},map:function(updateFn){return mapTime=$mdUtil.time(function(){var info=self.layoutInfo();gridStyles=updateFn(info.positioning,info.rowCount)}),self},reflow:function(animatorFn){return reflowTime=$mdUtil.time(function(){var animator=animatorFn||defaultAnimator;animator(gridStyles.grid,gridStyles.tiles)}),self},performance:function(){return{tileCount:tileSpans.length,layoutTime:layoutTime,mapTime:mapTime,reflowTime:reflowTime,totalTime:layoutTime+mapTime+reflowTime}}}}function GridTileAnimator(grid,tiles){grid.element.css(grid.style),tiles.forEach(function(t){t.element.css(t.style)})}function calculateGridFor(colCount,tileSpans){function reserveSpace(spans,i){if(spans.col>colCount)throw"md-grid-list: Tile at position "+i+" has a colspan ("+spans.col+") that exceeds the column count ("+colCount+")";for(var start=0,end=0;end-start<spans.col;)curCol>=colCount?nextRow():(start=spaceTracker.indexOf(0,curCol),start!==-1&&(end=findEnd(start+1))!==-1?curCol=end+1:(start=end=0,nextRow()));return adjustRow(start,spans.col,spans.row),curCol=start+spans.col,{col:start,row:curRow}}function nextRow(){curCol=0,curRow++,adjustRow(0,colCount,-1)}function adjustRow(from,cols,by){for(var i=from;i<from+cols;i++)spaceTracker[i]=Math.max(spaceTracker[i]+by,0)}function findEnd(start){var i;for(i=start;i<spaceTracker.length;i++)if(0!==spaceTracker[i])return i;if(i===spaceTracker.length)return i}function newSpaceTracker(){for(var tracker=[],i=0;i<colCount;i++)tracker.push(0);return tracker}var curCol=0,curRow=0,spaceTracker=newSpaceTracker();return{positioning:tileSpans.map(function(spans,i){return{spans:spans,position:reserveSpace(spans,i)}}),rowCount:curRow+Math.max.apply(Math,spaceTracker)}}var defaultAnimator=GridTileAnimator;return GridLayout.animateWith=function(customAnimator){defaultAnimator=angular.isFunction(customAnimator)?customAnimator:GridTileAnimator},GridLayout}function GridTileDirective($mdMedia){function postLink(scope,element,attrs,gridCtrl){element.attr("role","listitem");var unwatchAttrs=$mdMedia.watchResponsiveAttributes(["md-colspan","md-rowspan"],attrs,angular.bind(gridCtrl,gridCtrl.invalidateLayout));gridCtrl.invalidateTiles(),scope.$on("$destroy",function(){unwatchAttrs(),gridCtrl.invalidateLayout()}),angular.isDefined(scope.$parent.$index)&&scope.$watch(function(){return scope.$parent.$index},function(newIdx,oldIdx){newIdx!==oldIdx&&gridCtrl.invalidateTiles()})}return{restrict:"E",require:"^mdGridList",template:"<figure ng-transclude></figure>",transclude:!0,scope:{},controller:["$attrs",function($attrs){this.$attrs=$attrs}],link:postLink}}function GridTileCaptionDirective(){return{template:"<figcaption ng-transclude></figcaption>",transclude:!0}}angular.module("material.components.gridList",["material.core"]).directive("mdGridList",GridListDirective).directive("mdGridTile",GridTileDirective).directive("mdGridTileFooter",GridTileCaptionDirective).directive("mdGridTileHeader",GridTileCaptionDirective).factory("$mdGridLayout",GridLayoutFactory),GridListDirective.$inject=["$interpolate","$mdConstant","$mdGridLayout","$mdMedia"],GridListController.$inject=["$mdUtil"],GridListController.prototype={invalidateTiles:function(){this.tilesInvalidated=!0,this.invalidateLayout()},invalidateLayout:function(){this.layoutInvalidated||(this.layoutInvalidated=!0,this.$timeout_(angular.bind(this,this.layout)))},layout:function(){try{this.layoutDelegate(this.tilesInvalidated)}finally{this.layoutInvalidated=!1,this.tilesInvalidated=!1}}},GridLayoutFactory.$inject=["$mdUtil"],GridTileDirective.$inject=["$mdMedia"]}(),function(){function mdIconDirective($mdIcon,$mdTheming,$mdAria){function postLink(scope,element,attr){function parentsHaveText(){var parent=element.parent();return!(!parent.attr("aria-label")&&!parent.text())||!(!parent.parent().attr("aria-label")&&!parent.parent().text())}function prepareForFontIcon(){scope.svgIcon||scope.svgSrc||(scope.fontIcon&&(element.addClass("md-font"),element.addClass(scope.fontIcon)),scope.fontSet&&element.addClass($mdIcon.fontSet(scope.fontSet)),scope.fontIcon||scope.fontSet||angular.isDefined(attr["class"])||element.addClass("material-icons"))}$mdTheming(element),prepareForFontIcon();var label=attr.alt||scope.fontIcon||scope.svgIcon||element.text(),attrName=attr.$normalize(attr.$attr.mdSvgIcon||attr.$attr.mdSvgSrc||"");attr["aria-label"]||(""==label||parentsHaveText()?element.text()||$mdAria.expect(element,"aria-hidden","true"):($mdAria.expect(element,"aria-label",label),$mdAria.expect(element,"role","img"))),attrName&&attr.$observe(attrName,function(attrVal){element.empty(),attrVal&&$mdIcon(attrVal).then(function(svg){element.append(svg)})})}return{scope:{fontSet:"@mdFontSet",fontIcon:"@mdFontIcon",svgIcon:"@mdSvgIcon",svgSrc:"@mdSvgSrc"},restrict:"E",link:postLink}}angular.module("material.components.icon",["material.core"]).directive("mdIcon",mdIconDirective),mdIconDirective.$inject=["$mdIcon","$mdTheming","$mdAria"]}(),function(){function MdIconProvider(){}function ConfigurationItem(url,viewBoxSize){this.url=url,this.viewBoxSize=viewBoxSize||config.defaultViewBoxSize}function MdIconService(config,$http,$q,$log,$templateCache){function getIcon(id){return id=id||"",iconCache[id]?$q.when(iconCache[id].clone()):urlRegex.test(id)?loadByURL(id).then(cacheIcon(id)):(id.indexOf(":")==-1&&(id="$default:"+id),loadByID(id)["catch"](loadFromIconSet)["catch"](announceIdNotFound)["catch"](announceNotFound).then(cacheIcon(id)))}function findRegisteredFontSet(alias){var useDefault=angular.isUndefined(alias)||!(alias&&alias.length);if(useDefault)return config.defaultFontSet;var result=alias;return angular.forEach(config.fontSets,function(it){it.alias==alias&&(result=it.fontSet||result)}),result}function cacheIcon(id){return function(icon){return iconCache[id]=isIcon(icon)?icon:new Icon(icon,config[id]),iconCache[id].clone()}}function loadByID(id){var iconConfig=config[id];return iconConfig?loadByURL(iconConfig.url).then(function(icon){return new Icon(icon,iconConfig)}):$q.reject(id)}function loadFromIconSet(id){function extractFromSet(set){var iconName=id.slice(id.lastIndexOf(":")+1),icon=set.querySelector("#"+iconName);return icon?new Icon(icon,iconSetConfig):$q.reject(id)}var setName=id.substring(0,id.lastIndexOf(":"))||"$default",iconSetConfig=config[setName];return iconSetConfig?loadByURL(iconSetConfig.url).then(extractFromSet):$q.reject(id)}function loadByURL(url){return $http.get(url,{cache:$templateCache}).then(function(response){return angular.element("<div>").append(response.data).find("svg")[0]})}function announceIdNotFound(id){var msg;return angular.isString(id)&&(msg="icon "+id+" not found",$log.warn(msg)),$q.reject(msg||id)}function announceNotFound(err){var msg=angular.isString(err)?err:err.message||err.data||err.statusText;return $log.warn(msg),$q.reject(msg)}function isIcon(target){return angular.isDefined(target.element)&&angular.isDefined(target.config)}function Icon(el,config){"svg"!=el.tagName&&(el=angular.element('<svg xmlns="http://www.w3.org/2000/svg">').append(el)[0]),el.getAttribute("xmlns")||el.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.element=el,this.config=config,this.prepare()}function prepareAndStyle(){var viewBoxSize=this.config?this.config.viewBoxSize:config.defaultViewBoxSize;angular.forEach({fit:"",height:"100%",width:"100%",preserveAspectRatio:"xMidYMid meet",viewBox:this.element.getAttribute("viewBox")||"0 0 "+viewBoxSize+" "+viewBoxSize},function(val,attr){this.element.setAttribute(attr,val)},this),angular.forEach({"pointer-events":"none",display:"block"},function(val,style){this.element.style[style]=val},this)}function cloneSVG(){return this.element.cloneNode(!0)}var iconCache={},urlRegex=/[-a-zA-Z0-9@:%_\+.~#?&\/\/=]{2,256}\.[a-z]{2,4}\b(\/[-a-zA-Z0-9@:%_\+.~#?&\/\/=]*)?/i;return Icon.prototype={clone:cloneSVG,prepare:prepareAndStyle},getIcon.fontSet=findRegisteredFontSet,getIcon}angular.module("material.components.icon").provider("$mdIcon",MdIconProvider);var config={defaultViewBoxSize:24,defaultFontSet:"material-icons",fontSets:[]};MdIconProvider.prototype={icon:function(id,url,viewBoxSize){return id.indexOf(":")==-1&&(id="$default:"+id),config[id]=new ConfigurationItem(url,viewBoxSize),this},iconSet:function(id,url,viewBoxSize){return config[id]=new ConfigurationItem(url,viewBoxSize),this},defaultIconSet:function(url,viewBoxSize){var setName="$default";return config[setName]||(config[setName]=new ConfigurationItem(url,viewBoxSize)),config[setName].viewBoxSize=viewBoxSize||config.defaultViewBoxSize,this},defaultViewBoxSize:function(viewBoxSize){return config.defaultViewBoxSize=viewBoxSize,this},fontSet:function(alias,className){return config.fontSets.push({alias:alias,fontSet:className||alias}),this},defaultFontSet:function(className){return config.defaultFontSet=className?className:"",this},defaultIconSize:function(iconSize){return config.defaultIconSize=iconSize,this},preloadIcons:function($templateCache){var iconProvider=this,svgRegistry=[{id:"md-tabs-arrow",url:"md-tabs-arrow.svg",svg:'<svg version="1.1" x="0px" y="0px" viewBox="0 0 24 24"><g><polygon points="15.4,7.4 14,6 8,12 14,18 15.4,16.6 10.8,12 "/></g></svg>'},{id:"md-close",url:"md-close.svg",svg:'<svg version="1.1" x="0px" y="0px" viewBox="0 0 24 24"><g><path d="M19 6.41l-1.41-1.41-5.59 5.59-5.59-5.59-1.41 1.41 5.59 5.59-5.59 5.59 1.41 1.41 5.59-5.59 5.59 5.59 1.41-1.41-5.59-5.59z"/></g></svg>'},{id:"md-cancel",url:"md-cancel.svg",svg:'<svg version="1.1" x="0px" y="0px" viewBox="0 0 24 24"><g><path d="M12 2c-5.53 0-10 4.47-10 10s4.47 10 10 10 10-4.47 10-10-4.47-10-10-10zm5 13.59l-1.41 1.41-3.59-3.59-3.59 3.59-1.41-1.41 3.59-3.59-3.59-3.59 1.41-1.41 3.59 3.59 3.59-3.59 1.41 1.41-3.59 3.59 3.59 3.59z"/></g></svg>'},{id:"md-menu",url:"md-menu.svg",svg:'<svg version="1.1" x="0px" y="0px" viewBox="0 0 24 24"><path d="M3,6H21V8H3V6M3,11H21V13H3V11M3,16H21V18H3V16Z" /></svg>'},{id:"md-toggle-arrow",url:"md-toggle-arrow-svg",svg:'<svg version="1.1" x="0px" y="0px" viewBox="0 0 48 48"><path d="M24 16l-12 12 2.83 2.83 9.17-9.17 9.17 9.17 2.83-2.83z"/><path d="M0 0h48v48h-48z" fill="none"/></svg>'}];svgRegistry.forEach(function(asset){iconProvider.icon(asset.id,asset.url),$templateCache.put(asset.url,asset.svg)})},$get:["$http","$q","$log","$templateCache",function($http,$q,$log,$templateCache){return this.preloadIcons($templateCache),MdIconService(config,$http,$q,$log,$templateCache)}]}}(),function(){function mdInputContainerDirective($mdTheming,$parse){function postLink(scope,element,attr){$mdTheming(element)}function ContainerCtrl($scope,$element,$attrs){var self=this;self.isErrorGetter=$attrs.mdIsError&&$parse($attrs.mdIsError),self.delegateClick=function(){self.input.focus()},self.element=$element,self.setFocused=function(isFocused){$element.toggleClass("md-input-focused",!!isFocused)},self.setHasValue=function(hasValue){$element.toggleClass("md-input-has-value",!!hasValue)},self.setInvalid=function(isInvalid){$element.toggleClass("md-input-invalid",!!isInvalid)},$scope.$watch(function(){return self.label&&self.input},function(hasLabelAndInput){hasLabelAndInput&&!self.label.attr("for")&&self.label.attr("for",self.input.attr("id"))})}return ContainerCtrl.$inject=["$scope","$element","$attrs"],{restrict:"E",link:postLink,controller:ContainerCtrl}}function labelDirective(){return{restrict:"E",require:"^?mdInputContainer",link:function(scope,element,attr,containerCtrl){containerCtrl&&!attr.mdNoFloat&&(containerCtrl.label=element,scope.$on("$destroy",function(){containerCtrl.label=null}))}}}function inputTextareaDirective($mdUtil,$window,$mdAria){function postLink(scope,element,attr,ctrls){function ngModelPipelineCheckValue(arg){return containerCtrl.setHasValue(!ngModelCtrl.$isEmpty(arg)),arg}function inputCheckValue(){containerCtrl.setHasValue(element.val().length>0||(element[0].validity||{}).badInput)}function setupTextarea(){function pipelineListener(value){return onChangeTextarea(),value}function growTextarea(){if(container.style.height=container.offsetHeight+"px",element.addClass("md-no-flex"),isNaN(min_rows)){node.style.height="auto",node.scrollTop=0;var height=getHeight();height&&(node.style.height=height+"px")}else{node.setAttribute("rows",1),lineHeight||(node.style.minHeight="0",lineHeight=element.height(),node.style.minHeight=null);var rows=Math.max(min_rows,Math.round(node.scrollHeight/lineHeight));node.setAttribute("rows",rows)}element.removeClass("md-no-flex"),container.style.height="auto"}function getHeight(){var line=node.scrollHeight-node.offsetHeight;return node.offsetHeight+(line>0?line:0)}function onScroll(e){node.scrollTop=0;var line=node.scrollHeight-node.offsetHeight,height=node.offsetHeight+line;node.style.height=height+"px"}if(!angular.isDefined(element.attr("md-no-autogrow"))){var node=element[0],container=containerCtrl.element[0],min_rows=NaN,lineHeight=null;node.hasAttribute("rows")&&(min_rows=parseInt(node.getAttribute("rows")));var onChangeTextarea=$mdUtil.debounce(growTextarea,1);ngModelCtrl?(ngModelCtrl.$formatters.push(pipelineListener),ngModelCtrl.$viewChangeListeners.push(pipelineListener)):onChangeTextarea(),element.on("keydown input",onChangeTextarea),isNaN(min_rows)&&(element.attr("rows","1"),element.on("scroll",onScroll)),angular.element($window).on("resize",onChangeTextarea),scope.$on("$destroy",function(){angular.element($window).off("resize",onChangeTextarea)})}}var containerCtrl=ctrls[0],ngModelCtrl=ctrls[1]||$mdUtil.fakeNgModel(),isReadonly=angular.isDefined(attr.readonly);if(containerCtrl){if(containerCtrl.input)throw new Error("<md-input-container> can only have *one* <input>, <textarea> or <md-select> child element!");containerCtrl.input=element,containerCtrl.label||$mdAria.expect(element,"aria-label",element.attr("placeholder")),element.addClass("md-input"),element.attr("id")||element.attr("id","input_"+$mdUtil.nextUid()),"textarea"===element[0].tagName.toLowerCase()&&setupTextarea();var isErrorGetter=containerCtrl.isErrorGetter||function(){return ngModelCtrl.$invalid&&ngModelCtrl.$touched};scope.$watch(isErrorGetter,containerCtrl.setInvalid),ngModelCtrl.$parsers.push(ngModelPipelineCheckValue),ngModelCtrl.$formatters.push(ngModelPipelineCheckValue),element.on("input",inputCheckValue),isReadonly||element.on("focus",function(ev){containerCtrl.setFocused(!0)}).on("blur",function(ev){containerCtrl.setFocused(!1),inputCheckValue()}),scope.$on("$destroy",function(){containerCtrl.setFocused(!1),containerCtrl.setHasValue(!1),containerCtrl.input=null})}}return{restrict:"E",require:["^?mdInputContainer","?ngModel"],link:postLink}}function mdMaxlengthDirective($animate){function postLink(scope,element,attr,ctrls){function renderCharCount(value){return charCountEl.text((element.val()||value||"").length+"/"+maxlength),value}var maxlength,ngModelCtrl=ctrls[0],containerCtrl=ctrls[1],charCountEl=angular.element('<div class="md-char-counter">');attr.$set("ngTrim","false"),containerCtrl.element.append(charCountEl),ngModelCtrl.$formatters.push(renderCharCount),ngModelCtrl.$viewChangeListeners.push(renderCharCount),element.on("input keydown",function(){renderCharCount()}),scope.$watch(attr.mdMaxlength,function(value){maxlength=value,angular.isNumber(value)&&value>0?(charCountEl.parent().length||$animate.enter(charCountEl,containerCtrl.element,angular.element(containerCtrl.element[0].lastElementChild)),renderCharCount()):$animate.leave(charCountEl)}),ngModelCtrl.$validators["md-maxlength"]=function(modelValue,viewValue){return!angular.isNumber(maxlength)||maxlength<0||(modelValue||element.val()||viewValue||"").length<=maxlength}}return{restrict:"A",require:["ngModel","^mdInputContainer"],
link:postLink}}function placeholderDirective($log){function postLink(scope,element,attr,inputContainer){if(inputContainer&&!angular.isDefined(inputContainer.element.attr("md-no-float"))){var placeholderText=attr.placeholder;if(element.removeAttr("placeholder"),0==inputContainer.element.find("label").length){if(inputContainer.input&&"MD-SELECT"!=inputContainer.input[0].nodeName){var placeholder='<label ng-click="delegateClick()">'+placeholderText+"</label>";inputContainer.element.addClass("md-icon-float"),inputContainer.element.prepend(placeholder)}}else"MD-SELECT"!=element[0].nodeName&&$log.warn("The placeholder='"+placeholderText+"' will be ignored since this md-input-container has a child label element.")}}return{restrict:"A",require:"^^?mdInputContainer",priority:200,link:postLink}}angular.module("material.components.input",["material.core"]).directive("mdInputContainer",mdInputContainerDirective).directive("label",labelDirective).directive("input",inputTextareaDirective).directive("textarea",inputTextareaDirective).directive("mdMaxlength",mdMaxlengthDirective).directive("placeholder",placeholderDirective),mdInputContainerDirective.$inject=["$mdTheming","$parse"],inputTextareaDirective.$inject=["$mdUtil","$window","$mdAria"],mdMaxlengthDirective.$inject=["$animate"],placeholderDirective.$inject=["$log"]}(),function(){function mdListDirective($mdTheming){return{restrict:"E",compile:function(tEl){return tEl[0].setAttribute("role","list"),$mdTheming}}}function mdListItemDirective($mdAria,$mdConstant,$timeout){var proxiedTypes=["md-checkbox","md-switch"];return{restrict:"E",controller:"MdListController",compile:function(tEl,tAttrs){function setupToggleAria(){for(var toggle,toggleType,toggleTypes=["md-switch","md-checkbox"],i=0;toggleType=toggleTypes[i];++i)if((toggle=tEl.find(toggleType)[0])&&!toggle.hasAttribute("aria-label")){var p=tEl.find("p")[0];if(!p)return;toggle.setAttribute("aria-label","Toggle "+p.textContent)}}function wrapIn(type){var container;if("div"==type)container=angular.element('<div class="md-no-style md-list-item-inner">'),container.append(tEl.contents()),tEl.addClass("md-proxy-focus");else{container=angular.element('<md-button class="md-no-style"><div class="md-list-item-inner"></div></md-button>');var copiedAttrs=["ng-click","aria-label","ng-disabled"];angular.forEach(copiedAttrs,function(attr){tEl[0].hasAttribute(attr)&&(container[0].setAttribute(attr,tEl[0].getAttribute(attr)),tEl[0].removeAttribute(attr))}),container.children().eq(0).append(tEl.contents())}if(tEl[0].setAttribute("tabindex","-1"),tEl.append(container),secondaryItem&&secondaryItem.hasAttribute("ng-click")){$mdAria.expect(secondaryItem,"aria-label");var buttonWrapper=angular.element('<md-button class="md-secondary-container md-icon-button">');buttonWrapper.attr("ng-click",secondaryItem.getAttribute("ng-click")),secondaryItem.removeAttribute("ng-click"),secondaryItem.setAttribute("tabindex","-1"),secondaryItem.classList.remove("md-secondary"),buttonWrapper.append(secondaryItem),secondaryItem=buttonWrapper[0]}secondaryItem&&(secondaryItem.hasAttribute("ng-click")||tAttrs.ngClick&&isProxiedElement(secondaryItem))&&(tEl.addClass("md-with-secondary"),tEl.append(secondaryItem))}function isProxiedElement(el){return proxiedTypes.indexOf(el.nodeName.toLowerCase())!=-1}function postLink($scope,$element,$attr,ctrl){function computeProxies(){var children=$element.children();children.length&&!children[0].hasAttribute("ng-click")&&angular.forEach(proxiedTypes,function(type){angular.forEach(firstChild.querySelectorAll(type),function(child){proxies.push(child)})})}function computeClickable(){(proxies.length||hasClick)&&($element.addClass("md-clickable"),ctrl.attachRipple($scope,angular.element($element[0].querySelector(".md-no-style"))))}var proxies=[],firstChild=$element[0].firstElementChild,hasClick=firstChild&&firstChild.hasAttribute("ng-click");computeProxies(),computeClickable(),$element.hasClass("md-proxy-focus")&&proxies.length&&angular.forEach(proxies,function(proxy){proxy=angular.element(proxy),$scope.mouseActive=!1,proxy.on("mousedown",function(){$scope.mouseActive=!0,$timeout(function(){$scope.mouseActive=!1},100)}).on("focus",function(){$scope.mouseActive===!1&&$element.addClass("md-focused"),proxy.on("blur",function proxyOnBlur(){$element.removeClass("md-focused"),proxy.off("blur",proxyOnBlur)})})}),hasClick||proxies.length||firstChild&&firstChild.addEventListener("keypress",function(e){if("INPUT"!=e.target.nodeName&&"TEXTAREA"!=e.target.nodeName){var keyCode=e.which||e.keyCode;keyCode==$mdConstant.KEY_CODE.SPACE&&firstChild&&(firstChild.click(),e.preventDefault(),e.stopPropagation())}}),$element.off("click"),$element.off("keypress"),proxies.length&&firstChild&&$element.children().eq(0).on("click",function(e){firstChild.contains(e.target)&&angular.forEach(proxies,function(proxy){e.target===proxy||proxy.contains(e.target)||angular.element(proxy).triggerHandler("click")})})}var hasProxiedElement,proxyElement,secondaryItem=tEl[0].querySelector(".md-secondary");if(tEl[0].setAttribute("role","listitem"),tAttrs.ngClick)wrapIn("button");else{for(var type,i=0;type=proxiedTypes[i];++i)if(proxyElement=tEl[0].querySelector(type)){hasProxiedElement=!0;break}hasProxiedElement?wrapIn("div"):tEl[0].querySelector("md-button")||tEl.addClass("md-no-proxy")}return setupToggleAria(),postLink}}}function MdListController($scope,$element,$mdListInkRipple){function attachRipple(scope,element){var options={};$mdListInkRipple.attach(scope,element,options)}var ctrl=this;ctrl.attachRipple=attachRipple}angular.module("material.components.list",["material.core"]).controller("MdListController",MdListController).directive("mdList",mdListDirective).directive("mdListItem",mdListItemDirective),mdListDirective.$inject=["$mdTheming"],mdListItemDirective.$inject=["$mdAria","$mdConstant","$timeout"],MdListController.$inject=["$scope","$element","$mdListInkRipple"]}(),function(){function MenuDirective($mdMenu){function compile(templateElement){templateElement.addClass("md-menu");var triggerElement=templateElement.children()[0];if(triggerElement.hasAttribute("ng-click")||(triggerElement=triggerElement.querySelector("[ng-click]")),triggerElement&&triggerElement.setAttribute("aria-haspopup","true"),2!=templateElement.children().length)throw Error("Invalid HTML for md-menu. Expected two children elements.");return link}function link(scope,element,attrs,mdMenuCtrl){var menuContainer=angular.element('<div class="md-open-menu-container md-whiteframe-z2"></div>'),menuContents=element.children()[1];menuContainer.append(menuContents),mdMenuCtrl.init(menuContainer),scope.$on("$destroy",function(){menuContainer.remove(),mdMenuCtrl.close()})}return{restrict:"E",require:"mdMenu",controller:"mdMenuCtrl",scope:!0,compile:compile}}function MenuController($mdMenu,$attrs,$element,$scope){var menuContainer,triggerElement,ctrl=this;this.init=function(setMenuContainer){menuContainer=setMenuContainer,triggerElement=$element[0].querySelector("[ng-click]")},this.open=function(ev){ev&&ev.stopPropagation(),ctrl.isOpen=!0,triggerElement.setAttribute("aria-expanded","true"),$mdMenu.show({scope:$scope,mdMenuCtrl:ctrl,element:menuContainer,target:$element[0]})},$scope.$mdOpenMenu=this.open,this.close=function(skipFocus){ctrl.isOpen&&(ctrl.isOpen=!1,triggerElement.setAttribute("aria-expanded","false"),$mdMenu.hide(),skipFocus||$element.children()[0].focus())},this.positionMode=function(){var attachment=($attrs.mdPositionMode||"target").split(" ");return 1==attachment.length&&attachment.push(attachment[0]),{left:attachment[0],top:attachment[1]}},this.offsets=function(){var offsets=($attrs.mdOffset||"0 0").split(" ").map(parseFloat);if(2==offsets.length)return{left:offsets[0],top:offsets[1]};if(1==offsets.length)return{top:offsets[0],left:offsets[0]};throw Error("Invalid offsets specified. Please follow format <x, y> or <n>")}}angular.module("material.components.menu",["material.core","material.components.backdrop"]).directive("mdMenu",MenuDirective).controller("mdMenuCtrl",MenuController),MenuDirective.$inject=["$mdMenu"],MenuController.$inject=["$mdMenu","$attrs","$element","$scope"]}(),function(){function MenuProvider($$interimElementProvider){function menuDefaultOptions($$rAF,$window,$mdUtil,$mdTheming,$mdConstant,$document){function onShow(scope,element,opts){function buildOpts(){if(!opts.target)throw Error("$mdMenu.show() expected a target to animate from in options.target");angular.extend(opts,{alreadyOpen:!1,isRemoved:!1,target:angular.element(opts.target),parent:angular.element(opts.parent),menuContentEl:angular.element(element[0].querySelector("md-menu-content")),backdrop:opts.hasBackdrop&&$mdUtil.createBackdrop(scope,"md-menu-backdrop md-click-catcher")})}function handleResizing(){opts.resizeFn=function(){positionMenu(element,opts)},angular.element($window).on("resize",opts.resizeFn),angular.element($window).on("orientationchange",opts.resizeFn)}function showMenu(){opts.parent.append(element),element.removeClass("md-leave"),$$rAF(function(){$$rAF(function(){positionMenu(element,opts),$$rAF(function(){element.addClass("md-active"),opts.alreadyOpen=!0,element[0].style[$mdConstant.CSS.TRANSFORM]=""})})})}function activateInteraction(){element.addClass("md-clickable"),opts.backdrop&&opts.backdrop.on("click",function(e){e.preventDefault(),e.stopPropagation(),scope.$apply(function(){opts.mdMenuCtrl.close(!0)})}),opts.menuContentEl.on("keydown",function(ev){scope.$apply(function(){switch(ev.keyCode){case $mdConstant.KEY_CODE.ESCAPE:opts.mdMenuCtrl.close();break;case $mdConstant.KEY_CODE.UP_ARROW:focusMenuItem(ev,opts.menuContentEl,opts,-1);break;case $mdConstant.KEY_CODE.DOWN_ARROW:focusMenuItem(ev,opts.menuContentEl,opts,1)}})});var captureClickListener=function(e){function close(){scope.$apply(function(){opts.mdMenuCtrl.close()})}function hasAnyAttribute(target,attrs){if(!target)return!1;for(var attr,i=0;attr=attrs[i];++i)for(var rawAttr,altForms=[attr,"data-"+attr,"x-"+attr],j=0;rawAttr=altForms[j];++j)if(target.hasAttribute(rawAttr))return!0;return!1}var target=e.target;do{if(target==opts.menuContentEl[0])return;if(hasAnyAttribute(target,["ng-click","ng-href","ui-sref"])){target.hasAttribute("disabled")||close();break}}while(target=target.parentNode)};opts.menuContentEl[0].addEventListener("click",captureClickListener,!0);var focusTarget=opts.menuContentEl[0].querySelector("[md-menu-focus-target]");return focusTarget||(focusTarget=opts.menuContentEl[0].firstElementChild.firstElementChild),focusTarget.focus(),function(){element.removeClass("md-clickable"),opts.backdrop.off("click"),opts.menuContentEl.off("keydown"),opts.menuContentEl[0].removeEventListener("click",captureClickListener,!0)}}return buildOpts(opts),$mdTheming.inherit(opts.menuContentEl,opts.target),handleResizing(),opts.disableParentScroll&&(opts.restoreScroll=$mdUtil.disableScrollAround(opts.element)),opts.backdrop&&($mdTheming.inherit(opts.backdrop,opts.parent),opts.parent.append(opts.backdrop)),showMenu(),animator.waitTransitionEnd(element,{timeout:370})["finally"](function(response){return opts.cleanupInteraction=activateInteraction(),response})}function focusMenuItem(e,menuEl,opts,direction){for(var currentItem=$mdUtil.getClosest(e.target,"MD-MENU-ITEM"),items=$mdUtil.nodesToArray(menuEl[0].children),currentIndex=items.indexOf(currentItem),i=currentIndex+direction;i>=0&&i<items.length;i+=direction){var focusTarget=items[i].firstElementChild||items[i],didFocus=attemptFocus(focusTarget);if(didFocus)break}}function attemptFocus(el){if(el&&el.getAttribute("tabindex")!=-1)return el.focus(),$document[0].activeElement==el}function onRemove(scope,element,opts){return opts.isRemoved=!0,element.addClass("md-leave"),opts.cleanupInteraction(),angular.element($window).off("resize",opts.resizeFn),angular.element($window).off("orientationchange",opts.resizeFn),opts.resizeFn=undefined,animator.waitTransitionEnd(element,{timeout:370})["finally"](function(){element.removeClass("md-active"),opts.backdrop&&opts.backdrop.remove(),element[0].parentNode===opts.parent[0]&&opts.parent[0].removeChild(element[0]),opts.restoreScroll&&opts.restoreScroll()})}function positionMenu(el,opts){function clamp(pos){pos.top=Math.max(Math.min(pos.top,bounds.bottom-containerNode.offsetHeight),bounds.top),pos.left=Math.max(Math.min(pos.left,bounds.right-containerNode.offsetWidth),bounds.left)}function firstVisibleChild(){for(var i=0;i<openMenuNode.children.length;++i)if("none"!=window.getComputedStyle(openMenuNode.children[i]).display)return openMenuNode.children[i]}if(!opts.isRemoved){var alignTarget,alignTargetRect,existingOffsets,containerNode=el[0],openMenuNode=el[0].firstElementChild,openMenuNodeRect=openMenuNode.getBoundingClientRect(),boundryNode=opts.parent[0],boundryNodeRect=boundryNode.getBoundingClientRect(),originNode=opts.target[0].querySelector("[md-menu-origin]")||opts.target[0],originNodeRect=originNode.getBoundingClientRect(),bounds={left:boundryNodeRect.left+MENU_EDGE_MARGIN,top:Math.max(boundryNodeRect.top,0)+MENU_EDGE_MARGIN,bottom:Math.max(boundryNodeRect.bottom,Math.max(boundryNodeRect.top,0)+boundryNodeRect.height)-MENU_EDGE_MARGIN,right:boundryNodeRect.right-MENU_EDGE_MARGIN},positionMode=opts.mdMenuCtrl.positionMode();if("target"==positionMode.top||"target"==positionMode.left||"target-right"==positionMode.left){if(alignTarget=firstVisibleChild(),!alignTarget)throw Error("Error positioning menu. No visible children.");alignTarget=alignTarget.firstElementChild||alignTarget,alignTarget=alignTarget.querySelector("[md-menu-align-target]")||alignTarget,alignTargetRect=alignTarget.getBoundingClientRect(),existingOffsets={top:parseFloat(containerNode.style.top||0),left:parseFloat(containerNode.style.left||0)}}var position={},transformOrigin="top ";switch(positionMode.top){case"target":position.top=existingOffsets.top+originNodeRect.top-alignTargetRect.top;break;default:throw new Error('Invalid target mode "'+positionMode.top+'" specified for md-menu on Y axis.')}switch(positionMode.left){case"target":position.left=existingOffsets.left+originNodeRect.left-alignTargetRect.left,transformOrigin+="left";break;case"target-right":position.left=originNodeRect.right-openMenuNodeRect.width+(openMenuNodeRect.right-alignTargetRect.right),transformOrigin+="right";break;default:throw new Error('Invalid target mode "'+positionMode.left+'" specified for md-menu on X axis.')}var offsets=opts.mdMenuCtrl.offsets();position.top+=offsets.top,position.left+=offsets.left,clamp(position),el.css({top:position.top+"px",left:position.left+"px"}),containerNode.style[$mdConstant.CSS.TRANSFORM_ORIGIN]=transformOrigin,opts.alreadyOpen||(containerNode.style[$mdConstant.CSS.TRANSFORM]="scale("+Math.min(originNodeRect.width/containerNode.offsetWidth,1)+","+Math.min(originNodeRect.height/containerNode.offsetHeight,1)+")")}}var animator=$mdUtil.dom.animator;return{parent:"body",onShow:onShow,onRemove:onRemove,hasBackdrop:!0,disableParentScroll:!0,skipCompile:!0,preserveScope:!0,themable:!0}}var MENU_EDGE_MARGIN=8;return menuDefaultOptions.$inject=["$$rAF","$window","$mdUtil","$mdTheming","$mdConstant","$document"],$$interimElementProvider("$mdMenu").setDefaults({methods:["target"],options:menuDefaultOptions})}angular.module("material.components.menu").provider("$mdMenu",MenuProvider),MenuProvider.$inject=["$$interimElementProvider"]}(),function(){function MdProgressCircularDirective($mdConstant,$mdTheming){function compile(tElement){return tElement.attr("aria-valuemin",0),tElement.attr("aria-valuemax",100),tElement.attr("role","progressbar"),postLink}function postLink(scope,element,attr){$mdTheming(element);var circle=element[0],diameter=attr.mdDiameter||48,scale=diameter/48;circle.style[$mdConstant.CSS.TRANSFORM]="scale("+scale+")",attr.$observe("value",function(value){var percentValue=clamp(value);element.attr("aria-valuenow",percentValue)})}function clamp(value){return Math.max(0,Math.min(value||0,100))}return{restrict:"E",template:'<div class="md-spinner-wrapper"><div class="md-inner"><div class="md-gap"></div><div class="md-left"><div class="md-half-circle"></div></div><div class="md-right"><div class="md-half-circle"></div></div></div></div>',compile:compile}}angular.module("material.components.progressCircular",["material.core"]).directive("mdProgressCircular",MdProgressCircularDirective),MdProgressCircularDirective.$inject=["$mdConstant","$mdTheming"]}(),function(){function MdProgressLinearDirective($$rAF,$mdConstant,$mdTheming){function compile(tElement,tAttrs,transclude){return tElement.attr("aria-valuemin",0),tElement.attr("aria-valuemax",100),tElement.attr("role","progressbar"),postLink}function postLink(scope,element,attr){$mdTheming(element);var bar1Style=element[0].querySelector(".md-bar1").style,bar2Style=element[0].querySelector(".md-bar2").style,container=angular.element(element[0].querySelector(".md-container"));attr.$observe("value",function(value){if("query"!=attr.mdMode){var clamped=clamp(value);element.attr("aria-valuenow",clamped),bar2Style[$mdConstant.CSS.TRANSFORM]=transforms[clamped]}}),attr.$observe("mdBufferValue",function(value){bar1Style[$mdConstant.CSS.TRANSFORM]=transforms[clamp(value)]}),$$rAF(function(){container.addClass("md-ready")})}function clamp(value){return value>100?100:value<0?0:Math.ceil(value||0)}return{restrict:"E",template:'<div class="md-container"><div class="md-dashed"></div><div class="md-bar md-bar1"></div><div class="md-bar md-bar2"></div></div>',compile:compile}}angular.module("material.components.progressLinear",["material.core"]).directive("mdProgressLinear",MdProgressLinearDirective),MdProgressLinearDirective.$inject=["$$rAF","$mdConstant","$mdTheming"];var transforms=function(){function makeTransform(value){var scale=value/100,translateX=(value-100)/2;return"translateX("+translateX.toString()+"%) scale("+scale.toString()+", 1)"}for(var values=new Array(101),i=0;i<101;i++)values[i]=makeTransform(i);return values}()}(),function(){function mdRadioGroupDirective($mdUtil,$mdConstant,$mdTheming,$timeout){function linkRadioGroup(scope,element,attr,ctrls){function setFocus(){element.hasClass("md-focused")||element.addClass("md-focused")}function keydownListener(ev){var keyCode=ev.which||ev.keyCode;switch(keyCode){case $mdConstant.KEY_CODE.LEFT_ARROW:case $mdConstant.KEY_CODE.UP_ARROW:ev.preventDefault(),rgCtrl.selectPrevious(),setFocus();break;case $mdConstant.KEY_CODE.RIGHT_ARROW:case $mdConstant.KEY_CODE.DOWN_ARROW:ev.preventDefault(),rgCtrl.selectNext(),setFocus();break;case $mdConstant.KEY_CODE.ENTER:var form=angular.element($mdUtil.getClosest(element[0],"form"));form.length>0&&form.triggerHandler("submit")}}$mdTheming(element);var rgCtrl=ctrls[0],ngModelCtrl=ctrls[1]||$mdUtil.fakeNgModel();rgCtrl.init(ngModelCtrl),scope.mouseActive=!1,element.attr({role:"radiogroup",tabIndex:element.attr("tabindex")||"0"}).on("keydown",keydownListener).on("mousedown",function(event){scope.mouseActive=!0,$timeout(function(){scope.mouseActive=!1},100)}).on("focus",function(){scope.mouseActive===!1&&rgCtrl.$element.addClass("md-focused")}).on("blur",function(){rgCtrl.$element.removeClass("md-focused")})}function RadioGroupController($element){this._radioButtonRenderFns=[],this.$element=$element}function createRadioGroupControllerProto(){return{init:function(ngModelCtrl){this._ngModelCtrl=ngModelCtrl,this._ngModelCtrl.$render=angular.bind(this,this.render)},add:function(rbRender){this._radioButtonRenderFns.push(rbRender)},remove:function(rbRender){var index=this._radioButtonRenderFns.indexOf(rbRender);index!==-1&&this._radioButtonRenderFns.splice(index,1)},render:function(){this._radioButtonRenderFns.forEach(function(rbRender){rbRender()})},setViewValue:function(value,eventType){this._ngModelCtrl.$setViewValue(value,eventType),this.render()},getViewValue:function(){return this._ngModelCtrl.$viewValue},selectNext:function(){return changeSelectedButton(this.$element,1)},selectPrevious:function(){return changeSelectedButton(this.$element,-1)},setActiveDescendant:function(radioId){this.$element.attr("aria-activedescendant",radioId)}}}function changeSelectedButton(parent,increment){var buttons=$mdUtil.iterator(parent[0].querySelectorAll("md-radio-button"),!0);if(buttons.count()){var validate=function(button){return!angular.element(button).attr("disabled")},selected=parent[0].querySelector("md-radio-button.md-checked"),target=buttons[increment<0?"previous":"next"](selected,validate)||buttons.first();angular.element(target).triggerHandler("click")}}return RadioGroupController.prototype=createRadioGroupControllerProto(),{restrict:"E",controller:["$element",RadioGroupController],require:["mdRadioGroup","?ngModel"],link:{pre:linkRadioGroup}}}function mdRadioButtonDirective($mdAria,$mdUtil,$mdTheming){function link(scope,element,attr,rgCtrl){function listener(ev){element[0].hasAttribute("disabled")||scope.$apply(function(){rgCtrl.setViewValue(attr.value,ev&&ev.type)})}function render(){var checked=rgCtrl.getViewValue()==attr.value;checked!==lastChecked&&(lastChecked=checked,element.attr("aria-checked",checked),checked?(element.addClass(CHECKED_CSS),rgCtrl.setActiveDescendant(element.attr("id"))):element.removeClass(CHECKED_CSS))}function configureAria(element,scope){function buildAriaID(){return attr.id||"radio_"+$mdUtil.nextUid()}scope.ariaId=buildAriaID(),element.attr({id:scope.ariaId,role:"radio","aria-checked":"false"}),$mdAria.expectWithText(element,"aria-label")}var lastChecked;$mdTheming(element),configureAria(element,scope),rgCtrl.add(render),attr.$observe("value",render),element.on("click",listener).on("$destroy",function(){rgCtrl.remove(render)})}var CHECKED_CSS="md-checked";return{restrict:"E",require:"^mdRadioGroup",transclude:!0,template:'<div class="md-container" md-ink-ripple md-ink-ripple-checkbox><div class="md-off"></div><div class="md-on"></div></div><div ng-transclude class="md-label"></div>',link:link}}angular.module("material.components.radioButton",["material.core"]).directive("mdRadioGroup",mdRadioGroupDirective).directive("mdRadioButton",mdRadioButtonDirective),mdRadioGroupDirective.$inject=["$mdUtil","$mdConstant","$mdTheming","$timeout"],mdRadioButtonDirective.$inject=["$mdAria","$mdUtil","$mdTheming"]}(),function(){function SelectDirective($mdSelect,$mdUtil,$mdTheming,$mdAria,$interpolate,$compile,$parse){function compile(element,attr){var valueEl=angular.element("<md-select-value><span></span></md-select-value>");if(valueEl.append('<span class="md-select-icon" aria-hidden="true"></span>'),valueEl.addClass("md-select-value"),valueEl[0].hasAttribute("id")||valueEl.attr("id","select_value_label_"+$mdUtil.nextUid()),element.find("md-content").length||element.append(angular.element("<md-content>").append(element.contents())),attr.mdOnOpen&&element.find("md-content").prepend(angular.element("<md-progress-circular>").attr("md-mode","indeterminate").attr("ng-hide","$$loadingAsyncDone").wrap("<div>").parent()),attr.name){var autofillClone=angular.element('<select class="md-visually-hidden">');autofillClone.attr({name:"."+attr.name,"ng-model":attr.ngModel,"aria-hidden":"true",tabindex:"-1"});var opts=element.find("md-option");angular.forEach(opts,function(el){var newEl=angular.element("<option>"+el.innerHTML+"</option>");el.hasAttribute("ng-value")?newEl.attr("ng-value",el.getAttribute("ng-value")):el.hasAttribute("value")&&newEl.attr("value",el.getAttribute("value")),autofillClone.append(newEl)}),element.parent().append(autofillClone)}var selectTemplate='<div class="md-select-menu-container"><md-select-menu '+(angular.isDefined(attr.multiple)?"multiple":"")+">"+element.html()+"</md-select-menu></div>";return element.empty().append(valueEl),attr.tabindex=attr.tabindex||"0",function(scope,element,attr,ctrls){function setAriaLabel(){var labelText=element.attr("placeholder");!labelText&&containerCtrl&&containerCtrl.label&&(labelText=containerCtrl.label.text()),$mdAria.expect(element,"aria-label",labelText)}function syncLabelText(){selectContainer&&(selectMenuCtrl=selectMenuCtrl||selectContainer.find("md-select-menu").controller("mdSelectMenu"),mdSelectCtrl.setLabelText(selectMenuCtrl.selectedLabels()))}function inputCheckValue(){containerCtrl&&containerCtrl.setHasValue(selectMenuCtrl.selectedLabels().length>0||(element[0].validity||{}).badInput)}function createSelect(){selectContainer=angular.element(selectTemplate);var selectEl=selectContainer.find("md-select-menu");selectEl.data("$ngModelController",ngModelCtrl),selectEl.data("$mdSelectController",mdSelectCtrl),selectScope=scope.$new(),$mdTheming.inherit(selectContainer,element),selectContainer[0].setAttribute("class",selectContainer[0].getAttribute("class")+" "+element.attr("md-container-class")),selectContainer=$compile(selectContainer)(selectScope),selectMenuCtrl=selectContainer.find("md-select-menu").controller("mdSelectMenu")}function handleKeypress(e){var allowedCodes=[32,13,38,40];if(allowedCodes.indexOf(e.keyCode)!=-1)e.preventDefault(),openSelect(e);else if(e.keyCode<=90&&e.keyCode>=31){e.preventDefault();var node=selectMenuCtrl.optNodeForKeyboardSearch(e);if(!node)return;var optionCtrl=angular.element(node).controller("mdOption");selectMenuCtrl.isMultiple||selectMenuCtrl.deselect(Object.keys(selectMenuCtrl.selected)[0]),selectMenuCtrl.select(optionCtrl.hashKey,optionCtrl.value),selectMenuCtrl.refreshViewValue(),ngModelCtrl.$render()}}function openSelect(){scope.$apply("isOpen = true"),$mdSelect.show({scope:selectScope,preserveScope:!0,skipCompile:!0,element:selectContainer,target:element[0],hasBackdrop:!0,loadingAsync:!!attr.mdOnOpen&&(scope.$eval(attr.mdOnOpen)||!0)}).then(function(){isOpen=!1})}var isOpen,isDisabled,containerCtrl=ctrls[0],mdSelectCtrl=ctrls[1],ngModelCtrl=ctrls[2],formCtrl=ctrls[3],valueEl=element.find("md-select-value"),isReadonly=angular.isDefined(attr.readonly);if(containerCtrl){if(containerCtrl.input)throw new Error("<md-input-container> can only have *one* child <input>, <textarea> or <select> element!");containerCtrl.input=element,containerCtrl.label||$mdAria.expect(element,"aria-label",element.attr("placeholder"));var isErrorGetter=containerCtrl&&containerCtrl.isErrorGetter||function(){return ngModelCtrl.$invalid&&ngModelCtrl.$touched};scope.$watch(isErrorGetter,containerCtrl.setInvalid)}var selectContainer,selectScope,selectMenuCtrl;if(createSelect(),$mdTheming(element),attr.name&&formCtrl){var selectEl=element.parent()[0].querySelector('select[name=".'+attr.name+'"]'),controller=angular.element(selectEl).controller();controller&&formCtrl.$removeControl(controller)}var originalRender=ngModelCtrl.$render;ngModelCtrl.$render=function(){originalRender(),syncLabelText(),inputCheckValue()},mdSelectCtrl.setLabelText=function(text){mdSelectCtrl.setIsPlaceholder(!text);var tmpPlaceholder=attr.placeholder||(containerCtrl&&containerCtrl.label?containerCtrl.label.text():"");text=text||tmpPlaceholder||"";var target=valueEl.children().eq(0);target.text(text)},mdSelectCtrl.setIsPlaceholder=function(isPlaceholder){isPlaceholder?(valueEl.addClass("md-select-placeholder"),containerCtrl&&containerCtrl.label&&containerCtrl.label.addClass("md-placeholder md-static")):(valueEl.removeClass("md-select-placeholder"),containerCtrl&&containerCtrl.label&&containerCtrl.label.removeClass("md-placeholder"))},isReadonly||element.on("focus",function(ev){containerCtrl&&containerCtrl.element.hasClass("md-input-has-value")&&containerCtrl.setFocused(!0)}).on("blur",function(ev){containerCtrl&&containerCtrl.setFocused(!1),inputCheckValue()}),mdSelectCtrl.triggerClose=function(){$parse(attr.mdOnClose)(scope)},scope.$$postDigest(function(){setAriaLabel(),syncLabelText()});var deregisterWatcher;attr.$observe("ngMultiple",function(val){deregisterWatcher&&deregisterWatcher();var parser=$parse(val);deregisterWatcher=scope.$watch(function(){return parser(scope)},function(multiple,prevVal){multiple===undefined&&prevVal===undefined||(multiple?element.attr("multiple","multiple"):element.removeAttr("multiple"),selectContainer&&(selectMenuCtrl.setMultiple(multiple),originalRender=ngModelCtrl.$render,ngModelCtrl.$render=function(){originalRender(),syncLabelText()},selectMenuCtrl.refreshViewValue(),ngModelCtrl.$render()))})}),attr.$observe("disabled",function(disabled){"string"==typeof disabled&&(disabled=!0),isDisabled!==undefined&&isDisabled===disabled||(isDisabled=disabled,disabled?(element.attr({tabindex:-1,"aria-disabled":"true"}),element.off("click",openSelect),element.off("keydown",handleKeypress)):(element.attr({tabindex:attr.tabindex,"aria-disabled":"false"}),element.on("click",openSelect),element.on("keydown",handleKeypress)))}),attr.disabled||attr.ngDisabled||(element.attr({tabindex:attr.tabindex,"aria-disabled":"false"}),element.on("click",openSelect),element.on("keydown",handleKeypress));var ariaAttrs={role:"combobox","aria-expanded":"false"};element[0].hasAttribute("id")||(ariaAttrs.id="select_"+$mdUtil.nextUid()),element.attr(ariaAttrs),scope.$on("$destroy",function(){isOpen?$mdSelect.hide()["finally"](function(){selectContainer.remove()}):selectContainer.remove(),containerCtrl&&(containerCtrl.setFocused(!1),containerCtrl.setHasValue(!1),containerCtrl.input=null)})}}return{restrict:"E",require:["^?mdInputContainer","mdSelect","ngModel","?^form"],compile:compile,controller:function(){}}}function SelectMenuDirective($parse,$mdUtil,$mdTheming){function preLink(scope,element,attr,ctrls){function configureAria(){element.attr({id:"select_menu_"+$mdUtil.nextUid(),role:"listbox","aria-multiselectable":selectCtrl.isMultiple?"true":"false"})}function keyListener(e){13!=e.keyCode&&32!=e.keyCode||clickListener(e)}function clickListener(ev){var option=$mdUtil.getClosest(ev.target,"md-option"),optionCtrl=option&&angular.element(option).data("$mdOptionController");if(option&&optionCtrl){if(option.hasAttribute("disabled"))return ev.stopImmediatePropagation(),!1;var optionHashKey=selectCtrl.hashGetter(optionCtrl.value),isSelected=angular.isDefined(selectCtrl.selected[optionHashKey]);scope.$apply(function(){selectCtrl.isMultiple?isSelected?selectCtrl.deselect(optionHashKey):selectCtrl.select(optionHashKey,optionCtrl.value):isSelected||(selectCtrl.deselect(Object.keys(selectCtrl.selected)[0]),selectCtrl.select(optionHashKey,optionCtrl.value)),selectCtrl.refreshViewValue()})}}var selectCtrl=ctrls[0],ngModel=ctrls[1];$mdTheming(element),element.on("click",clickListener),element.on("keypress",keyListener),ngModel&&selectCtrl.init(ngModel),configureAria()}function SelectMenuController($scope,$attrs,$element){function renderMultiple(){var newSelectedValues=self.ngModel.$modelValue||self.ngModel.$viewValue;if(angular.isArray(newSelectedValues)){var oldSelected=Object.keys(self.selected),newSelectedHashes=newSelectedValues.map(self.hashGetter),deselected=oldSelected.filter(function(hash){return newSelectedHashes.indexOf(hash)===-1});deselected.forEach(self.deselect),newSelectedHashes.forEach(function(hashKey,i){self.select(hashKey,newSelectedValues[i])})}}function renderSingular(){var value=self.ngModel.$viewValue||self.ngModel.$modelValue;Object.keys(self.selected).forEach(self.deselect),self.select(self.hashGetter(value),value)}var self=this;self.isMultiple=angular.isDefined($attrs.multiple),self.selected={},self.options={},$scope.$watch(function(){return self.options},function(){self.ngModel.$render()},!0);var deregisterCollectionWatch;self.setMultiple=function(isMultiple){function validateArray(modelValue,viewValue){return angular.isArray(modelValue||viewValue||[])}var ngModel=self.ngModel;self.isMultiple=isMultiple,deregisterCollectionWatch&&deregisterCollectionWatch(),self.isMultiple?(ngModel.$validators["md-multiple"]=validateArray,ngModel.$render=renderMultiple,$scope.$watchCollection($attrs.ngModel,function(value){validateArray(value)&&renderMultiple(value)})):(delete ngModel.$validators["md-multiple"],ngModel.$render=renderSingular)};var clearSearchTimeout,optNodes,optText,searchStr="",CLEAR_SEARCH_AFTER=300;self.optNodeForKeyboardSearch=function(e){clearSearchTimeout&&clearTimeout(clearSearchTimeout),
clearSearchTimeout=setTimeout(function(){clearSearchTimeout=undefined,searchStr="",optText=undefined,optNodes=undefined},CLEAR_SEARCH_AFTER),searchStr+=String.fromCharCode(e.keyCode);var search=new RegExp("^"+searchStr,"i");optNodes||(optNodes=$element.find("md-option"),optText=new Array(optNodes.length),angular.forEach(optNodes,function(el,i){optText[i]=el.textContent.trim()}));for(var i=0;i<optText.length;++i)if(search.test(optText[i]))return optNodes[i]},self.init=function(ngModel){if(self.ngModel=ngModel,ngModel.$options&&ngModel.$options.trackBy){var trackByLocals={},trackByParsed=$parse(ngModel.$options.trackBy);self.hashGetter=function(value,valueScope){return trackByLocals.$value=value,trackByParsed(valueScope||$scope,trackByLocals)}}else self.hashGetter=function(value){return angular.isObject(value)?"object_"+(value.$$mdSelectId||(value.$$mdSelectId=++selectNextId)):value};self.setMultiple(self.isMultiple)},self.selectedLabels=function(){var selectedOptionEls=$mdUtil.nodesToArray($element[0].querySelectorAll("md-option[selected]"));return selectedOptionEls.length?selectedOptionEls.map(function(el){return el.textContent}).join(", "):""},self.select=function(hashKey,hashedValue){var option=self.options[hashKey];option&&option.setSelected(!0),self.selected[hashKey]=hashedValue},self.deselect=function(hashKey){var option=self.options[hashKey];option&&option.setSelected(!1),delete self.selected[hashKey]},self.addOption=function(hashKey,optionCtrl){if(angular.isDefined(self.options[hashKey]))throw new Error('Duplicate md-option values are not allowed in a select. Duplicate value "'+optionCtrl.value+'" found.');self.options[hashKey]=optionCtrl,angular.isDefined(self.selected[hashKey])&&(self.select(hashKey,optionCtrl.value),self.refreshViewValue())},self.removeOption=function(hashKey){delete self.options[hashKey]},self.refreshViewValue=function(){var option,values=[];for(var hashKey in self.selected)(option=self.options[hashKey])?values.push(option.value):values.push(self.selected[hashKey]);self.ngModel.$setViewValue(self.isMultiple?values:values[0])}}return SelectMenuController.$inject=["$scope","$attrs","$element"],{restrict:"E",require:["mdSelectMenu","?ngModel"],controller:SelectMenuController,link:{pre:preLink}}}function OptionDirective($mdButtonInkRipple,$mdUtil){function compile(element,attr){return element.append(angular.element('<div class="md-text">').append(element.contents())),element.attr("tabindex",attr.tabindex||"0"),postLink}function postLink(scope,element,attr,ctrls){function setOptionValue(newValue,oldValue){var oldHashKey=selectCtrl.hashGetter(oldValue,scope),newHashKey=selectCtrl.hashGetter(newValue,scope);optionCtrl.hashKey=newHashKey,optionCtrl.value=newValue,selectCtrl.removeOption(oldHashKey,optionCtrl),selectCtrl.addOption(newHashKey,optionCtrl)}function configureAria(){var ariaAttrs={role:"option","aria-selected":"false"};element[0].hasAttribute("id")||(ariaAttrs.id="select_option_"+$mdUtil.nextUid()),element.attr(ariaAttrs)}var optionCtrl=ctrls[0],selectCtrl=ctrls[1];angular.isDefined(attr.ngValue)?scope.$watch(attr.ngValue,setOptionValue):angular.isDefined(attr.value)?setOptionValue(attr.value):scope.$watch(function(){return element.text()},setOptionValue),attr.$observe("disabled",function(disabled){disabled?element.attr("tabindex","-1"):element.attr("tabindex","0")}),scope.$$postDigest(function(){attr.$observe("selected",function(selected){angular.isDefined(selected)&&("string"==typeof selected&&(selected=!0),selected?(selectCtrl.isMultiple||selectCtrl.deselect(Object.keys(selectCtrl.selected)[0]),selectCtrl.select(optionCtrl.hashKey,optionCtrl.value)):selectCtrl.deselect(optionCtrl.hashKey),selectCtrl.refreshViewValue(),selectCtrl.ngModel.$render())})}),$mdButtonInkRipple.attach(scope,element),configureAria(),scope.$on("$destroy",function(){selectCtrl.removeOption(optionCtrl.hashKey,optionCtrl)})}function OptionController($element){this.selected=!1,this.setSelected=function(isSelected){isSelected&&!this.selected?$element.attr({selected:"selected","aria-selected":"true"}):!isSelected&&this.selected&&($element.removeAttr("selected"),$element.attr("aria-selected","false")),this.selected=isSelected}}return OptionController.$inject=["$element"],{restrict:"E",require:["mdOption","^^mdSelectMenu"],controller:OptionController,compile:compile}}function OptgroupDirective(){function compile(el,attrs){var labelElement=el.find("label");labelElement.length||(labelElement=angular.element("<label>"),el.prepend(labelElement)),attrs.label&&labelElement.text(attrs.label)}return{restrict:"E",compile:compile}}function SelectProvider($$interimElementProvider){function selectDefaultOptions($mdSelect,$mdConstant,$$rAF,$mdUtil,$mdTheming,$window,$q,$compile){function onShow(scope,element,opts){function configureAria(){opts.target.attr("aria-expanded","true")}function activateInteraction(){function focusOption(direction){optionNodes=opts.selectEl[0].getElementsByTagName("md-option");var newOption,optionsArray=$mdUtil.nodesToArray(optionNodes),index=optionsArray.indexOf(opts.focusedNode);do index===-1?index=0:"next"===direction&&index<optionsArray.length-1?index++:"prev"===direction&&index>0&&index--,newOption=optionsArray[index],newOption.hasAttribute("disabled")&&(newOption=undefined);while(!newOption&&index<optionsArray.length-1&&index>0);newOption&&newOption.focus(),opts.focusedNode=newOption}function focusNextOption(){focusOption("next")}function focusPrevOption(){focusOption("prev")}function checkCloseMenu(){selectCtrl.isMultiple||(opts.restoreFocus=!0,$mdUtil.nextTick(function(){$mdSelect.hide(selectCtrl.ngModel.$viewValue)},!0))}if(!opts.isRemoved){var selectCtrl=opts.selectEl.controller("mdSelectMenu")||{};element.addClass("md-clickable"),opts.backdrop&&opts.backdrop.on("click",function(e){e.preventDefault(),e.stopPropagation(),opts.restoreFocus=!1,$mdUtil.nextTick($mdSelect.hide,!0)}),opts.selectEl.on("keydown",function(ev){switch(ev.keyCode){case $mdConstant.KEY_CODE.SPACE:case $mdConstant.KEY_CODE.ENTER:var option=$mdUtil.getClosest(ev.target,"md-option");option&&(opts.selectEl.triggerHandler({type:"click",target:option}),ev.preventDefault());break;case $mdConstant.KEY_CODE.TAB:case $mdConstant.KEY_CODE.ESCAPE:ev.preventDefault(),opts.restoreFocus=!0,$mdUtil.nextTick($mdSelect.hide,!0)}}),opts.selectEl.on("keydown",function(ev){switch(ev.keyCode){case $mdConstant.KEY_CODE.UP_ARROW:return focusPrevOption();case $mdConstant.KEY_CODE.DOWN_ARROW:return focusNextOption();default:if(ev.keyCode>=31&&ev.keyCode<=90){var optNode=opts.selectEl.controller("mdSelectMenu").optNodeForKeyboardSearch(ev);opts.focusedNode=optNode||opts.focusedNode,optNode&&optNode.focus()}}}),opts.selectEl.on("click",checkCloseMenu),opts.selectEl.on("keydown",function(e){32!=e.keyCode&&13!=e.keyCode||checkCloseMenu()})}}if(!opts.target)throw new Error('$mdSelect.show() expected a target element in options.target but got "'+opts.target+'"!');angular.extend(opts,{isRemoved:!1,target:angular.element(opts.target),parent:angular.element(opts.parent),selectEl:element.find("md-select-menu"),contentEl:element.find("md-content"),backdrop:opts.hasBackdrop&&$mdUtil.createBackdrop(scope,"md-select-backdrop md-click-catcher")}),opts.resizeFn=function(){$$rAF(function(){$$rAF(function(){animateSelect(scope,element,opts)})})},angular.element($window).on("resize",opts.resizeFn),angular.element($window).on("orientationchange",opts.resizeFn),configureAria(),element.removeClass("md-leave");var optionNodes=opts.selectEl[0].getElementsByTagName("md-option");return opts.loadingAsync&&opts.loadingAsync.then?opts.loadingAsync.then(function(){scope.$$loadingAsyncDone=!0,$$rAF(function(){$$rAF(function(){opts.isRemoved||animateSelect(scope,element,opts)})})}):opts.loadingAsync&&(scope.$$loadingAsyncDone=!0),opts.disableParentScroll&&!$mdUtil.getClosest(opts.target,"MD-DIALOG")?opts.restoreScroll=$mdUtil.disableScrollAround(opts.element):opts.disableParentScroll=!1,opts.backdrop&&($mdTheming.inherit(opts.backdrop,opts.target),opts.parent.append(opts.backdrop)),opts.parent.append(element),$$rAF(function(){$$rAF(function(){opts.isRemoved||animateSelect(scope,element,opts)})}),opts.isRemoved?$q.reject(!0):animator.waitTransitionEnd(opts.selectEl,{timeout:470})["finally"](function(){activateInteraction()})}function onRemove(scope,element,opts){opts.isRemoved=!0,opts.target.attr("aria-expanded","false"),opts.selectEl.off("keydown"),angular.element($window).off("resize",opts.resizeFn),angular.element($window).off("orientationchange",opts.resizefn),opts.resizeFn=undefined,element.addClass("md-leave").removeClass("md-clickable");var mdSelect=opts.selectEl.controller("mdSelect");return mdSelect&&mdSelect.setLabelText(opts.selectEl.controller("mdSelectMenu").selectedLabels()),opts.backdrop&&opts.backdrop.remove(),animator.waitTransitionEnd(element,{timeout:370})["finally"](function(){mdSelect&&mdSelect.triggerClose(),element.removeClass("md-active"),element[0].parentNode===opts.parent[0]&&opts.parent[0].removeChild(element[0]),opts.disableParentScroll&&opts.restoreScroll(),opts.restoreFocus&&opts.target.focus()})}function animateSelect(scope,element,opts){var centeredNode,containerNode=element[0],targetNode=opts.target[0].firstElementChild,parentNode=opts.parent[0],selectNode=opts.selectEl[0],contentNode=opts.contentEl[0],parentRect=parentNode.getBoundingClientRect(),targetRect=targetNode.getBoundingClientRect(),shouldOpenAroundTarget=!1,bounds={left:parentRect.left+SELECT_EDGE_MARGIN,top:SELECT_EDGE_MARGIN,bottom:parentRect.height-SELECT_EDGE_MARGIN,right:parentRect.width-SELECT_EDGE_MARGIN-($mdUtil.floatingScrollbars()?16:0)},spaceAvailable={top:targetRect.top-bounds.top,left:targetRect.left-bounds.left,right:bounds.right-(targetRect.left+targetRect.width),bottom:bounds.bottom-(targetRect.top+targetRect.height)},maxWidth=parentRect.width-2*SELECT_EDGE_MARGIN,isScrollable=contentNode.scrollHeight>contentNode.offsetHeight,selectedNode=selectNode.querySelector("md-option[selected]"),optionNodes=selectNode.getElementsByTagName("md-option"),optgroupNodes=selectNode.getElementsByTagName("md-optgroup");centeredNode=selectedNode?selectedNode:optgroupNodes.length?optgroupNodes[0]:optionNodes.length?optionNodes[0]:contentNode.firstElementChild||contentNode,contentNode.offsetWidth>maxWidth&&(contentNode.style["max-width"]=maxWidth+"px"),shouldOpenAroundTarget&&(contentNode.style["min-width"]=targetRect.width+"px"),isScrollable&&selectNode.classList.add("md-overflow");var focusedNode=centeredNode;"MD-OPTGROUP"===(focusedNode.tagName||"").toUpperCase()&&(focusedNode=optionNodes[0]||contentNode.firstElementChild||contentNode,centeredNode=focusedNode);var selectMenuRect=selectNode.getBoundingClientRect(),centeredRect=getOffsetRect(centeredNode);if(centeredNode){var centeredStyle=$window.getComputedStyle(centeredNode);centeredRect.paddingLeft=parseInt(centeredStyle.paddingLeft,10)||0,centeredRect.paddingRight=parseInt(centeredStyle.paddingRight,10)||0}if(isScrollable){var scrollBuffer=contentNode.offsetHeight/2;contentNode.scrollTop=centeredRect.top+centeredRect.height/2-scrollBuffer,spaceAvailable.top<scrollBuffer?contentNode.scrollTop=Math.min(centeredRect.top,contentNode.scrollTop+scrollBuffer-spaceAvailable.top):spaceAvailable.bottom<scrollBuffer&&(contentNode.scrollTop=Math.max(centeredRect.top+centeredRect.height-selectMenuRect.height,contentNode.scrollTop-scrollBuffer+spaceAvailable.bottom))}var left,top,transformOrigin;shouldOpenAroundTarget?(left=targetRect.left,top=targetRect.top+targetRect.height,transformOrigin="50% 0",top+selectMenuRect.height>bounds.bottom&&(top=targetRect.top-selectMenuRect.height,transformOrigin="50% 100%")):(left=targetRect.left+centeredRect.left-centeredRect.paddingLeft+2,top=Math.floor(targetRect.top+targetRect.height/2-centeredRect.height/2-centeredRect.top+contentNode.scrollTop)+2,transformOrigin=centeredRect.left+targetRect.width/2+"px "+(centeredRect.top+centeredRect.height/2-contentNode.scrollTop)+"px 0px",containerNode.style.minWidth=targetRect.width+centeredRect.paddingLeft+centeredRect.paddingRight+"px");var containerRect=containerNode.getBoundingClientRect();containerNode.style.left=clamp(bounds.left,left,bounds.right-containerRect.width)+"px",containerNode.style.top=clamp(bounds.top,top,bounds.bottom-containerRect.height)+"px",selectNode.style[$mdConstant.CSS.TRANSFORM_ORIGIN]=transformOrigin,selectNode.style[$mdConstant.CSS.TRANSFORM]="scale("+Math.min(targetRect.width/selectMenuRect.width,1)+","+Math.min(targetRect.height/selectMenuRect.height,1)+")",$$rAF(function(){element.addClass("md-active"),selectNode.style[$mdConstant.CSS.TRANSFORM]="",focusedNode&&!focusedNode.hasAttribute("disabled")&&(opts.focusedNode=focusedNode,focusedNode.focus())})}var animator=$mdUtil.dom.animator;return{parent:"body",onShow:onShow,onRemove:onRemove,hasBackdrop:!0,disableParentScroll:!0,themable:!0}}function clamp(min,n,max){return Math.max(min,Math.min(n,max))}function getOffsetRect(node){return node?{left:node.offsetLeft,top:node.offsetTop,width:node.offsetWidth,height:node.offsetHeight}:{left:0,top:0,width:0,height:0}}return selectDefaultOptions.$inject=["$mdSelect","$mdConstant","$$rAF","$mdUtil","$mdTheming","$window","$q","$compile"],$$interimElementProvider("$mdSelect").setDefaults({methods:["target"],options:selectDefaultOptions})}var SELECT_EDGE_MARGIN=8,selectNextId=0;angular.module("material.components.select",["material.core","material.components.backdrop"]).directive("mdSelect",SelectDirective).directive("mdSelectMenu",SelectMenuDirective).directive("mdOption",OptionDirective).directive("mdOptgroup",OptgroupDirective).provider("$mdSelect",SelectProvider),SelectDirective.$inject=["$mdSelect","$mdUtil","$mdTheming","$mdAria","$interpolate","$compile","$parse"],SelectMenuDirective.$inject=["$parse","$mdUtil","$mdTheming"],OptionDirective.$inject=["$mdButtonInkRipple","$mdUtil"],SelectProvider.$inject=["$$interimElementProvider"]}(),function(){function SidenavService($mdComponentRegistry,$q){return function(handle){function waitForInstance(){return $mdComponentRegistry.when(handle).then(function(it){return instance=it,it})}var self,errorMsg="SideNav '"+handle+"' is not available!",instance=$mdComponentRegistry.get(handle);return instance||$mdComponentRegistry.notFoundError(handle),self={isOpen:function(){return instance&&instance.isOpen()},isLockedOpen:function(){return instance&&instance.isLockedOpen()},toggle:function(){return instance?instance.toggle():$q.reject(errorMsg)},open:function(){return instance?instance.open():$q.reject(errorMsg)},close:function(){return instance?instance.close():$q.reject(errorMsg)},then:function(callbackFn){var promise=instance?$q.when(instance):waitForInstance();return promise.then(callbackFn||angular.noop)}}}}function SidenavFocusDirective(){return{restrict:"A",require:"^mdSidenav",link:function(scope,element,attr,sidenavCtrl){sidenavCtrl.focusElement(element)}}}function SidenavDirective($mdMedia,$mdUtil,$mdConstant,$mdTheming,$animate,$compile,$parse,$log,$q,$document){function postLink(scope,element,attr,sidenavCtrl){function updateIsLocked(isLocked,oldValue){scope.isLockedOpen=isLocked,isLocked===oldValue?element.toggleClass("md-locked-open",!!isLocked):$animate[isLocked?"addClass":"removeClass"](element,"md-locked-open"),backdrop.toggleClass("md-locked-open",!!isLocked)}function updateIsOpen(isOpen){var parent=element.parent(),focusEl=sidenavCtrl.focusElement();return parent[isOpen?"on":"off"]("keydown",onKeyDown),backdrop[isOpen?"on":"off"]("click",close),isOpen&&(triggeringElement=$document[0].activeElement),disableParentScroll(isOpen),promise=$q.all([isOpen?$animate.enter(backdrop,parent):$animate.leave(backdrop),$animate[isOpen?"removeClass":"addClass"](element,"md-closed")]).then(function(){scope.isOpen&&focusEl&&focusEl.focus()})}function disableParentScroll(disabled){var parent=element.parent();disabled&&!lastParentOverFlow?(lastParentOverFlow=parent.css("overflow"),parent.css("overflow","hidden")):angular.isDefined(lastParentOverFlow)&&(parent.css("overflow",lastParentOverFlow),lastParentOverFlow=undefined)}function toggleOpen(isOpen){if(scope.isOpen==isOpen)return $q.when(!0);var deferred=$q.defer();return scope.isOpen=isOpen,$mdUtil.nextTick(function(){promise.then(function(result){scope.isOpen||(triggeringElement&&triggeringElement.focus(),triggeringElement=null),deferred.resolve(result)})}),deferred.promise}function onKeyDown(ev){var isEscape=ev.keyCode===$mdConstant.KEY_CODE.ESCAPE;return isEscape?close(ev):$q.when(!0)}function close(ev){return ev.preventDefault(),ev.stopPropagation(),sidenavCtrl.close()}var lastParentOverFlow,triggeringElement=null,promise=$q.when(!0),isLockedOpenParsed=$parse(attr.mdIsLockedOpen),isLocked=function(){return isLockedOpenParsed(scope.$parent,{$media:function(arg){return $log.warn("$media is deprecated for is-locked-open. Use $mdMedia instead."),$mdMedia(arg)},$mdMedia:$mdMedia})},backdrop=$mdUtil.createBackdrop(scope,"md-sidenav-backdrop md-opaque ng-enter");element.on("$destroy",sidenavCtrl.destroy),$mdTheming.inherit(backdrop,element),scope.$watch(isLocked,updateIsLocked),scope.$watch("isOpen",updateIsOpen),sidenavCtrl.$toggleOpen=toggleOpen,sidenavCtrl.focusElement(sidenavCtrl.focusElement()||element)}return{restrict:"E",scope:{isOpen:"=?mdIsOpen"},controller:"$mdSidenavController",compile:function(element){return element.addClass("md-closed"),element.attr("tabIndex","-1"),postLink}}}function SidenavController($scope,$element,$attrs,$mdComponentRegistry,$q){var focusElement,self=this;self.isOpen=function(){return!!$scope.isOpen},self.isLockedOpen=function(){return!!$scope.isLockedOpen},self.open=function(){return self.$toggleOpen(!0)},self.close=function(){return self.$toggleOpen(!1)},self.toggle=function(){return self.$toggleOpen(!$scope.isOpen)},self.focusElement=function(el){return angular.isDefined(el)&&(focusElement=el),focusElement},self.$toggleOpen=function(value){return $q.when($scope.isOpen=value)},self.destroy=$mdComponentRegistry.register(self,$attrs.mdComponentId)}angular.module("material.components.sidenav",["material.core","material.components.backdrop"]).factory("$mdSidenav",SidenavService).directive("mdSidenav",SidenavDirective).directive("mdSidenavFocus",SidenavFocusDirective).controller("$mdSidenavController",SidenavController),SidenavService.$inject=["$mdComponentRegistry","$q"],SidenavDirective.$inject=["$mdMedia","$mdUtil","$mdConstant","$mdTheming","$animate","$compile","$parse","$log","$q","$document"],SidenavController.$inject=["$scope","$element","$attrs","$mdComponentRegistry","$q"]}(),function(){function SliderDirective($$rAF,$window,$mdAria,$mdUtil,$mdConstant,$mdTheming,$mdGesture,$parse,$log){function compile(tElement,tAttrs){return tElement.attr({tabIndex:0,role:"slider"}),$mdAria.expect(tElement,"aria-label"),postLink}function postLink(scope,element,attr,ngModelCtrl){function updateAll(){refreshSliderDimensions(),ngModelRender(),redrawTicks()}function updateMin(value){min=parseFloat(value),element.attr("aria-valuemin",value),updateAll()}function updateMax(value){max=parseFloat(value),element.attr("aria-valuemax",value),updateAll()}function updateStep(value){step=parseFloat(value),redrawTicks()}function updateAriaDisabled(isDisabled){element.attr("aria-disabled",!!isDisabled)}function redrawTicks(){if(angular.isDefined(attr.mdDiscrete)&&!angular.isUndefined(step)){if(step<=0){var msg="Slider step value must be greater than zero when in discrete mode";throw $log.error(msg),new Error(msg)}var numSteps=Math.floor((max-min)/step);if(!tickCanvas){tickCanvas=angular.element('<canvas style="position:absolute;">'),tickContainer.append(tickCanvas);var trackTicksStyle=$window.getComputedStyle(tickContainer[0]);tickCtx=tickCanvas[0].getContext("2d"),tickCtx.fillStyle=trackTicksStyle.backgroundColor||"black"}var dimensions=getSliderDimensions();tickCanvas[0].width=dimensions.width,tickCanvas[0].height=dimensions.height;for(var distance,i=0;i<=numSteps;i++)distance=Math.floor(dimensions.width*(i/numSteps)),tickCtx.fillRect(distance-1,0,2,dimensions.height)}}function refreshSliderDimensions(){sliderDimensions=trackContainer[0].getBoundingClientRect()}function getSliderDimensions(){return throttledRefreshDimensions(),sliderDimensions}function keydownListener(ev){if(!element[0].hasAttribute("disabled")){var changeAmount;ev.keyCode===$mdConstant.KEY_CODE.LEFT_ARROW?changeAmount=-step:ev.keyCode===$mdConstant.KEY_CODE.RIGHT_ARROW&&(changeAmount=step),changeAmount&&((ev.metaKey||ev.ctrlKey||ev.altKey)&&(changeAmount*=4),ev.preventDefault(),ev.stopPropagation(),scope.$evalAsync(function(){setModelValue(ngModelCtrl.$viewValue+changeAmount)}))}}function setModelValue(value){ngModelCtrl.$setViewValue(minMaxValidator(stepValidator(value)))}function ngModelRender(){isNaN(ngModelCtrl.$viewValue)&&(ngModelCtrl.$viewValue=ngModelCtrl.$modelValue);var percent=(ngModelCtrl.$viewValue-min)/(max-min);scope.modelValue=ngModelCtrl.$viewValue,element.attr("aria-valuenow",ngModelCtrl.$viewValue),setSliderPercent(percent),thumbText.text(ngModelCtrl.$viewValue)}function minMaxValidator(value){if(angular.isNumber(value))return Math.max(min,Math.min(max,value))}function stepValidator(value){if(angular.isNumber(value)){var formattedValue=Math.round(value/step)*step;return Math.round(1e3*formattedValue)/1e3}}function setSliderPercent(percent){activeTrack.css("width",100*percent+"%"),thumbContainer.css("left",100*percent+"%"),element.toggleClass("md-min",0===percent)}function onPressDown(ev){if(!isDisabledGetter()){element.addClass("active"),element[0].focus(),refreshSliderDimensions();var exactVal=percentToValue(positionToPercent(ev.pointer.x)),closestVal=minMaxValidator(stepValidator(exactVal));scope.$apply(function(){setModelValue(closestVal),setSliderPercent(valueToPercent(closestVal))})}}function onPressUp(ev){if(!isDisabledGetter()){element.removeClass("dragging active");var exactVal=percentToValue(positionToPercent(ev.pointer.x)),closestVal=minMaxValidator(stepValidator(exactVal));scope.$apply(function(){setModelValue(closestVal),ngModelRender()})}}function onDragStart(ev){isDisabledGetter()||(isDragging=!0,ev.stopPropagation(),element.addClass("dragging"),setSliderFromEvent(ev))}function onDrag(ev){isDragging&&(ev.stopPropagation(),setSliderFromEvent(ev))}function onDragEnd(ev){isDragging&&(ev.stopPropagation(),isDragging=!1)}function setSliderFromEvent(ev){isDiscrete?adjustThumbPosition(ev.pointer.x):doSlide(ev.pointer.x)}function doSlide(x){scope.$evalAsync(function(){setModelValue(percentToValue(positionToPercent(x)))})}function adjustThumbPosition(x){var exactVal=percentToValue(positionToPercent(x)),closestVal=minMaxValidator(stepValidator(exactVal));setSliderPercent(positionToPercent(x)),thumbText.text(closestVal)}function positionToPercent(x){return Math.max(0,Math.min(1,(x-sliderDimensions.left)/sliderDimensions.width))}function percentToValue(percent){return min+percent*(max-min)}function valueToPercent(val){return(val-min)/(max-min)}$mdTheming(element),ngModelCtrl=ngModelCtrl||{$setViewValue:function(val){this.$viewValue=val,this.$viewChangeListeners.forEach(function(cb){cb()})},$parsers:[],$formatters:[],$viewChangeListeners:[]};var isDisabledParsed=attr.ngDisabled&&$parse(attr.ngDisabled),isDisabledGetter=isDisabledParsed?function(){return isDisabledParsed(scope.$parent)}:angular.noop,thumb=angular.element(element[0].querySelector(".md-thumb")),thumbText=angular.element(element[0].querySelector(".md-thumb-text")),thumbContainer=thumb.parent(),trackContainer=angular.element(element[0].querySelector(".md-track-container")),activeTrack=angular.element(element[0].querySelector(".md-track-fill")),tickContainer=angular.element(element[0].querySelector(".md-track-ticks")),throttledRefreshDimensions=$mdUtil.throttle(refreshSliderDimensions,5e3);angular.isDefined(attr.min)?attr.$observe("min",updateMin):updateMin(0),angular.isDefined(attr.max)?attr.$observe("max",updateMax):updateMax(100),angular.isDefined(attr.step)?attr.$observe("step",updateStep):updateStep(1);var stopDisabledWatch=angular.noop;attr.ngDisabled&&(stopDisabledWatch=scope.$parent.$watch(attr.ngDisabled,updateAriaDisabled)),$mdGesture.register(element,"drag"),element.on("keydown",keydownListener).on("$md.pressdown",onPressDown).on("$md.pressup",onPressUp).on("$md.dragstart",onDragStart).on("$md.drag",onDrag).on("$md.dragend",onDragEnd),setTimeout(updateAll);var debouncedUpdateAll=$$rAF.throttle(updateAll);angular.element($window).on("resize",debouncedUpdateAll),scope.$on("$destroy",function(){angular.element($window).off("resize",debouncedUpdateAll),stopDisabledWatch()}),ngModelCtrl.$render=ngModelRender,ngModelCtrl.$viewChangeListeners.push(ngModelRender),ngModelCtrl.$formatters.push(minMaxValidator),ngModelCtrl.$formatters.push(stepValidator);var min,max,step,tickCanvas,tickCtx,sliderDimensions={};refreshSliderDimensions();var isDragging=!1,isDiscrete=angular.isDefined(attr.mdDiscrete)}return{scope:{},require:"?ngModel",template:'<div class="md-slider-wrapper">        <div class="md-track-container">          <div class="md-track"></div>          <div class="md-track md-track-fill"></div>          <div class="md-track-ticks"></div>        </div>        <div class="md-thumb-container">          <div class="md-thumb"></div>          <div class="md-focus-thumb"></div>          <div class="md-focus-ring"></div>          <div class="md-sign">            <span class="md-thumb-text"></span>          </div>          <div class="md-disabled-thumb"></div>        </div>      </div>',compile:compile}}angular.module("material.components.slider",["material.core"]).directive("mdSlider",SliderDirective),SliderDirective.$inject=["$$rAF","$window","$mdAria","$mdUtil","$mdConstant","$mdTheming","$mdGesture","$parse","$log"]}(),function(){function MdSticky($document,$mdConstant,$compile,$$rAF,$mdUtil){function setupSticky(contentCtrl){function add(element,stickyClone){stickyClone.addClass("md-sticky-clone"),stickyClone.css("top",stickyBaseoffset+"px");var item={element:element,clone:stickyClone};return self.items.push(item),contentEl.parent().prepend(item.clone),debouncedRefreshElements(),function(){self.items.forEach(function(item,index){item.element[0]===element[0]&&(self.items.splice(index,1),item.clone.remove())}),debouncedRefreshElements()}}function refreshElements(){self.items.forEach(refreshPosition),self.items=self.items.sort(function(a,b){return a.top<b.top?-1:1});for(var item,currentScrollTop=contentEl.prop("scrollTop"),i=self.items.length-1;i>=0;i--)if(currentScrollTop>self.items[i].top){item=self.items[i];break}setCurrentItem(item)}function refreshPosition(item){var current=item.element[0];for(item.top=0,item.left=0;current&&current!==contentEl[0];)item.top+=current.offsetTop,item.left+=current.offsetLeft,current=current.offsetParent;item.height=item.element.prop("offsetHeight"),item.clone.css("margin-left",item.left+"px"),$mdUtil.floatingScrollbars()&&item.clone.css("margin-right","0")}function onScroll(){var scrollTop=contentEl.prop("scrollTop"),isScrollingDown=scrollTop>(onScroll.prevScrollTop||0);onScroll.prevScrollTop=scrollTop,0===scrollTop?setCurrentItem(null):isScrollingDown&&self.next?self.next.top-scrollTop<=0?setCurrentItem(self.next):self.current&&(self.next.top-scrollTop<=self.next.height?translate(self.current,self.next.top-self.next.height-scrollTop):translate(self.current,null)):!isScrollingDown&&self.current&&(scrollTop<self.current.top&&setCurrentItem(self.prev),self.current&&self.next&&(scrollTop>=self.next.top-self.current.height?translate(self.current,self.next.top-scrollTop-self.current.height):translate(self.current,null)))}function setCurrentItem(item){if(self.current!==item){self.current&&(translate(self.current,null),setStickyState(self.current,null)),item&&setStickyState(item,"active"),self.current=item;var index=self.items.indexOf(item);self.next=self.items[index+1],self.prev=self.items[index-1],setStickyState(self.next,"next"),setStickyState(self.prev,"prev")}}function setStickyState(item,state){item&&item.state!==state&&(item.state&&(item.clone.attr("sticky-prev-state",item.state),item.element.attr("sticky-prev-state",item.state)),item.clone.attr("sticky-state",state),item.element.attr("sticky-state",state),item.state=state)}function translate(item,amount){item&&(null===amount||amount===undefined?item.translateY&&(item.translateY=null,item.clone.css($mdConstant.CSS.TRANSFORM,"")):(item.translateY=amount,item.clone.css($mdConstant.CSS.TRANSFORM,"translate3d("+item.left+"px,"+amount+"px,0)")))}var contentEl=contentCtrl.$element,debouncedRefreshElements=$$rAF.throttle(refreshElements);setupAugmentedScrollEvents(contentEl),contentEl.on("$scrollstart",debouncedRefreshElements),contentEl.on("$scroll",onScroll);var self,stickyBaseoffset=contentEl.prop("offsetTop");return self={prev:null,current:null,next:null,items:[],add:add,refreshElements:refreshElements}}function checkStickySupport($el){var stickyProp,testEl=angular.element("<div>");$document[0].body.appendChild(testEl[0]);for(var stickyProps=["sticky","-webkit-sticky"],i=0;i<stickyProps.length;++i)if(testEl.css({position:stickyProps[i],top:0,"z-index":2}),testEl.css("position")==stickyProps[i]){stickyProp=stickyProps[i];break}return testEl.remove(),stickyProp}function setupAugmentedScrollEvents(element){function loopScrollEvent(){+$mdUtil.now()-lastScrollTime>SCROLL_END_DELAY?(isScrolling=!1,element.triggerHandler("$scrollend")):(element.triggerHandler("$scroll"),$$rAF(loopScrollEvent))}var isScrolling,lastScrollTime,SCROLL_END_DELAY=200;element.on("scroll touchmove",function(){isScrolling||(isScrolling=!0,$$rAF(loopScrollEvent),element.triggerHandler("$scrollstart")),element.triggerHandler("$scroll"),lastScrollTime=+$mdUtil.now()})}var browserStickySupport=checkStickySupport();return function(scope,element,stickyClone){var contentCtrl=element.controller("mdContent");if(contentCtrl)if(browserStickySupport)element.css({position:browserStickySupport,top:0,"z-index":2});else{var $$sticky=contentCtrl.$element.data("$$sticky");$$sticky||($$sticky=setupSticky(contentCtrl),contentCtrl.$element.data("$$sticky",$$sticky));var deregister=$$sticky.add(element,stickyClone||element.clone());scope.$on("$destroy",deregister)}}}angular.module("material.components.sticky",["material.core","material.components.content"]).factory("$mdSticky",MdSticky),MdSticky.$inject=["$document","$mdConstant","$compile","$$rAF","$mdUtil"]}(),function(){function MdSubheaderDirective($mdSticky,$compile,$mdTheming){return{restrict:"E",replace:!0,transclude:!0,template:'<h2 class="md-subheader"><div class="md-subheader-inner"><span class="md-subheader-content"></span></div></h2>',compile:function(element,attr,transclude){return function(scope,element,attr){function getContent(el){return angular.element(el[0].querySelector(".md-subheader-content"))}$mdTheming(element);var outerHTML=element[0].outerHTML;transclude(scope,function(clone){getContent(element).append(clone)}),element.hasClass("md-no-sticky")||transclude(scope,function(clone){var stickyClone=$compile(angular.element(outerHTML))(scope);getContent(stickyClone).append(clone),$mdSticky(scope,element,stickyClone)})}}}}angular.module("material.components.subheader",["material.core","material.components.sticky"]).directive("mdSubheader",MdSubheaderDirective),MdSubheaderDirective.$inject=["$mdSticky","$compile","$mdTheming"]}(),function(){function getDirective(name){function DirectiveFactory($parse){function postLink(scope,element,attr){var fn=$parse(attr[directiveName]);element.on(eventName,function(ev){scope.$apply(function(){fn(scope,{$event:ev})})})}return{restrict:"A",link:postLink}}var directiveName="md"+name,eventName="$md."+name.toLowerCase();return DirectiveFactory.$inject=["$parse"],DirectiveFactory}angular.module("material.components.swipe",["material.core"]).directive("mdSwipeLeft",getDirective("SwipeLeft")).directive("mdSwipeRight",getDirective("SwipeRight"))}(),
function(){function MdSwitch(mdCheckboxDirective,$mdTheming,$mdUtil,$document,$mdConstant,$parse,$$rAF,$mdGesture){function compile(element,attr){var checkboxLink=checkboxDirective.compile(element,attr);return element.addClass("md-dragging"),function(scope,element,attr,ngModel){function onDragStart(ev){disabledGetter(scope)||(ev.stopPropagation(),element.addClass("md-dragging"),drag={width:thumbContainer.prop("offsetWidth")},element.removeClass("transition"))}function onDrag(ev){if(drag){ev.stopPropagation(),ev.srcEvent&&ev.srcEvent.preventDefault();var percent=ev.pointer.distanceX/drag.width,translate=ngModel.$viewValue?1+percent:percent;translate=Math.max(0,Math.min(1,translate)),thumbContainer.css($mdConstant.CSS.TRANSFORM,"translate3d("+100*translate+"%,0,0)"),drag.translate=translate}}function onDragEnd(ev){if(drag){ev.stopPropagation(),element.removeClass("md-dragging"),thumbContainer.css($mdConstant.CSS.TRANSFORM,"");var isChanged=ngModel.$viewValue?drag.translate<.5:drag.translate>.5;isChanged&&applyModelValue(!ngModel.$viewValue),drag=null}}function applyModelValue(newValue){scope.$apply(function(){ngModel.$setViewValue(newValue),ngModel.$render()})}ngModel=ngModel||$mdUtil.fakeNgModel();var disabledGetter=$parse(attr.ngDisabled),thumbContainer=angular.element(element[0].querySelector(".md-thumb-container")),switchContainer=angular.element(element[0].querySelector(".md-container"));$$rAF(function(){element.removeClass("md-dragging")}),checkboxLink(scope,element,attr,ngModel),angular.isDefined(attr.ngDisabled)&&scope.$watch(disabledGetter,function(isDisabled){element.attr("tabindex",isDisabled?-1:0)}),$mdGesture.register(switchContainer,"drag"),switchContainer.on("$md.dragstart",onDragStart).on("$md.drag",onDrag).on("$md.dragend",onDragEnd);var drag}}var checkboxDirective=mdCheckboxDirective[0];return{restrict:"E",priority:210,transclude:!0,template:'<div class="md-container"><div class="md-bar"></div><div class="md-thumb-container"><div class="md-thumb" md-ink-ripple md-ink-ripple-checkbox></div></div></div><div ng-transclude class="md-label"></div>',require:"?ngModel",compile:compile}}angular.module("material.components.switch",["material.core","material.components.checkbox"]).directive("mdSwitch",MdSwitch),MdSwitch.$inject=["mdCheckboxDirective","$mdTheming","$mdUtil","$document","$mdConstant","$parse","$$rAF","$mdGesture"]}(),function(){angular.module("material.components.tabs",["material.core","material.components.icon"])}(),function(){function MdToastDirective(){return{restrict:"E"}}function MdToastProvider($$interimElementProvider){function toastDefaultOptions($animate,$mdToast,$mdUtil){function onShow(scope,element,options){return element=$mdUtil.extractElementByName(element,"md-toast"),activeToastContent=options.content,element.addClass(options.position.split(" ").map(function(pos){return"md-"+pos}).join(" ")),options.parent.addClass(toastOpenClass(options.position)),options.onSwipe=function(ev,gesture){element.addClass("md-"+ev.type.replace("$md.","")),$mdUtil.nextTick($mdToast.cancel)},element.on("$md.swipeleft $md.swiperight",options.onSwipe),$animate.enter(element,options.parent)}function onRemove(scope,element,options){return element.off("$md.swipeleft $md.swiperight",options.onSwipe),options.parent.removeClass(toastOpenClass(options.position)),$animate.leave(element)}function toastOpenClass(position){return"md-toast-open-"+(position.indexOf("top")>-1?"top":"bottom")}return{onShow:onShow,onRemove:onRemove,position:"bottom left",themable:!0,hideDelay:3e3}}var activeToastContent,ACTION_RESOLVE="ok",$mdToast=$$interimElementProvider("$mdToast").setDefaults({methods:["position","hideDelay","capsule"],options:toastDefaultOptions}).addPreset("simple",{argOption:"content",methods:["content","action","highlightAction","theme","parent"],options:["$mdToast","$mdTheming",function($mdToast,$mdTheming){var opts={template:['<md-toast md-theme="{{ toast.theme }}" ng-class="{\'md-capsule\': toast.capsule}">',"<span flex>{{ toast.content }}</span>",'<md-button class="md-action" ng-if="toast.action" ng-click="toast.resolve()" ng-class="{\'md-highlight\': toast.highlightAction}">',"{{ toast.action }}","</md-button>","</md-toast>"].join(""),controller:["$scope",function($scope){var self=this;$scope.$watch(function(){return activeToastContent},function(){self.content=activeToastContent}),this.resolve=function(){$mdToast.hide(ACTION_RESOLVE)}}],theme:$mdTheming.defaultTheme(),controllerAs:"toast",bindToController:!0};return opts}]}).addMethod("updateContent",function(newContent){activeToastContent=newContent});return toastDefaultOptions.$inject=["$animate","$mdToast","$mdUtil"],$mdToast}angular.module("material.components.toast",["material.core","material.components.button"]).directive("mdToast",MdToastDirective).provider("$mdToast",MdToastProvider),MdToastProvider.$inject=["$$interimElementProvider"]}(),function(){function mdToolbarDirective($$rAF,$mdConstant,$mdUtil,$mdTheming,$animate){var translateY=angular.bind(null,$mdUtil.supplant,"translate3d(0,{0}px,0)");return{restrict:"E",controller:angular.noop,link:function(scope,element,attr){function setupScrollShrink(){function onMdContentLoad($event,newContentEl){element.parent()[0]===newContentEl.parent()[0]&&(contentElement&&contentElement.off("scroll",debouncedContentScroll),newContentEl.on("scroll",debouncedContentScroll),newContentEl.attr("scroll-shrink","true"),contentElement=newContentEl,$$rAF(updateToolbarHeight))}function updateToolbarHeight(){toolbarHeight=element.prop("offsetHeight");var margin=-toolbarHeight*shrinkSpeedFactor+"px";contentElement.css("margin-top",margin),contentElement.css("margin-bottom",margin),onContentScroll()}function onContentScroll(e){var scrollTop=e?e.target.scrollTop:prevScrollTop;debouncedUpdateHeight(),y=Math.min(toolbarHeight/shrinkSpeedFactor,Math.max(0,y+scrollTop-prevScrollTop)),element.css($mdConstant.CSS.TRANSFORM,translateY([-y*shrinkSpeedFactor])),contentElement.css($mdConstant.CSS.TRANSFORM,translateY([(toolbarHeight-y)*shrinkSpeedFactor])),prevScrollTop=scrollTop,$mdUtil.nextTick(function(){var hasWhiteFrame=element.hasClass("md-whiteframe-z1");hasWhiteFrame&&!y?$animate.removeClass(element,"md-whiteframe-z1"):!hasWhiteFrame&&y&&$animate.addClass(element,"md-whiteframe-z1")})}var toolbarHeight,contentElement,y=0,prevScrollTop=0,shrinkSpeedFactor=attr.mdShrinkSpeedFactor||.5,debouncedContentScroll=$$rAF.throttle(onContentScroll),debouncedUpdateHeight=$mdUtil.debounce(updateToolbarHeight,5e3);scope.$on("$mdContentLoaded",onMdContentLoad)}$mdTheming(element),angular.isDefined(attr.mdScrollShrink)&&setupScrollShrink()}}}angular.module("material.components.toolbar",["material.core","material.components.content"]).directive("mdToolbar",mdToolbarDirective),mdToolbarDirective.$inject=["$$rAF","$mdConstant","$mdUtil","$mdTheming","$animate"]}(),function(){function MdTooltipDirective($timeout,$window,$$rAF,$document,$mdUtil,$mdTheming,$rootElement,$animate,$q){function postLink(scope,element,attr){function setDefaults(){angular.isDefined(attr.mdDelay)||(scope.delay=TOOLTIP_SHOW_DELAY)}function configureWatchers(){scope.$on("$destroy",function(){scope.visible=!1,element.remove(),angular.element($window).off("resize",debouncedOnResize)}),scope.$watch("visible",function(isVisible){isVisible?showTooltip():hideTooltip()})}function addAriaLabel(){parent.attr("aria-label")||parent.text().trim()||parent.attr("aria-label",element.text().trim())}function manipulateElement(){element.detach(),element.attr("role","tooltip")}function getParentWithPointerEvents(){for(var parent=element.parent();parent&&hasComputedStyleValue("pointer-events","none",parent[0]);)parent=parent.parent();return parent}function getNearestContentElement(){for(var current=element.parent()[0];current&&current!==$rootElement[0]&&current!==document.body;)current=current.parentNode;return current}function hasComputedStyleValue(key,value,target){key=attr.$normalize(key),target=target||element[0];var computedStyles=$window.getComputedStyle(target);return angular.isDefined(computedStyles[key])&&computedStyles[key]==value}function bindEvents(){var mouseActive=!1,enterHandler=function(){parent.on("blur mouseleave touchend touchcancel",leaveHandler),setVisible(!0)},leaveHandler=function(){var autohide=scope.hasOwnProperty("autohide")?scope.autohide:attr.hasOwnProperty("mdAutohide");(autohide||mouseActive||$document[0].activeElement!==parent[0])&&(parent.off("blur mouseleave touchend touchcancel",leaveHandler),setVisible(!1)),mouseActive=!1};parent.on("mousedown",function(){mouseActive=!0}),parent.on("focus mouseenter touchstart",enterHandler),angular.element($window).on("resize",debouncedOnResize)}function setVisible(value){setVisible.value=!!value,setVisible.queued||(value?(setVisible.queued=!0,$timeout(function(){scope.visible=setVisible.value,setVisible.queued=!1},scope.delay)):$mdUtil.nextTick(function(){scope.visible=!1}))}function showTooltip(){return tooltipParent.append(element),hasComputedStyleValue("display","none")?(scope.visible=!1,void element.detach()):(positionTooltip(),void angular.forEach([element,background,content],function(element){$animate.addClass(element,"md-show")}))}function hideTooltip(){$q.all([$animate.removeClass(content,"md-show"),$animate.removeClass(background,"md-show"),$animate.removeClass(element,"md-show")]).then(function(){scope.visible||element.detach()})}function positionTooltip(){function positionBackground(){var size="left"===direction||"right"===direction?2*Math.sqrt(Math.pow(tipRect.width,2)+Math.pow(tipRect.height/2,2)):2*Math.sqrt(Math.pow(tipRect.width/2,2)+Math.pow(tipRect.height,2)),position="left"===direction?{left:100,top:50}:"right"===direction?{left:0,top:50}:"top"===direction?{left:50,top:100}:{left:50,top:0};background.css({width:size+"px",height:size+"px",left:position.left+"%",top:position.top+"%"})}function fitInParent(pos){var newPosition={left:pos.left,top:pos.top};return newPosition.left=Math.min(newPosition.left,tooltipParent.prop("scrollWidth")-tipRect.width-TOOLTIP_WINDOW_EDGE_SPACE),newPosition.left=Math.max(newPosition.left,TOOLTIP_WINDOW_EDGE_SPACE),newPosition.top=Math.min(newPosition.top,tooltipParent.prop("scrollHeight")-tipRect.height-TOOLTIP_WINDOW_EDGE_SPACE),newPosition.top=Math.max(newPosition.top,TOOLTIP_WINDOW_EDGE_SPACE),newPosition}function getPosition(dir){return"left"===dir?{left:parentRect.left-tipRect.width-TOOLTIP_WINDOW_EDGE_SPACE,top:parentRect.top+parentRect.height/2-tipRect.height/2}:"right"===dir?{left:parentRect.left+parentRect.width+TOOLTIP_WINDOW_EDGE_SPACE,top:parentRect.top+parentRect.height/2-tipRect.height/2}:"top"===dir?{left:parentRect.left+parentRect.width/2-tipRect.width/2,top:parentRect.top-tipRect.height-TOOLTIP_WINDOW_EDGE_SPACE}:{left:parentRect.left+parentRect.width/2-tipRect.width/2,top:parentRect.top+parentRect.height+TOOLTIP_WINDOW_EDGE_SPACE}}var tipRect=$mdUtil.offsetRect(element,tooltipParent),parentRect=$mdUtil.offsetRect(parent,tooltipParent),newPosition=getPosition(direction);direction?newPosition=fitInParent(newPosition):newPosition.top>element.prop("offsetParent").scrollHeight-tipRect.height-TOOLTIP_WINDOW_EDGE_SPACE&&(newPosition=fitInParent(getPosition("top"))),element.css({top:newPosition.top+"px",left:newPosition.left+"px"}),positionBackground()}$mdTheming(element);var parent=getParentWithPointerEvents(),background=angular.element(element[0].getElementsByClassName("md-background")[0]),content=angular.element(element[0].getElementsByClassName("md-content")[0]),direction=attr.mdDirection,current=getNearestContentElement(),tooltipParent=angular.element(current||document.body),debouncedOnResize=$$rAF.throttle(function(){scope.visible&&positionTooltip()});setDefaults(),manipulateElement(),bindEvents(),configureWatchers(),addAriaLabel()}var TOOLTIP_SHOW_DELAY=300,TOOLTIP_WINDOW_EDGE_SPACE=8;return{restrict:"E",transclude:!0,priority:210,template:'        <div class="md-background"></div>        <div class="md-content" ng-transclude></div>',scope:{visible:"=?mdVisible",delay:"=?mdDelay",autohide:"=?mdAutohide"},link:postLink}}angular.module("material.components.tooltip",["material.core"]).directive("mdTooltip",MdTooltipDirective),MdTooltipDirective.$inject=["$timeout","$window","$$rAF","$document","$mdUtil","$mdTheming","$rootElement","$animate","$q"]}(),function(){function VirtualRepeatContainerDirective(){return{controller:VirtualRepeatContainerController,template:virtualRepeatContainerTemplate,compile:function($element,$attrs){$element.addClass("md-virtual-repeat-container").addClass($attrs.hasOwnProperty("mdOrientHorizontal")?"md-orient-horizontal":"md-orient-vertical")}}}function virtualRepeatContainerTemplate($element){return'<div class="md-virtual-repeat-scroller"><div class="md-virtual-repeat-sizer"></div><div class="md-virtual-repeat-offsetter">'+$element[0].innerHTML+"</div></div>"}function VirtualRepeatContainerController($$rAF,$scope,$element,$attrs){this.$scope=$scope,this.$element=$element,this.$attrs=$attrs,this.size=0,this.scrollSize=0,this.scrollOffset=0,this.horizontal=this.$attrs.hasOwnProperty("mdOrientHorizontal"),this.repeater=null,this.autoShrink=this.$attrs.hasOwnProperty("mdAutoShrink"),this.autoShrinkMin=parseInt(this.$attrs.mdAutoShrinkMin,10)||0,this.originalSize=null,this.scroller=$element[0].getElementsByClassName("md-virtual-repeat-scroller")[0],this.sizer=this.scroller.getElementsByClassName("md-virtual-repeat-sizer")[0],this.offsetter=this.scroller.getElementsByClassName("md-virtual-repeat-offsetter")[0],$$rAF(angular.bind(this,this.updateSize)),$attrs.ngHide&&$scope.$watch($attrs.ngHide,angular.bind(this,function(hidden){hidden||$$rAF(angular.bind(this,this.updateSize))}))}function VirtualRepeatDirective($parse){return{controller:VirtualRepeatController,priority:1e3,require:["mdVirtualRepeat","^^mdVirtualRepeatContainer"],restrict:"A",terminal:!0,transclude:"element",compile:function($element,$attrs){var expression=$attrs.mdVirtualRepeat,match=expression.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)\s*$/),repeatName=match[1],repeatListExpression=$parse(match[2]),extraName=$attrs.mdExtraName&&$parse($attrs.mdExtraName);return function($scope,$element,$attrs,ctrl,$transclude){ctrl[0].link_(ctrl[1],$transclude,repeatName,repeatListExpression,extraName)}}}}function VirtualRepeatController($scope,$element,$attrs,$browser,$document,$$rAF){this.$scope=$scope,this.$element=$element,this.$attrs=$attrs,this.$browser=$browser,this.$document=$document,this.$$rAF=$$rAF,this.browserCheckUrlChange=$browser.$$checkUrlChange,this.newStartIndex=0,this.newEndIndex=0,this.startIndex=0,this.endIndex=0,this.itemSize=$scope.$eval($attrs.mdItemSize)||null,this.isFirstRender=!0,this.itemsLength=0,this.blocks={},this.pooledBlocks=[]}angular.module("material.components.virtualRepeat",["material.core"]).directive("mdVirtualRepeatContainer",VirtualRepeatContainerDirective).directive("mdVirtualRepeat",VirtualRepeatDirective);var MAX_ELEMENT_SIZE=1533917,NUM_EXTRA=3;VirtualRepeatContainerController.$inject=["$$rAF","$scope","$element","$attrs"],VirtualRepeatContainerController.prototype.register=function(repeaterCtrl){this.repeater=repeaterCtrl,angular.element(this.scroller).on("scroll wheel touchmove touchend",angular.bind(this,this.handleScroll_))},VirtualRepeatContainerController.prototype.isHorizontal=function(){return this.horizontal},VirtualRepeatContainerController.prototype.getSize=function(){return this.size},VirtualRepeatContainerController.prototype.setSize_=function(size){this.size=size,this.$element[0].style[this.isHorizontal()?"width":"height"]=size+"px"},VirtualRepeatContainerController.prototype.updateSize=function(){this.originalSize||(this.size=this.isHorizontal()?this.$element[0].clientWidth:this.$element[0].clientHeight,this.repeater&&this.repeater.containerUpdated())},VirtualRepeatContainerController.prototype.getScrollSize=function(){return this.scrollSize},VirtualRepeatContainerController.prototype.sizeScroller_=function(size){var dimension=this.isHorizontal()?"width":"height",crossDimension=this.isHorizontal()?"height":"width";if(size<MAX_ELEMENT_SIZE)this.sizer.style[dimension]=size+"px";else{this.sizer.innerHTML="",this.sizer.style[dimension]="auto",this.sizer.style[crossDimension]="auto";var numChildren=Math.floor(size/MAX_ELEMENT_SIZE),sizerChild=document.createElement("div");sizerChild.style[dimension]="1533917px",sizerChild.style[crossDimension]="1px";for(var i=0;i<numChildren;i++)this.sizer.appendChild(sizerChild.cloneNode(!1));sizerChild.style[dimension]=size-numChildren*MAX_ELEMENT_SIZE+"px",this.sizer.appendChild(sizerChild)}},VirtualRepeatContainerController.prototype.autoShrink_=function(size){var shrinkSize=Math.max(size,this.autoShrinkMin*this.repeater.getItemSize());this.autoShrink&&shrinkSize!==this.size&&(shrinkSize<(this.originalSize||this.size)?(this.originalSize||(this.originalSize=this.size),this.setSize_(shrinkSize)):this.originalSize&&(this.setSize_(this.originalSize),this.originalSize=null))},VirtualRepeatContainerController.prototype.setScrollSize=function(size){this.scrollSize!==size&&(this.sizeScroller_(size),this.autoShrink_(size),this.scrollSize=size)},VirtualRepeatContainerController.prototype.getScrollOffset=function(){return this.scrollOffset},VirtualRepeatContainerController.prototype.scrollTo=function(position){this.scroller[this.isHorizontal()?"scrollLeft":"scrollTop"]=position,this.handleScroll_()},VirtualRepeatContainerController.prototype.resetScroll=function(){this.scrollTo(0)},VirtualRepeatContainerController.prototype.handleScroll_=function(){var offset=this.isHorizontal()?this.scroller.scrollLeft:this.scroller.scrollTop;if(offset!==this.scrollOffset){var itemSize=this.repeater.getItemSize();if(itemSize){var numItems=Math.max(0,Math.floor(offset/itemSize)-NUM_EXTRA),transform=this.isHorizontal()?"translateX(":"translateY(";transform+=numItems*itemSize+"px)",this.scrollOffset=offset,this.offsetter.style.webkitTransform=transform,this.offsetter.style.transform=transform,this.repeater.containerUpdated()}}},VirtualRepeatDirective.$inject=["$parse"],VirtualRepeatController.$inject=["$scope","$element","$attrs","$browser","$document","$$rAF"],VirtualRepeatController.Block,VirtualRepeatController.prototype.link_=function(container,transclude,repeatName,repeatListExpression,extraName){this.container=container,this.transclude=transclude,this.repeatName=repeatName,this.repeatListExpression=repeatListExpression,this.extraName=extraName,this.sized=!1,this.container.register(this)},VirtualRepeatController.prototype.readItemSize_=function(){this.items=this.repeatListExpression(this.$scope),this.parentNode=this.$element[0].parentNode;var block=this.getBlock_(0);this.itemSize=block.element[0][this.container.isHorizontal()?"offsetWidth":"offsetHeight"]||null,this.blocks[0]=block,this.poolBlock_(0),this.itemSize&&this.containerUpdated()},VirtualRepeatController.prototype.containerUpdated=function(){return this.itemSize?(this.sized||(this.items=this.repeatListExpression(this.$scope)),this.sized||(this.sized=!0,this.$scope.$watchCollection(this.repeatListExpression,angular.bind(this,this.virtualRepeatUpdate_))),this.updateIndexes_(),void((this.newStartIndex!==this.startIndex||this.newEndIndex!==this.endIndex||this.container.getScrollOffset()>this.container.getScrollSize())&&this.virtualRepeatUpdate_(this.items,this.items))):void this.$$rAF(angular.bind(this,this.readItemSize_))},VirtualRepeatController.prototype.getItemSize=function(){return this.itemSize},VirtualRepeatController.prototype.virtualRepeatUpdate_=function(items,oldItems){var itemsLength=items?items.length:0,lengthChanged=!1;if(itemsLength!==this.itemsLength&&(lengthChanged=!0,this.itemsLength=itemsLength),this.items&&itemsLength<this.items.length&&0!==this.container.getScrollOffset())return this.items=items,void this.container.resetScroll();if(this.items=items,items!==oldItems&&this.updateIndexes_(),this.parentNode=this.$element[0].parentNode,lengthChanged&&this.container.setScrollSize(itemsLength*this.itemSize),this.isFirstRender){this.isFirstRender=!1;var startIndex=this.$attrs.mdStartIndex?this.$scope.$eval(this.$attrs.mdStartIndex):0;this.container.scrollTo(startIndex*this.itemSize)}Object.keys(this.blocks).forEach(function(blockIndex){var index=parseInt(blockIndex,10);(index<this.newStartIndex||index>=this.newEndIndex)&&this.poolBlock_(index)},this),this.$browser.$$checkUrlChange=angular.noop;var i,block,newStartBlocks=[],newEndBlocks=[];for(i=this.newStartIndex;i<this.newEndIndex&&null==this.blocks[i];i++)block=this.getBlock_(i),this.updateBlock_(block,i),newStartBlocks.push(block);for(;null!=this.blocks[i];i++)this.updateBlock_(this.blocks[i],i);for(var maxIndex=i-1;i<this.newEndIndex;i++)block=this.getBlock_(i),this.updateBlock_(block,i),newEndBlocks.push(block);newStartBlocks.length&&this.parentNode.insertBefore(this.domFragmentFromBlocks_(newStartBlocks),this.$element[0].nextSibling),newEndBlocks.length&&this.parentNode.insertBefore(this.domFragmentFromBlocks_(newEndBlocks),this.blocks[maxIndex]&&this.blocks[maxIndex].element[0].nextSibling),this.$browser.$$checkUrlChange=this.browserCheckUrlChange,this.startIndex=this.newStartIndex,this.endIndex=this.newEndIndex},VirtualRepeatController.prototype.getBlock_=function(index){if(this.pooledBlocks.length)return this.pooledBlocks.pop();var block;return this.transclude(angular.bind(this,function(clone,scope){block={element:clone,"new":!0,scope:scope},this.updateScope_(scope,index),this.parentNode.appendChild(clone[0])})),block},VirtualRepeatController.prototype.updateBlock_=function(block,index){this.blocks[index]=block,(block["new"]||block.scope.$index!==index||block.scope[this.repeatName]!==this.items[index])&&(block["new"]=!1,this.updateScope_(block.scope,index),this.$scope.$root.$$phase||block.scope.$digest())},VirtualRepeatController.prototype.updateScope_=function(scope,index){scope.$index=index,scope[this.repeatName]=this.items&&this.items[index],this.extraName&&(scope[this.extraName(this.$scope)]=this.items[index])},VirtualRepeatController.prototype.poolBlock_=function(index){this.pooledBlocks.push(this.blocks[index]),this.parentNode.removeChild(this.blocks[index].element[0]),delete this.blocks[index]},VirtualRepeatController.prototype.domFragmentFromBlocks_=function(blocks){var fragment=this.$document[0].createDocumentFragment();return blocks.forEach(function(block){fragment.appendChild(block.element[0])}),fragment},VirtualRepeatController.prototype.updateIndexes_=function(){var itemsLength=this.items?this.items.length:0,containerLength=Math.ceil(this.container.getSize()/this.itemSize);this.newStartIndex=Math.max(0,Math.min(itemsLength-containerLength,Math.floor(this.container.getScrollOffset()/this.itemSize))),this.newEndIndex=Math.min(itemsLength,this.newStartIndex+containerLength+NUM_EXTRA),this.newStartIndex=Math.max(0,this.newStartIndex-NUM_EXTRA)}}(),function(){angular.module("material.components.whiteframe",[])}(),function(){function MdAutocompleteCtrl($scope,$element,$mdUtil,$mdConstant,$mdTheming,$window,$animate,$rootElement,$attrs,$q){function init(){$mdUtil.initOptionalProperties($scope,$attrs,{searchText:null,selectedItem:null}),$mdTheming($element),configureWatchers(),$mdUtil.nextTick(function(){gatherElements(),focusElement(),moveDropdown()})}function positionDropdown(){function correctHorizontalAlignment(){var dropdown=elements.ul.getBoundingClientRect(),styles={};dropdown.right>root.right-MENU_PADDING&&(styles.left=hrect.right-dropdown.width+"px"),elements.$.ul.css(styles)}if(!elements)return $mdUtil.nextTick(positionDropdown,!1);var hrect=elements.wrap.getBoundingClientRect(),vrect=elements.snap.getBoundingClientRect(),root=elements.root.getBoundingClientRect(),top=vrect.bottom-root.top,bot=root.bottom-vrect.top,left=hrect.left-root.left,width=hrect.width,styles={left:left+"px",minWidth:width+"px",maxWidth:Math.max(hrect.right-root.left,root.right-hrect.left)-MENU_PADDING+"px"};top>bot&&root.height-hrect.bottom-MENU_PADDING<MAX_HEIGHT?(styles.top="auto",styles.bottom=bot+"px",styles.maxHeight=Math.min(MAX_HEIGHT,hrect.top-root.top-MENU_PADDING)+"px"):(styles.top=top+"px",styles.bottom="auto",styles.maxHeight=Math.min(MAX_HEIGHT,root.bottom-hrect.bottom-MENU_PADDING)+"px"),elements.$.ul.css(styles),$mdUtil.nextTick(correctHorizontalAlignment,!1)}function moveDropdown(){elements.$.root.length&&($mdTheming(elements.$.ul),elements.$.ul.detach(),elements.$.root.append(elements.$.ul),$animate.pin&&$animate.pin(elements.$.ul,$rootElement))}function focusElement(){$scope.autofocus&&elements.input.focus()}function configureWatchers(){var wait=parseInt($scope.delay,10)||0;$attrs.$observe("disabled",function(value){ctrl.isDisabled=value}),$attrs.$observe("required",function(value){ctrl.isRequired=null!==value}),$scope.$watch("searchText",wait?$mdUtil.debounce(handleSearchText,wait):handleSearchText),$scope.$watch("selectedItem",selectedItemChange),angular.element($window).on("resize",positionDropdown),$scope.$on("$destroy",cleanup)}function cleanup(){angular.element($window).off("resize",positionDropdown),elements.$.ul.remove()}function gatherElements(){elements={main:$element[0],ul:$element.find("ul")[0],input:$element.find("input")[0],wrap:$element.find("md-autocomplete-wrap")[0],root:document.body},elements.li=elements.ul.getElementsByTagName("li"),elements.snap=getSnapTarget(),elements.$=getAngularElements(elements)}function getSnapTarget(){for(var element=$element;element.length;element=element.parent())if(angular.isDefined(element.attr("md-autocomplete-snap")))return element[0];return elements.wrap}function getAngularElements(elements){var obj={};for(var key in elements)elements.hasOwnProperty(key)&&(obj[key]=angular.element(elements[key]));return obj}function handleHiddenChange(hidden,oldHidden){!hidden&&oldHidden?(positionDropdown(),elements&&$mdUtil.nextTick(function(){$mdUtil.disableScrollAround(elements.ul)},!1)):hidden&&!oldHidden&&$mdUtil.nextTick(function(){$mdUtil.enableScrolling()},!1)}function onListEnter(){noBlur=!0}function onListLeave(){noBlur=!1,hasFocus||(ctrl.hidden=!0)}function onMouseup(){elements.input.focus()}function selectedItemChange(selectedItem,previousSelectedItem){selectedItem&&getDisplayValue(selectedItem).then(function(val){$scope.searchText=val,handleSelectedItemChange(selectedItem,previousSelectedItem)}),selectedItem!==previousSelectedItem&&announceItemChange()}function announceItemChange(){angular.isFunction($scope.itemChange)&&$scope.itemChange(getItemAsNameVal($scope.selectedItem))}function announceTextChange(){angular.isFunction($scope.textChange)&&$scope.textChange()}function handleSelectedItemChange(selectedItem,previousSelectedItem){selectedItemWatchers.forEach(function(watcher){watcher(selectedItem,previousSelectedItem)})}function registerSelectedItemWatcher(cb){selectedItemWatchers.indexOf(cb)==-1&&selectedItemWatchers.push(cb)}function unregisterSelectedItemWatcher(cb){var i=selectedItemWatchers.indexOf(cb);i!=-1&&selectedItemWatchers.splice(i,1)}function handleSearchText(searchText,previousSearchText){ctrl.index=getDefaultIndex(),searchText!==previousSearchText&&getDisplayValue($scope.selectedItem).then(function(val){searchText!==val&&($scope.selectedItem=null,searchText!==previousSearchText&&announceTextChange(),isMinLengthMet()?handleQuery():(ctrl.loading=!1,ctrl.matches=[],ctrl.hidden=shouldHide(),updateMessages()))})}function blur(){hasFocus=!1,noBlur||(ctrl.hidden=!0)}function focus(){hasFocus=!0,angular.isString($scope.searchText)||($scope.searchText=""),$scope.minLength>0||(ctrl.hidden=shouldHide(),ctrl.hidden||handleQuery())}function keydown(event){switch(event.keyCode){case $mdConstant.KEY_CODE.DOWN_ARROW:if(ctrl.loading)return;event.stopPropagation(),event.preventDefault(),ctrl.index=Math.min(ctrl.index+1,ctrl.matches.length-1),updateScroll(),updateMessages();break;case $mdConstant.KEY_CODE.UP_ARROW:if(ctrl.loading)return;event.stopPropagation(),event.preventDefault(),ctrl.index=ctrl.index<0?ctrl.matches.length-1:Math.max(0,ctrl.index-1),updateScroll(),updateMessages();break;case $mdConstant.KEY_CODE.TAB:case $mdConstant.KEY_CODE.ENTER:if(ctrl.hidden||ctrl.loading||ctrl.index<0||ctrl.matches.length<1)return;event.stopPropagation(),event.preventDefault(),select(ctrl.index);break;case $mdConstant.KEY_CODE.ESCAPE:event.stopPropagation(),event.preventDefault(),clearValue(),ctrl.matches=[],ctrl.hidden=!0,ctrl.index=getDefaultIndex()}}function getMinLength(){return angular.isNumber($scope.minLength)?$scope.minLength:1}function getDisplayValue(item){function getItemText(item){return item&&$scope.itemText?$scope.itemText(getItemAsNameVal(item)):null}return $q.when(getItemText(item)||item)}function getItemAsNameVal(item){if(!item)return undefined;var locals={};return ctrl.itemName&&(locals[ctrl.itemName]=item),locals}function getDefaultIndex(){return $scope.autoselect?0:-1}function shouldHide(){if(!isMinLengthMet()||!ctrl.matches.length)return!0}function getCurrentDisplayValue(){return getDisplayValue(ctrl.matches[ctrl.index])}function isMinLengthMet(){return angular.isDefined($scope.searchText)&&$scope.searchText.length>=getMinLength()}function defineProperty(key,handler,value){Object.defineProperty(ctrl,key,{get:function(){return value},set:function(newValue){var oldValue=value;value=newValue,handler(newValue,oldValue)}})}function select(index){$mdUtil.nextTick(function(){getDisplayValue(ctrl.matches[index]).then(function(val){var ngModel=elements.$.input.controller("ngModel");ngModel.$setViewValue(val),ngModel.$render()})["finally"](function(){$scope.selectedItem=ctrl.matches[index],ctrl.loading=!1,ctrl.hidden=!0,ctrl.index=0,ctrl.matches=[]})},!1)}function clearValue(){$scope.searchText="",select(-1);var eventObj=document.createEvent("CustomEvent");eventObj.initCustomEvent("input",!0,!0,{value:$scope.searchText}),elements.input.dispatchEvent(eventObj),elements.input.focus()}function fetchResults(searchText){function handleResults(matches){cache[term]=matches,searchText===$scope.searchText&&(ctrl.matches=matches,ctrl.hidden=shouldHide(),$scope.selectOnMatch&&selectItemOnMatch(),updateMessages(),positionDropdown())}var items=$scope.$parent.$eval(itemExpr),term=searchText.toLowerCase();angular.isArray(items)?handleResults(items):items&&$mdUtil.nextTick(function(){ctrl.loading=!0,items.success&&items.success(handleResults),items.then&&items.then(handleResults),items["finally"]&&items["finally"](function(){ctrl.loading=!1})})}function updateMessages(){getCurrentDisplayValue().then(function(msg){ctrl.messages=[getCountMessage(),msg]})}function getCountMessage(){if(lastCount===ctrl.matches.length)return"";switch(lastCount=ctrl.matches.length,ctrl.matches.length){case 0:return"There are no matches available.";case 1:return"There is 1 match available.";default:return"There are "+ctrl.matches.length+" matches available."}}function updateScroll(){if(elements.li[ctrl.index]){var li=elements.li[ctrl.index],top=li.offsetTop,bot=top+li.offsetHeight,hgt=elements.ul.clientHeight;top<elements.ul.scrollTop?elements.ul.scrollTop=top:bot>elements.ul.scrollTop+hgt&&(elements.ul.scrollTop=bot-hgt)}}function handleQuery(){var searchText=$scope.searchText,term=searchText.toLowerCase();!$scope.noCache&&cache[term]?(ctrl.matches=cache[term],updateMessages()):fetchResults(searchText),hasFocus&&(ctrl.hidden=shouldHide())}function selectItemOnMatch(){var searchText=$scope.searchText,matches=ctrl.matches,item=matches[0];1===matches.length&&getDisplayValue(item).then(function(displayValue){searchText==displayValue&&select(0)})}var ctrl=this,itemParts=$scope.itemsExpr.split(/ in /i),itemExpr=itemParts[1],elements=null,cache={},noBlur=!1,selectedItemWatchers=[],hasFocus=!1,lastCount=0;return defineProperty("hidden",handleHiddenChange,!0),ctrl.scope=$scope,ctrl.parent=$scope.$parent,ctrl.itemName=itemParts[0],ctrl.matches=[],ctrl.loading=!1,ctrl.hidden=!0,ctrl.index=null,ctrl.messages=[],ctrl.id=$mdUtil.nextUid(),ctrl.isDisabled=null,ctrl.isRequired=null,
ctrl.keydown=keydown,ctrl.blur=blur,ctrl.focus=focus,ctrl.clear=clearValue,ctrl.select=select,ctrl.listEnter=onListEnter,ctrl.listLeave=onListLeave,ctrl.mouseUp=onMouseup,ctrl.getCurrentDisplayValue=getCurrentDisplayValue,ctrl.registerSelectedItemWatcher=registerSelectedItemWatcher,ctrl.unregisterSelectedItemWatcher=unregisterSelectedItemWatcher,init()}angular.module("material.components.autocomplete").controller("MdAutocompleteCtrl",MdAutocompleteCtrl);var ITEM_HEIGHT=41,MAX_HEIGHT=5.5*ITEM_HEIGHT,MENU_PADDING=8;MdAutocompleteCtrl.$inject=["$scope","$element","$mdUtil","$mdConstant","$mdTheming","$window","$animate","$rootElement","$attrs","$q"]}(),function(){function MdAutocomplete(){return{controller:"MdAutocompleteCtrl",controllerAs:"$mdAutocompleteCtrl",scope:{inputName:"@mdInputName",inputMinlength:"@mdInputMinlength",inputMaxlength:"@mdInputMaxlength",searchText:"=?mdSearchText",selectedItem:"=?mdSelectedItem",itemsExpr:"@mdItems",itemText:"&mdItemText",placeholder:"@placeholder",noCache:"=?mdNoCache",selectOnMatch:"=?mdSelectOnMatch",itemChange:"&?mdSelectedItemChange",textChange:"&?mdSearchTextChange",minLength:"=?mdMinLength",delay:"=?mdDelay",autofocus:"=?mdAutofocus",floatingLabel:"@?mdFloatingLabel",autoselect:"=?mdAutoselect",menuClass:"@?mdMenuClass",inputId:"@?mdInputId"},template:function(element,attr){function getItemTemplate(){var templateTag=element.find("md-item-template").remove(),html=templateTag.length?templateTag.html():element.html();return templateTag.length||element.empty(),html}function getNoItemsTemplate(){var templateTag=element.find("md-not-found").remove(),template=templateTag.length?templateTag.html():"";return template?'<li ng-if="!$mdAutocompleteCtrl.matches.length && !$mdAutocompleteCtrl.loading                       && !$mdAutocompleteCtrl.hidden"                   ng-hide="$mdAutocompleteCtrl.hidden"                   md-autocomplete-parent-scope>'+template+"</li>":""}function getInputElement(){return attr.mdFloatingLabel?'            <md-input-container flex ng-if="floatingLabel">              <label>{{floatingLabel}}</label>              <input type="search"                  id="{{ inputId || \'fl-input-\' + $mdAutocompleteCtrl.id }}"                  name="{{inputName}}"                  autocomplete="off"                  ng-required="$mdAutocompleteCtrl.isRequired"                  ng-minlength="inputMinlength"                  ng-maxlength="inputMaxlength"                  ng-disabled="$mdAutocompleteCtrl.isDisabled"                  ng-model="$mdAutocompleteCtrl.scope.searchText"                  ng-keydown="$mdAutocompleteCtrl.keydown($event)"                  ng-blur="$mdAutocompleteCtrl.blur()"                  ng-focus="$mdAutocompleteCtrl.focus()"                  aria-owns="ul-{{$mdAutocompleteCtrl.id}}"                  aria-label="{{floatingLabel}}"                  aria-autocomplete="list"                  aria-haspopup="true"                  aria-activedescendant=""                  aria-expanded="{{!$mdAutocompleteCtrl.hidden}}"/>              <div md-autocomplete-parent-scope md-autocomplete-replace>'+leftover+"</div>            </md-input-container>":'            <input flex type="search"                id="{{ inputId || \'input-\' + $mdAutocompleteCtrl.id }}"                name="{{inputName}}"                ng-if="!floatingLabel"                autocomplete="off"                ng-required="$mdAutocompleteCtrl.isRequired"                ng-disabled="$mdAutocompleteCtrl.isDisabled"                ng-model="$mdAutocompleteCtrl.scope.searchText"                ng-keydown="$mdAutocompleteCtrl.keydown($event)"                ng-blur="$mdAutocompleteCtrl.blur()"                ng-focus="$mdAutocompleteCtrl.focus()"                placeholder="{{placeholder}}"                aria-owns="ul-{{$mdAutocompleteCtrl.id}}"                aria-label="{{placeholder}}"                aria-autocomplete="list"                aria-haspopup="true"                aria-activedescendant=""                aria-expanded="{{!$mdAutocompleteCtrl.hidden}}"/>            <button                type="button"                tabindex="-1"                ng-if="$mdAutocompleteCtrl.scope.searchText && !$mdAutocompleteCtrl.isDisabled"                ng-click="$mdAutocompleteCtrl.clear()">              <md-icon md-svg-icon="md-close"></md-icon>              <span class="md-visually-hidden">Clear</span>            </button>                '}var noItemsTemplate=getNoItemsTemplate(),itemTemplate=getItemTemplate(),leftover=element.html();return'        <md-autocomplete-wrap            layout="row"            ng-class="{ \'md-whiteframe-z1\': !floatingLabel, \'md-menu-showing\': !$mdAutocompleteCtrl.hidden }"            role="listbox">          '+getInputElement()+'          <md-progress-linear              ng-if="$mdAutocompleteCtrl.loading && !$mdAutocompleteCtrl.hidden"              md-mode="indeterminate"></md-progress-linear>          <ul role="presentation"              class="md-autocomplete-suggestions md-whiteframe-z1 {{menuClass || \'\'}}"              id="ul-{{$mdAutocompleteCtrl.id}}"              ng-hide="$mdAutocompleteCtrl.hidden"              ng-mouseenter="$mdAutocompleteCtrl.listEnter()"              ng-mouseleave="$mdAutocompleteCtrl.listLeave()"              ng-mouseup="$mdAutocompleteCtrl.mouseUp()">            <li ng-repeat="(index, item) in $mdAutocompleteCtrl.matches"                ng-class="{ selected: index === $mdAutocompleteCtrl.index }"                ng-click="$mdAutocompleteCtrl.select(index)"                md-autocomplete-list-item="$mdAutocompleteCtrl.itemName">                '+itemTemplate+"            </li>            "+noItemsTemplate+'          </ul>        </md-autocomplete-wrap>        <aria-status            class="md-visually-hidden"            role="status"            aria-live="assertive">          <p ng-repeat="message in $mdAutocompleteCtrl.messages track by $index" ng-if="message">{{message}}</p>        </aria-status>'}}}angular.module("material.components.autocomplete").directive("mdAutocomplete",MdAutocomplete)}(),function(){function MdHighlightCtrl($scope,$element,$interpolate){function init(term,template){createWatchers(term,template),$element.on("$destroy",cleanup)}function createWatchers(term,template){function compileTemplate(){return $interpolate(template)($scope)}ctrl.watchers.push($scope.$watch(term,function(term){ctrl.term=term,updateHTML(term,ctrl.template)})),ctrl.watchers.push($scope.$watch(compileTemplate,function(template){ctrl.template=template,updateHTML(ctrl.term,template)}))}function cleanup(){ctrl.watchers.forEach(function(watcher){watcher()})}function updateHTML(){if(null!==ctrl.term&&null!==ctrl.template){var unsafeText=$interpolate(ctrl.template)($scope),text=angular.element("<div>").text(unsafeText).html(),flags=$element.attr("md-highlight-flags")||"",regex=getRegExp(ctrl.term,flags),html=text.replace(regex,'<span class="highlight">$&</span>');$element.html(html)}}function sanitize(term){return term?term.replace(/[\\\^\$\*\+\?\.\(\)\|\{}\[\]]/g,"\\$&"):term}function getRegExp(text,flags){var str="";return flags.indexOf("^")>=1&&(str+="^"),str+=text,flags.indexOf("$")>=1&&(str+="$"),new RegExp(sanitize(str),flags.replace(/[\$\^]/g,""))}var ctrl=this;ctrl.term=null,ctrl.template=null,ctrl.watchers=[],ctrl.init=init}angular.module("material.components.autocomplete").controller("MdHighlightCtrl",MdHighlightCtrl),MdHighlightCtrl.$inject=["$scope","$element","$interpolate"]}(),function(){function MdHighlight(){return{terminal:!0,scope:!1,controller:"MdHighlightCtrl",compile:function(element,attr){var template=element.html();return function(scope,element,attr,ctrl){ctrl.init(attr.mdHighlightText,template)}}}}angular.module("material.components.autocomplete").directive("mdHighlightText",MdHighlight)}(),function(){function MdAutocompleteListItem($compile,$mdUtil){function postLink(scope,element,attr){var ctrl=scope.$parent.$mdAutocompleteCtrl,newScope=ctrl.parent.$new(!1,ctrl.parent),itemName=ctrl.scope.$eval(attr.mdAutocompleteListItem);newScope[itemName]=scope.item,$compile(element.contents())(newScope),element.attr({role:"option",id:"item_"+$mdUtil.nextUid()})}return{terminal:!0,link:postLink,scope:!1}}angular.module("material.components.autocomplete").directive("mdAutocompleteListItem",MdAutocompleteListItem),MdAutocompleteListItem.$inject=["$compile","$mdUtil"]}(),function(){function MdAutocompleteParentScope($compile){function postLink(scope,element,attr){var ctrl=scope.$parent.$mdAutocompleteCtrl;$compile(element.contents())(ctrl.parent),attr.hasOwnProperty("mdAutocompleteReplace")&&(element.after(element.contents()),element.remove())}return{restrict:"A",terminal:!0,link:postLink,scope:!1}}angular.module("material.components.autocomplete").directive("mdAutocompleteParentScope",MdAutocompleteParentScope),MdAutocompleteParentScope.$inject=["$compile"]}(),function(){function MdChip($mdTheming){function compile(element,attr){return element.append(DELETE_HINT_TEMPLATE),function(scope,element,attr,ctrl){element.addClass("md-chip"),$mdTheming(element),ctrl&&angular.element(element[0].querySelector(".md-chip-content")).on("blur",function(){ctrl.selectedChip=-1})}}return{restrict:"E",require:"^?mdChips",compile:compile}}angular.module("material.components.chips").directive("mdChip",MdChip);var DELETE_HINT_TEMPLATE='    <span ng-if="!$mdChipsCtrl.readonly" class="md-visually-hidden">      {{$mdChipsCtrl.deleteHint}}    </span>';MdChip.$inject=["$mdTheming"]}(),function(){function MdChipRemove($timeout){function postLink(scope,element,attr,ctrl){element.on("click",function(event){scope.$apply(function(){ctrl.removeChip(scope.$$replacedScope.$index)})}),$timeout(function(){element.attr({tabindex:-1,ariaHidden:!0}),element.find("button").attr("tabindex","-1")})}return{restrict:"A",require:"^mdChips",scope:!1,link:postLink}}angular.module("material.components.chips").directive("mdChipRemove",MdChipRemove),MdChipRemove.$inject=["$timeout"]}(),function(){function MdChipTransclude($compile,$mdUtil){function link(scope,element,attr){var ctrl=scope.$parent.$mdChipsCtrl,newScope=ctrl.parent.$new(!1,ctrl.parent);newScope.$$replacedScope=scope,newScope.$chip=scope.$chip,newScope.$mdChipsCtrl=ctrl,element.html(ctrl.$scope.$eval(attr.mdChipTransclude)),$compile(element.contents())(newScope)}return{restrict:"EA",terminal:!0,link:link,scope:!1}}angular.module("material.components.chips").directive("mdChipTransclude",MdChipTransclude),MdChipTransclude.$inject=["$compile","$mdUtil"]}(),function(){function MdChipsCtrl($scope,$mdConstant,$log,$element,$timeout){this.$timeout=$timeout,this.$mdConstant=$mdConstant,this.$scope=$scope,this.parent=$scope.$parent,this.$log=$log,this.$element=$element,this.ngModelCtrl=null,this.userInputNgModelCtrl=null,this.userInputElement=null,this.items=[],this.selectedChip=-1,this.deleteHint="Press delete to remove this chip.",this.deleteButtonLabel="Remove",this.chipBuffer="",this.useMdOnAppend=!1}angular.module("material.components.chips").controller("MdChipsCtrl",MdChipsCtrl),MdChipsCtrl.$inject=["$scope","$mdConstant","$log","$element","$timeout"],MdChipsCtrl.prototype.inputKeydown=function(event){var chipBuffer=this.getChipBuffer();switch(event.keyCode){case this.$mdConstant.KEY_CODE.ENTER:if(this.$scope.requireMatch||!chipBuffer)break;event.preventDefault(),this.appendChip(chipBuffer),this.resetChipBuffer();break;case this.$mdConstant.KEY_CODE.BACKSPACE:if(chipBuffer)break;event.stopPropagation(),this.items.length&&this.selectAndFocusChipSafe(this.items.length-1)}},MdChipsCtrl.prototype.chipKeydown=function(event){if(!this.getChipBuffer())switch(event.keyCode){case this.$mdConstant.KEY_CODE.BACKSPACE:case this.$mdConstant.KEY_CODE.DELETE:if(this.selectedChip<0)return;event.preventDefault(),this.removeAndSelectAdjacentChip(this.selectedChip);break;case this.$mdConstant.KEY_CODE.LEFT_ARROW:event.preventDefault(),this.selectedChip<0&&(this.selectedChip=this.items.length),this.items.length&&this.selectAndFocusChipSafe(this.selectedChip-1);break;case this.$mdConstant.KEY_CODE.RIGHT_ARROW:event.preventDefault(),this.selectAndFocusChipSafe(this.selectedChip+1);break;case this.$mdConstant.KEY_CODE.ESCAPE:case this.$mdConstant.KEY_CODE.TAB:if(this.selectedChip<0)return;event.preventDefault(),this.onFocus()}},MdChipsCtrl.prototype.getPlaceholder=function(){var useSecondary=this.items.length&&(""==this.secondaryPlaceholder||this.secondaryPlaceholder);return useSecondary?this.placeholder:this.secondaryPlaceholder},MdChipsCtrl.prototype.removeAndSelectAdjacentChip=function(index){var selIndex=this.getAdjacentChipIndex(index);this.removeChip(index),this.$timeout(angular.bind(this,function(){this.selectAndFocusChipSafe(selIndex)}))},MdChipsCtrl.prototype.resetSelectedChip=function(){this.selectedChip=-1},MdChipsCtrl.prototype.getAdjacentChipIndex=function(index){var len=this.items.length-1;return 0==len?-1:index==len?index-1:index},MdChipsCtrl.prototype.appendChip=function(newChip){this.items.indexOf(newChip)+1||(this.useMdOnAppend&&this.mdOnAppend&&(newChip=this.mdOnAppend({$chip:newChip})),this.items.push(newChip))},MdChipsCtrl.prototype.useMdOnAppendExpression=function(){this.useMdOnAppend=!0},MdChipsCtrl.prototype.getChipBuffer=function(){return this.userInputElement?this.userInputNgModelCtrl?this.userInputNgModelCtrl.$viewValue:this.userInputElement[0].value:this.chipBuffer},MdChipsCtrl.prototype.resetChipBuffer=function(){this.userInputElement?this.userInputNgModelCtrl?(this.userInputNgModelCtrl.$setViewValue(""),this.userInputNgModelCtrl.$render()):this.userInputElement[0].value="":this.chipBuffer=""},MdChipsCtrl.prototype.removeChip=function(index){this.items.splice(index,1)},MdChipsCtrl.prototype.removeChipAndFocusInput=function(index){this.removeChip(index),this.onFocus()},MdChipsCtrl.prototype.selectAndFocusChipSafe=function(index){return this.items.length?index===this.items.length?this.onFocus():(index=Math.max(index,0),index=Math.min(index,this.items.length-1),this.selectChip(index),void this.focusChip(index)):(this.selectChip(-1),void this.onFocus())},MdChipsCtrl.prototype.selectChip=function(index){index>=-1&&index<=this.items.length?this.selectedChip=index:this.$log.warn("Selected Chip index out of bounds; ignoring.")},MdChipsCtrl.prototype.selectAndFocusChip=function(index){this.selectChip(index),index!=-1&&this.focusChip(index)},MdChipsCtrl.prototype.focusChip=function(index){this.$element[0].querySelector('md-chip[index="'+index+'"] .md-chip-content').focus()},MdChipsCtrl.prototype.configureNgModel=function(ngModelCtrl){this.ngModelCtrl=ngModelCtrl;var self=this;ngModelCtrl.$render=function(){self.items=self.ngModelCtrl.$viewValue}},MdChipsCtrl.prototype.onFocus=function(){var input=this.$element[0].querySelector("input");input&&input.focus(),this.resetSelectedChip()},MdChipsCtrl.prototype.onInputFocus=function(){this.inputHasFocus=!0,this.resetSelectedChip()},MdChipsCtrl.prototype.onInputBlur=function(){this.inputHasFocus=!1},MdChipsCtrl.prototype.configureUserInput=function(inputElement){this.userInputElement=inputElement;var ngModelCtrl=inputElement.controller("ngModel");ngModelCtrl!=this.ngModelCtrl&&(this.userInputNgModelCtrl=ngModelCtrl);var scope=this.$scope,ctrl=this;inputElement.attr({tabindex:0}).on("keydown",function(event){scope.$apply(angular.bind(ctrl,function(){ctrl.inputKeydown(event)}))}).on("focus",angular.bind(ctrl,ctrl.onInputFocus)).on("blur",angular.bind(ctrl,ctrl.onInputBlur))},MdChipsCtrl.prototype.configureAutocomplete=function(ctrl){ctrl.registerSelectedItemWatcher(angular.bind(this,function(item){item&&(this.appendChip(item),this.resetChipBuffer())})),this.$element.find("input").on("focus",angular.bind(this,this.onInputFocus)).on("blur",angular.bind(this,this.onInputBlur))},MdChipsCtrl.prototype.hasFocus=function(){return this.inputHasFocus||this.selectedChip>=0}}(),function(){function MdChips($mdTheming,$mdUtil,$compile,$log,$timeout){function compile(element,attr){function getTemplateByQuery(query){if(attr.ngModel){var element=userTemplate[0].querySelector(query);return element&&element.outerHTML}}var userTemplate=attr.$mdUserTemplate;attr.$mdUserTemplate=null;var chipRemoveTemplate=getTemplateByQuery("md-chips>*[md-chip-remove]")||CHIP_REMOVE_TEMPLATE,chipContentsTemplate=getTemplateByQuery("md-chips>md-chip-template")||CHIP_DEFAULT_TEMPLATE,chipInputTemplate=getTemplateByQuery("md-chips>md-autocomplete")||getTemplateByQuery("md-chips>input")||CHIP_INPUT_TEMPLATE,staticChips=userTemplate.find("md-chip");return userTemplate[0].querySelector("md-chip-template>*[md-chip-remove]")&&$log.warn("invalid placement of md-chip-remove within md-chip-template."),function(scope,element,attrs,controllers){$mdUtil.initOptionalProperties(scope,attr),$mdTheming(element);var mdChipsCtrl=controllers[0];if(mdChipsCtrl.chipContentsTemplate=chipContentsTemplate,mdChipsCtrl.chipRemoveTemplate=chipRemoveTemplate,mdChipsCtrl.chipInputTemplate=chipInputTemplate,element.attr({ariaHidden:!0,tabindex:-1}).on("focus",function(){mdChipsCtrl.onFocus()}),attr.ngModel&&(mdChipsCtrl.configureNgModel(element.controller("ngModel")),attrs.mdOnAppend&&mdChipsCtrl.useMdOnAppendExpression(),chipInputTemplate!=CHIP_INPUT_TEMPLATE&&$timeout(function(){0===chipInputTemplate.indexOf("<md-autocomplete")&&mdChipsCtrl.configureAutocomplete(element.find("md-autocomplete").controller("mdAutocomplete")),mdChipsCtrl.configureUserInput(element.find("input"))})),staticChips.length>0){var compiledStaticChips=$compile(staticChips)(scope.$parent);$timeout(function(){element.find("md-chips-wrap").prepend(compiledStaticChips)})}}}return{template:function(element,attrs){attrs.$mdUserTemplate=element.clone();return MD_CHIPS_TEMPLATE},require:["mdChips"],restrict:"E",controller:"MdChipsCtrl",controllerAs:"$mdChipsCtrl",bindToController:!0,compile:compile,scope:{readonly:"=readonly",placeholder:"@",secondaryPlaceholder:"@",mdOnAppend:"&",deleteHint:"@",deleteButtonLabel:"@",requireMatch:"=?mdRequireMatch"}}}angular.module("material.components.chips").directive("mdChips",MdChips);var MD_CHIPS_TEMPLATE='      <md-chips-wrap          ng-if="!$mdChipsCtrl.readonly || $mdChipsCtrl.items.length > 0"          ng-keydown="$mdChipsCtrl.chipKeydown($event)"          ng-class="{ \'md-focused\': $mdChipsCtrl.hasFocus() }"          class="md-chips">        <md-chip ng-repeat="$chip in $mdChipsCtrl.items"            index="{{$index}}"            ng-class="{\'md-focused\': $mdChipsCtrl.selectedChip == $index}">          <div class="md-chip-content"              tabindex="-1"              aria-hidden="true"              ng-focus="!$mdChipsCtrl.readonly && $mdChipsCtrl.selectChip($index)"              md-chip-transclude="$mdChipsCtrl.chipContentsTemplate"></div>          <div class="md-chip-remove-container"              md-chip-transclude="$mdChipsCtrl.chipRemoveTemplate"></div>        </md-chip>        <div ng-if="!$mdChipsCtrl.readonly && $mdChipsCtrl.ngModelCtrl"            class="md-chip-input-container"            md-chip-transclude="$mdChipsCtrl.chipInputTemplate"></div>        </div>      </md-chips-wrap>',CHIP_INPUT_TEMPLATE='        <input            tabindex="0"            placeholder="{{$mdChipsCtrl.getPlaceholder()}}"            aria-label="{{$mdChipsCtrl.getPlaceholder()}}"            ng-model="$mdChipsCtrl.chipBuffer"            ng-focus="$mdChipsCtrl.onInputFocus()"            ng-blur="$mdChipsCtrl.onInputBlur()"            ng-keydown="$mdChipsCtrl.inputKeydown($event)">',CHIP_DEFAULT_TEMPLATE="      <span>{{$chip}}</span>",CHIP_REMOVE_TEMPLATE='      <button          class="md-chip-remove"          ng-if="!$mdChipsCtrl.readonly"          ng-click="$mdChipsCtrl.removeChipAndFocusInput($$replacedScope.$index)"          type="button"          aria-hidden="true"          tabindex="-1">        <md-icon md-svg-icon="md-close"></md-icon>        <span class="md-visually-hidden">          {{$mdChipsCtrl.deleteButtonLabel}}        </span>      </button>';MdChips.$inject=["$mdTheming","$mdUtil","$compile","$log","$timeout"]}(),function(){function MdContactChipsCtrl(){this.selectedItem=null,this.searchText=""}angular.module("material.components.chips").controller("MdContactChipsCtrl",MdContactChipsCtrl),MdContactChipsCtrl.prototype.queryContact=function(searchText){var results=this.contactQuery({$query:searchText});return this.filterSelected?results.filter(angular.bind(this,this.filterSelectedContacts)):results},MdContactChipsCtrl.prototype.filterSelectedContacts=function(contact){return this.contacts.indexOf(contact)==-1}}(),function(){function MdContactChips($mdTheming,$mdUtil){function compile(element,attr){return function(scope,element,attrs,controllers){$mdUtil.initOptionalProperties(scope,attr),$mdTheming(element),element.attr("tabindex","-1")}}return{template:function(element,attrs){return MD_CONTACT_CHIPS_TEMPLATE},restrict:"E",controller:"MdContactChipsCtrl",controllerAs:"$mdContactChipsCtrl",bindToController:!0,compile:compile,scope:{contactQuery:"&mdContacts",placeholder:"@",secondaryPlaceholder:"@",contactName:"@mdContactName",contactImage:"@mdContactImage",contactEmail:"@mdContactEmail",contacts:"=ngModel",requireMatch:"=?mdRequireMatch"}}}angular.module("material.components.chips").directive("mdContactChips",MdContactChips);var MD_CONTACT_CHIPS_TEMPLATE='      <md-chips class="md-contact-chips"          ng-model="$mdContactChipsCtrl.contacts"          md-require-match="$mdContactChipsCtrl.requireMatch"          md-autocomplete-snap>          <md-autocomplete              md-menu-class="md-contact-chips-suggestions"              md-selected-item="$mdContactChipsCtrl.selectedItem"              md-search-text="$mdContactChipsCtrl.searchText"              md-items="item in $mdContactChipsCtrl.queryContact($mdContactChipsCtrl.searchText)"              md-item-text="$mdContactChipsCtrl.mdContactName"              md-no-cache="true"              md-autoselect              placeholder="{{$mdContactChipsCtrl.contacts.length == 0 ?                  $mdContactChipsCtrl.placeholder : $mdContactChipsCtrl.secondaryPlaceholder}}">            <div class="md-contact-suggestion">              <img                   ng-src="{{item[$mdContactChipsCtrl.contactImage]}}"                  alt="{{item[$mdContactChipsCtrl.contactName]}}" />              <span class="md-contact-name" md-highlight-text="$mdContactChipsCtrl.searchText">                {{item[$mdContactChipsCtrl.contactName]}}              </span>              <span class="md-contact-email" >{{item[$mdContactChipsCtrl.contactEmail]}}</span>            </div>          </md-autocomplete>          <md-chip-template>            <div class="md-contact-avatar">              <img                   ng-src="{{$chip[$mdContactChipsCtrl.contactImage]}}"                  alt="{{$chip[$mdContactChipsCtrl.contactName]}}" />            </div>            <div class="md-contact-name">              {{$chip[$mdContactChipsCtrl.contactName]}}            </div>          </md-chip-template>      </md-chips>';MdContactChips.$inject=["$mdTheming","$mdUtil"]}(),function(){function MdTab(){function postLink(scope,element,attr,ctrl){if(ctrl){var tabs=element.parent()[0].getElementsByTagName("md-tab"),index=Array.prototype.indexOf.call(tabs,element[0]),body=element.find("md-tab-body").eq(0).remove(),label=element.find("md-tab-label").eq(0).remove(),data=ctrl.insertTab({scope:scope,parent:scope.$parent,index:index,element:element,template:body.html(),label:label.html()},index);scope.select=scope.select||angular.noop,scope.deselect=scope.deselect||angular.noop,scope.$watch("active",function(active){active&&ctrl.select(data.getIndex())}),scope.$watch("disabled",function(){ctrl.refreshIndex()}),scope.$watch(function(){return Array.prototype.indexOf.call(tabs,element[0])},function(newIndex){data.index=newIndex,ctrl.updateTabOrder()}),scope.$on("$destroy",function(){ctrl.removeTab(data)})}}return{require:"^?mdTabs",terminal:!0,compile:function(element,attr){var label=element.find("md-tab-label"),body=element.find("md-tab-body");if(0==label.length&&(label=angular.element("<md-tab-label></md-tab-label>"),attr.label?label.text(attr.label):label.append(element.contents())),0==body.length){var contents=element.contents().detach();body=angular.element("<md-tab-body></md-tab-body>"),body.append(contents)}return element.append(label),body.html()&&element.append(body),postLink},scope:{active:"=?mdActive",disabled:"=?ngDisabled",select:"&?mdOnSelect",deselect:"&?mdOnDeselect"}}}angular.module("material.components.tabs").directive("mdTab",MdTab)}(),function(){function MdTabItem(){return{require:"^?mdTabs",link:function(scope,element,attr,ctrl){ctrl&&ctrl.attachRipple(scope,element)}}}angular.module("material.components.tabs").directive("mdTabItem",MdTabItem)}(),function(){function MdTabLabel(){return{terminal:!0}}angular.module("material.components.tabs").directive("mdTabLabel",MdTabLabel)}(),function(){function MdTabScroll($parse){return{restrict:"A",compile:function($element,attr){var fn=$parse(attr.mdTabScroll,null,!0);return function(scope,element){element.on("mousewheel",function(event){scope.$apply(function(){fn(scope,{$event:event})})})}}}}angular.module("material.components.tabs").directive("mdTabScroll",MdTabScroll),MdTabScroll.$inject=["$parse"]}(),function(){function MdTabsController($scope,$element,$window,$mdConstant,$mdTabInkRipple,$mdUtil,$animate,$attrs,$compile,$mdTheming){function init(){ctrl.selectedIndex=ctrl.selectedIndex||0,compileTemplate(),configureWatchers(),bindEvents(),$mdTheming($element),$mdUtil.nextTick(function(){updateHeightFromContent(),adjustOffset(),updateInkBarStyles(),ctrl.tabs[ctrl.selectedIndex]&&ctrl.tabs[ctrl.selectedIndex].scope.select(),loaded=!0,updatePagination()})}function compileTemplate(){var template=$attrs.$mdTabsTemplate,element=angular.element(elements.data);element.html(template),$compile(element.contents())(ctrl.parent),delete $attrs.$mdTabsTemplate}function bindEvents(){angular.element($window).on("resize",handleWindowResize),$scope.$on("$destroy",cleanup)}function configureWatchers(){$scope.$watch("$mdTabsCtrl.selectedIndex",handleSelectedIndexChange)}function defineOneWayBinding(key,handler){var attr=$attrs.$normalize("md-"+key);handler&&defineProperty(key,handler),$attrs.$observe(attr,function(newValue){ctrl[key]=newValue})}function defineBooleanAttribute(key,handler){var attr=$attrs.$normalize("md-"+key);handler&&defineProperty(key,handler),$attrs.$observe(attr,function(newValue){ctrl[key]="false"!==newValue})}function cleanup(){destroyed=!0,angular.element($window).off("resize",handleWindowResize)}function handleStretchTabs(stretchTabs){angular.element(elements.wrapper).toggleClass("md-stretch-tabs",shouldStretchTabs()),updateInkBarStyles()}function handleCenterTabs(newValue){ctrl.shouldCenterTabs=shouldCenterTabs()}function handleMaxTabWidth(newWidth,oldWidth){newWidth!==oldWidth&&$mdUtil.nextTick(ctrl.updateInkBarStyles)}function handleShouldPaginate(newValue,oldValue){newValue!==oldValue&&(ctrl.maxTabWidth=getMaxTabWidth(),ctrl.shouldCenterTabs=shouldCenterTabs(),$mdUtil.nextTick(function(){ctrl.maxTabWidth=getMaxTabWidth(),adjustOffset(ctrl.selectedIndex)}))}function handleHasContent(hasContent){$element[hasContent?"removeClass":"addClass"]("md-no-tab-content")}function handleOffsetChange(left){var newValue=ctrl.shouldCenterTabs?"":"-"+left+"px";angular.element(elements.paging).css($mdConstant.CSS.TRANSFORM,"translate3d("+newValue+", 0, 0)"),$scope.$broadcast("$mdTabsPaginationChanged")}function handleFocusIndexChange(newIndex,oldIndex){newIndex!==oldIndex&&elements.tabs[newIndex]&&(adjustOffset(),redirectFocus())}function handleSelectedIndexChange(newValue,oldValue){newValue!==oldValue&&(ctrl.selectedIndex=getNearestSafeIndex(newValue),ctrl.lastSelectedIndex=oldValue,ctrl.updateInkBarStyles(),updateHeightFromContent(),adjustOffset(newValue),$scope.$broadcast("$mdTabsChanged"),ctrl.tabs[oldValue]&&ctrl.tabs[oldValue].scope.deselect(),ctrl.tabs[newValue]&&ctrl.tabs[newValue].scope.select())}function handleResizeWhenVisible(){handleResizeWhenVisible.watcher||(handleResizeWhenVisible.watcher=$scope.$watch(function(){$mdUtil.nextTick(function(){handleResizeWhenVisible.watcher&&$element.prop("offsetParent")&&(handleResizeWhenVisible.watcher(),handleResizeWhenVisible.watcher=null,handleWindowResize())},!1)}))}function keydown(event){switch(event.keyCode){case $mdConstant.KEY_CODE.LEFT_ARROW:event.preventDefault(),incrementIndex(-1,!0);break;case $mdConstant.KEY_CODE.RIGHT_ARROW:event.preventDefault(),incrementIndex(1,!0);break;case $mdConstant.KEY_CODE.SPACE:case $mdConstant.KEY_CODE.ENTER:event.preventDefault(),locked||(ctrl.selectedIndex=ctrl.focusIndex)}ctrl.lastClick=!1}function select(index){locked||(ctrl.focusIndex=ctrl.selectedIndex=index),ctrl.lastClick=!0,$mdUtil.nextTick(function(){ctrl.tabs[index].element.triggerHandler("click")},!1)}function scroll(event){ctrl.shouldPaginate&&(event.preventDefault(),ctrl.offsetLeft=fixOffset(ctrl.offsetLeft-event.wheelDelta))}function nextPage(){var i,tab,viewportWidth=elements.canvas.clientWidth,totalWidth=viewportWidth+ctrl.offsetLeft;for(i=0;i<elements.tabs.length&&(tab=elements.tabs[i],!(tab.offsetLeft+tab.offsetWidth>totalWidth));i++);ctrl.offsetLeft=fixOffset(tab.offsetLeft)}function previousPage(){var i,tab;for(i=0;i<elements.tabs.length&&(tab=elements.tabs[i],!(tab.offsetLeft+tab.offsetWidth>=ctrl.offsetLeft));i++);ctrl.offsetLeft=fixOffset(tab.offsetLeft+tab.offsetWidth-elements.canvas.clientWidth)}function handleWindowResize(){$scope.$apply(function(){ctrl.lastSelectedIndex=ctrl.selectedIndex,ctrl.offsetLeft=fixOffset(ctrl.offsetLeft),$mdUtil.nextTick(ctrl.updateInkBarStyles,!1),$mdUtil.nextTick(updatePagination)})}function handleInkBar(hide){angular.element(elements.inkBar).toggleClass("ng-hide",hide)}function handleDynamicHeight(value){$element.toggleClass("md-dynamic-height",value)}function removeTab(tabData){if(!destroyed){var selectedIndex=ctrl.selectedIndex,tab=ctrl.tabs.splice(tabData.getIndex(),1)[0];refreshIndex(),ctrl.selectedIndex===selectedIndex&&(tab.scope.deselect(),ctrl.tabs[ctrl.selectedIndex]&&ctrl.tabs[ctrl.selectedIndex].scope.select()),$mdUtil.nextTick(function(){updatePagination(),ctrl.offsetLeft=fixOffset(ctrl.offsetLeft)})}}function insertTab(tabData,index){var hasLoaded=loaded,proto={getIndex:function(){return ctrl.tabs.indexOf(tab)},isActive:function(){return this.getIndex()===ctrl.selectedIndex},isLeft:function(){return this.getIndex()<ctrl.selectedIndex},isRight:function(){return this.getIndex()>ctrl.selectedIndex},shouldRender:function(){return!ctrl.noDisconnect||this.isActive()},hasFocus:function(){return!ctrl.lastClick&&ctrl.hasFocus&&this.getIndex()===ctrl.focusIndex},id:$mdUtil.nextUid()},tab=angular.extend(proto,tabData);return angular.isDefined(index)?ctrl.tabs.splice(index,0,tab):ctrl.tabs.push(tab),processQueue(),updateHasContent(),$mdUtil.nextTick(function(){updatePagination(),hasLoaded&&ctrl.autoselect&&$mdUtil.nextTick(function(){$mdUtil.nextTick(function(){select(ctrl.tabs.indexOf(tab))})})}),tab}function getElements(){var elements={};return elements.wrapper=$element[0].getElementsByTagName("md-tabs-wrapper")[0],elements.data=$element[0].getElementsByTagName("md-tab-data")[0],elements.canvas=elements.wrapper.getElementsByTagName("md-tabs-canvas")[0],elements.paging=elements.canvas.getElementsByTagName("md-pagination-wrapper")[0],elements.tabs=elements.paging.getElementsByTagName("md-tab-item"),elements.dummies=elements.canvas.getElementsByTagName("md-dummy-tab"),elements.inkBar=elements.paging.getElementsByTagName("md-ink-bar")[0],elements.contentsWrapper=$element[0].getElementsByTagName("md-tabs-content-wrapper")[0],elements.contents=elements.contentsWrapper.getElementsByTagName("md-tab-content"),elements}function canPageBack(){return ctrl.offsetLeft>0}function canPageForward(){var lastTab=elements.tabs[elements.tabs.length-1];return lastTab&&lastTab.offsetLeft+lastTab.offsetWidth>elements.canvas.clientWidth+ctrl.offsetLeft;
}function shouldStretchTabs(){switch(ctrl.stretchTabs){case"always":return!0;case"never":return!1;default:return!ctrl.shouldPaginate&&$window.matchMedia("(max-width: 600px)").matches}}function shouldCenterTabs(){return ctrl.centerTabs&&!ctrl.shouldPaginate}function shouldPaginate(){if(ctrl.noPagination||!loaded)return!1;var canvasWidth=Math.min($element.prop("clientWidth"),ctrl.maxTabWidth);return angular.forEach(elements.dummies,function(tab){canvasWidth-=tab.offsetWidth}),canvasWidth<0}function getNearestSafeIndex(newIndex){if(newIndex===-1)return-1;var i,tab,maxOffset=Math.max(ctrl.tabs.length-newIndex,newIndex);for(i=0;i<=maxOffset;i++){if(tab=ctrl.tabs[newIndex+i],tab&&tab.scope.disabled!==!0)return tab.getIndex();if(tab=ctrl.tabs[newIndex-i],tab&&tab.scope.disabled!==!0)return tab.getIndex()}return newIndex}function defineProperty(key,handler,value){Object.defineProperty(ctrl,key,{get:function(){return value},set:function(newValue){var oldValue=value;value=newValue,handler&&handler(newValue,oldValue)}})}function updatePagination(){ctrl.shouldPaginate=shouldPaginate()}function getMaxTabWidth(){return elements.canvas.clientWidth}function updateTabOrder(){var selectedItem=ctrl.tabs[ctrl.selectedIndex],focusItem=ctrl.tabs[ctrl.focusIndex];ctrl.tabs=ctrl.tabs.sort(function(a,b){return a.index-b.index}),ctrl.selectedIndex=ctrl.tabs.indexOf(selectedItem),ctrl.focusIndex=ctrl.tabs.indexOf(focusItem)}function incrementIndex(inc,focus){var newIndex,key=focus?"focusIndex":"selectedIndex",index=ctrl[key];for(newIndex=index+inc;ctrl.tabs[newIndex]&&ctrl.tabs[newIndex].scope.disabled;newIndex+=inc);ctrl.tabs[newIndex]&&(ctrl[key]=newIndex)}function redirectFocus(){elements.dummies[ctrl.focusIndex].focus()}function adjustOffset(index){if(null==index&&(index=ctrl.focusIndex),elements.tabs[index]&&!ctrl.shouldCenterTabs){var tab=elements.tabs[index],left=tab.offsetLeft,right=tab.offsetWidth+left;ctrl.offsetLeft=Math.max(ctrl.offsetLeft,fixOffset(right-elements.canvas.clientWidth)),ctrl.offsetLeft=Math.min(ctrl.offsetLeft,fixOffset(left))}}function processQueue(){queue.forEach(function(func){$mdUtil.nextTick(func)}),queue=[]}function updateHasContent(){var hasContent=!1;angular.forEach(ctrl.tabs,function(tab){tab.template&&(hasContent=!0)}),ctrl.hasContent=hasContent}function refreshIndex(){ctrl.selectedIndex=getNearestSafeIndex(ctrl.selectedIndex),ctrl.focusIndex=getNearestSafeIndex(ctrl.focusIndex)}function updateHeightFromContent(){if(!ctrl.dynamicHeight)return $element.css("height","");if(!ctrl.tabs.length)return queue.push(updateHeightFromContent);var tabContent=elements.contents[ctrl.selectedIndex],contentHeight=tabContent?tabContent.offsetHeight:0,tabsHeight=elements.wrapper.offsetHeight,newHeight=contentHeight+tabsHeight,currentHeight=$element.prop("clientHeight");currentHeight!==newHeight&&(locked=!0,$animate.animate($element,{height:currentHeight+"px"},{height:newHeight+"px"}).then(function(){$element.css("height",""),locked=!1}))}function updateInkBarStyles(){if(elements.tabs[ctrl.selectedIndex]){if(!ctrl.tabs.length)return queue.push(ctrl.updateInkBarStyles);if(!$element.prop("offsetParent"))return handleResizeWhenVisible();var tabWidth,index=ctrl.selectedIndex,totalWidth=elements.paging.offsetWidth,tab=elements.tabs[index],left=tab.offsetLeft,right=totalWidth-left-tab.offsetWidth;ctrl.shouldCenterTabs&&(tabWidth=Array.prototype.slice.call(elements.tabs).reduce(function(value,element){return value+element.offsetWidth},0),totalWidth>tabWidth&&$mdUtil.nextTick(updateInkBarStyles,!1)),updateInkBarClassName(),angular.element(elements.inkBar).css({left:left+"px",right:right+"px"})}}function updateInkBarClassName(){var newIndex=ctrl.selectedIndex,oldIndex=ctrl.lastSelectedIndex,ink=angular.element(elements.inkBar);angular.isNumber(oldIndex)&&ink.toggleClass("md-left",newIndex<oldIndex).toggleClass("md-right",newIndex>oldIndex)}function fixOffset(value){if(!elements.tabs.length||!ctrl.shouldPaginate)return 0;var lastTab=elements.tabs[elements.tabs.length-1],totalWidth=lastTab.offsetLeft+lastTab.offsetWidth;return value=Math.max(0,value),value=Math.min(totalWidth-elements.canvas.clientWidth,value)}function attachRipple(scope,element){var options={colorElement:angular.element(elements.inkBar)};$mdTabInkRipple.attach(scope,element,options)}var ctrl=this,locked=!1,elements=getElements(),queue=[],destroyed=!1,loaded=!1;defineOneWayBinding("stretchTabs",handleStretchTabs),defineProperty("focusIndex",handleFocusIndexChange,ctrl.selectedIndex||0),defineProperty("offsetLeft",handleOffsetChange,0),defineProperty("hasContent",handleHasContent,!1),defineProperty("maxTabWidth",handleMaxTabWidth,getMaxTabWidth()),defineProperty("shouldPaginate",handleShouldPaginate,!1),defineBooleanAttribute("noInkBar",handleInkBar),defineBooleanAttribute("dynamicHeight",handleDynamicHeight),defineBooleanAttribute("noPagination"),defineBooleanAttribute("swipeContent"),defineBooleanAttribute("noDisconnect"),defineBooleanAttribute("autoselect"),defineBooleanAttribute("centerTabs",handleCenterTabs),ctrl.scope=$scope,ctrl.parent=$scope.$parent,ctrl.tabs=[],ctrl.lastSelectedIndex=null,ctrl.hasFocus=!1,ctrl.lastClick=!0,ctrl.shouldCenterTabs=shouldCenterTabs(),ctrl.updatePagination=$mdUtil.debounce(updatePagination,100),ctrl.redirectFocus=redirectFocus,ctrl.attachRipple=attachRipple,ctrl.insertTab=insertTab,ctrl.removeTab=removeTab,ctrl.select=select,ctrl.scroll=scroll,ctrl.nextPage=nextPage,ctrl.previousPage=previousPage,ctrl.keydown=keydown,ctrl.canPageForward=canPageForward,ctrl.canPageBack=canPageBack,ctrl.refreshIndex=refreshIndex,ctrl.incrementIndex=incrementIndex,ctrl.updateInkBarStyles=$mdUtil.debounce(updateInkBarStyles,100),ctrl.updateTabOrder=$mdUtil.debounce(updateTabOrder,100),init()}angular.module("material.components.tabs").controller("MdTabsController",MdTabsController),MdTabsController.$inject=["$scope","$element","$window","$mdConstant","$mdTabInkRipple","$mdUtil","$animate","$attrs","$compile","$mdTheming"]}(),function(){function MdTabs($mdTheming,$mdUtil,$compile){return{scope:{selectedIndex:"=?mdSelected"},template:function(element,attr){return attr.$mdTabsTemplate=element.html(),'        <md-tabs-wrapper>          <md-tab-data></md-tab-data>          <md-prev-button              tabindex="-1"              role="button"              aria-label="Previous Page"              aria-disabled="{{!$mdTabsCtrl.canPageBack()}}"              ng-class="{ \'md-disabled\': !$mdTabsCtrl.canPageBack() }"              ng-if="$mdTabsCtrl.shouldPaginate"              ng-click="$mdTabsCtrl.previousPage()">            <md-icon md-svg-icon="md-tabs-arrow"></md-icon>          </md-prev-button>          <md-next-button              tabindex="-1"              role="button"              aria-label="Next Page"              aria-disabled="{{!$mdTabsCtrl.canPageForward()}}"              ng-class="{ \'md-disabled\': !$mdTabsCtrl.canPageForward() }"              ng-if="$mdTabsCtrl.shouldPaginate"              ng-click="$mdTabsCtrl.nextPage()">            <md-icon md-svg-icon="md-tabs-arrow"></md-icon>          </md-next-button>          <md-tabs-canvas              tabindex="0"              aria-activedescendant="tab-item-{{$mdTabsCtrl.tabs[$mdTabsCtrl.focusIndex].id}}"              ng-focus="$mdTabsCtrl.redirectFocus()"              ng-class="{                  \'md-paginated\': $mdTabsCtrl.shouldPaginate,                  \'md-center-tabs\': $mdTabsCtrl.shouldCenterTabs              }"              ng-keydown="$mdTabsCtrl.keydown($event)"              role="tablist">            <md-pagination-wrapper                ng-class="{ \'md-center-tabs\': $mdTabsCtrl.shouldCenterTabs }"                md-tab-scroll="$mdTabsCtrl.scroll($event)">              <md-tab-item                  tabindex="-1"                  class="md-tab"                  style="max-width: {{ $mdTabsCtrl.maxTabWidth + \'px\' }}"                  ng-repeat="tab in $mdTabsCtrl.tabs"                  role="tab"                  aria-controls="tab-content-{{::tab.id}}"                  aria-selected="{{tab.isActive()}}"                  aria-disabled="{{tab.scope.disabled || \'false\'}}"                  ng-click="$mdTabsCtrl.select(tab.getIndex())"                  ng-class="{                      \'md-active\':    tab.isActive(),                      \'md-focused\':   tab.hasFocus(),                      \'md-disabled\':  tab.scope.disabled                  }"                  ng-disabled="tab.scope.disabled"                  md-swipe-left="$mdTabsCtrl.nextPage()"                  md-swipe-right="$mdTabsCtrl.previousPage()"                  md-template="::tab.label"                  md-scope="::tab.parent"></md-tab-item>              <md-ink-bar></md-ink-bar>            </md-pagination-wrapper>            <div class="md-visually-hidden md-dummy-wrapper">              <md-dummy-tab                  class="md-tab"                  tabindex="-1"                  id="tab-item-{{::tab.id}}"                  role="tab"                  aria-controls="tab-content-{{::tab.id}}"                  aria-selected="{{tab.isActive()}}"                  aria-disabled="{{tab.scope.disabled || \'false\'}}"                  ng-focus="$mdTabsCtrl.hasFocus = true"                  ng-blur="$mdTabsCtrl.hasFocus = false"                  ng-repeat="tab in $mdTabsCtrl.tabs"                  md-template="::tab.label"                  md-scope="::tab.parent"></md-dummy-tab>            </div>          </md-tabs-canvas>        </md-tabs-wrapper>        <md-tabs-content-wrapper ng-show="$mdTabsCtrl.hasContent && $mdTabsCtrl.selectedIndex >= 0">          <md-tab-content              id="tab-content-{{::tab.id}}"              role="tabpanel"              aria-labelledby="tab-item-{{::tab.id}}"              md-swipe-left="$mdTabsCtrl.swipeContent && $mdTabsCtrl.incrementIndex(1)"              md-swipe-right="$mdTabsCtrl.swipeContent && $mdTabsCtrl.incrementIndex(-1)"              ng-if="$mdTabsCtrl.hasContent"              ng-repeat="(index, tab) in $mdTabsCtrl.tabs"              md-connected-if="tab.isActive()"              ng-class="{                \'md-no-transition\': $mdTabsCtrl.lastSelectedIndex == null,                \'md-active\':        tab.isActive(),                \'md-left\':          tab.isLeft(),                \'md-right\':         tab.isRight(),                \'md-no-scroll\':     $mdTabsCtrl.dynamicHeight              }">            <div                md-template="::tab.template"                md-scope="::tab.parent"                ng-if="tab.shouldRender()"></div>          </md-tab-content>        </md-tabs-content-wrapper>      '},controller:"MdTabsController",controllerAs:"$mdTabsCtrl",bindToController:!0}}angular.module("material.components.tabs").directive("mdTabs",MdTabs),MdTabs.$inject=["$mdTheming","$mdUtil","$compile"]}(),function(){function MdTemplate($compile,$mdUtil){function link(scope,element,attr,ctrl){function handleScope(){scope.$watch("connected",function(value){value===!1?disconnect():reconnect()}),scope.$on("$destroy",reconnect)}function disconnect(){ctrl.scope.noDisconnect||$mdUtil.disconnectScope(compileScope)}function reconnect(){ctrl.scope.noDisconnect||$mdUtil.reconnectScope(compileScope)}if(ctrl){var compileScope=scope.compileScope;return element.html(scope.template),$compile(element.contents())(compileScope),element.on("DOMSubtreeModified",function(){ctrl.updatePagination(),ctrl.updateInkBarStyles()}),$mdUtil.nextTick(handleScope)}}return{restrict:"A",link:link,scope:{template:"=mdTemplate",compileScope:"=mdScope",connected:"=?mdConnectedIf"},require:"^?mdTabs"}}angular.module("material.components.tabs").directive("mdTemplate",MdTemplate),MdTemplate.$inject=["$compile","$mdUtil"]}(),function(){angular.module("material.core").constant("$MD_THEME_CSS","/* mixin definition ; sets LTR and RTL within the same style call */md-autocomplete.md-THEME_NAME-theme {  background: '{{background-50}}'; }  md-autocomplete.md-THEME_NAME-theme[disabled] {    background: '{{background-100}}'; }  md-autocomplete.md-THEME_NAME-theme button md-icon path {    fill: '{{background-600}}'; }  md-autocomplete.md-THEME_NAME-theme button:after {    background: '{{background-600-0.3}}'; }.md-autocomplete-suggestions.md-THEME_NAME-theme {  background: '{{background-50}}'; }  .md-autocomplete-suggestions.md-THEME_NAME-theme li {    color: '{{background-900}}'; }    .md-autocomplete-suggestions.md-THEME_NAME-theme li .highlight {      color: '{{background-600}}'; }    .md-autocomplete-suggestions.md-THEME_NAME-theme li:hover, .md-autocomplete-suggestions.md-THEME_NAME-theme li.selected {      background: '{{background-200}}'; }md-backdrop {  background-color: '{{background-900-0.0}}'; }  md-backdrop.md-opaque.md-THEME_NAME-theme {    background-color: '{{background-900-0.48}}'; }  md-backdrop.md-opaque.md-THEME_NAME-theme.ng-enter {    background-color: '{{background-900-0.0}}'; }    md-backdrop.md-opaque.md-THEME_NAME-theme.ng-enter.md-opaque.md-THEME_NAME-theme.ng-enter-active {      background-color: '{{background-900-0.48}}'; }  md-backdrop.md-opaque.md-THEME_NAME-theme.ng-leave.md-opaque.md-THEME_NAME-theme.ng-leave-active {    background-color: '{{background-900-0.0}}'; }md-bottom-sheet.md-THEME_NAME-theme {  background-color: '{{background-50}}';  border-top-color: '{{background-300}}'; }  md-bottom-sheet.md-THEME_NAME-theme.md-list md-list-item {    color: '{{foreground-1}}'; }  md-bottom-sheet.md-THEME_NAME-theme .md-subheader {    background-color: '{{background-50}}'; }  md-bottom-sheet.md-THEME_NAME-theme .md-subheader {    color: '{{foreground-1}}'; }a.md-button.md-THEME_NAME-theme, .md-button.md-THEME_NAME-theme {  border-radius: 3px; }  a.md-button.md-THEME_NAME-theme:not([disabled]):hover, .md-button.md-THEME_NAME-theme:not([disabled]):hover {    background-color: '{{background-500-0.2}}'; }  a.md-button.md-THEME_NAME-theme:not([disabled]).md-focused, .md-button.md-THEME_NAME-theme:not([disabled]).md-focused {    background-color: '{{background-500-0.2}}'; }  a.md-button.md-THEME_NAME-theme:not([disabled]).md-icon-button:hover, .md-button.md-THEME_NAME-theme:not([disabled]).md-icon-button:hover {    background-color: transparent; }  a.md-button.md-THEME_NAME-theme.md-fab, .md-button.md-THEME_NAME-theme.md-fab {    border-radius: 50%;    background-color: '{{accent-color}}';    color: '{{accent-contrast}}'; }    a.md-button.md-THEME_NAME-theme.md-fab md-icon, .md-button.md-THEME_NAME-theme.md-fab md-icon {      color: '{{accent-contrast}}'; }    a.md-button.md-THEME_NAME-theme.md-fab:not([disabled]):hover, .md-button.md-THEME_NAME-theme.md-fab:not([disabled]):hover {      background-color: '{{accent-color}}'; }    a.md-button.md-THEME_NAME-theme.md-fab:not([disabled]).md-focused, .md-button.md-THEME_NAME-theme.md-fab:not([disabled]).md-focused {      background-color: '{{accent-A700}}'; }  a.md-button.md-THEME_NAME-theme.md-icon-button, .md-button.md-THEME_NAME-theme.md-icon-button {    border-radius: 50%; }  a.md-button.md-THEME_NAME-theme.md-primary, .md-button.md-THEME_NAME-theme.md-primary {    color: '{{primary-color}}'; }    a.md-button.md-THEME_NAME-theme.md-primary.md-raised, a.md-button.md-THEME_NAME-theme.md-primary.md-fab, .md-button.md-THEME_NAME-theme.md-primary.md-raised, .md-button.md-THEME_NAME-theme.md-primary.md-fab {      color: '{{primary-contrast}}';      background-color: '{{primary-color}}'; }      a.md-button.md-THEME_NAME-theme.md-primary.md-raised:not([disabled]) md-icon, a.md-button.md-THEME_NAME-theme.md-primary.md-fab:not([disabled]) md-icon, .md-button.md-THEME_NAME-theme.md-primary.md-raised:not([disabled]) md-icon, .md-button.md-THEME_NAME-theme.md-primary.md-fab:not([disabled]) md-icon {        color: '{{primary-contrast}}'; }      a.md-button.md-THEME_NAME-theme.md-primary.md-raised:not([disabled]):hover, a.md-button.md-THEME_NAME-theme.md-primary.md-fab:not([disabled]):hover, .md-button.md-THEME_NAME-theme.md-primary.md-raised:not([disabled]):hover, .md-button.md-THEME_NAME-theme.md-primary.md-fab:not([disabled]):hover {        background-color: '{{primary-color}}'; }      a.md-button.md-THEME_NAME-theme.md-primary.md-raised:not([disabled]).md-focused, a.md-button.md-THEME_NAME-theme.md-primary.md-fab:not([disabled]).md-focused, .md-button.md-THEME_NAME-theme.md-primary.md-raised:not([disabled]).md-focused, .md-button.md-THEME_NAME-theme.md-primary.md-fab:not([disabled]).md-focused {        background-color: '{{primary-600}}'; }    a.md-button.md-THEME_NAME-theme.md-primary:not([disabled]) md-icon, .md-button.md-THEME_NAME-theme.md-primary:not([disabled]) md-icon {      color: '{{primary-color}}'; }  a.md-button.md-THEME_NAME-theme.md-fab, .md-button.md-THEME_NAME-theme.md-fab {    border-radius: 50%;    background-color: '{{accent-color}}';    color: '{{accent-contrast}}'; }    a.md-button.md-THEME_NAME-theme.md-fab:not([disabled]) .md-icon, .md-button.md-THEME_NAME-theme.md-fab:not([disabled]) .md-icon {      color: '{{accent-contrast}}'; }    a.md-button.md-THEME_NAME-theme.md-fab:not([disabled]):hover, .md-button.md-THEME_NAME-theme.md-fab:not([disabled]):hover {      background-color: '{{accent-color}}'; }    a.md-button.md-THEME_NAME-theme.md-fab:not([disabled]).md-focused, .md-button.md-THEME_NAME-theme.md-fab:not([disabled]).md-focused {      background-color: '{{accent-A700}}'; }  a.md-button.md-THEME_NAME-theme.md-raised, .md-button.md-THEME_NAME-theme.md-raised {    color: '{{background-contrast}}';    background-color: '{{background-50}}'; }    a.md-button.md-THEME_NAME-theme.md-raised:not([disabled]) .md-icon, .md-button.md-THEME_NAME-theme.md-raised:not([disabled]) .md-icon {      color: '{{background-contrast}}'; }    a.md-button.md-THEME_NAME-theme.md-raised:not([disabled]):hover, .md-button.md-THEME_NAME-theme.md-raised:not([disabled]):hover {      background-color: '{{background-50}}'; }    a.md-button.md-THEME_NAME-theme.md-raised:not([disabled]).md-focused, .md-button.md-THEME_NAME-theme.md-raised:not([disabled]).md-focused {      background-color: '{{background-200}}'; }  a.md-button.md-THEME_NAME-theme.md-warn, .md-button.md-THEME_NAME-theme.md-warn {    color: '{{warn-color}}'; }    a.md-button.md-THEME_NAME-theme.md-warn.md-raised, a.md-button.md-THEME_NAME-theme.md-warn.md-fab, .md-button.md-THEME_NAME-theme.md-warn.md-raised, .md-button.md-THEME_NAME-theme.md-warn.md-fab {      color: '{{warn-contrast}}';      background-color: '{{warn-color}}'; }      a.md-button.md-THEME_NAME-theme.md-warn.md-raised:not([disabled]) md-icon, a.md-button.md-THEME_NAME-theme.md-warn.md-fab:not([disabled]) md-icon, .md-button.md-THEME_NAME-theme.md-warn.md-raised:not([disabled]) md-icon, .md-button.md-THEME_NAME-theme.md-warn.md-fab:not([disabled]) md-icon {        color: '{{warn-contrast}}'; }      a.md-button.md-THEME_NAME-theme.md-warn.md-raised:not([disabled]):hover, a.md-button.md-THEME_NAME-theme.md-warn.md-fab:not([disabled]):hover, .md-button.md-THEME_NAME-theme.md-warn.md-raised:not([disabled]):hover, .md-button.md-THEME_NAME-theme.md-warn.md-fab:not([disabled]):hover {        background-color: '{{warn-color}}'; }      a.md-button.md-THEME_NAME-theme.md-warn.md-raised:not([disabled]).md-focused, a.md-button.md-THEME_NAME-theme.md-warn.md-fab:not([disabled]).md-focused, .md-button.md-THEME_NAME-theme.md-warn.md-raised:not([disabled]).md-focused, .md-button.md-THEME_NAME-theme.md-warn.md-fab:not([disabled]).md-focused {        background-color: '{{warn-700}}'; }    a.md-button.md-THEME_NAME-theme.md-warn:not([disabled]) md-icon, .md-button.md-THEME_NAME-theme.md-warn:not([disabled]) md-icon {      color: '{{warn-color}}'; }  a.md-button.md-THEME_NAME-theme.md-accent, .md-button.md-THEME_NAME-theme.md-accent {    color: '{{accent-color}}'; }    a.md-button.md-THEME_NAME-theme.md-accent.md-raised, a.md-button.md-THEME_NAME-theme.md-accent.md-fab, .md-button.md-THEME_NAME-theme.md-accent.md-raised, .md-button.md-THEME_NAME-theme.md-accent.md-fab {      color: '{{accent-contrast}}';      background-color: '{{accent-color}}'; }      a.md-button.md-THEME_NAME-theme.md-accent.md-raised:not([disabled]) md-icon, a.md-button.md-THEME_NAME-theme.md-accent.md-fab:not([disabled]) md-icon, .md-button.md-THEME_NAME-theme.md-accent.md-raised:not([disabled]) md-icon, .md-button.md-THEME_NAME-theme.md-accent.md-fab:not([disabled]) md-icon {        color: '{{accent-contrast}}'; }      a.md-button.md-THEME_NAME-theme.md-accent.md-raised:not([disabled]):hover, a.md-button.md-THEME_NAME-theme.md-accent.md-fab:not([disabled]):hover, .md-button.md-THEME_NAME-theme.md-accent.md-raised:not([disabled]):hover, .md-button.md-THEME_NAME-theme.md-accent.md-fab:not([disabled]):hover {        background-color: '{{accent-color}}'; }      a.md-button.md-THEME_NAME-theme.md-accent.md-raised:not([disabled]).md-focused, a.md-button.md-THEME_NAME-theme.md-accent.md-fab:not([disabled]).md-focused, .md-button.md-THEME_NAME-theme.md-accent.md-raised:not([disabled]).md-focused, .md-button.md-THEME_NAME-theme.md-accent.md-fab:not([disabled]).md-focused {        background-color: '{{accent-700}}'; }    a.md-button.md-THEME_NAME-theme.md-accent:not([disabled]) md-icon, .md-button.md-THEME_NAME-theme.md-accent:not([disabled]) md-icon {      color: '{{accent-color}}'; }  a.md-button.md-THEME_NAME-theme[disabled], a.md-button.md-THEME_NAME-theme.md-raised[disabled], a.md-button.md-THEME_NAME-theme.md-fab[disabled], a.md-button.md-THEME_NAME-theme.md-accent[disabled], a.md-button.md-THEME_NAME-theme.md-warn[disabled], .md-button.md-THEME_NAME-theme[disabled], .md-button.md-THEME_NAME-theme.md-raised[disabled], .md-button.md-THEME_NAME-theme.md-fab[disabled], .md-button.md-THEME_NAME-theme.md-accent[disabled], .md-button.md-THEME_NAME-theme.md-warn[disabled] {    color: '{{foreground-3}}';    cursor: not-allowed; }    a.md-button.md-THEME_NAME-theme[disabled] md-icon, a.md-button.md-THEME_NAME-theme.md-raised[disabled] md-icon, a.md-button.md-THEME_NAME-theme.md-fab[disabled] md-icon, a.md-button.md-THEME_NAME-theme.md-accent[disabled] md-icon, a.md-button.md-THEME_NAME-theme.md-warn[disabled] md-icon, .md-button.md-THEME_NAME-theme[disabled] md-icon, .md-button.md-THEME_NAME-theme.md-raised[disabled] md-icon, .md-button.md-THEME_NAME-theme.md-fab[disabled] md-icon, .md-button.md-THEME_NAME-theme.md-accent[disabled] md-icon, .md-button.md-THEME_NAME-theme.md-warn[disabled] md-icon {      color: '{{foreground-3}}'; }  a.md-button.md-THEME_NAME-theme.md-raised[disabled], a.md-button.md-THEME_NAME-theme.md-fab[disabled], .md-button.md-THEME_NAME-theme.md-raised[disabled], .md-button.md-THEME_NAME-theme.md-fab[disabled] {    background-color: '{{foreground-4}}'; }  a.md-button.md-THEME_NAME-theme[disabled], .md-button.md-THEME_NAME-theme[disabled] {    background-color: transparent; }md-card.md-THEME_NAME-theme {  background-color: '{{background-color}}';  border-radius: 2px; }  md-card.md-THEME_NAME-theme .md-card-image {    border-radius: 2px 2px 0 0; }md-checkbox.md-THEME_NAME-theme .md-ripple {  color: '{{accent-600}}'; }md-checkbox.md-THEME_NAME-theme.md-checked .md-ripple {  color: '{{background-600}}'; }md-checkbox.md-THEME_NAME-theme.md-checked.md-focused .md-container:before {  background-color: '{{accent-color-0.26}}'; }md-checkbox.md-THEME_NAME-theme .md-icon {  border-color: '{{foreground-2}}'; }md-checkbox.md-THEME_NAME-theme.md-checked .md-icon {  background-color: '{{accent-color-0.87}}'; }md-checkbox.md-THEME_NAME-theme.md-checked .md-icon:after {  border-color: '{{background-200}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary .md-ripple {  color: '{{primary-600}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-ripple {  color: '{{background-600}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary .md-icon {  border-color: '{{foreground-2}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-icon {  background-color: '{{primary-color-0.87}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked.md-focused .md-container:before {  background-color: '{{primary-color-0.26}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-icon:after {  border-color: '{{background-200}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn .md-ripple {  color: '{{warn-600}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn .md-icon {  border-color: '{{foreground-2}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-icon {  background-color: '{{warn-color-0.87}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked.md-focused:not([disabled]) .md-container:before {  background-color: '{{warn-color-0.26}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-icon:after {  border-color: '{{background-200}}'; }md-checkbox.md-THEME_NAME-theme[disabled] .md-icon {  border-color: '{{foreground-3}}'; }md-checkbox.md-THEME_NAME-theme[disabled].md-checked .md-icon {  background-color: '{{foreground-3}}'; }md-checkbox.md-THEME_NAME-theme[disabled] .md-label {  color: '{{foreground-3}}'; }md-chips.md-THEME_NAME-theme .md-chips {  box-shadow: 0 1px '{{background-300}}'; }  md-chips.md-THEME_NAME-theme .md-chips.md-focused {    box-shadow: 0 2px '{{primary-color}}'; }md-chips.md-THEME_NAME-theme .md-chip {  background: '{{background-300}}';  color: '{{background-800}}'; }  md-chips.md-THEME_NAME-theme .md-chip.md-focused {    background: '{{primary-color}}';    color: '{{primary-contrast}}'; }    md-chips.md-THEME_NAME-theme .md-chip.md-focused md-icon {      color: '{{primary-contrast}}'; }md-chips.md-THEME_NAME-theme md-chip-remove .md-button md-icon path {  fill: '{{background-500}}'; }.md-contact-suggestion span.md-contact-email {  color: '{{background-400}}'; }md-content.md-THEME_NAME-theme {  color: '{{foreground-1}}';  background-color: '{{background-color}}'; }md-dialog.md-THEME_NAME-theme {  border-radius: 4px;  background-color: '{{background-color}}'; }  md-dialog.md-THEME_NAME-theme.md-content-overflow .md-actions {    border-top-color: '{{foreground-4}}'; }md-divider.md-THEME_NAME-theme {  border-top-color: '{{foreground-4}}'; }md-icon.md-THEME_NAME-theme {  color: '{{foreground-2}}'; }  md-icon.md-THEME_NAME-theme.md-primary {    color: '{{primary-color}}'; }  md-icon.md-THEME_NAME-theme.md-accent {    color: '{{accent-color}}'; }  md-icon.md-THEME_NAME-theme.md-warn {    color: '{{warn-color}}'; }md-input-container.md-THEME_NAME-theme .md-input {  color: '{{foreground-1}}';  border-color: '{{foreground-4}}';  text-shadow: '{{foreground-shadow}}'; }  md-input-container.md-THEME_NAME-theme .md-input::-webkit-input-placeholder, md-input-container.md-THEME_NAME-theme .md-input::-moz-placeholder, md-input-container.md-THEME_NAME-theme .md-input:-moz-placeholder, md-input-container.md-THEME_NAME-theme .md-input:-ms-input-placeholder {    color: '{{foreground-3}}'; }md-input-container.md-THEME_NAME-theme > md-icon {  color: '{{foreground-1}}'; }md-input-container.md-THEME_NAME-theme label, md-input-container.md-THEME_NAME-theme .md-placeholder {  text-shadow: '{{foreground-shadow}}';  color: '{{foreground-3}}'; }md-input-container.md-THEME_NAME-theme ng-messages, md-input-container.md-THEME_NAME-theme [ng-message], md-input-container.md-THEME_NAME-theme [data-ng-message], md-input-container.md-THEME_NAME-theme [x-ng-message] {  color: '{{warn-500}}'; }md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-has-value label {  color: '{{foreground-2}}'; }md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused .md-input {  border-color: '{{primary-500}}'; }md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused label {  color: '{{primary-500}}'; }md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused md-icon {  color: '{{primary-500}}'; }md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-accent .md-input {  border-color: '{{accent-500}}'; }md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-accent label {  color: '{{accent-500}}'; }md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-warn .md-input {  border-color: '{{warn-500}}'; }md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-warn label {  color: '{{warn-500}}'; }md-input-container.md-THEME_NAME-theme.md-input-invalid .md-input {  border-color: '{{warn-500}}'; }md-input-container.md-THEME_NAME-theme.md-input-invalid.md-input-focused label {  color: '{{warn-500}}'; }md-input-container.md-THEME_NAME-theme.md-input-invalid ng-message, md-input-container.md-THEME_NAME-theme.md-input-invalid data-ng-message, md-input-container.md-THEME_NAME-theme.md-input-invalid x-ng-message, md-input-container.md-THEME_NAME-theme.md-input-invalid [ng-message], md-input-container.md-THEME_NAME-theme.md-input-invalid [data-ng-message], md-input-container.md-THEME_NAME-theme.md-input-invalid [x-ng-message], md-input-container.md-THEME_NAME-theme.md-input-invalid .md-char-counter {  color: '{{warn-500}}'; }md-input-container.md-THEME_NAME-theme .md-input[disabled], [disabled] md-input-container.md-THEME_NAME-theme .md-input {  border-bottom-color: transparent;  color: '{{foreground-3}}';  background-image: linear-gradient(to right, '{{foreground-3}}' 0%, '{{foreground-3}}' 33%, transparent 0%);  background-image: -ms-linear-gradient(left, transparent 0%, '{{foreground-3}}' 100%); }md-list.md-THEME_NAME-theme md-list-item.md-2-line .md-list-item-text h3, md-list.md-THEME_NAME-theme md-list-item.md-2-line .md-list-item-text h4, md-list.md-THEME_NAME-theme md-list-item.md-3-line .md-list-item-text h3, md-list.md-THEME_NAME-theme md-list-item.md-3-line .md-list-item-text h4 {  color: '{{foreground-1}}'; }md-list.md-THEME_NAME-theme md-list-item.md-2-line .md-list-item-text p, md-list.md-THEME_NAME-theme md-list-item.md-3-line .md-list-item-text p {  color: '{{foreground-2}}'; }md-list.md-THEME_NAME-theme .md-proxy-focus.md-focused div.md-no-style {  background-color: '{{background-100}}'; }md-list.md-THEME_NAME-theme md-list-item > md-icon {  color: '{{foreground-2}}'; }  md-list.md-THEME_NAME-theme md-list-item > md-icon.md-highlight {    color: '{{primary-color}}'; }    md-list.md-THEME_NAME-theme md-list-item > md-icon.md-highlight.md-accent {      color: '{{accent-color}}'; }md-list.md-THEME_NAME-theme md-list-item button {  background-color: '{{background-color}}'; }  md-list.md-THEME_NAME-theme md-list-item button.md-button:not([disabled]):hover {    background-color: '{{background-color}}'; }md-menu-content.md-THEME_NAME-theme {  background-color: '{{background-color}}'; }  md-menu-content.md-THEME_NAME-theme md-menu-divider {    background-color: '{{foreground-4}}'; }md-progress-circular.md-THEME_NAME-theme {  background-color: transparent; }  md-progress-circular.md-THEME_NAME-theme .md-inner .md-gap {    border-top-color: '{{primary-color}}';    border-bottom-color: '{{primary-color}}'; }  md-progress-circular.md-THEME_NAME-theme .md-inner .md-left .md-half-circle, md-progress-circular.md-THEME_NAME-theme .md-inner .md-right .md-half-circle {    border-top-color: '{{primary-color}}'; }  md-progress-circular.md-THEME_NAME-theme .md-inner .md-right .md-half-circle {    border-right-color: '{{primary-color}}'; }  md-progress-circular.md-THEME_NAME-theme .md-inner .md-left .md-half-circle {    border-left-color: '{{primary-color}}'; }  md-progress-circular.md-THEME_NAME-theme.md-warn .md-inner .md-gap {    border-top-color: '{{warn-color}}';    border-bottom-color: '{{warn-color}}'; }  md-progress-circular.md-THEME_NAME-theme.md-warn .md-inner .md-left .md-half-circle, md-progress-circular.md-THEME_NAME-theme.md-warn .md-inner .md-right .md-half-circle {    border-top-color: '{{warn-color}}'; }  md-progress-circular.md-THEME_NAME-theme.md-warn .md-inner .md-right .md-half-circle {    border-right-color: '{{warn-color}}'; }  md-progress-circular.md-THEME_NAME-theme.md-warn .md-inner .md-left .md-half-circle {    border-left-color: '{{warn-color}}'; }  md-progress-circular.md-THEME_NAME-theme.md-accent .md-inner .md-gap {    border-top-color: '{{accent-color}}';    border-bottom-color: '{{accent-color}}'; }  md-progress-circular.md-THEME_NAME-theme.md-accent .md-inner .md-left .md-half-circle, md-progress-circular.md-THEME_NAME-theme.md-accent .md-inner .md-right .md-half-circle {    border-top-color: '{{accent-color}}'; }  md-progress-circular.md-THEME_NAME-theme.md-accent .md-inner .md-right .md-half-circle {    border-right-color: '{{accent-color}}'; }  md-progress-circular.md-THEME_NAME-theme.md-accent .md-inner .md-left .md-half-circle {    border-left-color: '{{accent-color}}'; }md-progress-linear.md-THEME_NAME-theme .md-container {  background-color: '{{primary-100}}'; }md-progress-linear.md-THEME_NAME-theme .md-bar {  background-color: '{{primary-color}}'; }md-progress-linear.md-THEME_NAME-theme.md-warn .md-container {  background-color: '{{warn-100}}'; }md-progress-linear.md-THEME_NAME-theme.md-warn .md-bar {  background-color: '{{warn-color}}'; }md-progress-linear.md-THEME_NAME-theme.md-accent .md-container {  background-color: '{{accent-100}}'; }md-progress-linear.md-THEME_NAME-theme.md-accent .md-bar {  background-color: '{{accent-color}}'; }md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-warn .md-bar1 {  background-color: '{{warn-100}}'; }md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-warn .md-dashed:before {  background: radial-gradient('{{warn-100}}' 0%, '{{warn-100}}' 16%, transparent 42%); }md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-accent .md-bar1 {  background-color: '{{accent-100}}'; }md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-accent .md-dashed:before {  background: radial-gradient('{{accent-100}}' 0%, '{{accent-100}}' 16%, transparent 42%); }md-radio-button.md-THEME_NAME-theme .md-off {  border-color: '{{foreground-2}}'; }md-radio-button.md-THEME_NAME-theme .md-on {  background-color: '{{accent-color-0.87}}'; }md-radio-button.md-THEME_NAME-theme.md-checked .md-off {  border-color: '{{accent-color-0.87}}'; }md-radio-button.md-THEME_NAME-theme.md-checked .md-ink-ripple {  color: '{{accent-color-0.87}}'; }md-radio-button.md-THEME_NAME-theme .md-container .md-ripple {  color: '{{accent-600}}'; }md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary .md-on, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary .md-on, md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary .md-on, md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary .md-on {  background-color: '{{primary-color-0.87}}'; }md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary .md-checked .md-off, md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary.md-checked .md-off, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary .md-checked .md-off, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-off, md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary .md-checked .md-off, md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary.md-checked .md-off, md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary .md-checked .md-off, md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-off {  border-color: '{{primary-color-0.87}}'; }md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary .md-checked .md-ink-ripple, md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary.md-checked .md-ink-ripple, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary .md-checked .md-ink-ripple, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-ink-ripple, md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary .md-checked .md-ink-ripple, md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary.md-checked .md-ink-ripple, md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary .md-checked .md-ink-ripple, md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-ink-ripple {  color: '{{primary-color-0.87}}'; }md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary .md-container .md-ripple, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary .md-container .md-ripple, md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary .md-container .md-ripple, md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary .md-container .md-ripple {  color: '{{primary-600}}'; }md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn .md-on, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn .md-on, md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn .md-on, md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn .md-on {  background-color: '{{warn-color-0.87}}'; }md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn .md-checked .md-off, md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn.md-checked .md-off, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn .md-checked .md-off, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-off, md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn .md-checked .md-off, md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn.md-checked .md-off, md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn .md-checked .md-off, md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-off {  border-color: '{{warn-color-0.87}}'; }md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn .md-checked .md-ink-ripple, md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn.md-checked .md-ink-ripple, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn .md-checked .md-ink-ripple, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-ink-ripple, md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn .md-checked .md-ink-ripple, md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn.md-checked .md-ink-ripple, md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn .md-checked .md-ink-ripple, md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-ink-ripple {  color: '{{warn-color-0.87}}'; }md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn .md-container .md-ripple, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn .md-container .md-ripple, md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn .md-container .md-ripple, md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn .md-container .md-ripple {  color: '{{warn-600}}'; }md-radio-group.md-THEME_NAME-theme[disabled], md-radio-button.md-THEME_NAME-theme[disabled] {  color: '{{foreground-3}}'; }  md-radio-group.md-THEME_NAME-theme[disabled] .md-container .md-off, md-radio-button.md-THEME_NAME-theme[disabled] .md-container .md-off {    border-color: '{{foreground-3}}'; }  md-radio-group.md-THEME_NAME-theme[disabled] .md-container .md-on, md-radio-button.md-THEME_NAME-theme[disabled] .md-container .md-on {    border-color: '{{foreground-3}}'; }md-radio-group.md-THEME_NAME-theme.md-focused:not(:empty) .md-checked .md-container:before {  background-color: '{{accent-color-0.26}}'; }md-radio-group.md-THEME_NAME-theme.md-focused:not(:empty) .md-checked:not([disabled]).md-primary .md-container:before {  background-color: '{{primary-color-0.26}}'; }md-radio-group.md-THEME_NAME-theme.md-focused:not(:empty) .md-checked.md-primary .md-container:before {  background-color: '{{warn-color-0.26}}'; }md-select.md-THEME_NAME-theme .md-select-value {  border-bottom-color: '{{foreground-4}}'; }  md-select.md-THEME_NAME-theme .md-select-value.md-select-placeholder {    color: '{{foreground-3}}'; }md-select.md-THEME_NAME-theme.ng-invalid.ng-dirty .md-select-label {  color: '{{warn-500}}' !important;  border-bottom-color: '{{warn-500}}' !important; }md-select.md-THEME_NAME-theme:not([disabled]):focus .md-select-value {  border-bottom-color: '{{primary-color}}';  color: '{{ foreground-1 }}'; }  md-select.md-THEME_NAME-theme:not([disabled]):focus .md-select-value.md-select-placeholder {    color: '{{ foreground-1 }}'; }md-select.md-THEME_NAME-theme:not([disabled]):focus.md-accent .md-select-value {  border-bottom-color: '{{accent-color}}'; }md-select.md-THEME_NAME-theme:not([disabled]):focus.md-warn .md-select-value {  border-bottom-color: '{{warn-color}}'; }md-select.md-THEME_NAME-theme[disabled] .md-select-value {  color: '{{foreground-3}}'; }  md-select.md-THEME_NAME-theme[disabled] .md-select-value.md-select-placeholder {    color: '{{foreground-3}}'; }md-select-menu.md-THEME_NAME-theme md-option[disabled] {  color: '{{foreground-3}}'; }md-select-menu.md-THEME_NAME-theme md-optgroup {  color: '{{foreground-2}}'; }  md-select-menu.md-THEME_NAME-theme md-optgroup md-option {    color: '{{foreground-1}}'; }md-select-menu.md-THEME_NAME-theme md-option[selected] {  color: '{{primary-500}}'; }  md-select-menu.md-THEME_NAME-theme md-option[selected]:focus {    color: '{{primary-600}}'; }  md-select-menu.md-THEME_NAME-theme md-option[selected].md-accent {    color: '{{accent-500}}'; }    md-select-menu.md-THEME_NAME-theme md-option[selected].md-accent:focus {      color: '{{accent-600}}'; }md-select-menu.md-THEME_NAME-theme md-option:focus:not([selected]) {  background: '{{background-200}}'; }md-sidenav.md-THEME_NAME-theme {  background-color: '{{background-color}}'; }md-slider.md-THEME_NAME-theme .md-track {  background-color: '{{foreground-3}}'; }md-slider.md-THEME_NAME-theme .md-track-ticks {  background-color: '{{foreground-4}}'; }md-slider.md-THEME_NAME-theme .md-focus-thumb {  background-color: '{{foreground-2}}'; }md-slider.md-THEME_NAME-theme .md-focus-ring {  border-color: '{{foreground-4}}'; }md-slider.md-THEME_NAME-theme .md-disabled-thumb {  border-color: '{{background-color}}'; }md-slider.md-THEME_NAME-theme.md-min .md-thumb:after {  background-color: '{{background-color}}'; }md-slider.md-THEME_NAME-theme .md-track.md-track-fill {  background-color: '{{accent-color}}'; }md-slider.md-THEME_NAME-theme .md-thumb:after {  border-color: '{{accent-color}}';  background-color: '{{accent-color}}'; }md-slider.md-THEME_NAME-theme .md-sign {  background-color: '{{accent-color}}'; }  md-slider.md-THEME_NAME-theme .md-sign:after {    border-top-color: '{{accent-color}}'; }md-slider.md-THEME_NAME-theme .md-thumb-text {  color: '{{accent-contrast}}'; }md-slider.md-THEME_NAME-theme.md-warn .md-track.md-track-fill {  background-color: '{{warn-color}}'; }md-slider.md-THEME_NAME-theme.md-warn .md-thumb:after {  border-color: '{{warn-color}}';  background-color: '{{warn-color}}'; }md-slider.md-THEME_NAME-theme.md-warn .md-sign {  background-color: '{{warn-color}}'; }  md-slider.md-THEME_NAME-theme.md-warn .md-sign:after {    border-top-color: '{{warn-color}}'; }md-slider.md-THEME_NAME-theme.md-warn .md-thumb-text {  color: '{{warn-contrast}}'; }md-slider.md-THEME_NAME-theme.md-primary .md-track.md-track-fill {  background-color: '{{primary-color}}'; }md-slider.md-THEME_NAME-theme.md-primary .md-thumb:after {  border-color: '{{primary-color}}';  background-color: '{{primary-color}}'; }md-slider.md-THEME_NAME-theme.md-primary .md-sign {  background-color: '{{primary-color}}'; }  md-slider.md-THEME_NAME-theme.md-primary .md-sign:after {    border-top-color: '{{primary-color}}'; }md-slider.md-THEME_NAME-theme.md-primary .md-thumb-text {  color: '{{primary-contrast}}'; }md-slider.md-THEME_NAME-theme[disabled] .md-thumb:after {  border-color: '{{foreground-3}}'; }md-slider.md-THEME_NAME-theme[disabled]:not(.md-min) .md-thumb:after {  background-color: '{{foreground-3}}'; }.md-subheader.md-THEME_NAME-theme {  color: '{{ foreground-2-0.23 }}';  background-color: '{{background-color}}'; }  .md-subheader.md-THEME_NAME-theme.md-primary {    color: '{{primary-color}}'; }  .md-subheader.md-THEME_NAME-theme.md-accent {    color: '{{accent-color}}'; }  .md-subheader.md-THEME_NAME-theme.md-warn {    color: '{{warn-color}}'; }md-switch.md-THEME_NAME-theme .md-thumb {  background-color: '{{background-50}}'; }md-switch.md-THEME_NAME-theme .md-bar {  background-color: '{{background-500}}'; }md-switch.md-THEME_NAME-theme.md-checked .md-thumb {  background-color: '{{accent-color}}'; }md-switch.md-THEME_NAME-theme.md-checked .md-bar {  background-color: '{{accent-color-0.5}}'; }md-switch.md-THEME_NAME-theme.md-checked.md-focused .md-thumb:before {  background-color: '{{accent-color-0.26}}'; }md-switch.md-THEME_NAME-theme.md-checked.md-primary .md-thumb {  background-color: '{{primary-color}}'; }md-switch.md-THEME_NAME-theme.md-checked.md-primary .md-bar {  background-color: '{{primary-color-0.5}}'; }md-switch.md-THEME_NAME-theme.md-checked.md-primary.md-focused .md-thumb:before {  background-color: '{{primary-color-0.26}}'; }md-switch.md-THEME_NAME-theme.md-checked.md-warn .md-thumb {  background-color: '{{warn-color}}'; }md-switch.md-THEME_NAME-theme.md-checked.md-warn .md-bar {  background-color: '{{warn-color-0.5}}'; }md-switch.md-THEME_NAME-theme.md-checked.md-warn.md-focused .md-thumb:before {  background-color: '{{warn-color-0.26}}'; }md-switch.md-THEME_NAME-theme[disabled] .md-thumb {  background-color: '{{background-400}}'; }md-switch.md-THEME_NAME-theme[disabled] .md-bar {  background-color: '{{foreground-4}}'; }md-tabs.md-THEME_NAME-theme md-tabs-wrapper {  background-color: transparent;  border-color: '{{foreground-4}}'; }md-tabs.md-THEME_NAME-theme .md-paginator md-icon {  color: '{{primary-color}}'; }md-tabs.md-THEME_NAME-theme md-ink-bar {  color: '{{accent-color}}';  background: '{{accent-color}}'; }md-tabs.md-THEME_NAME-theme .md-tab {  color: '{{foreground-2}}'; }  md-tabs.md-THEME_NAME-theme .md-tab[disabled] {    color: '{{foreground-3}}'; }  md-tabs.md-THEME_NAME-theme .md-tab.md-active, md-tabs.md-THEME_NAME-theme .md-tab.md-focused {    color: '{{primary-color}}'; }  md-tabs.md-THEME_NAME-theme .md-tab.md-focused {    background: '{{primary-color-0.1}}'; }  md-tabs.md-THEME_NAME-theme .md-tab .md-ripple-container {    color: '{{accent-100}}'; }md-tabs.md-THEME_NAME-theme.md-accent > md-tabs-wrapper {  background-color: '{{accent-color}}'; }  md-tabs.md-THEME_NAME-theme.md-accent > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]) {    color: '{{accent-100}}'; }    md-tabs.md-THEME_NAME-theme.md-accent > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-active, md-tabs.md-THEME_NAME-theme.md-accent > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-focused {      color: '{{accent-contrast}}'; }    md-tabs.md-THEME_NAME-theme.md-accent > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-focused {      background: '{{accent-contrast-0.1}}'; }  md-tabs.md-THEME_NAME-theme.md-accent > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-ink-bar {    color: '{{primary-600-1}}';    background: '{{primary-600-1}}'; }md-tabs.md-THEME_NAME-theme.md-primary > md-tabs-wrapper {  background-color: '{{primary-color}}'; }  md-tabs.md-THEME_NAME-theme.md-primary > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]) {    color: '{{primary-100}}'; }    md-tabs.md-THEME_NAME-theme.md-primary > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-active, md-tabs.md-THEME_NAME-theme.md-primary > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-focused {      color: '{{primary-contrast}}'; }    md-tabs.md-THEME_NAME-theme.md-primary > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-focused {      background: '{{primary-contrast-0.1}}'; }md-tabs.md-THEME_NAME-theme.md-warn > md-tabs-wrapper {  background-color: '{{warn-color}}'; }  md-tabs.md-THEME_NAME-theme.md-warn > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]) {    color: '{{warn-100}}'; }    md-tabs.md-THEME_NAME-theme.md-warn > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-active, md-tabs.md-THEME_NAME-theme.md-warn > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-focused {      color: '{{warn-contrast}}'; }    md-tabs.md-THEME_NAME-theme.md-warn > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-focused {      background: '{{warn-contrast-0.1}}'; }md-toolbar > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper {  background-color: '{{primary-color}}'; }  md-toolbar > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]) {    color: '{{primary-100}}'; }    md-toolbar > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-active, md-toolbar > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-focused {      color: '{{primary-contrast}}'; }    md-toolbar > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-focused {      background: '{{primary-contrast-0.1}}'; }md-toolbar.md-accent > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper {  background-color: '{{accent-color}}'; }  md-toolbar.md-accent > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]) {    color: '{{accent-100}}'; }    md-toolbar.md-accent > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-active, md-toolbar.md-accent > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-focused {      color: '{{accent-contrast}}'; }    md-toolbar.md-accent > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-focused {      background: '{{accent-contrast-0.1}}'; }  md-toolbar.md-accent > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-ink-bar {    color: '{{primary-600-1}}';    background: '{{primary-600-1}}'; }md-toolbar.md-warn > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper {  background-color: '{{warn-color}}'; }  md-toolbar.md-warn > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]) {    color: '{{warn-100}}'; }    md-toolbar.md-warn > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-active, md-toolbar.md-warn > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-focused {      color: '{{warn-contrast}}'; }    md-toolbar.md-warn > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-focused {      background: '{{warn-contrast-0.1}}'; }md-toast.md-THEME_NAME-theme {  background-color: #323232;  color: '{{background-50}}'; }  md-toast.md-THEME_NAME-theme .md-button {    color: '{{background-50}}'; }    md-toast.md-THEME_NAME-theme .md-button.md-highlight {      color: '{{primary-A200}}'; }      md-toast.md-THEME_NAME-theme .md-button.md-highlight.md-accent {        color: '{{accent-A200}}'; }      md-toast.md-THEME_NAME-theme .md-button.md-highlight.md-warn {        color: '{{warn-A200}}'; }md-toolbar.md-THEME_NAME-theme {  background-color: '{{primary-color}}';  color: '{{primary-contrast}}'; }  md-toolbar.md-THEME_NAME-theme md-icon {    color: '{{primary-contrast}}'; }  md-toolbar.md-THEME_NAME-theme .md-button {    color: '{{primary-contrast}}'; }  md-toolbar.md-THEME_NAME-theme.md-accent {    background-color: '{{accent-color}}';    color: '{{accent-contrast}}'; }  md-toolbar.md-THEME_NAME-theme.md-warn {    background-color: '{{warn-color}}';    color: '{{warn-contrast}}'; }md-tooltip.md-THEME_NAME-theme {  color: '{{background-A100}}'; }  md-tooltip.md-THEME_NAME-theme .md-background {    background-color: '{{foreground-2}}'; }");
}()}(window,window.angular),function(window,angular,undefined){"use strict";function ngMessageDirectiveFactory(restrict){function contains(collection,key){if(collection)return isArray(collection)?collection.indexOf(key)>=0:collection.hasOwnProperty(key)}return["$animate",function($animate){return{restrict:"AE",transclude:"element",terminal:!0,require:"^^ngMessages",link:function(scope,element,attrs,ngMessagesCtrl,$transclude){var records,commentNode=element[0],staticExp=attrs.ngMessage||attrs.when,dynamicExp=attrs.ngMessageExp||attrs.whenExp,assignRecords=function(items){records=items?isArray(items)?items:items.split(/[\s,]+/):null,ngMessagesCtrl.reRender()};dynamicExp?(assignRecords(scope.$eval(dynamicExp)),scope.$watchCollection(dynamicExp,assignRecords)):assignRecords(staticExp);var currentElement,messageCtrl;ngMessagesCtrl.register(commentNode,messageCtrl={test:function(name){return contains(records,name)},attach:function(){currentElement||$transclude(scope,function(elm){$animate.enter(elm,null,element),currentElement=elm,currentElement.on("$destroy",function(){currentElement&&(ngMessagesCtrl.deregister(commentNode),messageCtrl.detach())})})},detach:function(){if(currentElement){var elm=currentElement;currentElement=null,$animate.leave(elm)}}})}}}]}var isArray=angular.isArray,forEach=angular.forEach,isString=angular.isString,jqLite=angular.element;angular.module("ngMessages",[]).directive("ngMessages",["$animate",function($animate){function isAttrTruthy(scope,attr){return isString(attr)&&0===attr.length||truthy(scope.$eval(attr))}function truthy(val){return isString(val)?val.length:!!val}var ACTIVE_CLASS="ng-active",INACTIVE_CLASS="ng-inactive";return{require:"ngMessages",restrict:"AE",controller:["$element","$scope","$attrs",function($element,$scope,$attrs){function findPreviousMessage(parent,comment){for(var prevNode=comment,parentLookup=[];prevNode&&prevNode!==parent;){var prevKey=prevNode.$$ngMessageNode;if(prevKey&&prevKey.length)return messages[prevKey];prevNode.childNodes.length&&parentLookup.indexOf(prevNode)==-1?(parentLookup.push(prevNode),prevNode=prevNode.childNodes[prevNode.childNodes.length-1]):prevNode=prevNode.previousSibling||prevNode.parentNode}}function insertMessageNode(parent,comment,key){var messageNode=messages[key];if(ctrl.head){var match=findPreviousMessage(parent,comment);match?(messageNode.next=match.next,match.next=messageNode):(messageNode.next=ctrl.head,ctrl.head=messageNode)}else ctrl.head=messageNode}function removeMessageNode(parent,comment,key){var messageNode=messages[key],match=findPreviousMessage(parent,comment);match?match.next=messageNode.next:ctrl.head=messageNode.next}var renderLater,cachedCollection,ctrl=this,latestKey=0,messages=this.messages={};this.render=function(collection){collection=collection||{},renderLater=!1,cachedCollection=collection;for(var multiple=isAttrTruthy($scope,$attrs.ngMessagesMultiple)||isAttrTruthy($scope,$attrs.multiple),unmatchedMessages=[],matchedKeys={},messageItem=ctrl.head,messageFound=!1,totalMessages=0;null!=messageItem;){totalMessages++;var messageCtrl=messageItem.message,messageUsed=!1;messageFound||forEach(collection,function(value,key){if(!messageUsed&&truthy(value)&&messageCtrl.test(key)){if(matchedKeys[key])return;matchedKeys[key]=!0,messageUsed=!0,messageCtrl.attach()}}),messageUsed?messageFound=!multiple:unmatchedMessages.push(messageCtrl),messageItem=messageItem.next}forEach(unmatchedMessages,function(messageCtrl){messageCtrl.detach()}),unmatchedMessages.length!==totalMessages?$animate.setClass($element,ACTIVE_CLASS,INACTIVE_CLASS):$animate.setClass($element,INACTIVE_CLASS,ACTIVE_CLASS)},$scope.$watchCollection($attrs.ngMessages||$attrs["for"],ctrl.render),this.reRender=function(){renderLater||(renderLater=!0,$scope.$evalAsync(function(){renderLater&&cachedCollection&&ctrl.render(cachedCollection)}))},this.register=function(comment,messageCtrl){var nextKey=latestKey.toString();messages[nextKey]={message:messageCtrl},insertMessageNode($element[0],comment,nextKey),comment.$$ngMessageNode=nextKey,latestKey++,ctrl.reRender()},this.deregister=function(comment){var key=comment.$$ngMessageNode;delete comment.$$ngMessageNode,removeMessageNode($element[0],comment,key),delete messages[key],ctrl.reRender()}}]}}]).directive("ngMessagesInclude",["$templateRequest","$document","$compile",function($templateRequest,$document,$compile){return{restrict:"AE",require:"^^ngMessages",link:function($scope,element,attrs){var src=attrs.ngMessagesInclude||attrs.src;$templateRequest(src).then(function(html){$compile(html)($scope,function(contents){element.after(contents);var anchor=jqLite($document[0].createComment(" ngMessagesInclude: "+src+" "));element.after(anchor),element.remove()})})}}}]).directive("ngMessage",ngMessageDirectiveFactory("AE")).directive("ngMessageExp",ngMessageDirectiveFactory("A"))}(window,window.angular),function(window,angular,undefined){"use strict";function $SanitizeProvider(){this.$get=["$$sanitizeUri",function($$sanitizeUri){return function(html){var buf=[];return htmlParser(html,htmlSanitizeWriter(buf,function(uri,isImage){return!/^unsafe/.test($$sanitizeUri(uri,isImage))})),buf.join("")}}]}function sanitizeText(chars){var buf=[],writer=htmlSanitizeWriter(buf,angular.noop);return writer.chars(chars),buf.join("")}function makeMap(str,lowercaseKeys){var i,obj={},items=str.split(",");for(i=0;i<items.length;i++)obj[lowercaseKeys?angular.lowercase(items[i]):items[i]]=!0;return obj}function htmlParser(html,handler){function parseStartTag(tag,tagName,rest,unary){if(tagName=angular.lowercase(tagName),blockElements[tagName])for(;stack.last()&&inlineElements[stack.last()];)parseEndTag("",stack.last());optionalEndTagElements[tagName]&&stack.last()==tagName&&parseEndTag("",tagName),unary=voidElements[tagName]||!!unary,unary||stack.push(tagName);var attrs={};rest.replace(ATTR_REGEXP,function(match,name,doubleQuotedValue,singleQuotedValue,unquotedValue){var value=doubleQuotedValue||singleQuotedValue||unquotedValue||"";attrs[name]=decodeEntities(value)}),handler.start&&handler.start(tagName,attrs,unary)}function parseEndTag(tag,tagName){var i,pos=0;if(tagName=angular.lowercase(tagName))for(pos=stack.length-1;pos>=0&&stack[pos]!=tagName;pos--);if(pos>=0){for(i=stack.length-1;i>=pos;i--)handler.end&&handler.end(stack[i]);stack.length=pos}}"string"!=typeof html&&(html=null===html||"undefined"==typeof html?"":""+html);var index,chars,match,text,stack=[],last=html;for(stack.last=function(){return stack[stack.length-1]};html;){if(text="",chars=!0,stack.last()&&specialElements[stack.last()]?(html=html.replace(new RegExp("([\\W\\w]*)<\\s*\\/\\s*"+stack.last()+"[^>]*>","i"),function(all,text){return text=text.replace(COMMENT_REGEXP,"$1").replace(CDATA_REGEXP,"$1"),handler.chars&&handler.chars(decodeEntities(text)),""}),parseEndTag("",stack.last())):(0===html.indexOf("<!--")?(index=html.indexOf("--",4),index>=0&&html.lastIndexOf("-->",index)===index&&(handler.comment&&handler.comment(html.substring(4,index)),html=html.substring(index+3),chars=!1)):DOCTYPE_REGEXP.test(html)?(match=html.match(DOCTYPE_REGEXP),match&&(html=html.replace(match[0],""),chars=!1)):BEGING_END_TAGE_REGEXP.test(html)?(match=html.match(END_TAG_REGEXP),match&&(html=html.substring(match[0].length),match[0].replace(END_TAG_REGEXP,parseEndTag),chars=!1)):BEGIN_TAG_REGEXP.test(html)&&(match=html.match(START_TAG_REGEXP),match?(match[4]&&(html=html.substring(match[0].length),match[0].replace(START_TAG_REGEXP,parseStartTag)),chars=!1):(text+="<",html=html.substring(1))),chars&&(index=html.indexOf("<"),text+=index<0?html:html.substring(0,index),html=index<0?"":html.substring(index),handler.chars&&handler.chars(decodeEntities(text)))),html==last)throw $sanitizeMinErr("badparse","The sanitizer was unable to parse the following block of html: {0}",html);last=html}parseEndTag()}function decodeEntities(value){return value?(hiddenPre.innerHTML=value.replace(/</g,"&lt;"),hiddenPre.textContent):""}function encodeEntities(value){return value.replace(/&/g,"&amp;").replace(SURROGATE_PAIR_REGEXP,function(value){var hi=value.charCodeAt(0),low=value.charCodeAt(1);return"&#"+(1024*(hi-55296)+(low-56320)+65536)+";"}).replace(NON_ALPHANUMERIC_REGEXP,function(value){return"&#"+value.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function htmlSanitizeWriter(buf,uriValidator){var ignore=!1,out=angular.bind(buf,buf.push);return{start:function(tag,attrs,unary){tag=angular.lowercase(tag),!ignore&&specialElements[tag]&&(ignore=tag),ignore||validElements[tag]!==!0||(out("<"),out(tag),angular.forEach(attrs,function(value,key){var lkey=angular.lowercase(key),isImage="img"===tag&&"src"===lkey||"background"===lkey;validAttrs[lkey]!==!0||uriAttrs[lkey]===!0&&!uriValidator(value,isImage)||(out(" "),out(key),out('="'),out(encodeEntities(value)),out('"'))}),out(unary?"/>":">"))},end:function(tag){tag=angular.lowercase(tag),ignore||validElements[tag]!==!0||(out("</"),out(tag),out(">")),tag==ignore&&(ignore=!1)},chars:function(chars){ignore||out(encodeEntities(chars))}}}var $sanitizeMinErr=angular.$$minErr("$sanitize"),START_TAG_REGEXP=/^<((?:[a-zA-Z])[\w:-]*)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*(>?)/,END_TAG_REGEXP=/^<\/\s*([\w:-]+)[^>]*>/,ATTR_REGEXP=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,BEGIN_TAG_REGEXP=/^</,BEGING_END_TAGE_REGEXP=/^<\//,COMMENT_REGEXP=/<!--(.*?)-->/g,DOCTYPE_REGEXP=/<!DOCTYPE([^>]*?)>/i,CDATA_REGEXP=/<!\[CDATA\[(.*?)]]>/g,SURROGATE_PAIR_REGEXP=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,NON_ALPHANUMERIC_REGEXP=/([^\#-~| |!])/g,voidElements=makeMap("area,br,col,hr,img,wbr"),optionalEndTagBlockElements=makeMap("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),optionalEndTagInlineElements=makeMap("rp,rt"),optionalEndTagElements=angular.extend({},optionalEndTagInlineElements,optionalEndTagBlockElements),blockElements=angular.extend({},optionalEndTagBlockElements,makeMap("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul")),inlineElements=angular.extend({},optionalEndTagInlineElements,makeMap("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),svgElements=makeMap("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan,use"),specialElements=makeMap("script,style"),validElements=angular.extend({},voidElements,blockElements,inlineElements,optionalEndTagElements,svgElements),uriAttrs=makeMap("background,cite,href,longdesc,src,usemap,xlink:href"),htmlAttrs=makeMap("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"),svgAttrs=makeMap("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",!0),validAttrs=angular.extend({},uriAttrs,svgAttrs,htmlAttrs),hiddenPre=document.createElement("pre");angular.module("ngSanitize",[]).provider("$sanitize",$SanitizeProvider),angular.module("ngSanitize").filter("linky",["$sanitize",function($sanitize){var LINKY_URL_REGEXP=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"]/i,MAILTO_REGEXP=/^mailto:/i;return function(text,target){function addText(text){text&&html.push(sanitizeText(text))}function addLink(url,text){html.push("<a "),angular.isDefined(target)&&html.push('target="',target,'" '),html.push('href="',url.replace(/"/g,"&quot;"),'">'),addText(text),html.push("</a>")}if(!text)return text;for(var match,url,i,raw=text,html=[];match=raw.match(LINKY_URL_REGEXP);)url=match[0],match[2]||match[4]||(url=(match[3]?"http://":"mailto:")+url),i=match.index,addText(raw.substr(0,i)),addLink(url,match[0].replace(MAILTO_REGEXP,"")),raw=raw.substring(i+match[0].length);return addText(raw),$sanitize(html.join(""))}}])}(window,window.angular),angular.module("djds4rce.angular-socialshare",[]).factory("$FB",["$window",function($window){return{init:function(fbId){if(!fbId)throw"FB App Id Cannot be blank";this.fbId=fbId,$window.fbAsyncInit=function(){FB.init({appId:fbId,channelUrl:"app/channel.html",status:!0,xfbml:!0})},function(d){var js,id="facebook-jssdk",ref=d.getElementsByTagName("script")[0];d.getElementById(id)||(js=d.createElement("script"),js.id=id,js.async=!0,js.src="//connect.facebook.net/en_US/all.js",ref.parentNode.insertBefore(js,ref))}(document)}}}]).directive("facebook",["$http",function($http){return{scope:{shares:"="},transclude:!0,template:'<div class="facebookButton"><div class="pluginButton"><div class="pluginButtonContainer"><div class="pluginButtonImage"><button type="button"><i class="pluginButtonIcon img sp_plugin-button-2x sx_plugin-button-2x_favblue"></i></button></div><span class="pluginButtonLabel">Share</span></div></div></div><div class="facebookCount"><div class="pluginCountButton pluginCountNum"><span ng-transclude></span></div><div class="pluginCountButtonNub"><s></s><i></i></div></div>',link:function(scope,element,attr){attr.$observe("url",function(){attr.shares&&attr.url&&$http.get("https://api.facebook.com/method/links.getStats?urls="+attr.url+"&format=json").success(function(res){var count=res[0]?res[0].total_count.toString():0,decimal="";count.length>6?("0"!=count.slice(-6,-5)&&(decimal="."+count.slice(-6,-5)),count=count.slice(0,-6),count=count+decimal+"M"):count.length>3&&("0"!=count.slice(-3,-2)&&(decimal="."+count.slice(-3,-2)),count=count.slice(0,-3),count=count+decimal+"k"),scope.shares=count}).error(function(){scope.shares=0}),element.unbind(),element.bind("click",function(e){FB.ui({method:"share",href:attr.url}),e.preventDefault()})})}}}]).directive("facebookFeedShare",["$http",function($http){return{scope:{shares:"="},transclude:!0,template:'<div class="facebookButton"><div class="pluginButton"><div class="pluginButtonContainer"><div class="pluginButtonImage"><button type="button"><i class="pluginButtonIcon img sp_plugin-button-2x sx_plugin-button-2x_favblue"></i></button></div><span class="pluginButtonLabel">Share</span></div></div></div><div class="facebookCount"><div class="pluginCountButton pluginCountNum"><span ng-transclude></span></div><div class="pluginCountButtonNub"><s></s><i></i></div></div>',link:function(scope,element,attr){attr.$observe("url",function(){attr.shares&&attr.url&&$http.get("https://api.facebook.com/method/links.getStats?urls="+attr.url+"&format=json").success(function(res){var count=res[0]?res[0].total_count.toString():0,decimal="";count.length>6?("0"!=count.slice(-6,-5)&&(decimal="."+count.slice(-6,-5)),count=count.slice(0,-6),count=count+decimal+"M"):count.length>3&&("0"!=count.slice(-3,-2)&&(decimal="."+count.slice(-3,-2)),count=count.slice(0,-3),count=count+decimal+"k"),scope.shares=count}).error(function(){scope.shares=0}),element.unbind(),element.bind("click",function(e){FB.ui({method:"feed",link:attr.url,picture:attr.picture,name:attr.name,caption:attr.caption,description:attr.description,properties:attr.properties,actions:attr.actions}),e.preventDefault()})})}}}]).directive("twitter",["$timeout",function($timeout){return{link:function(scope,element,attr){var renderTwitterButton=debounce(function(){attr.url&&$timeout(function(){element[0].innerHTML="",twttr.widgets.createShareButton(attr.url,element[0],function(){},{count:attr.count,text:attr.text,via:attr.via,size:attr.size})})},75);attr.$observe("url",renderTwitterButton),attr.$observe("text",renderTwitterButton)}}}]).directive("linkedin",["$timeout","$http","$window",function($timeout,$http,$window){return{scope:{shares:"="},transclude:!0,template:'<div class="linkedinButton"><div class="pluginButton"><div class="pluginButtonContainer"><div class="pluginButtonImage">in</div><span class="pluginButtonLabel"><span>Share</span></span></div></div></div><div class="linkedinCount"><div class="pluginCountButton"><div class="pluginCountButtonRight"><div class="pluginCountButtonLeft"><span ng-transclude></span></div></div></div></div>',link:function(scope,element,attr){var renderLinkedinButton=debounce(function(){attr.shares&&attr.url&&$http.jsonp("https://www.linkedin.com/countserv/count/share?url="+attr.url+"&callback=JSON_CALLBACK&format=jsonp").success(function(res){scope.shares=res.count.toLocaleString()}).error(function(){scope.shares=0}),$timeout(function(){element.unbind(),element.bind("click",function(){var url=encodeURIComponent(attr.url).replace(/'/g,"%27").replace(/"/g,"%22");$window.open("//www.linkedin.com/shareArticle?mini=true&url="+url+"&title="+attr.title+"&summary="+attr.summary)})})},100);attr.$observe("url",renderLinkedinButton),attr.$observe("title",renderLinkedinButton),attr.$observe("summary",renderLinkedinButton)}}}]).directive("gplus",[function(){return{link:function(scope,element,attr){var googleShare=debounce(function(){"undefined"==typeof gapi?!function(){var po=document.createElement("script");po.type="text/javascript",po.async=!0,po.src="https://apis.google.com/js/platform.js",po.onload=renderGoogleButton;var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(po,s)}():renderGoogleButton()},100),renderGoogleButton=function(ele,attr){return function(){var googleButton=document.createElement("div"),id=attr.id||randomString(5);attr.id=id,googleButton.setAttribute("id",id),element.innerHTML="",element.append(googleButton),attr["class"]&&attr["class"].indexOf("g-plusone")!=-1?window.gapi.plusone.render(id,attr):window.gapi.plus.render(id,attr)}}(element,attr);attr.$observe("href",googleShare)}}}]).directive("tumblrText",[function(){return{link:function(scope,element,attr){var tumblr_button=document.createElement("a"),renderTumblrText=debounce(function(){tumblr_button.setAttribute("href","https://www.tumblr.com/share/link?url="+encodeURIComponent(attr.url)+"&name="+encodeURIComponent(attr.name)+"&description="+encodeURIComponent(attr.description)),tumblr_button.setAttribute("title",attr.title||"Share on Tumblr"),tumblr_button.setAttribute("style",attr.styling||"display:inline-block; text-indent:-9999px; overflow:hidden; width:81px; height:20px; background:url('https://platform.tumblr.com/v1/share_1.png') top left no-repeat transparent;"),element[0].innerHTML="",element.append(tumblr_button)},100);attr.$observe("url",renderTumblrText),attr.$observe("name",renderTumblrText),attr.$observe("description",renderTumblrText)}}}]).directive("tumblrQoute",[function(){return{link:function(scope,element,attr){var tumblr_button=document.createElement("a"),renderTumblrQoute=debounce(function(){tumblr_button.setAttribute("href","https://www.tumblr.com/share/quote?quote="+encodeURIComponent(attr.qoute)+"&source="+encodeURIComponent(attr.source)),tumblr_button.setAttribute("title",attr.title||"Share on Tumblr"),tumblr_button.setAttribute("style",attr.styling||"display:inline-block; text-indent:-9999px; overflow:hidden; width:81px; height:20px; background:url('https://platform.tumblr.com/v1/share_1.png') top left no-repeat transparent;"),element[0].innerHTML="",element.append(tumblr_button)},100);attr.$observe("qoute",renderTumblrQoute),attr.$observe("source",renderTumblrQoute)}}}]).directive("tumblrImage",[function(){return{link:function(scope,element,attr){var tumblr_button=document.createElement("a"),renderTumblrImage=debounce(function(){tumblr_button.setAttribute("href","https://www.tumblr.com/share/photo?source="+encodeURIComponent(attr.source)+"&caption="+encodeURIComponent(attr.caption)+"&clickthru="+encodeURIComponent(attr.clickthru)),tumblr_button.setAttribute("title",attr.title||"Share on Tumblr"),tumblr_button.setAttribute("style",attr.styling||"display:inline-block; text-indent:-9999px; overflow:hidden; width:81px; height:20px; background:url('https://platform.tumblr.com/v1/share_1.png') top left no-repeat transparent;"),element[0].innerHTML="",element.append(tumblr_button)},100);attr.$observe("source",renderTumblrImage),attr.$observe("caption",renderTumblrImage),attr.$observe("clickthru",renderTumblrImage)}}}]).directive("tumblrVideo",[function(){return{link:function(scope,element,attr){var tumblr_button=document.createElement("a"),renderTumblrVideo=debounce(function(){tumblr_button.setAttribute("href","https://www.tumblr.com/share/video?embed="+encodeURIComponent(attr.embedcode)+"&caption="+encodeURIComponent(attr.caption)),tumblr_button.setAttribute("title",attr.title||"Share on Tumblr"),tumblr_button.setAttribute("style",attr.styling||"display:inline-block; text-indent:-9999px; overflow:hidden; width:81px; height:20px; background:url('https://platform.tumblr.com/v1/share_1.png') top left no-repeat transparent;"),element[0].innerHTML="",element.append(tumblr_button)},100);attr.$observe("embedcode",renderTumblrVideo),attr.$observe("caption",renderTumblrVideo)}}}]).directive("pintrest",["$window","$timeout",function($window,$timeout){return{template:'<a href="{{href}}" data-pin-do="{{pinDo}}" data-pin-config="{{pinConfig}}"><img src="//assets.pinterest.com/images/pidgets/pinit_fg_en_rect_gray_20.png" /></a>',link:function(scope,element,attr){var pintrestButtonRenderer=debounce(function(){var pin_button=document.createElement("a");pin_button.setAttribute("href","//www.pinterest.com/pin/create/button/?url="+encodeURIComponent(attr.href)+"&media="+encodeURIComponent(attr.img)+"&description="+encodeURIComponent(attr.description)),pin_button.setAttribute("pinDo",attr.pinDo||"buttonPin"),pin_button.setAttribute("pinConfig",attr.pinConfig||"beside"),element[0].innerHTML="",element.append(pin_button),$timeout(function(){$window.parsePins(element)})},100);attr.$observe("href",pintrestButtonRenderer),attr.$observe("img",pintrestButtonRenderer),attr.$observe("description",pintrestButtonRenderer)}}}]),function(){"use strict";function toastr($animate,$injector,$document,$rootScope,$sce,toastrConfig,$q){function clear(toast){if(toast)remove(toast.toastId);else for(var i=0;i<toasts.length;i++)remove(toasts[i].toastId)}function error(message,title,optionsOverride){var type=_getOptions().iconClasses.error;return _buildNotification(type,message,title,optionsOverride)}function info(message,title,optionsOverride){var type=_getOptions().iconClasses.info;return _buildNotification(type,message,title,optionsOverride)}function success(message,title,optionsOverride){var type=_getOptions().iconClasses.success;return _buildNotification(type,message,title,optionsOverride)}function warning(message,title,optionsOverride){var type=_getOptions().iconClasses.warning;return _buildNotification(type,message,title,optionsOverride)}function remove(toastId,wasClicked){function findToast(toastId){for(var i=0;i<toasts.length;i++)if(toasts[i].toastId===toastId)return toasts[i]}function lastToast(){return!toasts.length}var toast=findToast(toastId);toast&&!toast.deleting&&(toast.deleting=!0,toast.isOpened=!1,$animate.leave(toast.el).then(function(){toast.scope.options.onHidden&&toast.scope.options.onHidden(wasClicked),toast.scope.$destroy();var index=toasts.indexOf(toast);delete openToasts[toast.scope.message],toasts.splice(index,1);var maxOpened=toastrConfig.maxOpened;maxOpened&&toasts.length>=maxOpened&&toasts[maxOpened-1].open.resolve(),lastToast()&&(container.remove(),container=null,containerDefer=$q.defer())}))}function _buildNotification(type,message,title,optionsOverride){return angular.isObject(title)&&(optionsOverride=title,title=null),_notify({iconClass:type,message:message,optionsOverride:optionsOverride,title:title})}function _getOptions(){return angular.extend({},toastrConfig)}function _createOrGetContainer(options){if(container)return containerDefer.promise;container=angular.element("<div></div>"),container.attr("id",options.containerId),container.addClass(options.positionClass),container.css({"pointer-events":"auto"});var target=angular.element(document.querySelector(options.target));if(!target||!target.length)throw"Target for toasts doesn't exist";return $animate.enter(container,target).then(function(){containerDefer.resolve()}),containerDefer.promise}function _notify(map){function createScope(toast,map,options){options.allowHtml?(toast.scope.allowHtml=!0,toast.scope.title=$sce.trustAsHtml(map.title),toast.scope.message=$sce.trustAsHtml(map.message)):(toast.scope.title=map.title,toast.scope.message=map.message),toast.scope.toastType=toast.iconClass,toast.scope.toastId=toast.toastId,toast.scope.options={extendedTimeOut:options.extendedTimeOut,messageClass:options.messageClass,onHidden:options.onHidden,onShown:options.onShown,progressBar:options.progressBar,tapToDismiss:options.tapToDismiss,timeOut:options.timeOut,titleClass:options.titleClass,toastClass:options.toastClass},options.closeButton&&(toast.scope.options.closeHtml=options.closeHtml)}function createToast(){function cleanOptionsOverride(options){for(var badOptions=["containerId","iconClasses","maxOpened","newestOnTop","positionClass","preventDuplicates","preventOpenDuplicates","templates"],i=0,l=badOptions.length;i<l;i++)delete options[badOptions[i]];return options}var newToast={toastId:index++,isOpened:!1,scope:$rootScope.$new(),open:$q.defer()};return newToast.iconClass=map.iconClass,map.optionsOverride&&(options=angular.extend(options,cleanOptionsOverride(map.optionsOverride)),newToast.iconClass=map.optionsOverride.iconClass||newToast.iconClass),createScope(newToast,map,options),newToast.el=createToastEl(newToast.scope),newToast}function createToastEl(scope){var angularDomEl=angular.element("<div toast></div>"),$compile=$injector.get("$compile");return $compile(angularDomEl)(scope)}function maxOpenedNotReached(){return options.maxOpened&&toasts.length<=options.maxOpened||!options.maxOpened}function shouldExit(){var isDuplicateOfLast=options.preventDuplicates&&map.message===previousToastMessage,isDuplicateOpen=options.preventOpenDuplicates&&openToasts[map.message];return!(!isDuplicateOfLast&&!isDuplicateOpen)||(previousToastMessage=map.message,openToasts[map.message]=!0,!1)}var options=_getOptions();if(!shouldExit()){var newToast=createToast();if(toasts.push(newToast),options.autoDismiss&&options.maxOpened>0)for(var oldToasts=toasts.slice(0,toasts.length-options.maxOpened),i=0,len=oldToasts.length;i<len;i++)remove(oldToasts[i].toastId);return maxOpenedNotReached()&&newToast.open.resolve(),newToast.open.promise.then(function(){_createOrGetContainer(options).then(function(){if(newToast.isOpened=!0,options.newestOnTop)$animate.enter(newToast.el,container).then(function(){newToast.scope.init()});else{var sibling=container[0].lastChild?angular.element(container[0].lastChild):null;$animate.enter(newToast.el,container,sibling).then(function(){newToast.scope.init()})}})}),newToast}}var container,index=0,toasts=[],previousToastMessage="",openToasts={},containerDefer=$q.defer(),toast={clear:clear,error:error,info:info,remove:remove,success:success,warning:warning};return toast}angular.module("toastr",[]).factory("toastr",toastr),toastr.$inject=["$animate","$injector","$document","$rootScope","$sce","toastrConfig","$q"]}(),function(){"use strict";angular.module("toastr").constant("toastrConfig",{allowHtml:!1,autoDismiss:!1,closeButton:!1,closeHtml:"<button>&times;</button>",containerId:"toast-container",extendedTimeOut:1e3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},maxOpened:0,messageClass:"toast-message",newestOnTop:!0,onHidden:null,onShown:null,positionClass:"toast-top-right",preventDuplicates:!1,preventOpenDuplicates:!1,progressBar:!1,tapToDismiss:!0,target:"body",templates:{toast:"directives/toast/toast.html",progressbar:"directives/progressbar/progressbar.html"},timeOut:5e3,titleClass:"toast-title",toastClass:"toast"})}(),function(){"use strict";function progressBar(toastrConfig){function linkFunction(scope,element,attrs,toastCtrl){function updateProgress(){var percentage=(hideTime-(new Date).getTime())/currentTimeOut*100;element.css("width",percentage+"%")}var intervalId,currentTimeOut,hideTime;toastCtrl.progressBar=scope,scope.start=function(duration){intervalId&&clearInterval(intervalId),currentTimeOut=parseFloat(duration),hideTime=(new Date).getTime()+currentTimeOut,intervalId=setInterval(updateProgress,10)},scope.stop=function(){intervalId&&clearInterval(intervalId)},scope.$on("$destroy",function(){clearInterval(intervalId)})}return{replace:!0,require:"^toast",templateUrl:function(){return toastrConfig.templates.progressbar},link:linkFunction}}angular.module("toastr").directive("progressBar",progressBar),progressBar.$inject=["toastrConfig"]}(),function(){"use strict";function ToastController(){this.progressBar=null,this.startProgressBar=function(duration){this.progressBar&&this.progressBar.start(duration)},this.stopProgressBar=function(){this.progressBar&&this.progressBar.stop()}}angular.module("toastr").controller("ToastController",ToastController)}(),function(){"use strict";function toast($injector,$interval,toastrConfig,toastr){function toastLinkFunction(scope,element,attrs,toastCtrl){function createTimeout(time){return toastCtrl.startProgressBar(time),$interval(function(){toastCtrl.stopProgressBar(),toastr.remove(scope.toastId)},time,1)}function hideAndStopProgressBar(){scope.progressBar=!1,toastCtrl.stopProgressBar()}function wantsCloseButton(){return scope.options.closeHtml}var timeout;if(scope.toastClass=scope.options.toastClass,scope.titleClass=scope.options.titleClass,scope.messageClass=scope.options.messageClass,scope.progressBar=scope.options.progressBar,wantsCloseButton()){var button=angular.element(scope.options.closeHtml),$compile=$injector.get("$compile");button.addClass("toast-close-button"),button.attr("ng-click","close()"),$compile(button)(scope),element.prepend(button)}scope.init=function(){scope.options.timeOut&&(timeout=createTimeout(scope.options.timeOut)),scope.options.onShown&&scope.options.onShown()},element.on("mouseenter",function(){hideAndStopProgressBar(),timeout&&$interval.cancel(timeout)}),scope.tapToast=function(){scope.options.tapToDismiss&&scope.close(!0)},scope.close=function(wasClicked){toastr.remove(scope.toastId,wasClicked)},element.on("mouseleave",function(){0===scope.options.timeOut&&0===scope.options.extendedTimeOut||(scope.$apply(function(){scope.progressBar=scope.options.progressBar}),timeout=createTimeout(scope.options.extendedTimeOut))})}return{replace:!0,templateUrl:function(){return toastrConfig.templates.toast},controller:"ToastController",link:toastLinkFunction}}angular.module("toastr").directive("toast",toast),toast.$inject=["$injector","$interval","toastrConfig","toastr"];
}(),angular.module("toastr").run(["$templateCache",function($templateCache){$templateCache.put("directives/progressbar/progressbar.html",'<div class="toast-progress"></div>\n'),$templateCache.put("directives/toast/toast.html",'<div class="{{toastClass}} {{toastType}}" ng-click="tapToast()">\n  <div ng-switch on="allowHtml">\n    <div ng-switch-default ng-if="title" class="{{titleClass}}">{{title}}</div>\n    <div ng-switch-default class="{{messageClass}}">{{message}}</div>\n    <div ng-switch-when="true" ng-if="title" class="{{titleClass}}" ng-bind-html="title"></div>\n    <div ng-switch-when="true" class="{{messageClass}}" ng-bind-html="message"></div>\n  </div>\n  <progress-bar ng-if="progressBar"></progress-bar>\n</div>\n')}]),function(window,angular,undefined){"use strict";function nodeName_(element){return angular.lowercase(element.nodeName||element[0]&&element[0].nodeName)}function makeSwipeDirective(directiveName,direction,eventName){ngTouch.directive(directiveName,["$parse","$swipe",function($parse,$swipe){var MAX_VERTICAL_DISTANCE=75,MAX_VERTICAL_RATIO=.3,MIN_HORIZONTAL_DISTANCE=30;return function(scope,element,attr){function validSwipe(coords){if(!startCoords)return!1;var deltaY=Math.abs(coords.y-startCoords.y),deltaX=(coords.x-startCoords.x)*direction;return valid&&deltaY<MAX_VERTICAL_DISTANCE&&deltaX>0&&deltaX>MIN_HORIZONTAL_DISTANCE&&deltaY/deltaX<MAX_VERTICAL_RATIO}var startCoords,valid,swipeHandler=$parse(attr[directiveName]),pointerTypes=["touch"];angular.isDefined(attr.ngSwipeDisableMouse)||pointerTypes.push("mouse"),$swipe.bind(element,{start:function(coords,event){startCoords=coords,valid=!0},cancel:function(event){valid=!1},end:function(coords,event){validSwipe(coords)&&scope.$apply(function(){element.triggerHandler(eventName),swipeHandler(scope,{$event:event})})}},pointerTypes)}}])}var ngTouch=angular.module("ngTouch",[]);ngTouch.factory("$swipe",[function(){function getCoordinates(event){var originalEvent=event.originalEvent||event,touches=originalEvent.touches&&originalEvent.touches.length?originalEvent.touches:[originalEvent],e=originalEvent.changedTouches&&originalEvent.changedTouches[0]||touches[0];return{x:e.clientX,y:e.clientY}}function getEvents(pointerTypes,eventType){var res=[];return angular.forEach(pointerTypes,function(pointerType){var eventName=POINTER_EVENTS[pointerType][eventType];eventName&&res.push(eventName)}),res.join(" ")}var MOVE_BUFFER_RADIUS=10,POINTER_EVENTS={mouse:{start:"mousedown",move:"mousemove",end:"mouseup"},touch:{start:"touchstart",move:"touchmove",end:"touchend",cancel:"touchcancel"}};return{bind:function(element,eventHandlers,pointerTypes){var totalX,totalY,startCoords,lastPos,active=!1;pointerTypes=pointerTypes||["mouse","touch"],element.on(getEvents(pointerTypes,"start"),function(event){startCoords=getCoordinates(event),active=!0,totalX=0,totalY=0,lastPos=startCoords,eventHandlers.start&&eventHandlers.start(startCoords,event)});var events=getEvents(pointerTypes,"cancel");events&&element.on(events,function(event){active=!1,eventHandlers.cancel&&eventHandlers.cancel(event)}),element.on(getEvents(pointerTypes,"move"),function(event){if(active&&startCoords){var coords=getCoordinates(event);if(totalX+=Math.abs(coords.x-lastPos.x),totalY+=Math.abs(coords.y-lastPos.y),lastPos=coords,!(totalX<MOVE_BUFFER_RADIUS&&totalY<MOVE_BUFFER_RADIUS))return totalY>totalX?(active=!1,void(eventHandlers.cancel&&eventHandlers.cancel(event))):(event.preventDefault(),void(eventHandlers.move&&eventHandlers.move(coords,event)))}}),element.on(getEvents(pointerTypes,"end"),function(event){active&&(active=!1,eventHandlers.end&&eventHandlers.end(getCoordinates(event),event))})}}}]),ngTouch.config(["$provide",function($provide){$provide.decorator("ngClickDirective",["$delegate",function($delegate){return $delegate.shift(),$delegate}])}]),ngTouch.directive("ngClick",["$parse","$timeout","$rootElement",function($parse,$timeout,$rootElement){function hit(x1,y1,x2,y2){return Math.abs(x1-x2)<CLICKBUSTER_THRESHOLD&&Math.abs(y1-y2)<CLICKBUSTER_THRESHOLD}function checkAllowableRegions(touchCoordinates,x,y){for(var i=0;i<touchCoordinates.length;i+=2)if(hit(touchCoordinates[i],touchCoordinates[i+1],x,y))return touchCoordinates.splice(i,i+2),!0;return!1}function onClick(event){if(!(Date.now()-lastPreventedTime>PREVENT_DURATION)){var touches=event.touches&&event.touches.length?event.touches:[event],x=touches[0].clientX,y=touches[0].clientY;x<1&&y<1||lastLabelClickCoordinates&&lastLabelClickCoordinates[0]===x&&lastLabelClickCoordinates[1]===y||(lastLabelClickCoordinates&&(lastLabelClickCoordinates=null),"label"===nodeName_(event.target)&&(lastLabelClickCoordinates=[x,y]),checkAllowableRegions(touchCoordinates,x,y)||(event.stopPropagation(),event.preventDefault(),event.target&&event.target.blur&&event.target.blur()))}}function onTouchStart(event){var touches=event.touches&&event.touches.length?event.touches:[event],x=touches[0].clientX,y=touches[0].clientY;touchCoordinates.push(x,y),$timeout(function(){for(var i=0;i<touchCoordinates.length;i+=2)if(touchCoordinates[i]==x&&touchCoordinates[i+1]==y)return void touchCoordinates.splice(i,i+2)},PREVENT_DURATION,!1)}function preventGhostClick(x,y){touchCoordinates||($rootElement[0].addEventListener("click",onClick,!0),$rootElement[0].addEventListener("touchstart",onTouchStart,!0),touchCoordinates=[]),lastPreventedTime=Date.now(),checkAllowableRegions(touchCoordinates,x,y)}var lastPreventedTime,touchCoordinates,lastLabelClickCoordinates,TAP_DURATION=750,MOVE_TOLERANCE=12,PREVENT_DURATION=2500,CLICKBUSTER_THRESHOLD=25,ACTIVE_CLASS_NAME="ng-click-active";return function(scope,element,attr){function resetState(){tapping=!1,element.removeClass(ACTIVE_CLASS_NAME)}var tapElement,startTime,touchStartX,touchStartY,clickHandler=$parse(attr.ngClick),tapping=!1;element.on("touchstart",function(event){tapping=!0,tapElement=event.target?event.target:event.srcElement,3==tapElement.nodeType&&(tapElement=tapElement.parentNode),element.addClass(ACTIVE_CLASS_NAME),startTime=Date.now();var originalEvent=event.originalEvent||event,touches=originalEvent.touches&&originalEvent.touches.length?originalEvent.touches:[originalEvent],e=touches[0];touchStartX=e.clientX,touchStartY=e.clientY}),element.on("touchcancel",function(event){resetState()}),element.on("touchend",function(event){var diff=Date.now()-startTime,originalEvent=event.originalEvent||event,touches=originalEvent.changedTouches&&originalEvent.changedTouches.length?originalEvent.changedTouches:originalEvent.touches&&originalEvent.touches.length?originalEvent.touches:[originalEvent],e=touches[0],x=e.clientX,y=e.clientY,dist=Math.sqrt(Math.pow(x-touchStartX,2)+Math.pow(y-touchStartY,2));tapping&&diff<TAP_DURATION&&dist<MOVE_TOLERANCE&&(preventGhostClick(x,y),tapElement&&tapElement.blur(),angular.isDefined(attr.disabled)&&attr.disabled!==!1||element.triggerHandler("click",[event])),resetState()}),element.onclick=function(event){},element.on("click",function(event,touchend){scope.$apply(function(){clickHandler(scope,{$event:touchend||event})})}),element.on("mousedown",function(event){element.addClass(ACTIVE_CLASS_NAME)}),element.on("mousemove mouseup",function(event){element.removeClass(ACTIVE_CLASS_NAME)})}}]),makeSwipeDirective("ngSwipeLeft",-1,"swipeleft"),makeSwipeDirective("ngSwipeRight",1,"swiperight")}(window,window.angular),function(root,factory){"function"==typeof define&&define.amd?define([],function(){return factory()}):"object"==typeof exports?module.exports=factory():factory()}(this,function(){function runTranslate($translate){"use strict";var key=$translate.storageKey(),storage=$translate.storage(),fallbackFromIncorrectStorageValue=function(){var preferred=$translate.preferredLanguage();angular.isString(preferred)?$translate.use(preferred):storage.put(key,$translate.use())};fallbackFromIncorrectStorageValue.displayName="fallbackFromIncorrectStorageValue",storage?storage.get(key)?$translate.use(storage.get(key))["catch"](fallbackFromIncorrectStorageValue):fallbackFromIncorrectStorageValue():angular.isString($translate.preferredLanguage())&&$translate.use($translate.preferredLanguage())}function $translateSanitizationProvider(){"use strict";var $sanitize,strategies,currentStrategy=null,hasConfiguredStrategy=!1,hasShownNoStrategyConfiguredWarning=!1;strategies={sanitize:function(value,mode){return"text"===mode&&(value=htmlSanitizeValue(value)),value},escape:function(value,mode){return"text"===mode&&(value=htmlEscapeValue(value)),value},sanitizeParameters:function(value,mode){return"params"===mode&&(value=mapInterpolationParameters(value,htmlSanitizeValue)),value},escapeParameters:function(value,mode){return"params"===mode&&(value=mapInterpolationParameters(value,htmlEscapeValue)),value}},strategies.escaped=strategies.escapeParameters,this.addStrategy=function(strategyName,strategyFunction){return strategies[strategyName]=strategyFunction,this},this.removeStrategy=function(strategyName){return delete strategies[strategyName],this},this.useStrategy=function(strategy){return hasConfiguredStrategy=!0,currentStrategy=strategy,this},this.$get=["$injector","$log",function($injector,$log){var applyStrategies=function(value,mode,selectedStrategies){return angular.forEach(selectedStrategies,function(selectedStrategy){if(angular.isFunction(selectedStrategy))value=selectedStrategy(value,mode);else{if(!angular.isFunction(strategies[selectedStrategy]))throw new Error("pascalprecht.translate.$translateSanitization: Unknown sanitization strategy: '"+selectedStrategy+"'");value=strategies[selectedStrategy](value,mode)}}),value},showNoStrategyConfiguredWarning=function(){hasConfiguredStrategy||hasShownNoStrategyConfiguredWarning||($log.warn("pascalprecht.translate.$translateSanitization: No sanitization strategy has been configured. This can have serious security implications. See http://angular-translate.github.io/docs/#/guide/19_security for details."),hasShownNoStrategyConfiguredWarning=!0)};return $injector.has("$sanitize")&&($sanitize=$injector.get("$sanitize")),{useStrategy:function(self){return function(strategy){self.useStrategy(strategy)}}(this),sanitize:function(value,mode,strategy){if(currentStrategy||showNoStrategyConfiguredWarning(),arguments.length<3&&(strategy=currentStrategy),!strategy)return value;var selectedStrategies=angular.isArray(strategy)?strategy:[strategy];return applyStrategies(value,mode,selectedStrategies)}}}];var htmlEscapeValue=function(value){var element=angular.element("<div></div>");return element.text(value),element.html()},htmlSanitizeValue=function(value){if(!$sanitize)throw new Error("pascalprecht.translate.$translateSanitization: Error cannot find $sanitize service. Either include the ngSanitize module (https://docs.angularjs.org/api/ngSanitize) or use a sanitization strategy which does not depend on $sanitize, such as 'escape'.");return $sanitize(value)},mapInterpolationParameters=function(value,iteratee){if(angular.isObject(value)){var result=angular.isArray(value)?[]:{};return angular.forEach(value,function(propertyValue,propertyKey){result[propertyKey]=mapInterpolationParameters(propertyValue,iteratee)}),result}return angular.isNumber(value)?value:iteratee(value)}}function $translate($STORAGE_KEY,$windowProvider,$translateSanitizationProvider,pascalprechtTranslateOverrider){"use strict";var $preferredLanguage,$languageKeyAliases,$fallbackLanguage,$fallbackWasString,$uses,$nextLang,$storageFactory,$storagePrefix,$missingTranslationHandlerFactory,$interpolationFactory,$loaderFactory,$loaderOptions,$notFoundIndicatorLeft,$notFoundIndicatorRight,loaderCache,$translationTable={},$availableLanguageKeys=[],$storageKey=$STORAGE_KEY,$interpolatorFactories=[],$cloakClassName="translate-cloak",$postCompilingEnabled=!1,$forceAsyncReloadEnabled=!1,NESTED_OBJECT_DELIMITER=".",directivePriority=0,statefulFilter=!0,uniformLanguageTagResolver="default",languageTagResolver={"default":function(tag){return(tag||"").split("-").join("_")},java:function(tag){var temp=(tag||"").split("-").join("_"),parts=temp.split("_");return parts.length>1?parts[0].toLowerCase()+"_"+parts[1].toUpperCase():temp},bcp47:function(tag){var temp=(tag||"").split("_").join("-"),parts=temp.split("-");return parts.length>1?parts[0].toLowerCase()+"-"+parts[1].toUpperCase():temp}},version="2.7.2",getFirstBrowserLanguage=function(){if(angular.isFunction(pascalprechtTranslateOverrider.getLocale))return pascalprechtTranslateOverrider.getLocale();var i,language,nav=$windowProvider.$get().navigator,browserLanguagePropertyKeys=["language","browserLanguage","systemLanguage","userLanguage"];if(angular.isArray(nav.languages))for(i=0;i<nav.languages.length;i++)if(language=nav.languages[i],language&&language.length)return language;for(i=0;i<browserLanguagePropertyKeys.length;i++)if(language=nav[browserLanguagePropertyKeys[i]],language&&language.length)return language;return null};getFirstBrowserLanguage.displayName="angular-translate/service: getFirstBrowserLanguage";var getLocale=function(){var locale=getFirstBrowserLanguage()||"";return languageTagResolver[uniformLanguageTagResolver]&&(locale=languageTagResolver[uniformLanguageTagResolver](locale)),locale};getLocale.displayName="angular-translate/service: getLocale";var indexOf=function(array,searchElement){for(var i=0,len=array.length;i<len;i++)if(array[i]===searchElement)return i;return-1},trim=function(){return this.toString().replace(/^\s+|\s+$/g,"")},negotiateLocale=function(preferred){for(var avail=[],locale=angular.lowercase(preferred),i=0,n=$availableLanguageKeys.length;i<n;i++)avail.push(angular.lowercase($availableLanguageKeys[i]));if(indexOf(avail,locale)>-1)return preferred;if($languageKeyAliases){var alias;for(var langKeyAlias in $languageKeyAliases){var hasWildcardKey=!1,hasExactKey=Object.prototype.hasOwnProperty.call($languageKeyAliases,langKeyAlias)&&angular.lowercase(langKeyAlias)===angular.lowercase(preferred);if("*"===langKeyAlias.slice(-1)&&(hasWildcardKey=langKeyAlias.slice(0,-1)===preferred.slice(0,langKeyAlias.length-1)),(hasExactKey||hasWildcardKey)&&(alias=$languageKeyAliases[langKeyAlias],indexOf(avail,angular.lowercase(alias))>-1))return alias}}if(preferred){var parts=preferred.split("_");if(parts.length>1&&indexOf(avail,angular.lowercase(parts[0]))>-1)return parts[0]}return preferred},translations=function(langKey,translationTable){if(!langKey&&!translationTable)return $translationTable;if(langKey&&!translationTable){if(angular.isString(langKey))return $translationTable[langKey]}else angular.isObject($translationTable[langKey])||($translationTable[langKey]={}),angular.extend($translationTable[langKey],flatObject(translationTable));return this};this.translations=translations,this.cloakClassName=function(name){return name?($cloakClassName=name,this):$cloakClassName};var flatObject=function(data,path,result,prevKey){var key,keyWithPath,keyWithShortPath,val;path||(path=[]),result||(result={});for(key in data)Object.prototype.hasOwnProperty.call(data,key)&&(val=data[key],angular.isObject(val)?flatObject(val,path.concat(key),result,key):(keyWithPath=path.length?""+path.join(NESTED_OBJECT_DELIMITER)+NESTED_OBJECT_DELIMITER+key:key,path.length&&key===prevKey&&(keyWithShortPath=""+path.join(NESTED_OBJECT_DELIMITER),result[keyWithShortPath]="@:"+keyWithPath),result[keyWithPath]=val));return result};flatObject.displayName="flatObject",this.addInterpolation=function(factory){return $interpolatorFactories.push(factory),this},this.useMessageFormatInterpolation=function(){return this.useInterpolation("$translateMessageFormatInterpolation")},this.useInterpolation=function(factory){return $interpolationFactory=factory,this},this.useSanitizeValueStrategy=function(value){return $translateSanitizationProvider.useStrategy(value),this},this.preferredLanguage=function(langKey){return setupPreferredLanguage(langKey),this};var setupPreferredLanguage=function(langKey){return langKey&&($preferredLanguage=langKey),$preferredLanguage};this.translationNotFoundIndicator=function(indicator){return this.translationNotFoundIndicatorLeft(indicator),this.translationNotFoundIndicatorRight(indicator),this},this.translationNotFoundIndicatorLeft=function(indicator){return indicator?($notFoundIndicatorLeft=indicator,this):$notFoundIndicatorLeft},this.translationNotFoundIndicatorRight=function(indicator){return indicator?($notFoundIndicatorRight=indicator,this):$notFoundIndicatorRight},this.fallbackLanguage=function(langKey){return fallbackStack(langKey),this};var fallbackStack=function(langKey){return langKey?(angular.isString(langKey)?($fallbackWasString=!0,$fallbackLanguage=[langKey]):angular.isArray(langKey)&&($fallbackWasString=!1,$fallbackLanguage=langKey),angular.isString($preferredLanguage)&&indexOf($fallbackLanguage,$preferredLanguage)<0&&$fallbackLanguage.push($preferredLanguage),this):$fallbackWasString?$fallbackLanguage[0]:$fallbackLanguage};this.use=function(langKey){if(langKey){if(!$translationTable[langKey]&&!$loaderFactory)throw new Error("$translateProvider couldn't find translationTable for langKey: '"+langKey+"'");return $uses=langKey,this}return $uses};var storageKey=function(key){return key?($storageKey=key,this):$storagePrefix?$storagePrefix+$storageKey:$storageKey};this.storageKey=storageKey,this.useUrlLoader=function(url,options){return this.useLoader("$translateUrlLoader",angular.extend({url:url},options))},this.useStaticFilesLoader=function(options){return this.useLoader("$translateStaticFilesLoader",options)},this.useLoader=function(loaderFactory,options){return $loaderFactory=loaderFactory,$loaderOptions=options||{},this},this.useLocalStorage=function(){return this.useStorage("$translateLocalStorage")},this.useCookieStorage=function(){return this.useStorage("$translateCookieStorage")},this.useStorage=function(storageFactory){return $storageFactory=storageFactory,this},this.storagePrefix=function(prefix){return prefix?($storagePrefix=prefix,this):prefix},this.useMissingTranslationHandlerLog=function(){return this.useMissingTranslationHandler("$translateMissingTranslationHandlerLog")},this.useMissingTranslationHandler=function(factory){return $missingTranslationHandlerFactory=factory,this},this.usePostCompiling=function(value){return $postCompilingEnabled=!!value,this},this.forceAsyncReload=function(value){return $forceAsyncReloadEnabled=!!value,this},this.uniformLanguageTag=function(options){return options?angular.isString(options)&&(options={standard:options}):options={},uniformLanguageTagResolver=options.standard,this},this.determinePreferredLanguage=function(fn){var locale=fn&&angular.isFunction(fn)?fn():getLocale();return $preferredLanguage=$availableLanguageKeys.length?negotiateLocale(locale):locale,this},this.registerAvailableLanguageKeys=function(languageKeys,aliases){return languageKeys?($availableLanguageKeys=languageKeys,aliases&&($languageKeyAliases=aliases),this):$availableLanguageKeys},this.useLoaderCache=function(cache){return cache===!1?loaderCache=void 0:cache===!0?loaderCache=!0:"undefined"==typeof cache?loaderCache="$translationCache":cache&&(loaderCache=cache),this},this.directivePriority=function(priority){return void 0===priority?directivePriority:(directivePriority=priority,this)},this.statefulFilter=function(state){return void 0===state?statefulFilter:(statefulFilter=state,this)},this.$get=["$log","$injector","$rootScope","$q",function($log,$injector,$rootScope,$q){var Storage,fallbackIndex,startFallbackIteration,defaultInterpolator=$injector.get($interpolationFactory||"$translateDefaultInterpolation"),pendingLoader=!1,interpolatorHashMap={},langPromises={},$translate=function(translationId,interpolateParams,interpolationId,defaultTranslationText){if(angular.isArray(translationId)){var translateAll=function(translationIds){for(var results={},promises=[],translate=function(translationId){var deferred=$q.defer(),regardless=function(value){results[translationId]=value,deferred.resolve([translationId,value])};return $translate(translationId,interpolateParams,interpolationId,defaultTranslationText).then(regardless,regardless),deferred.promise},i=0,c=translationIds.length;i<c;i++)promises.push(translate(translationIds[i]));return $q.all(promises).then(function(){return results})};return translateAll(translationId)}var deferred=$q.defer();translationId&&(translationId=trim.apply(translationId));var promiseToWaitFor=function(){var promise=$preferredLanguage?langPromises[$preferredLanguage]:langPromises[$uses];if(fallbackIndex=0,$storageFactory&&!promise){var langKey=Storage.get($storageKey);if(promise=langPromises[langKey],$fallbackLanguage&&$fallbackLanguage.length){var index=indexOf($fallbackLanguage,langKey);fallbackIndex=0===index?1:0,indexOf($fallbackLanguage,$preferredLanguage)<0&&$fallbackLanguage.push($preferredLanguage)}}return promise}();if(promiseToWaitFor){var promiseResolved=function(){determineTranslation(translationId,interpolateParams,interpolationId,defaultTranslationText).then(deferred.resolve,deferred.reject)};promiseResolved.displayName="promiseResolved",promiseToWaitFor["finally"](promiseResolved,deferred.reject)}else determineTranslation(translationId,interpolateParams,interpolationId,defaultTranslationText).then(deferred.resolve,deferred.reject);return deferred.promise},applyNotFoundIndicators=function(translationId){return $notFoundIndicatorLeft&&(translationId=[$notFoundIndicatorLeft,translationId].join(" ")),$notFoundIndicatorRight&&(translationId=[translationId,$notFoundIndicatorRight].join(" ")),translationId},useLanguage=function(key){$uses=key,$rootScope.$emit("$translateChangeSuccess",{language:key}),$storageFactory&&Storage.put($translate.storageKey(),$uses),defaultInterpolator.setLocale($uses);var eachInterpolator=function(interpolator,id){interpolatorHashMap[id].setLocale($uses)};eachInterpolator.displayName="eachInterpolatorLocaleSetter",angular.forEach(interpolatorHashMap,eachInterpolator),$rootScope.$emit("$translateChangeEnd",{language:key})},loadAsync=function(key){if(!key)throw"No language key specified for loading.";var deferred=$q.defer();$rootScope.$emit("$translateLoadingStart",{language:key}),pendingLoader=!0;var cache=loaderCache;"string"==typeof cache&&(cache=$injector.get(cache));var loaderOptions=angular.extend({},$loaderOptions,{key:key,$http:angular.extend({},{cache:cache},$loaderOptions.$http)}),onLoaderSuccess=function(data){var translationTable={};$rootScope.$emit("$translateLoadingSuccess",{language:key}),angular.isArray(data)?angular.forEach(data,function(table){angular.extend(translationTable,flatObject(table))}):angular.extend(translationTable,flatObject(data)),pendingLoader=!1,deferred.resolve({key:key,table:translationTable}),$rootScope.$emit("$translateLoadingEnd",{language:key})};onLoaderSuccess.displayName="onLoaderSuccess";var onLoaderError=function(key){$rootScope.$emit("$translateLoadingError",{language:key}),deferred.reject(key),$rootScope.$emit("$translateLoadingEnd",{language:key})};return onLoaderError.displayName="onLoaderError",$injector.get($loaderFactory)(loaderOptions).then(onLoaderSuccess,onLoaderError),deferred.promise};if($storageFactory&&(Storage=$injector.get($storageFactory),!Storage.get||!Storage.put))throw new Error("Couldn't use storage '"+$storageFactory+"', missing get() or put() method!");if($interpolatorFactories.length){var eachInterpolationFactory=function(interpolatorFactory){var interpolator=$injector.get(interpolatorFactory);interpolator.setLocale($preferredLanguage||$uses),interpolatorHashMap[interpolator.getInterpolationIdentifier()]=interpolator};eachInterpolationFactory.displayName="interpolationFactoryAdder",angular.forEach($interpolatorFactories,eachInterpolationFactory)}var getTranslationTable=function(langKey){var deferred=$q.defer();if(Object.prototype.hasOwnProperty.call($translationTable,langKey))deferred.resolve($translationTable[langKey]);else if(langPromises[langKey]){var onResolve=function(data){translations(data.key,data.table),deferred.resolve(data.table)};onResolve.displayName="translationTableResolver",langPromises[langKey].then(onResolve,deferred.reject)}else deferred.reject();return deferred.promise},getFallbackTranslation=function(langKey,translationId,interpolateParams,Interpolator){var deferred=$q.defer(),onResolve=function(translationTable){if(Object.prototype.hasOwnProperty.call(translationTable,translationId)){Interpolator.setLocale(langKey);var translation=translationTable[translationId];"@:"===translation.substr(0,2)?getFallbackTranslation(langKey,translation.substr(2),interpolateParams,Interpolator).then(deferred.resolve,deferred.reject):deferred.resolve(Interpolator.interpolate(translationTable[translationId],interpolateParams)),Interpolator.setLocale($uses)}else deferred.reject()};return onResolve.displayName="fallbackTranslationResolver",getTranslationTable(langKey).then(onResolve,deferred.reject),deferred.promise},getFallbackTranslationInstant=function(langKey,translationId,interpolateParams,Interpolator){var result,translationTable=$translationTable[langKey];if(translationTable&&Object.prototype.hasOwnProperty.call(translationTable,translationId)){if(Interpolator.setLocale(langKey),result=Interpolator.interpolate(translationTable[translationId],interpolateParams),"@:"===result.substr(0,2))return getFallbackTranslationInstant(langKey,result.substr(2),interpolateParams,Interpolator);Interpolator.setLocale($uses)}return result},translateByHandler=function(translationId,interpolateParams){if($missingTranslationHandlerFactory){var resultString=$injector.get($missingTranslationHandlerFactory)(translationId,$uses,interpolateParams);return void 0!==resultString?resultString:translationId}return translationId},resolveForFallbackLanguage=function(fallbackLanguageIndex,translationId,interpolateParams,Interpolator,defaultTranslationText){var deferred=$q.defer();if(fallbackLanguageIndex<$fallbackLanguage.length){var langKey=$fallbackLanguage[fallbackLanguageIndex];getFallbackTranslation(langKey,translationId,interpolateParams,Interpolator).then(deferred.resolve,function(){resolveForFallbackLanguage(fallbackLanguageIndex+1,translationId,interpolateParams,Interpolator,defaultTranslationText).then(deferred.resolve)})}else defaultTranslationText?deferred.resolve(defaultTranslationText):deferred.resolve(translateByHandler(translationId,interpolateParams));return deferred.promise},resolveForFallbackLanguageInstant=function(fallbackLanguageIndex,translationId,interpolateParams,Interpolator){var result;if(fallbackLanguageIndex<$fallbackLanguage.length){var langKey=$fallbackLanguage[fallbackLanguageIndex];result=getFallbackTranslationInstant(langKey,translationId,interpolateParams,Interpolator),result||(result=resolveForFallbackLanguageInstant(fallbackLanguageIndex+1,translationId,interpolateParams,Interpolator))}return result},fallbackTranslation=function(translationId,interpolateParams,Interpolator,defaultTranslationText){return resolveForFallbackLanguage(startFallbackIteration>0?startFallbackIteration:fallbackIndex,translationId,interpolateParams,Interpolator,defaultTranslationText)},fallbackTranslationInstant=function(translationId,interpolateParams,Interpolator){return resolveForFallbackLanguageInstant(startFallbackIteration>0?startFallbackIteration:fallbackIndex,translationId,interpolateParams,Interpolator)},determineTranslation=function(translationId,interpolateParams,interpolationId,defaultTranslationText){var deferred=$q.defer(),table=$uses?$translationTable[$uses]:$translationTable,Interpolator=interpolationId?interpolatorHashMap[interpolationId]:defaultInterpolator;if(table&&Object.prototype.hasOwnProperty.call(table,translationId)){var translation=table[translationId];"@:"===translation.substr(0,2)?$translate(translation.substr(2),interpolateParams,interpolationId,defaultTranslationText).then(deferred.resolve,deferred.reject):deferred.resolve(Interpolator.interpolate(translation,interpolateParams))}else{var missingTranslationHandlerTranslation;$missingTranslationHandlerFactory&&!pendingLoader&&(missingTranslationHandlerTranslation=translateByHandler(translationId,interpolateParams)),$uses&&$fallbackLanguage&&$fallbackLanguage.length?fallbackTranslation(translationId,interpolateParams,Interpolator,defaultTranslationText).then(function(translation){deferred.resolve(translation)},function(_translationId){deferred.reject(applyNotFoundIndicators(_translationId))}):$missingTranslationHandlerFactory&&!pendingLoader&&missingTranslationHandlerTranslation?defaultTranslationText?deferred.resolve(defaultTranslationText):deferred.resolve(missingTranslationHandlerTranslation):defaultTranslationText?deferred.resolve(defaultTranslationText):deferred.reject(applyNotFoundIndicators(translationId))}return deferred.promise},determineTranslationInstant=function(translationId,interpolateParams,interpolationId){var result,table=$uses?$translationTable[$uses]:$translationTable,Interpolator=defaultInterpolator;if(interpolatorHashMap&&Object.prototype.hasOwnProperty.call(interpolatorHashMap,interpolationId)&&(Interpolator=interpolatorHashMap[interpolationId]),table&&Object.prototype.hasOwnProperty.call(table,translationId)){var translation=table[translationId];result="@:"===translation.substr(0,2)?determineTranslationInstant(translation.substr(2),interpolateParams,interpolationId):Interpolator.interpolate(translation,interpolateParams)}else{var missingTranslationHandlerTranslation;$missingTranslationHandlerFactory&&!pendingLoader&&(missingTranslationHandlerTranslation=translateByHandler(translationId,interpolateParams)),$uses&&$fallbackLanguage&&$fallbackLanguage.length?(fallbackIndex=0,result=fallbackTranslationInstant(translationId,interpolateParams,Interpolator)):result=$missingTranslationHandlerFactory&&!pendingLoader&&missingTranslationHandlerTranslation?missingTranslationHandlerTranslation:applyNotFoundIndicators(translationId)}return result},clearNextLangAndPromise=function(key){$nextLang===key&&($nextLang=void 0),langPromises[key]=void 0};if($translate.preferredLanguage=function(langKey){return langKey&&setupPreferredLanguage(langKey),$preferredLanguage},$translate.cloakClassName=function(){return $cloakClassName},$translate.fallbackLanguage=function(langKey){if(void 0!==langKey&&null!==langKey){if(fallbackStack(langKey),$loaderFactory&&$fallbackLanguage&&$fallbackLanguage.length)for(var i=0,len=$fallbackLanguage.length;i<len;i++)langPromises[$fallbackLanguage[i]]||(langPromises[$fallbackLanguage[i]]=loadAsync($fallbackLanguage[i]));$translate.use($translate.use())}return $fallbackWasString?$fallbackLanguage[0]:$fallbackLanguage},$translate.useFallbackLanguage=function(langKey){if(void 0!==langKey&&null!==langKey)if(langKey){var langKeyPosition=indexOf($fallbackLanguage,langKey);langKeyPosition>-1&&(startFallbackIteration=langKeyPosition)}else startFallbackIteration=0},$translate.proposedLanguage=function(){return $nextLang},$translate.storage=function(){return Storage},$translate.use=function(key){if(!key)return $uses;var deferred=$q.defer();$rootScope.$emit("$translateChangeStart",{language:key});var aliasedKey=negotiateLocale(key);return aliasedKey&&(key=aliasedKey),!$forceAsyncReloadEnabled&&$translationTable[key]||!$loaderFactory||langPromises[key]?$nextLang===key&&langPromises[key]?langPromises[key].then(function(translation){return deferred.resolve(translation.key),translation},function(key){return deferred.reject(key),$q.reject(key)}):(deferred.resolve(key),useLanguage(key)):($nextLang=key,langPromises[key]=loadAsync(key).then(function(translation){return translations(translation.key,translation.table),deferred.resolve(translation.key),useLanguage(translation.key),translation},function(key){return $rootScope.$emit("$translateChangeError",{language:key}),deferred.reject(key),$rootScope.$emit("$translateChangeEnd",{language:key}),$q.reject(key)}),langPromises[key]["finally"](function(){clearNextLangAndPromise(key)})),deferred.promise},$translate.storageKey=function(){return storageKey()},$translate.isPostCompilingEnabled=function(){return $postCompilingEnabled;
},$translate.isForceAsyncReloadEnabled=function(){return $forceAsyncReloadEnabled},$translate.refresh=function(langKey){function resolve(){deferred.resolve(),$rootScope.$emit("$translateRefreshEnd",{language:langKey})}function reject(){deferred.reject(),$rootScope.$emit("$translateRefreshEnd",{language:langKey})}if(!$loaderFactory)throw new Error("Couldn't refresh translation table, no loader registered!");var deferred=$q.defer();if($rootScope.$emit("$translateRefreshStart",{language:langKey}),langKey)if($translationTable[langKey]){var oneTranslationsLoaded=function(data){translations(data.key,data.table),langKey===$uses&&useLanguage($uses),resolve()};oneTranslationsLoaded.displayName="refreshPostProcessor",loadAsync(langKey).then(oneTranslationsLoaded,reject)}else reject();else{var tables=[],loadingKeys={};if($fallbackLanguage&&$fallbackLanguage.length)for(var i=0,len=$fallbackLanguage.length;i<len;i++)tables.push(loadAsync($fallbackLanguage[i])),loadingKeys[$fallbackLanguage[i]]=!0;$uses&&!loadingKeys[$uses]&&tables.push(loadAsync($uses));var allTranslationsLoaded=function(tableData){$translationTable={},angular.forEach(tableData,function(data){translations(data.key,data.table)}),$uses&&useLanguage($uses),resolve()};allTranslationsLoaded.displayName="refreshPostProcessor",$q.all(tables).then(allTranslationsLoaded,reject)}return deferred.promise},$translate.instant=function(translationId,interpolateParams,interpolationId){if(null===translationId||angular.isUndefined(translationId))return translationId;if(angular.isArray(translationId)){for(var results={},i=0,c=translationId.length;i<c;i++)results[translationId[i]]=$translate.instant(translationId[i],interpolateParams,interpolationId);return results}if(angular.isString(translationId)&&translationId.length<1)return translationId;translationId&&(translationId=trim.apply(translationId));var result,possibleLangKeys=[];$preferredLanguage&&possibleLangKeys.push($preferredLanguage),$uses&&possibleLangKeys.push($uses),$fallbackLanguage&&$fallbackLanguage.length&&(possibleLangKeys=possibleLangKeys.concat($fallbackLanguage));for(var j=0,d=possibleLangKeys.length;j<d;j++){var possibleLangKey=possibleLangKeys[j];if($translationTable[possibleLangKey]&&("undefined"!=typeof $translationTable[possibleLangKey][translationId]?result=determineTranslationInstant(translationId,interpolateParams,interpolationId):($notFoundIndicatorLeft||$notFoundIndicatorRight)&&(result=applyNotFoundIndicators(translationId))),"undefined"!=typeof result)break}return result||""===result||(result=defaultInterpolator.interpolate(translationId,interpolateParams),$missingTranslationHandlerFactory&&!pendingLoader&&(result=translateByHandler(translationId,interpolateParams))),result},$translate.versionInfo=function(){return version},$translate.loaderCache=function(){return loaderCache},$translate.directivePriority=function(){return directivePriority},$translate.statefulFilter=function(){return statefulFilter},$loaderFactory&&(angular.equals($translationTable,{})&&$translate.use($translate.use()),$fallbackLanguage&&$fallbackLanguage.length))for(var processAsyncResult=function(translation){return translations(translation.key,translation.table),$rootScope.$emit("$translateChangeEnd",{language:translation.key}),translation},i=0,len=$fallbackLanguage.length;i<len;i++){var fallbackLanguageId=$fallbackLanguage[i];!$forceAsyncReloadEnabled&&$translationTable[fallbackLanguageId]||(langPromises[fallbackLanguageId]=loadAsync(fallbackLanguageId).then(processAsyncResult))}return $translate}]}function $translateDefaultInterpolation($interpolate,$translateSanitization){"use strict";var $locale,$translateInterpolator={},$identifier="default";return $translateInterpolator.setLocale=function(locale){$locale=locale},$translateInterpolator.getInterpolationIdentifier=function(){return $identifier},$translateInterpolator.useSanitizeValueStrategy=function(value){return $translateSanitization.useStrategy(value),this},$translateInterpolator.interpolate=function(string,interpolationParams){interpolationParams=interpolationParams||{},interpolationParams=$translateSanitization.sanitize(interpolationParams,"params");var interpolatedText=$interpolate(string)(interpolationParams);return interpolatedText=$translateSanitization.sanitize(interpolatedText,"text")},$translateInterpolator}function translateDirective($translate,$q,$interpolate,$compile,$parse,$rootScope){"use strict";var trim=function(){return this.toString().replace(/^\s+|\s+$/g,"")};return{restrict:"AE",scope:!0,priority:$translate.directivePriority(),compile:function(tElement,tAttr){var translateValuesExist=tAttr.translateValues?tAttr.translateValues:void 0,translateInterpolation=tAttr.translateInterpolation?tAttr.translateInterpolation:void 0,translateValueExist=tElement[0].outerHTML.match(/translate-value-+/i),interpolateRegExp="^(.*)("+$interpolate.startSymbol()+".*"+$interpolate.endSymbol()+")(.*)",watcherRegExp="^(.*)"+$interpolate.startSymbol()+"(.*)"+$interpolate.endSymbol()+"(.*)";return function(scope,iElement,iAttr){scope.interpolateParams={},scope.preText="",scope.postText="";var translationIds={},initInterpolationParams=function(interpolateParams,iAttr,tAttr){if(iAttr.translateValues&&angular.extend(interpolateParams,$parse(iAttr.translateValues)(scope.$parent)),translateValueExist)for(var attr in tAttr)if(Object.prototype.hasOwnProperty.call(iAttr,attr)&&"translateValue"===attr.substr(0,14)&&"translateValues"!==attr){var attributeName=angular.lowercase(attr.substr(14,1))+attr.substr(15);interpolateParams[attributeName]=tAttr[attr]}},observeElementTranslation=function(translationId){if(angular.isFunction(observeElementTranslation._unwatchOld)&&(observeElementTranslation._unwatchOld(),observeElementTranslation._unwatchOld=void 0),angular.equals(translationId,"")||!angular.isDefined(translationId)){var interpolateMatches=trim.apply(iElement.text()).match(interpolateRegExp);if(angular.isArray(interpolateMatches)){scope.preText=interpolateMatches[1],scope.postText=interpolateMatches[3],translationIds.translate=$interpolate(interpolateMatches[2])(scope.$parent);var watcherMatches=iElement.text().match(watcherRegExp);angular.isArray(watcherMatches)&&watcherMatches[2]&&watcherMatches[2].length&&(observeElementTranslation._unwatchOld=scope.$watch(watcherMatches[2],function(newValue){translationIds.translate=newValue,updateTranslations()}))}else translationIds.translate=iElement.text().replace(/^\s+|\s+$/g,"")}else translationIds.translate=translationId;updateTranslations()},observeAttributeTranslation=function(translateAttr){iAttr.$observe(translateAttr,function(translationId){translationIds[translateAttr]=translationId,updateTranslations()})};initInterpolationParams(scope.interpolateParams,iAttr,tAttr);var firstAttributeChangedEvent=!0;iAttr.$observe("translate",function(translationId){"undefined"==typeof translationId?observeElementTranslation(""):""===translationId&&firstAttributeChangedEvent||(translationIds.translate=translationId,updateTranslations()),firstAttributeChangedEvent=!1});for(var translateAttr in iAttr)iAttr.hasOwnProperty(translateAttr)&&"translateAttr"===translateAttr.substr(0,13)&&observeAttributeTranslation(translateAttr);if(iAttr.$observe("translateDefault",function(value){scope.defaultText=value}),translateValuesExist&&iAttr.$observe("translateValues",function(interpolateParams){interpolateParams&&scope.$parent.$watch(function(){angular.extend(scope.interpolateParams,$parse(interpolateParams)(scope.$parent))})}),translateValueExist){var observeValueAttribute=function(attrName){iAttr.$observe(attrName,function(value){var attributeName=angular.lowercase(attrName.substr(14,1))+attrName.substr(15);scope.interpolateParams[attributeName]=value})};for(var attr in iAttr)Object.prototype.hasOwnProperty.call(iAttr,attr)&&"translateValue"===attr.substr(0,14)&&"translateValues"!==attr&&observeValueAttribute(attr)}var updateTranslations=function(){for(var key in translationIds)translationIds.hasOwnProperty(key)&&void 0!==translationIds[key]&&updateTranslation(key,translationIds[key],scope,scope.interpolateParams,scope.defaultText)},updateTranslation=function(translateAttr,translationId,scope,interpolateParams,defaultTranslationText){translationId?$translate(translationId,interpolateParams,translateInterpolation,defaultTranslationText).then(function(translation){applyTranslation(translation,scope,!0,translateAttr)},function(translationId){applyTranslation(translationId,scope,!1,translateAttr)}):applyTranslation(translationId,scope,!1,translateAttr)},applyTranslation=function(value,scope,successful,translateAttr){if("translate"===translateAttr){successful||"undefined"==typeof scope.defaultText||(value=scope.defaultText),iElement.html(scope.preText+value+scope.postText);var globallyEnabled=$translate.isPostCompilingEnabled(),locallyDefined="undefined"!=typeof tAttr.translateCompile,locallyEnabled=locallyDefined&&"false"!==tAttr.translateCompile;(globallyEnabled&&!locallyDefined||locallyEnabled)&&$compile(iElement.contents())(scope)}else{successful||"undefined"==typeof scope.defaultText||(value=scope.defaultText);var attributeName=iAttr.$attr[translateAttr];"data-"===attributeName.substr(0,5)&&(attributeName=attributeName.substr(5)),attributeName=attributeName.substr(15),iElement.attr(attributeName,value)}};(translateValuesExist||translateValueExist||iAttr.translateDefault)&&scope.$watch("interpolateParams",updateTranslations,!0);var unbind=$rootScope.$on("$translateChangeSuccess",updateTranslations);iElement.text().length?observeElementTranslation(iAttr.translate?iAttr.translate:""):iAttr.translate&&observeElementTranslation(iAttr.translate),updateTranslations(),scope.$on("$destroy",unbind)}}}}function translateCloakDirective($rootScope,$translate){"use strict";return{compile:function(tElement){var applyCloak=function(){tElement.addClass($translate.cloakClassName())},removeCloak=function(){tElement.removeClass($translate.cloakClassName())},removeListener=$rootScope.$on("$translateChangeEnd",function(){removeCloak(),removeListener(),removeListener=null});return applyCloak(),function(scope,iElement,iAttr){iAttr.translateCloak&&iAttr.translateCloak.length&&iAttr.$observe("translateCloak",function(translationId){$translate(translationId).then(removeCloak,applyCloak)})}}}}function translateFilterFactory($parse,$translate){"use strict";var translateFilter=function(translationId,interpolateParams,interpolation){return angular.isObject(interpolateParams)||(interpolateParams=$parse(interpolateParams)(this)),$translate.instant(translationId,interpolateParams,interpolation)};return $translate.statefulFilter()&&(translateFilter.$stateful=!0),translateFilter}function $translationCache($cacheFactory){"use strict";return $cacheFactory("translations")}return angular.module("pascalprecht.translate",["ng"]).run(runTranslate),runTranslate.$inject=["$translate"],runTranslate.displayName="runTranslate",angular.module("pascalprecht.translate").provider("$translateSanitization",$translateSanitizationProvider),angular.module("pascalprecht.translate").constant("pascalprechtTranslateOverrider",{}).provider("$translate",$translate),$translate.$inject=["$STORAGE_KEY","$windowProvider","$translateSanitizationProvider","pascalprechtTranslateOverrider"],$translate.displayName="displayName",angular.module("pascalprecht.translate").factory("$translateDefaultInterpolation",$translateDefaultInterpolation),$translateDefaultInterpolation.$inject=["$interpolate","$translateSanitization"],$translateDefaultInterpolation.displayName="$translateDefaultInterpolation",angular.module("pascalprecht.translate").constant("$STORAGE_KEY","NG_TRANSLATE_LANG_KEY"),angular.module("pascalprecht.translate").directive("translate",translateDirective),translateDirective.$inject=["$translate","$q","$interpolate","$compile","$parse","$rootScope"],translateDirective.displayName="translateDirective",angular.module("pascalprecht.translate").directive("translateCloak",translateCloakDirective),translateCloakDirective.$inject=["$rootScope","$translate"],translateCloakDirective.displayName="translateCloakDirective",angular.module("pascalprecht.translate").filter("translate",translateFilterFactory),translateFilterFactory.$inject=["$parse","$translate"],translateFilterFactory.displayName="translateFilterFactory",angular.module("pascalprecht.translate").factory("$translationCache",$translationCache),$translationCache.$inject=["$cacheFactory"],$translationCache.displayName="$translationCache","pascalprecht.translate"}),function(root,factory){"function"==typeof define&&define.amd?define([],function(){return factory()}):"object"==typeof exports?module.exports=factory():factory()}(this,function(){function $translateCookieStorageFactory($cookieStore){"use strict";var $translateCookieStorage={get:function(name){return $cookieStore.get(name)},set:function(name,value){$cookieStore.put(name,value)},put:function(name,value){$cookieStore.put(name,value)}};return $translateCookieStorage}return angular.module("pascalprecht.translate").factory("$translateCookieStorage",$translateCookieStorageFactory),$translateCookieStorageFactory.$inject=["$cookieStore"],$translateCookieStorageFactory.displayName="$translateCookieStorage","pascalprecht.translate"}),"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="ui.router"),function(window,angular,undefined){"use strict";function inherit(parent,extra){return extend(new(extend(function(){},{prototype:parent})),extra)}function merge(dst){return forEach(arguments,function(obj){obj!==dst&&forEach(obj,function(value,key){dst.hasOwnProperty(key)||(dst[key]=value)})}),dst}function ancestors(first,second){var path=[];for(var n in first.path){if(first.path[n]!==second.path[n])break;path.push(first.path[n])}return path}function objectKeys(object){if(Object.keys)return Object.keys(object);var result=[];return forEach(object,function(val,key){result.push(key)}),result}function indexOf(array,value){if(Array.prototype.indexOf)return array.indexOf(value,Number(arguments[2])||0);var len=array.length>>>0,from=Number(arguments[2])||0;for(from=from<0?Math.ceil(from):Math.floor(from),from<0&&(from+=len);from<len;from++)if(from in array&&array[from]===value)return from;return-1}function inheritParams(currentParams,newParams,$current,$to){var parentParams,parents=ancestors($current,$to),inherited={},inheritList=[];for(var i in parents)if(parents[i].params&&(parentParams=objectKeys(parents[i].params),parentParams.length))for(var j in parentParams)indexOf(inheritList,parentParams[j])>=0||(inheritList.push(parentParams[j]),inherited[parentParams[j]]=currentParams[parentParams[j]]);return extend({},inherited,newParams)}function equalForKeys(a,b,keys){if(!keys){keys=[];for(var n in a)keys.push(n)}for(var i=0;i<keys.length;i++){var k=keys[i];if(a[k]!=b[k])return!1}return!0}function filterByKeys(keys,values){var filtered={};return forEach(keys,function(name){filtered[name]=values[name]}),filtered}function pick(obj){var copy={},keys=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));return forEach(keys,function(key){key in obj&&(copy[key]=obj[key])}),copy}function omit(obj){var copy={},keys=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));for(var key in obj)indexOf(keys,key)==-1&&(copy[key]=obj[key]);return copy}function filter(collection,callback){var array=isArray(collection),result=array?[]:{};return forEach(collection,function(val,i){callback(val,i)&&(result[array?result.length:i]=val)}),result}function map(collection,callback){var result=isArray(collection)?[]:{};return forEach(collection,function(val,i){result[i]=callback(val,i)}),result}function $Resolve($q,$injector){var VISIT_IN_PROGRESS=1,VISIT_DONE=2,NOTHING={},NO_DEPENDENCIES=[],NO_LOCALS=NOTHING,NO_PARENT=extend($q.when(NOTHING),{$$promises:NOTHING,$$values:NOTHING});this.study=function(invocables){function visit(value,key){if(visited[key]!==VISIT_DONE){if(cycle.push(key),visited[key]===VISIT_IN_PROGRESS)throw cycle.splice(0,indexOf(cycle,key)),new Error("Cyclic dependency: "+cycle.join(" -> "));if(visited[key]=VISIT_IN_PROGRESS,isString(value))plan.push(key,[function(){return $injector.get(value)}],NO_DEPENDENCIES);else{var params=$injector.annotate(value);forEach(params,function(param){param!==key&&invocables.hasOwnProperty(param)&&visit(invocables[param],param)}),plan.push(key,value,params)}cycle.pop(),visited[key]=VISIT_DONE}}function isResolve(value){return isObject(value)&&value.then&&value.$$promises}if(!isObject(invocables))throw new Error("'invocables' must be an object");var invocableKeys=objectKeys(invocables||{}),plan=[],cycle=[],visited={};return forEach(invocables,visit),invocables=cycle=visited=null,function(locals,parent,self){function done(){--wait||(merged||merge(values,parent.$$values),result.$$values=values,result.$$promises=result.$$promises||!0,delete result.$$inheritedValues,resolution.resolve(values))}function fail(reason){result.$$failure=reason,resolution.reject(reason)}function invoke(key,invocable,params){function onfailure(reason){invocation.reject(reason),fail(reason)}function proceed(){if(!isDefined(result.$$failure))try{invocation.resolve($injector.invoke(invocable,self,values)),invocation.promise.then(function(result){values[key]=result,done()},onfailure)}catch(e){onfailure(e)}}var invocation=$q.defer(),waitParams=0;forEach(params,function(dep){promises.hasOwnProperty(dep)&&!locals.hasOwnProperty(dep)&&(waitParams++,promises[dep].then(function(result){values[dep]=result,--waitParams||proceed()},onfailure))}),waitParams||proceed(),promises[key]=invocation.promise}if(isResolve(locals)&&self===undefined&&(self=parent,parent=locals,locals=null),locals){if(!isObject(locals))throw new Error("'locals' must be an object")}else locals=NO_LOCALS;if(parent){if(!isResolve(parent))throw new Error("'parent' must be a promise returned by $resolve.resolve()")}else parent=NO_PARENT;var resolution=$q.defer(),result=resolution.promise,promises=result.$$promises={},values=extend({},locals),wait=1+plan.length/3,merged=!1;if(isDefined(parent.$$failure))return fail(parent.$$failure),result;parent.$$inheritedValues&&merge(values,omit(parent.$$inheritedValues,invocableKeys)),extend(promises,parent.$$promises),parent.$$values?(merged=merge(values,omit(parent.$$values,invocableKeys)),result.$$inheritedValues=omit(parent.$$values,invocableKeys),done()):(parent.$$inheritedValues&&(result.$$inheritedValues=omit(parent.$$inheritedValues,invocableKeys)),parent.then(done,fail));for(var i=0,ii=plan.length;i<ii;i+=3)locals.hasOwnProperty(plan[i])?done():invoke(plan[i],plan[i+1],plan[i+2]);return result}},this.resolve=function(invocables,locals,parent,self){return this.study(invocables)(locals,parent,self)}}function $TemplateFactory($http,$templateCache,$injector){this.fromConfig=function(config,params,locals){return isDefined(config.template)?this.fromString(config.template,params):isDefined(config.templateUrl)?this.fromUrl(config.templateUrl,params):isDefined(config.templateProvider)?this.fromProvider(config.templateProvider,params,locals):null},this.fromString=function(template,params){return isFunction(template)?template(params):template},this.fromUrl=function(url,params){return isFunction(url)&&(url=url(params)),null==url?null:$http.get(url,{cache:$templateCache,headers:{Accept:"text/html"}}).then(function(response){return response.data})},this.fromProvider=function(provider,params,locals){return $injector.invoke(provider,null,locals||{params:params})}}function UrlMatcher(pattern,config,parentMatcher){function addParameter(id,type,config,location){if(paramNames.push(id),parentParams[id])return parentParams[id];if(!/^\w+(-+\w+)*(?:\[\])?$/.test(id))throw new Error("Invalid parameter name '"+id+"' in pattern '"+pattern+"'");if(params[id])throw new Error("Duplicate parameter name '"+id+"' in pattern '"+pattern+"'");return params[id]=new $$UMFP.Param(id,type,config,location),params[id]}function quoteRegExp(string,pattern,squash,optional){var surroundPattern=["",""],result=string.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!pattern)return result;switch(squash){case!1:surroundPattern=["(",")"+(optional?"?":"")];break;case!0:surroundPattern=["?(",")?"];break;default:surroundPattern=["("+squash+"|",")?"]}return result+surroundPattern[0]+pattern+surroundPattern[1]}function matchDetails(m,isSearch){var id,regexp,segment,type,cfg;return id=m[2]||m[3],cfg=config.params[id],segment=pattern.substring(last,m.index),regexp=isSearch?m[4]:m[4]||("*"==m[1]?".*":null),type=$$UMFP.type(regexp||"string")||inherit($$UMFP.type("string"),{pattern:new RegExp(regexp,config.caseInsensitive?"i":undefined)}),{id:id,regexp:regexp,segment:segment,type:type,cfg:cfg}}config=extend({params:{}},isObject(config)?config:{});var m,placeholder=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,searchPlaceholder=/([:]?)([\w\[\]-]+)|\{([\w\[\]-]+)(?:\:((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,compiled="^",last=0,segments=this.segments=[],parentParams=parentMatcher?parentMatcher.params:{},params=this.params=parentMatcher?parentMatcher.params.$$new():new $$UMFP.ParamSet,paramNames=[];this.source=pattern;for(var p,param,segment;(m=placeholder.exec(pattern))&&(p=matchDetails(m,!1),!(p.segment.indexOf("?")>=0));)param=addParameter(p.id,p.type,p.cfg,"path"),compiled+=quoteRegExp(p.segment,param.type.pattern.source,param.squash,param.isOptional),segments.push(p.segment),last=placeholder.lastIndex;segment=pattern.substring(last);var i=segment.indexOf("?");if(i>=0){var search=this.sourceSearch=segment.substring(i);if(segment=segment.substring(0,i),this.sourcePath=pattern.substring(0,last+i),search.length>0)for(last=0;m=searchPlaceholder.exec(search);)p=matchDetails(m,!0),param=addParameter(p.id,p.type,p.cfg,"search"),last=placeholder.lastIndex}else this.sourcePath=pattern,this.sourceSearch="";compiled+=quoteRegExp(segment)+(config.strict===!1?"/?":"")+"$",segments.push(segment),this.regexp=new RegExp(compiled,config.caseInsensitive?"i":undefined),this.prefix=segments[0],this.$$paramNames=paramNames}function Type(config){extend(this,config)}function $UrlMatcherFactory(){function valToString(val){return null!=val?val.toString().replace(/\//g,"%2F"):val}function valFromString(val){return null!=val?val.toString().replace(/%2F/g,"/"):val}function getDefaultConfig(){return{strict:isStrictMode,caseInsensitive:isCaseInsensitive}}function isInjectable(value){return isFunction(value)||isArray(value)&&isFunction(value[value.length-1])}function flushTypeQueue(){for(;typeQueue.length;){var type=typeQueue.shift();if(type.pattern)throw new Error("You cannot override a type's .pattern at runtime.");angular.extend($types[type.name],injector.invoke(type.def))}}function ParamSet(params){extend(this,params||{})}$$UMFP=this;var injector,isCaseInsensitive=!1,isStrictMode=!0,defaultSquashPolicy=!1,$types={},enqueue=!0,typeQueue=[],defaultTypes={string:{encode:valToString,decode:valFromString,is:function(val){return null==val||!isDefined(val)||"string"==typeof val},pattern:/[^\/]*/},"int":{encode:valToString,decode:function(val){return parseInt(val,10)},is:function(val){return isDefined(val)&&this.decode(val.toString())===val},pattern:/\d+/},bool:{encode:function(val){return val?1:0},decode:function(val){return 0!==parseInt(val,10)},is:function(val){return val===!0||val===!1},pattern:/0|1/},date:{encode:function(val){return this.is(val)?[val.getFullYear(),("0"+(val.getMonth()+1)).slice(-2),("0"+val.getDate()).slice(-2)].join("-"):undefined},decode:function(val){if(this.is(val))return val;var match=this.capture.exec(val);return match?new Date(match[1],match[2]-1,match[3]):undefined},is:function(val){return val instanceof Date&&!isNaN(val.valueOf())},equals:function(a,b){return this.is(a)&&this.is(b)&&a.toISOString()===b.toISOString()},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/},json:{encode:angular.toJson,decode:angular.fromJson,is:angular.isObject,equals:angular.equals,pattern:/[^\/]*/},any:{encode:angular.identity,decode:angular.identity,equals:angular.equals,pattern:/.*/}};$UrlMatcherFactory.$$getDefaultValue=function(config){if(!isInjectable(config.value))return config.value;if(!injector)throw new Error("Injectable functions cannot be called at configuration time");return injector.invoke(config.value)},this.caseInsensitive=function(value){return isDefined(value)&&(isCaseInsensitive=value),isCaseInsensitive},this.strictMode=function(value){return isDefined(value)&&(isStrictMode=value),isStrictMode},this.defaultSquashPolicy=function(value){if(!isDefined(value))return defaultSquashPolicy;if(value!==!0&&value!==!1&&!isString(value))throw new Error("Invalid squash policy: "+value+". Valid policies: false, true, arbitrary-string");return defaultSquashPolicy=value,value},this.compile=function(pattern,config){return new UrlMatcher(pattern,extend(getDefaultConfig(),config))},this.isMatcher=function(o){if(!isObject(o))return!1;var result=!0;return forEach(UrlMatcher.prototype,function(val,name){isFunction(val)&&(result=result&&isDefined(o[name])&&isFunction(o[name]))}),result},this.type=function(name,definition,definitionFn){if(!isDefined(definition))return $types[name];if($types.hasOwnProperty(name))throw new Error("A type named '"+name+"' has already been defined.");return $types[name]=new Type(extend({name:name},definition)),definitionFn&&(typeQueue.push({name:name,def:definitionFn}),enqueue||flushTypeQueue()),this},forEach(defaultTypes,function(type,name){$types[name]=new Type(extend({name:name},type))}),$types=inherit($types,{}),this.$get=["$injector",function($injector){return injector=$injector,enqueue=!1,flushTypeQueue(),forEach(defaultTypes,function(type,name){$types[name]||($types[name]=new Type(type))}),this}],this.Param=function(id,type,config,location){function unwrapShorthand(config){var keys=isObject(config)?objectKeys(config):[],isShorthand=indexOf(keys,"value")===-1&&indexOf(keys,"type")===-1&&indexOf(keys,"squash")===-1&&indexOf(keys,"array")===-1;return isShorthand&&(config={value:config}),config.$$fn=isInjectable(config.value)?config.value:function(){return config.value},config}function getType(config,urlType,location){if(config.type&&urlType)throw new Error("Param '"+id+"' has two type configurations.");return urlType?urlType:config.type?config.type instanceof Type?config.type:new Type(config.type):"config"===location?$types.any:$types.string}function getArrayMode(){var arrayDefaults={array:"search"===location&&"auto"},arrayParamNomenclature=id.match(/\[\]$/)?{array:!0}:{};return extend(arrayDefaults,arrayParamNomenclature,config).array}function getSquashPolicy(config,isOptional){var squash=config.squash;if(!isOptional||squash===!1)return!1;if(!isDefined(squash)||null==squash)return defaultSquashPolicy;if(squash===!0||isString(squash))return squash;throw new Error("Invalid squash policy: '"+squash+"'. Valid policies: false, true, or arbitrary string")}function getReplace(config,arrayMode,isOptional,squash){var replace,configuredKeys,defaultPolicy=[{from:"",to:isOptional||arrayMode?undefined:""},{from:null,to:isOptional||arrayMode?undefined:""}];return replace=isArray(config.replace)?config.replace:[],isString(squash)&&replace.push({from:squash,to:undefined}),configuredKeys=map(replace,function(item){return item.from}),filter(defaultPolicy,function(item){return indexOf(configuredKeys,item.from)===-1}).concat(replace)}function $$getDefaultValue(){if(!injector)throw new Error("Injectable functions cannot be called at configuration time");var defaultValue=injector.invoke(config.$$fn);if(null!==defaultValue&&defaultValue!==undefined&&!self.type.is(defaultValue))throw new Error("Default value ("+defaultValue+") for parameter '"+self.id+"' is not an instance of Type ("+self.type.name+")");return defaultValue}function $value(value){function hasReplaceVal(val){return function(obj){return obj.from===val}}function $replace(value){var replacement=map(filter(self.replace,hasReplaceVal(value)),function(obj){return obj.to});return replacement.length?replacement[0]:value}return value=$replace(value),isDefined(value)?self.type.$normalize(value):$$getDefaultValue()}function toString(){return"{Param:"+id+" "+type+" squash: '"+squash+"' optional: "+isOptional+"}"}var self=this;config=unwrapShorthand(config),type=getType(config,type,location);var arrayMode=getArrayMode();type=arrayMode?type.$asArray(arrayMode,"search"===location):type,"string"!==type.name||arrayMode||"path"!==location||config.value!==undefined||(config.value="");var isOptional=config.value!==undefined,squash=getSquashPolicy(config,isOptional),replace=getReplace(config,arrayMode,isOptional,squash);extend(this,{id:id,type:type,location:location,array:arrayMode,squash:squash,replace:replace,isOptional:isOptional,value:$value,dynamic:undefined,config:config,toString:toString})},ParamSet.prototype={$$new:function(){return inherit(this,extend(new ParamSet,{$$parent:this}))},$$keys:function(){for(var keys=[],chain=[],parent=this,ignore=objectKeys(ParamSet.prototype);parent;)chain.push(parent),parent=parent.$$parent;return chain.reverse(),forEach(chain,function(paramset){forEach(objectKeys(paramset),function(key){indexOf(keys,key)===-1&&indexOf(ignore,key)===-1&&keys.push(key)})}),keys},$$values:function(paramValues){var values={},self=this;return forEach(self.$$keys(),function(key){values[key]=self[key].value(paramValues&&paramValues[key])}),values},$$equals:function(paramValues1,paramValues2){var equal=!0,self=this;return forEach(self.$$keys(),function(key){var left=paramValues1&&paramValues1[key],right=paramValues2&&paramValues2[key];self[key].type.equals(left,right)||(equal=!1)}),equal},$$validates:function(paramValues){var i,param,rawVal,normalized,encoded,keys=this.$$keys();for(i=0;i<keys.length&&(param=this[keys[i]],rawVal=paramValues[keys[i]],rawVal!==undefined&&null!==rawVal||!param.isOptional);i++){if(normalized=param.type.$normalize(rawVal),!param.type.is(normalized))return!1;if(encoded=param.type.encode(normalized),angular.isString(encoded)&&!param.type.pattern.exec(encoded))return!1}return!0},$$parent:undefined},this.ParamSet=ParamSet}function $UrlRouterProvider($locationProvider,$urlMatcherFactory){function regExpPrefix(re){var prefix=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(re.source);return null!=prefix?prefix[1].replace(/\\(.)/g,"$1"):""}function interpolate(pattern,match){return pattern.replace(/\$(\$|\d{1,2})/,function(m,what){return match["$"===what?0:Number(what)]})}function handleIfMatch($injector,handler,match){if(!match)return!1;var result=$injector.invoke(handler,handler,{$match:match});return!isDefined(result)||result}function $get($location,$rootScope,$injector,$browser){function appendBasePath(url,isHtml5,absolute){return"/"===baseHref?url:isHtml5?baseHref.slice(0,-1)+url:absolute?baseHref.slice(1)+url:url}function update(evt){function check(rule){var handled=rule($injector,$location);return!!handled&&(isString(handled)&&$location.replace().url(handled),!0)}if(!evt||!evt.defaultPrevented){lastPushedUrl&&$location.url()===lastPushedUrl;lastPushedUrl=undefined;var i,n=rules.length;for(i=0;i<n;i++)if(check(rules[i]))return;otherwise&&check(otherwise)}}function listen(){return listener=listener||$rootScope.$on("$locationChangeSuccess",update)}var lastPushedUrl,baseHref=$browser.baseHref(),location=$location.url();return interceptDeferred||listen(),{sync:function(){update()},listen:function(){return listen()},update:function(read){return read?void(location=$location.url()):void($location.url()!==location&&($location.url(location),$location.replace()))},push:function(urlMatcher,params,options){var url=urlMatcher.format(params||{});null!==url&&params&&params["#"]&&(url+="#"+params["#"]),$location.url(url),lastPushedUrl=options&&options.$$avoidResync?$location.url():undefined,options&&options.replace&&$location.replace();
},href:function(urlMatcher,params,options){if(!urlMatcher.validates(params))return null;var isHtml5=$locationProvider.html5Mode();angular.isObject(isHtml5)&&(isHtml5=isHtml5.enabled);var url=urlMatcher.format(params);if(options=options||{},isHtml5||null===url||(url="#"+$locationProvider.hashPrefix()+url),null!==url&&params&&params["#"]&&(url+="#"+params["#"]),url=appendBasePath(url,isHtml5,options.absolute),!options.absolute||!url)return url;var slash=!isHtml5&&url?"/":"",port=$location.port();return port=80===port||443===port?"":":"+port,[$location.protocol(),"://",$location.host(),port,slash,url].join("")}}}var listener,rules=[],otherwise=null,interceptDeferred=!1;this.rule=function(rule){if(!isFunction(rule))throw new Error("'rule' must be a function");return rules.push(rule),this},this.otherwise=function(rule){if(isString(rule)){var redirect=rule;rule=function(){return redirect}}else if(!isFunction(rule))throw new Error("'rule' must be a function");return otherwise=rule,this},this.when=function(what,handler){var redirect,handlerIsString=isString(handler);if(isString(what)&&(what=$urlMatcherFactory.compile(what)),!handlerIsString&&!isFunction(handler)&&!isArray(handler))throw new Error("invalid 'handler' in when()");var strategies={matcher:function(what,handler){return handlerIsString&&(redirect=$urlMatcherFactory.compile(handler),handler=["$match",function($match){return redirect.format($match)}]),extend(function($injector,$location){return handleIfMatch($injector,handler,what.exec($location.path(),$location.search()))},{prefix:isString(what.prefix)?what.prefix:""})},regex:function(what,handler){if(what.global||what.sticky)throw new Error("when() RegExp must not be global or sticky");return handlerIsString&&(redirect=handler,handler=["$match",function($match){return interpolate(redirect,$match)}]),extend(function($injector,$location){return handleIfMatch($injector,handler,what.exec($location.path()))},{prefix:regExpPrefix(what)})}},check={matcher:$urlMatcherFactory.isMatcher(what),regex:what instanceof RegExp};for(var n in check)if(check[n])return this.rule(strategies[n](what,handler));throw new Error("invalid 'what' in when()")},this.deferIntercept=function(defer){defer===undefined&&(defer=!0),interceptDeferred=defer},this.$get=$get,$get.$inject=["$location","$rootScope","$injector","$browser"]}function $StateProvider($urlRouterProvider,$urlMatcherFactory){function isRelative(stateName){return 0===stateName.indexOf(".")||0===stateName.indexOf("^")}function findState(stateOrName,base){if(!stateOrName)return undefined;var isStr=isString(stateOrName),name=isStr?stateOrName:stateOrName.name,path=isRelative(name);if(path){if(!base)throw new Error("No reference point given for path '"+name+"'");base=findState(base);for(var rel=name.split("."),i=0,pathLength=rel.length,current=base;i<pathLength;i++)if(""!==rel[i]||0!==i){if("^"!==rel[i])break;if(!current.parent)throw new Error("Path '"+name+"' not valid for state '"+base.name+"'");current=current.parent}else current=base;rel=rel.slice(i).join("."),name=current.name+(current.name&&rel?".":"")+rel}var state=states[name];return!state||!isStr&&(isStr||state!==stateOrName&&state.self!==stateOrName)?undefined:state}function queueState(parentName,state){queue[parentName]||(queue[parentName]=[]),queue[parentName].push(state)}function flushQueuedChildren(parentName){for(var queued=queue[parentName]||[];queued.length;)registerState(queued.shift())}function registerState(state){state=inherit(state,{self:state,resolve:state.resolve||{},toString:function(){return this.name}});var name=state.name;if(!isString(name)||name.indexOf("@")>=0)throw new Error("State must have a valid name");if(states.hasOwnProperty(name))throw new Error("State '"+name+"'' is already defined");var parentName=name.indexOf(".")!==-1?name.substring(0,name.lastIndexOf(".")):isString(state.parent)?state.parent:isObject(state.parent)&&isString(state.parent.name)?state.parent.name:"";if(parentName&&!states[parentName])return queueState(parentName,state.self);for(var key in stateBuilder)isFunction(stateBuilder[key])&&(state[key]=stateBuilder[key](state,stateBuilder.$delegates[key]));return states[name]=state,!state[abstractKey]&&state.url&&$urlRouterProvider.when(state.url,["$match","$stateParams",function($match,$stateParams){$state.$current.navigable==state&&equalForKeys($match,$stateParams)||$state.transitionTo(state,$match,{inherit:!0,location:!1})}]),flushQueuedChildren(name),state}function isGlob(text){return text.indexOf("*")>-1}function doesStateMatchGlob(glob){for(var globSegments=glob.split("."),segments=$state.$current.name.split("."),i=0,l=globSegments.length;i<l;i++)"*"===globSegments[i]&&(segments[i]="*");return"**"===globSegments[0]&&(segments=segments.slice(indexOf(segments,globSegments[1])),segments.unshift("**")),"**"===globSegments[globSegments.length-1]&&(segments.splice(indexOf(segments,globSegments[globSegments.length-2])+1,Number.MAX_VALUE),segments.push("**")),globSegments.length==segments.length&&segments.join("")===globSegments.join("")}function decorator(name,func){return isString(name)&&!isDefined(func)?stateBuilder[name]:isFunction(func)&&isString(name)?(stateBuilder[name]&&!stateBuilder.$delegates[name]&&(stateBuilder.$delegates[name]=stateBuilder[name]),stateBuilder[name]=func,this):this}function state(name,definition){return isObject(name)?definition=name:definition.name=name,registerState(definition),this}function $get($rootScope,$q,$view,$injector,$resolve,$stateParams,$urlRouter,$location,$urlMatcherFactory){function handleRedirect(redirect,state,params,options){var evt=$rootScope.$broadcast("$stateNotFound",redirect,state,params);if(evt.defaultPrevented)return $urlRouter.update(),TransitionAborted;if(!evt.retry)return null;if(options.$retry)return $urlRouter.update(),TransitionFailed;var retryTransition=$state.transition=$q.when(evt.retry);return retryTransition.then(function(){return retryTransition!==$state.transition?TransitionSuperseded:(redirect.options.$retry=!0,$state.transitionTo(redirect.to,redirect.toParams,redirect.options))},function(){return TransitionAborted}),$urlRouter.update(),retryTransition}function resolveState(state,params,paramsAreFiltered,inherited,dst,options){function resolveViews(){var viewsPromises=[];return forEach(state.views,function(view,name){var injectables=view.resolve&&view.resolve!==state.resolve?view.resolve:{};injectables.$template=[function(){return $view.load(name,{view:view,locals:dst.globals,params:$stateParams,notify:options.notify})||""}],viewsPromises.push($resolve.resolve(injectables,dst.globals,dst.resolve,state).then(function(result){if(isFunction(view.controllerProvider)||isArray(view.controllerProvider)){var injectLocals=angular.extend({},injectables,dst.globals);result.$$controller=$injector.invoke(view.controllerProvider,null,injectLocals)}else result.$$controller=view.controller;result.$$state=state,result.$$controllerAs=view.controllerAs,dst[name]=result}))}),$q.all(viewsPromises).then(function(){return dst.globals})}var $stateParams=paramsAreFiltered?params:filterByKeys(state.params.$$keys(),params),locals={$stateParams:$stateParams};dst.resolve=$resolve.resolve(state.resolve,locals,dst.resolve,state);var promises=[dst.resolve.then(function(globals){dst.globals=globals})];return inherited&&promises.push(inherited),$q.all(promises).then(resolveViews).then(function(values){return dst})}var TransitionSuperseded=$q.reject(new Error("transition superseded")),TransitionPrevented=$q.reject(new Error("transition prevented")),TransitionAborted=$q.reject(new Error("transition aborted")),TransitionFailed=$q.reject(new Error("transition failed"));return root.locals={resolve:null,globals:{$stateParams:{}}},$state={params:{},current:root.self,$current:root,transition:null},$state.reload=function(state){return $state.transitionTo($state.current,$stateParams,{reload:state||!0,inherit:!1,notify:!0})},$state.go=function(to,params,options){return $state.transitionTo(to,params,extend({inherit:!0,relative:$state.$current},options))},$state.transitionTo=function(to,toParams,options){toParams=toParams||{},options=extend({location:!0,inherit:!1,relative:null,notify:!0,reload:!1,$retry:!1},options||{});var evt,from=$state.$current,fromParams=$state.params,fromPath=from.path,toState=findState(to,options.relative),hash=toParams["#"];if(!isDefined(toState)){var redirect={to:to,toParams:toParams,options:options},redirectResult=handleRedirect(redirect,from.self,fromParams,options);if(redirectResult)return redirectResult;if(to=redirect.to,toParams=redirect.toParams,options=redirect.options,toState=findState(to,options.relative),!isDefined(toState)){if(!options.relative)throw new Error("No such state '"+to+"'");throw new Error("Could not resolve '"+to+"' from state '"+options.relative+"'")}}if(toState[abstractKey])throw new Error("Cannot transition to abstract state '"+to+"'");if(options.inherit&&(toParams=inheritParams($stateParams,toParams||{},$state.$current,toState)),!toState.params.$$validates(toParams))return TransitionFailed;toParams=toState.params.$$values(toParams),to=toState;var toPath=to.path,keep=0,state=toPath[keep],locals=root.locals,toLocals=[];if(options.reload){if(isString(options.reload)||isObject(options.reload)){if(isObject(options.reload)&&!options.reload.name)throw new Error("Invalid reload state object");var reloadState=options.reload===!0?fromPath[0]:findState(options.reload);if(options.reload&&!reloadState)throw new Error("No such reload state '"+(isString(options.reload)?options.reload:options.reload.name)+"'");for(;state&&state===fromPath[keep]&&state!==reloadState;)locals=toLocals[keep]=state.locals,keep++,state=toPath[keep]}}else for(;state&&state===fromPath[keep]&&state.ownParams.$$equals(toParams,fromParams);)locals=toLocals[keep]=state.locals,keep++,state=toPath[keep];if(shouldSkipReload(to,toParams,from,fromParams,locals,options))return hash&&(toParams["#"]=hash),$state.params=toParams,copy($state.params,$stateParams),options.location&&to.navigable&&to.navigable.url&&($urlRouter.push(to.navigable.url,toParams,{$$avoidResync:!0,replace:"replace"===options.location}),$urlRouter.update(!0)),$state.transition=null,$q.when($state.current);if(toParams=filterByKeys(to.params.$$keys(),toParams||{}),options.notify&&$rootScope.$broadcast("$stateChangeStart",to.self,toParams,from.self,fromParams).defaultPrevented)return $rootScope.$broadcast("$stateChangeCancel",to.self,toParams,from.self,fromParams),$urlRouter.update(),TransitionPrevented;for(var resolved=$q.when(locals),l=keep;l<toPath.length;l++,state=toPath[l])locals=toLocals[l]=inherit(locals),resolved=resolveState(state,toParams,state===to,resolved,locals,options);var transition=$state.transition=resolved.then(function(){var l,entering,exiting;if($state.transition!==transition)return TransitionSuperseded;for(l=fromPath.length-1;l>=keep;l--)exiting=fromPath[l],exiting.self.onExit&&$injector.invoke(exiting.self.onExit,exiting.self,exiting.locals.globals),exiting.locals=null;for(l=keep;l<toPath.length;l++)entering=toPath[l],entering.locals=toLocals[l],entering.self.onEnter&&$injector.invoke(entering.self.onEnter,entering.self,entering.locals.globals);return hash&&(toParams["#"]=hash),$state.transition!==transition?TransitionSuperseded:($state.$current=to,$state.current=to.self,$state.params=toParams,copy($state.params,$stateParams),$state.transition=null,options.location&&to.navigable&&$urlRouter.push(to.navigable.url,to.navigable.locals.globals.$stateParams,{$$avoidResync:!0,replace:"replace"===options.location}),options.notify&&$rootScope.$broadcast("$stateChangeSuccess",to.self,toParams,from.self,fromParams),$urlRouter.update(!0),$state.current)},function(error){return $state.transition!==transition?TransitionSuperseded:($state.transition=null,evt=$rootScope.$broadcast("$stateChangeError",to.self,toParams,from.self,fromParams,error),evt.defaultPrevented||$urlRouter.update(),$q.reject(error))});return transition},$state.is=function(stateOrName,params,options){options=extend({relative:$state.$current},options||{});var state=findState(stateOrName,options.relative);return isDefined(state)?$state.$current===state&&(!params||equalForKeys(state.params.$$values(params),$stateParams)):undefined},$state.includes=function(stateOrName,params,options){if(options=extend({relative:$state.$current},options||{}),isString(stateOrName)&&isGlob(stateOrName)){if(!doesStateMatchGlob(stateOrName))return!1;stateOrName=$state.$current.name}var state=findState(stateOrName,options.relative);return isDefined(state)?!!isDefined($state.$current.includes[state.name])&&(!params||equalForKeys(state.params.$$values(params),$stateParams,objectKeys(params))):undefined},$state.href=function(stateOrName,params,options){options=extend({lossy:!0,inherit:!0,absolute:!1,relative:$state.$current},options||{});var state=findState(stateOrName,options.relative);if(!isDefined(state))return null;options.inherit&&(params=inheritParams($stateParams,params||{},$state.$current,state));var nav=state&&options.lossy?state.navigable:state;return nav&&nav.url!==undefined&&null!==nav.url?$urlRouter.href(nav.url,filterByKeys(state.params.$$keys().concat("#"),params||{}),{absolute:options.absolute}):null},$state.get=function(stateOrName,context){if(0===arguments.length)return map(objectKeys(states),function(name){return states[name].self});var state=findState(stateOrName,context||$state.$current);return state&&state.self?state.self:null},$state}function shouldSkipReload(to,toParams,from,fromParams,locals,options){function nonSearchParamsEqual(fromAndToState,fromParams,toParams){function notSearchParam(key){return"search"!=fromAndToState.params[key].location}var nonQueryParamKeys=fromAndToState.params.$$keys().filter(notSearchParam),nonQueryParams=pick.apply({},[fromAndToState.params].concat(nonQueryParamKeys)),nonQueryParamSet=new $$UMFP.ParamSet(nonQueryParams);return nonQueryParamSet.$$equals(fromParams,toParams)}if(!options.reload&&to===from&&(locals===from.locals||to.self.reloadOnSearch===!1&&nonSearchParamsEqual(from,fromParams,toParams)))return!0}var root,$state,states={},queue={},abstractKey="abstract",stateBuilder={parent:function(state){if(isDefined(state.parent)&&state.parent)return findState(state.parent);var compositeName=/^(.+)\.[^.]+$/.exec(state.name);return compositeName?findState(compositeName[1]):root},data:function(state){return state.parent&&state.parent.data&&(state.data=state.self.data=extend({},state.parent.data,state.data)),state.data},url:function(state){var url=state.url,config={params:state.params||{}};if(isString(url))return"^"==url.charAt(0)?$urlMatcherFactory.compile(url.substring(1),config):(state.parent.navigable||root).url.concat(url,config);if(!url||$urlMatcherFactory.isMatcher(url))return url;throw new Error("Invalid url '"+url+"' in state '"+state+"'")},navigable:function(state){return state.url?state:state.parent?state.parent.navigable:null},ownParams:function(state){var params=state.url&&state.url.params||new $$UMFP.ParamSet;return forEach(state.params||{},function(config,id){params[id]||(params[id]=new $$UMFP.Param(id,null,config,"config"))}),params},params:function(state){return state.parent&&state.parent.params?extend(state.parent.params.$$new(),state.ownParams):new $$UMFP.ParamSet},views:function(state){var views={};return forEach(isDefined(state.views)?state.views:{"":state},function(view,name){name.indexOf("@")<0&&(name+="@"+state.parent.name),views[name]=view}),views},path:function(state){return state.parent?state.parent.path.concat(state):[]},includes:function(state){var includes=state.parent?extend({},state.parent.includes):{};return includes[state.name]=!0,includes},$delegates:{}};root=registerState({name:"",url:"^",views:null,"abstract":!0}),root.navigable=null,this.decorator=decorator,this.state=state,this.$get=$get,$get.$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$urlRouter","$location","$urlMatcherFactory"]}function $ViewProvider(){function $get($rootScope,$templateFactory){return{load:function(name,options){var result,defaults={template:null,controller:null,view:null,locals:null,notify:!0,async:!0,params:{}};return options=extend(defaults,options),options.view&&(result=$templateFactory.fromConfig(options.view,options.params,options.locals)),result&&options.notify&&$rootScope.$broadcast("$viewContentLoading",options),result}}}this.$get=$get,$get.$inject=["$rootScope","$templateFactory"]}function $ViewScrollProvider(){var useAnchorScroll=!1;this.useAnchorScroll=function(){useAnchorScroll=!0},this.$get=["$anchorScroll","$timeout",function($anchorScroll,$timeout){return useAnchorScroll?$anchorScroll:function($element){return $timeout(function(){$element[0].scrollIntoView()},0,!1)}}]}function $ViewDirective($state,$injector,$uiViewScroll,$interpolate){function getService(){return $injector.has?function(service){return $injector.has(service)?$injector.get(service):null}:function(service){try{return $injector.get(service)}catch(e){return null}}}function getRenderer(attrs,scope){var statics=function(){return{enter:function(element,target,cb){target.after(element),cb()},leave:function(element,cb){element.remove(),cb()}}};if($animate)return{enter:function(element,target,cb){var promise=$animate.enter(element,null,target,cb);promise&&promise.then&&promise.then(cb)},leave:function(element,cb){var promise=$animate.leave(element,cb);promise&&promise.then&&promise.then(cb)}};if($animator){var animate=$animator&&$animator(scope,attrs);return{enter:function(element,target,cb){animate.enter(element,null,target),cb()},leave:function(element,cb){animate.leave(element),cb()}}}return statics()}var service=getService(),$animator=service("$animator"),$animate=service("$animate"),directive={restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(tElement,tAttrs,$transclude){return function(scope,$element,attrs){function cleanupLastView(){previousEl&&(previousEl.remove(),previousEl=null),currentScope&&(currentScope.$destroy(),currentScope=null),currentEl&&(renderer.leave(currentEl,function(){previousEl=null}),previousEl=currentEl,currentEl=null)}function updateView(firstTime){var newScope,name=getUiViewName(scope,attrs,$element,$interpolate),previousLocals=name&&$state.$current&&$state.$current.locals[name];if(firstTime||previousLocals!==latestLocals){newScope=scope.$new(),latestLocals=$state.$current.locals[name];var clone=$transclude(newScope,function(clone){renderer.enter(clone,$element,function(){currentScope&&currentScope.$emit("$viewContentAnimationEnded"),(angular.isDefined(autoScrollExp)&&!autoScrollExp||scope.$eval(autoScrollExp))&&$uiViewScroll(clone)}),cleanupLastView()});currentEl=clone,currentScope=newScope,currentScope.$emit("$viewContentLoaded"),currentScope.$eval(onloadExp)}}var previousEl,currentEl,currentScope,latestLocals,onloadExp=attrs.onload||"",autoScrollExp=attrs.autoscroll,renderer=getRenderer(attrs,scope);scope.$on("$stateChangeSuccess",function(){updateView(!1)}),scope.$on("$viewContentLoading",function(){updateView(!1)}),updateView(!0)}}};return directive}function $ViewDirectiveFill($compile,$controller,$state,$interpolate){return{restrict:"ECA",priority:-400,compile:function(tElement){var initial=tElement.html();return function(scope,$element,attrs){var current=$state.$current,name=getUiViewName(scope,attrs,$element,$interpolate),locals=current&&current.locals[name];if(locals){$element.data("$uiView",{name:name,state:locals.$$state}),$element.html(locals.$template?locals.$template:initial);var link=$compile($element.contents());if(locals.$$controller){locals.$scope=scope,locals.$element=$element;var controller=$controller(locals.$$controller,locals);locals.$$controllerAs&&(scope[locals.$$controllerAs]=controller),$element.data("$ngControllerController",controller),$element.children().data("$ngControllerController",controller)}link(scope)}}}}}function getUiViewName(scope,attrs,element,$interpolate){var name=$interpolate(attrs.uiView||attrs.name||"")(scope),inherited=element.inheritedData("$uiView");return name.indexOf("@")>=0?name:name+"@"+(inherited?inherited.state.name:"")}function parseStateRef(ref,current){var parsed,preparsed=ref.match(/^\s*({[^}]*})\s*$/);if(preparsed&&(ref=current+"("+preparsed[1]+")"),parsed=ref.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/),!parsed||4!==parsed.length)throw new Error("Invalid state ref '"+ref+"'");return{state:parsed[1],paramExpr:parsed[3]||null}}function stateContext(el){var stateData=el.parent().inheritedData("$uiView");if(stateData&&stateData.state&&stateData.state.name)return stateData.state}function $StateRefDirective($state,$timeout){var allowedOptions=["location","inherit","reload","absolute"];return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(scope,element,attrs,uiSrefActive){var ref=parseStateRef(attrs.uiSref,$state.current.name),params=null,base=stateContext(element)||$state.$current,hrefKind="[object SVGAnimatedString]"===Object.prototype.toString.call(element.prop("href"))?"xlink:href":"href",newHref=null,isAnchor="A"===element.prop("tagName").toUpperCase(),isForm="FORM"===element[0].nodeName,attr=isForm?"action":hrefKind,nav=!0,options={relative:base,inherit:!0},optionsOverride=scope.$eval(attrs.uiSrefOpts)||{};angular.forEach(allowedOptions,function(option){option in optionsOverride&&(options[option]=optionsOverride[option])});var update=function(newVal){if(newVal&&(params=angular.copy(newVal)),nav){newHref=$state.href(ref.state,params,options);var activeDirective=uiSrefActive[1]||uiSrefActive[0];return activeDirective&&activeDirective.$$addStateInfo(ref.state,params),null===newHref?(nav=!1,!1):void attrs.$set(attr,newHref)}};ref.paramExpr&&(scope.$watch(ref.paramExpr,function(newVal,oldVal){newVal!==params&&update(newVal)},!0),params=angular.copy(scope.$eval(ref.paramExpr))),update(),isForm||element.bind("click",function(e){var button=e.which||e.button;if(!(button>1||e.ctrlKey||e.metaKey||e.shiftKey||element.attr("target"))){var transition=$timeout(function(){$state.go(ref.state,params,options)});e.preventDefault();var ignorePreventDefaultCount=isAnchor&&!newHref?1:0;e.preventDefault=function(){ignorePreventDefaultCount--<=0&&$timeout.cancel(transition)}}})}}}function $StateRefActiveDirective($state,$stateParams,$interpolate){return{restrict:"A",controller:["$scope","$element","$attrs",function($scope,$element,$attrs){function update(){anyMatch()?$element.addClass(activeClass):$element.removeClass(activeClass)}function anyMatch(){for(var i=0;i<states.length;i++)if(isMatch(states[i].state,states[i].params))return!0;return!1}function isMatch(state,params){return"undefined"!=typeof $attrs.uiSrefActiveEq?$state.is(state.name,params):$state.includes(state.name,params)}var activeClass,states=[];activeClass=$interpolate($attrs.uiSrefActiveEq||$attrs.uiSrefActive||"",!1)($scope),this.$$addStateInfo=function(newState,newParams){var state=$state.get(newState,stateContext($element));states.push({state:state||{name:newState},params:newParams}),update()},$scope.$on("$stateChangeSuccess",update)}]}}function $IsStateFilter($state){var isFilter=function(state){return $state.is(state)};return isFilter.$stateful=!0,isFilter}function $IncludedByStateFilter($state){var includesFilter=function(state){return $state.includes(state)};return includesFilter.$stateful=!0,includesFilter}var isDefined=angular.isDefined,isFunction=angular.isFunction,isString=angular.isString,isObject=angular.isObject,isArray=angular.isArray,forEach=angular.forEach,extend=angular.extend,copy=angular.copy;angular.module("ui.router.util",["ng"]),angular.module("ui.router.router",["ui.router.util"]),angular.module("ui.router.state",["ui.router.router","ui.router.util"]),angular.module("ui.router",["ui.router.state"]),angular.module("ui.router.compat",["ui.router"]),$Resolve.$inject=["$q","$injector"],angular.module("ui.router.util").service("$resolve",$Resolve),$TemplateFactory.$inject=["$http","$templateCache","$injector"],angular.module("ui.router.util").service("$templateFactory",$TemplateFactory);var $$UMFP;UrlMatcher.prototype.concat=function(pattern,config){var defaultConfig={caseInsensitive:$$UMFP.caseInsensitive(),strict:$$UMFP.strictMode(),squash:$$UMFP.defaultSquashPolicy()};return new UrlMatcher(this.sourcePath+pattern+this.sourceSearch,extend(defaultConfig,config),this)},UrlMatcher.prototype.toString=function(){return this.source},UrlMatcher.prototype.exec=function(path,searchParams){function decodePathArray(string){function reverseString(str){return str.split("").reverse().join("")}function unquoteDashes(str){return str.replace(/\\-/g,"-")}var split=reverseString(string).split(/-(?!\\)/),allReversed=map(split,reverseString);return map(allReversed,unquoteDashes).reverse()}var m=this.regexp.exec(path);if(!m)return null;searchParams=searchParams||{};var i,j,paramName,paramNames=this.parameters(),nTotal=paramNames.length,nPath=this.segments.length-1,values={};if(nPath!==m.length-1)throw new Error("Unbalanced capture group in route '"+this.source+"'");for(i=0;i<nPath;i++){paramName=paramNames[i];var param=this.params[paramName],paramVal=m[i+1];for(j=0;j<param.replace;j++)param.replace[j].from===paramVal&&(paramVal=param.replace[j].to);paramVal&&param.array===!0&&(paramVal=decodePathArray(paramVal)),values[paramName]=param.value(paramVal)}for(;i<nTotal;i++)paramName=paramNames[i],values[paramName]=this.params[paramName].value(searchParams[paramName]);return values},UrlMatcher.prototype.parameters=function(param){return isDefined(param)?this.params[param]||null:this.$$paramNames},UrlMatcher.prototype.validates=function(params){return this.params.$$validates(params)},UrlMatcher.prototype.format=function(values){function encodeDashes(str){return encodeURIComponent(str).replace(/-/g,function(c){return"%5C%"+c.charCodeAt(0).toString(16).toUpperCase()})}values=values||{};var segments=this.segments,params=this.parameters(),paramset=this.params;if(!this.validates(values))return null;var i,search=!1,nPath=segments.length-1,nTotal=params.length,result=segments[0];for(i=0;i<nTotal;i++){var isPathParam=i<nPath,name=params[i],param=paramset[name],value=param.value(values[name]),isDefaultValue=param.isOptional&&param.type.equals(param.value(),value),squash=!!isDefaultValue&&param.squash,encoded=param.type.encode(value);if(isPathParam){var nextSegment=segments[i+1];if(squash===!1)null!=encoded&&(result+=isArray(encoded)?map(encoded,encodeDashes).join("-"):encodeURIComponent(encoded)),result+=nextSegment;else if(squash===!0){var capture=result.match(/\/$/)?/\/?(.*)/:/(.*)/;result+=nextSegment.match(capture)[1]}else isString(squash)&&(result+=squash+nextSegment)}else{if(null==encoded||isDefaultValue&&squash!==!1)continue;isArray(encoded)||(encoded=[encoded]),encoded=map(encoded,encodeURIComponent).join("&"+name+"="),result+=(search?"&":"?")+(name+"="+encoded),search=!0}}return result},Type.prototype.is=function(val,key){return!0},Type.prototype.encode=function(val,key){return val},Type.prototype.decode=function(val,key){return val},Type.prototype.equals=function(a,b){return a==b},Type.prototype.$subPattern=function(){var sub=this.pattern.toString();return sub.substr(1,sub.length-2)},Type.prototype.pattern=/.*/,Type.prototype.toString=function(){return"{Type:"+this.name+"}"},Type.prototype.$normalize=function(val){return this.is(val)?val:this.decode(val)},Type.prototype.$asArray=function(mode,isSearch){function ArrayType(type,mode){function bindTo(type,callbackName){return function(){return type[callbackName].apply(type,arguments)}}function arrayWrap(val){return isArray(val)?val:isDefined(val)?[val]:[]}function arrayUnwrap(val){switch(val.length){case 0:return undefined;case 1:return"auto"===mode?val[0]:val;default:return val}}function falsey(val){return!val}function arrayHandler(callback,allTruthyMode){return function(val){val=arrayWrap(val);var result=map(val,callback);return allTruthyMode===!0?0===filter(result,falsey).length:arrayUnwrap(result)}}function arrayEqualsHandler(callback){return function(val1,val2){var left=arrayWrap(val1),right=arrayWrap(val2);if(left.length!==right.length)return!1;for(var i=0;i<left.length;i++)if(!callback(left[i],right[i]))return!1;return!0}}this.encode=arrayHandler(bindTo(type,"encode")),this.decode=arrayHandler(bindTo(type,"decode")),this.is=arrayHandler(bindTo(type,"is"),!0),this.equals=arrayEqualsHandler(bindTo(type,"equals")),this.pattern=type.pattern,this.$normalize=arrayHandler(bindTo(type,"$normalize")),this.name=type.name,this.$arrayMode=mode}if(!mode)return this;if("auto"===mode&&!isSearch)throw new Error("'auto' array mode is for query parameters only");return new ArrayType(this,mode)},angular.module("ui.router.util").provider("$urlMatcherFactory",$UrlMatcherFactory),angular.module("ui.router.util").run(["$urlMatcherFactory",function($urlMatcherFactory){}]),$UrlRouterProvider.$inject=["$locationProvider","$urlMatcherFactoryProvider"],angular.module("ui.router.router").provider("$urlRouter",$UrlRouterProvider),$StateProvider.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider"],angular.module("ui.router.state").value("$stateParams",{}).provider("$state",$StateProvider),$ViewProvider.$inject=[],angular.module("ui.router.state").provider("$view",$ViewProvider),angular.module("ui.router.state").provider("$uiViewScroll",$ViewScrollProvider),$ViewDirective.$inject=["$state","$injector","$uiViewScroll","$interpolate"],$ViewDirectiveFill.$inject=["$compile","$controller","$state","$interpolate"],angular.module("ui.router.state").directive("uiView",$ViewDirective),angular.module("ui.router.state").directive("uiView",$ViewDirectiveFill),$StateRefDirective.$inject=["$state","$timeout"],$StateRefActiveDirective.$inject=["$state","$stateParams","$interpolate"],angular.module("ui.router.state").directive("uiSref",$StateRefDirective).directive("uiSrefActive",$StateRefActiveDirective).directive("uiSrefActiveEq",$StateRefActiveDirective),$IsStateFilter.$inject=["$state"],$IncludedByStateFilter.$inject=["$state"],angular.module("ui.router.state").filter("isState",$IsStateFilter).filter("includedByState",$IncludedByStateFilter)}(window,window.angular),angular.module("underscore.string",[]).filter("s",function(){return function(str,fn,params){return str=str||"",params=params||[],params.unshift(str),fn?s[fn].apply(this,params):str}}),angular.module("underscore.string",[]).factory("str",function(){return function(str,fn,params){return str=str||"",params=params||[],params.unshift(str),fn?s[fn].apply(this,params):str}}),function(){function n(a){return void 0!==a}function ba(){}function ca(a){a.vb=function(){return a.uf?a.uf:a.uf=new a}}function da(a){var b=typeof a;if("object"==b){if(!a)return"null";if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function ea(a){return"array"==da(a)}function fa(a){var b=da(a);return"array"==b||"object"==b&&"number"==typeof a.length}function p(a){return"string"==typeof a}function ga(a){return"number"==typeof a}function ha(a){return"function"==da(a)}function ia(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}function ja(a,b,c){return a.call.apply(a.bind,arguments)}function ka(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(c,d),a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function q(a,b,c){return q=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ja:ka,
q.apply(null,arguments)}function ma(a,b){function c(){}c.prototype=b.prototype,a.$g=b.prototype,a.prototype=new c,a.prototype.constructor=a,a.Wg=function(a,c,f){for(var h=Array(arguments.length-2),k=2;k<arguments.length;k++)h[k-2]=arguments[k];return b.prototype[c].apply(a,h)}}function r(a,b){for(var c in a)b.call(void 0,a[c],c,a)}function na(a,b){var d,c={};for(d in a)c[d]=b.call(void 0,a[d],d,a);return c}function oa(a,b){for(var c in a)if(!b.call(void 0,a[c],c,a))return!1;return!0}function pa(a){var c,b=0;for(c in a)b++;return b}function qa(a){for(var b in a)return b}function ra(a){var d,b=[],c=0;for(d in a)b[c++]=a[d];return b}function sa(a){var d,b=[],c=0;for(d in a)b[c++]=d;return b}function ta(a,b){for(var c in a)if(a[c]==b)return!0;return!1}function ua(a,b,c){for(var d in a)if(b.call(c,a[d],d,a))return d}function va(a,b){var c=ua(a,b,void 0);return c&&a[c]}function wa(a){for(var b in a)return!1;return!0}function xa(a){var c,b={};for(c in a)b[c]=a[c];return b}function za(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<ya.length;f++)c=ya[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}}function Aa(a){if(a=String(a),/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(b){}throw Error("Invalid JSON string: "+a)}function Ba(){this.Sd=void 0}function Ca(a,b,c){switch(typeof b){case"string":Da(b,c);break;case"number":c.push(isFinite(b)&&!isNaN(b)?b:"null");break;case"boolean":c.push(b);break;case"undefined":c.push("null");break;case"object":if(null==b){c.push("null");break}if(ea(b)){var d=b.length;c.push("[");for(var e="",f=0;f<d;f++)c.push(e),e=b[f],Ca(a,a.Sd?a.Sd.call(b,String(f),e):e,c),e=",";c.push("]");break}c.push("{"),d="";for(f in b)Object.prototype.hasOwnProperty.call(b,f)&&(e=b[f],"function"!=typeof e&&(c.push(d),Da(f,c),c.push(":"),Ca(a,a.Sd?a.Sd.call(b,f,e):e,c),d=","));c.push("}");break;case"function":break;default:throw Error("Unknown type: "+typeof b)}}function Da(a,b){b.push('"',a.replace(Fa,function(a){if(a in Ea)return Ea[a];var b=a.charCodeAt(0),e="\\u";return 16>b?e+="000":256>b?e+="00":4096>b&&(e+="0"),Ea[a]=e+b.toString(16)}),'"')}function Ga(){return Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^la()).toString(36)}function Ka(){this.Wa=-1}function La(){this.Wa=-1,this.Wa=64,this.P=[],this.ne=[],this.Uf=[],this.Ld=[],this.Ld[0]=128;for(var a=1;a<this.Wa;++a)this.Ld[a]=0;this.ee=this.ac=0,this.reset()}function Ma(a,b,c){c||(c=0);var d=a.Uf;if(p(b))for(var e=0;16>e;e++)d[e]=b.charCodeAt(c)<<24|b.charCodeAt(c+1)<<16|b.charCodeAt(c+2)<<8|b.charCodeAt(c+3),c+=4;else for(e=0;16>e;e++)d[e]=b[c]<<24|b[c+1]<<16|b[c+2]<<8|b[c+3],c+=4;for(e=16;80>e;e++){var f=d[e-3]^d[e-8]^d[e-14]^d[e-16];d[e]=4294967295&(f<<1|f>>>31)}b=a.P[0],c=a.P[1];for(var m,h=a.P[2],k=a.P[3],l=a.P[4],e=0;80>e;e++)40>e?20>e?(f=k^c&(h^k),m=1518500249):(f=c^h^k,m=1859775393):60>e?(f=c&h|k&(c|h),m=2400959708):(f=c^h^k,m=3395469782),f=(b<<5|b>>>27)+f+l+m+d[e]&4294967295,l=k,k=h,h=4294967295&(c<<30|c>>>2),c=b,b=f;a.P[0]=a.P[0]+b&4294967295,a.P[1]=a.P[1]+c&4294967295,a.P[2]=a.P[2]+h&4294967295,a.P[3]=a.P[3]+k&4294967295,a.P[4]=a.P[4]+l&4294967295}function Ta(a,b){var c=Ua(a,b,void 0);return 0>c?null:p(a)?a.charAt(c):a[c]}function Ua(a,b,c){for(var d=a.length,e=p(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&b.call(c,e[f],f,a))return f;return-1}function Va(a,b){var c=Na(a,b);0<=c&&u.splice.call(a,c,1)}function Wa(a,b,c){return 2>=arguments.length?u.slice.call(a,b):u.slice.call(a,b,c)}function Xa(a,b){a.sort(b||Ya)}function Ya(a,b){return a>b?1:a<b?-1:0}function fb(a,b){if(!fa(a))throw Error("encodeByteArray takes an array as a parameter");gb();for(var c=b?db:cb,d=[],e=0;e<a.length;e+=3){var f=a[e],h=e+1<a.length,k=h?a[e+1]:0,l=e+2<a.length,m=l?a[e+2]:0,t=f>>2,f=(3&f)<<4|k>>4,k=(15&k)<<2|m>>6,m=63&m;l||(m=64,h||(k=64)),d.push(c[t],c[f],c[k],c[m])}return d.join("")}function gb(){if(!cb){cb={},db={},eb={};for(var a=0;65>a;a++)cb[a]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(a),db[a]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(a),eb[db[a]]=a,62<=a&&(eb["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(a)]=a)}}function v(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function w(a,b){if(Object.prototype.hasOwnProperty.call(a,b))return a[b]}function ib(a,b){for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&b(c,a[c])}function jb(a){var b={};return ib(a,function(a,d){b[a]=d}),b}function kb(a){var b=[];return ib(a,function(a,d){ea(d)?Oa(d,function(d){b.push(encodeURIComponent(a)+"="+encodeURIComponent(d))}):b.push(encodeURIComponent(a)+"="+encodeURIComponent(d))}),b.length?"&"+b.join("&"):""}function lb(a){var b={};return a=a.replace(/^\?/,"").split("&"),Oa(a,function(a){a&&(a=a.split("="),b[a[0]]=a[1])}),b}function x(a,b,c,d){var e;if(d<b?e="at least "+b:d>c&&(e=0===c?"none":"no more than "+c),e)throw Error(a+" failed: Was called with "+d+(1===d?" argument.":" arguments.")+" Expects "+e+".")}function z(a,b,c){var d="";switch(b){case 1:d=c?"first":"First";break;case 2:d=c?"second":"Second";break;case 3:d=c?"third":"Third";break;case 4:d=c?"fourth":"Fourth";break;default:throw Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return a=a+" failed: "+(d+" argument ")}function A(a,b,c,d){if((!d||n(c))&&!ha(c))throw Error(z(a,b,d)+"must be a valid function.")}function mb(a,b,c){if(n(c)&&(!ia(c)||null===c))throw Error(z(a,b,!0)+"must be a valid context object.")}function nb(a){return"undefined"!=typeof JSON&&n(JSON.parse)?JSON.parse(a):Aa(a)}function B(a){if("undefined"!=typeof JSON&&n(JSON.stringify))a=JSON.stringify(a);else{var b=[];Ca(new Ba,a,b),a=b.join("")}return a}function ob(){this.Wd=C}function pb(){}function rb(a,b,c){this.Rf=a,this.Ka=b,this.Kd=c}function vb(){this.ub=[]}function wb(a,b){for(var c=null,d=0;d<b.length;d++){var e=b[d],f=e.Zb();null===c||f.ca(c.Zb())||(a.ub.push(c),c=null),null===c&&(c=new xb(f)),c.add(e)}c&&a.ub.push(c)}function yb(a,b,c){wb(a,c),zb(a,function(a){return a.ca(b)})}function Ab(a,b,c){wb(a,c),zb(a,function(a){return a.contains(b)||b.contains(a)})}function zb(a,b){for(var c=!0,d=0;d<a.ub.length;d++){var e=a.ub[d];if(e)if(e=e.Zb(),b(e)){for(var e=a.ub[d],f=0;f<e.vd.length;f++){var h=e.vd[f];if(null!==h){e.vd[f]=null;var k=h.Vb();Bb&&Cb("event: "+h.toString()),Db(k)}}a.ub[d]=null}else c=!1}c&&(a.ub=[])}function xb(a){this.ra=a,this.vd=[]}function D(a,b,c,d){this.type=a,this.Ja=b,this.Xa=c,this.Le=d,this.Qd=void 0}function Eb(a){return new D(Fb,a)}function Gb(a,b,c,d){this.ve=b,this.$d=c,this.Qd=d,this.ud=a}function Hb(a,b,c){this.ve=a,this.error=b,this.path=c}function tb(a,b,c){this.w=a,this.ea=b,this.Ub=c}function Ib(a){return a.ea}function Jb(a,b){return b.e()?a.ea&&!a.Ub:sb(a,E(b))}function sb(a,b){return a.ea&&!a.Ub||a.w.Da(b)}function Kb(a){this.eg=a,this.Dd=null}function Lb(a,b){this.Nf={},this.fd=new Kb(a),this.ba=b;var c=1e4+2e4*Math.random();setTimeout(q(this.If,this),Math.floor(c))}function Mb(){this.Ec={}}function Nb(a,b,c){n(c)||(c=1),v(a.Ec,b)||(a.Ec[b]=0),a.Ec[b]+=c}function Qb(a){return a=a.toString(),Ob[a]||(Ob[a]=new Mb),Ob[a]}function Rb(a,b){var c=a.toString();return Pb[c]||(Pb[c]=b()),Pb[c]}function F(a,b){this.name=a,this.S=b}function Sb(a,b){return new F(a,b)}function Tb(a,b){return Ub(a.name,b.name)}function Vb(a,b){return Ub(a,b)}function Wb(a,b,c){this.type=Xb,this.source=a,this.path=b,this.Ga=c}function Yb(a,b){this.type=Zb,this.source=a,this.path=b}function $b(a,b){this.La=a,this.wa=b?b:ac}function bc(a,b){for(var c,d=a.wa,e=null;!d.e();){if(c=a.La(b,d.key),0===c){if(d.left.e())return e?e.key:null;for(d=d.left;!d.right.e();)d=d.right;return d.key}0>c?d=d.left:0<c&&(e=d,d=d.right)}throw Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}function cc(a,b,c,d,e){for(this.Ud=e||null,this.Ge=d,this.Qa=[],e=1;!a.e();)if(e=b?c(a.key,b):1,d&&(e*=-1),0>e)a=this.Ge?a.left:a.right;else{if(0===e){this.Qa.push(a);break}this.Qa.push(a),a=this.Ge?a.right:a.left}}function J(a){if(0===a.Qa.length)return null;var c,b=a.Qa.pop();if(c=a.Ud?a.Ud(b.key,b.value):{key:b.key,value:b.value},a.Ge)for(b=b.left;!b.e();)a.Qa.push(b),b=b.right;else for(b=b.right;!b.e();)a.Qa.push(b),b=b.left;return c}function dc(a){if(0===a.Qa.length)return null;var b;return b=a.Qa,b=b[b.length-1],a.Ud?a.Ud(b.key,b.value):{key:b.key,value:b.value}}function ec(a,b,c,d,e){this.key=a,this.value=b,this.color=null==c||c,this.left=null!=d?d:ac,this.right=null!=e?e:ac}function fc(a){return a.left.e()?a:fc(a.left)}function hc(a){return a.left.e()?ac:(a.left.fa()||a.left.left.fa()||(a=ic(a)),a=a.X(null,null,null,hc(a.left),null),gc(a))}function gc(a){return a.right.fa()&&!a.left.fa()&&(a=lc(a)),a.left.fa()&&a.left.left.fa()&&(a=jc(a)),a.left.fa()&&a.right.fa()&&(a=kc(a)),a}function ic(a){return a=kc(a),a.right.left.fa()&&(a=a.X(null,null,null,null,jc(a.right)),a=lc(a),a=kc(a)),a}function lc(a){return a.right.X(null,null,a.color,a.X(null,null,!0,null,a.right.left),null)}function jc(a){return a.left.X(null,null,a.color,null,a.X(null,null,!0,a.left.right,null))}function kc(a){return a.X(null,null,!a.color,a.left.X(null,null,!a.left.color,null,null),a.right.X(null,null,!a.right.color,null,null))}function mc(){}function nc(a,b){return a&&"object"==typeof a?(K(".sv"in a,"Unexpected leaf node or priority contents"),b[a[".sv"]]):a}function oc(a,b){var c=new pc;return qc(a,new L(""),function(a,e){c.nc(a,rc(e,b))}),c}function rc(a,b){var d,c=a.B().H(),c=nc(c,b);if(a.L()){var e=nc(a.Ca(),b);return e!==a.Ca()||c!==a.B().H()?new sc(e,M(c)):a}return d=a,c!==a.B().H()&&(d=d.ga(new sc(c))),a.R(N,function(a,c){var e=rc(c,b);e!==c&&(d=d.O(a,e))}),d}function L(a,b){if(1==arguments.length){this.n=a.split("/");for(var c=0,d=0;d<this.n.length;d++)0<this.n[d].length&&(this.n[c]=this.n[d],c++);this.n.length=c,this.Z=0}else this.n=a,this.Z=b}function O(a,b){var c=E(a);if(null===c)return b;if(c===E(b))return O(H(a),H(b));throw Error("INTERNAL ERROR: innerPath ("+b+") is not within outerPath ("+a+")")}function E(a){return a.Z>=a.n.length?null:a.n[a.Z]}function tc(a){return a.n.length-a.Z}function H(a){var b=a.Z;return b<a.n.length&&b++,new L(a.n,b)}function uc(a){return a.Z<a.n.length?a.n[a.n.length-1]:null}function vc(a,b){this.Ra=a.slice(),this.Ha=Math.max(1,this.Ra.length),this.lf=b;for(var c=0;c<this.Ra.length;c++)this.Ha+=wc(this.Ra[c]);xc(this)}function xc(a){if(768<a.Ha)throw Error(a.lf+"has a key path longer than 768 bytes ("+a.Ha+").");if(32<a.Ra.length)throw Error(a.lf+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+yc(a))}function yc(a){return 0==a.Ra.length?"":"in property '"+a.Ra.join(".")+"'"}function zc(){this.wc={}}function Ac(a){this.Fc=a,this.Pd="firebase:"}function Bc(a){try{if("undefined"!=typeof window&&"undefined"!=typeof window[a]){var b=window[a];return b.setItem("firebase:sentinel","cache"),b.removeItem("firebase:sentinel"),new Ac(b)}}catch(c){}return new zc}function Dc(a,b,c,d,e){this.host=a.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.lb=b,this.Db=c,this.Ug=d,this.Od=e||"",this.Pa=Cc.get("host:"+a)||this.host}function Ec(a,b){b!==a.Pa&&(a.Pa=b,"s-"===a.Pa.substr(0,2)&&Cc.set("host:"+a.host,a.Pa))}function K(a,b){if(!a)throw Gc(b)}function Gc(a){return Error("Firebase ("+hb+") INTERNAL ASSERT FAILED: "+a)}function Hc(a){try{var b;if("undefined"!=typeof atob)b=atob(a);else{gb();for(var c=eb,d=[],e=0;e<a.length;){var f=c[a.charAt(e++)],h=e<a.length?c[a.charAt(e)]:0;++e;var k=e<a.length?c[a.charAt(e)]:64;++e;var l=e<a.length?c[a.charAt(e)]:64;if(++e,null==f||null==h||null==k||null==l)throw Error();d.push(f<<2|h>>4),64!=k&&(d.push(h<<4&240|k>>2),64!=l&&d.push(k<<6&192|l))}if(8192>d.length)b=String.fromCharCode.apply(null,d);else{for(a="",c=0;c<d.length;c+=8192)a+=String.fromCharCode.apply(null,Wa(d,c,c+8192));b=a}}return b}catch(m){Cb("base64Decode failed: ",m)}return null}function Ic(a){var b=Jc(a);a=new La,a.update(b);var b=[],c=8*a.ee;56>a.ac?a.update(a.Ld,56-a.ac):a.update(a.Ld,a.Wa-(a.ac-56));for(var d=a.Wa-1;56<=d;d--)a.ne[d]=255&c,c/=256;for(Ma(a,a.ne),d=c=0;5>d;d++)for(var e=24;0<=e;e-=8)b[c]=a.P[d]>>e&255,++c;return fb(b)}function Kc(a){for(var b="",c=0;c<arguments.length;c++)b=fa(arguments[c])?b+Kc.apply(null,arguments[c]):"object"==typeof arguments[c]?b+B(arguments[c]):b+arguments[c],b+=" ";return b}function Cb(a){if(!0===Lc&&(Lc=!1,null===Bb&&!0===P.get("logging_enabled")&&Mc(!0)),Bb){var b=Kc.apply(null,arguments);Bb(b)}}function Nc(a){return function(){Cb(a,arguments)}}function Oc(a){if("undefined"!=typeof console){var b="FIREBASE INTERNAL ERROR: "+Kc.apply(null,arguments);"undefined"!=typeof console.error?console.error(b):console.log(b)}}function Pc(a){var b=Kc.apply(null,arguments);throw Error("FIREBASE FATAL ERROR: "+b)}function Q(a){if("undefined"!=typeof console){var b="FIREBASE WARNING: "+Kc.apply(null,arguments);"undefined"!=typeof console.warn?console.warn(b):console.log(b)}}function Qc(a){var b="",c="",d="",e="",f=!0,h="https",k=443;if(p(a)){var l=a.indexOf("//");for(0<=l&&(h=a.substring(0,l-1),a=a.substring(l+2)),l=a.indexOf("/"),-1===l&&(l=a.length),b=a.substring(0,l),e="",a=a.substring(l).split("/"),l=0;l<a.length;l++)if(0<a[l].length){var m=a[l];try{m=decodeURIComponent(m.replace(/\+/g," "))}catch(t){}e+="/"+m}a=b.split("."),3===a.length?(c=a[1],d=a[0].toLowerCase()):2===a.length&&(c=a[0]),l=b.indexOf(":"),0<=l&&(f="https"===h||"wss"===h,k=b.substring(l+1),isFinite(k)&&(k=String(k)),k=p(k)?/^\s*-?0x/i.test(k)?parseInt(k,16):parseInt(k,10):NaN)}return{host:b,port:k,domain:c,Rg:d,lb:f,scheme:h,$c:e}}function Rc(a){return ga(a)&&(a!=a||a==Number.POSITIVE_INFINITY||a==Number.NEGATIVE_INFINITY)}function Sc(a){if("complete"===document.readyState)a();else{var b=!1,c=function(){document.body?b||(b=!0,a()):setTimeout(c,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",c,!1),window.addEventListener("load",c,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&c()}),window.attachEvent("onload",c))}}function Ub(a,b){if(a===b)return 0;if("[MIN_NAME]"===a||"[MAX_NAME]"===b)return-1;if("[MIN_NAME]"===b||"[MAX_NAME]"===a)return 1;var c=Tc(a),d=Tc(b);return null!==c?null!==d?0==c-d?a.length-b.length:c-d:-1:null!==d?1:a<b?-1:1}function Uc(a,b){if(b&&a in b)return b[a];throw Error("Missing required key ("+a+") in object: "+B(b))}function Vc(a){if("object"!=typeof a||null===a)return B(a);var c,b=[];for(c in a)b.push(c);b.sort(),c="{";for(var d=0;d<b.length;d++)0!==d&&(c+=","),c+=B(b[d]),c+=":",c+=Vc(a[b[d]]);return c+"}"}function Wc(a,b){if(a.length<=b)return[a];for(var c=[],d=0;d<a.length;d+=b)d+b>a?c.push(a.substring(d,a.length)):c.push(a.substring(d,d+b));return c}function Xc(a,b){if(ea(a))for(var c=0;c<a.length;++c)b(c,a[c]);else r(a,b)}function Yc(a){K(!Rc(a),"Invalid JSON number");var b,c,d,e;for(0===a?(d=c=0,b=-(1/0)===1/a?1:0):(b=0>a,a=Math.abs(a),a>=Math.pow(2,-1022)?(d=Math.min(Math.floor(Math.log(a)/Math.LN2),1023),c=d+1023,d=Math.round(a*Math.pow(2,52-d)-Math.pow(2,52))):(c=0,d=Math.round(a/Math.pow(2,-1074)))),e=[],a=52;a;--a)e.push(d%2?1:0),d=Math.floor(d/2);for(a=11;a;--a)e.push(c%2?1:0),c=Math.floor(c/2);for(e.push(b?1:0),e.reverse(),b=e.join(""),c="",a=0;64>a;a+=8)d=parseInt(b.substr(a,8),2).toString(16),1===d.length&&(d="0"+d),c+=d;return c.toLowerCase()}function Tc(a){return Zc.test(a)&&(a=Number(a),-2147483648<=a&&2147483647>=a)?a:null}function Db(a){try{a()}catch(b){setTimeout(function(){throw Q("Exception was thrown by user callback.",b.stack||""),b},Math.floor(0))}}function R(a,b){if(ha(a)){var c=Array.prototype.slice.call(arguments,1).slice();Db(function(){a.apply(null,c)})}}function Jc(a){for(var b=[],c=0,d=0;d<a.length;d++){var e=a.charCodeAt(d);55296<=e&&56319>=e&&(e-=55296,d++,K(d<a.length,"Surrogate pair missing trail surrogate."),e=65536+(e<<10)+(a.charCodeAt(d)-56320)),128>e?b[c++]=e:(2048>e?b[c++]=e>>6|192:(65536>e?b[c++]=e>>12|224:(b[c++]=e>>18|240,b[c++]=e>>12&63|128),b[c++]=e>>6&63|128),b[c++]=63&e|128)}return b}function wc(a){for(var b=0,c=0;c<a.length;c++){var d=a.charCodeAt(c);128>d?b++:2048>d?b+=2:55296<=d&&56319>=d?(b+=4,c++):b+=3}return b}function $c(a){var b={},c={},d={},e="";try{var f=a.split("."),b=nb(Hc(f[0])||""),c=nb(Hc(f[1])||""),e=f[2],d=c.d||{};delete c.d}catch(h){}return{Xg:b,Bc:c,data:d,Og:e}}function ad(a){return a=$c(a).Bc,"object"==typeof a&&a.hasOwnProperty("iat")?w(a,"iat"):null}function bd(a){a=$c(a);var b=a.Bc;return!!a.Og&&!!b&&"object"==typeof b&&b.hasOwnProperty("iat")}function cd(a){this.V=a,this.g=a.o.g}function dd(a,b,c,d){var e=[],f=[];return Oa(b,function(b){"child_changed"===b.type&&a.g.Ad(b.Le,b.Ja)&&f.push(new D("child_moved",b.Ja,b.Xa))}),ed(a,e,"child_removed",b,d,c),ed(a,e,"child_added",b,d,c),ed(a,e,"child_moved",f,d,c),ed(a,e,"child_changed",b,d,c),ed(a,e,Fb,b,d,c),e}function ed(a,b,c,d,e,f){d=Pa(d,function(a){return a.type===c}),Xa(d,q(a.fg,a)),Oa(d,function(c){var d=fd(a,c,f);Oa(e,function(e){e.Kf(c.type)&&b.push(e.createEvent(d,a.V))})})}function fd(a,b,c){return"value"!==b.type&&"child_removed"!==b.type&&(b.Qd=c.rf(b.Xa,b.Ja,a.g)),b}function gd(){this.bb={}}function hd(a,b){var c=b.type,d=b.Xa;K("child_added"==c||"child_changed"==c||"child_removed"==c,"Only child changes supported for tracking"),K(".priority"!==d,"Only non-priority child changes can be tracked.");var e=w(a.bb,d);if(e){var f=e.type;if("child_added"==c&&"child_removed"==f)a.bb[d]=new D("child_changed",b.Ja,d,e.Ja);else if("child_removed"==c&&"child_added"==f)delete a.bb[d];else if("child_removed"==c&&"child_changed"==f)a.bb[d]=new D("child_removed",e.Le,d);else if("child_changed"==c&&"child_added"==f)a.bb[d]=new D("child_added",b.Ja,d);else{if("child_changed"!=c||"child_changed"!=f)throw Gc("Illegal combination of changes: "+b+" occurred after "+e);a.bb[d]=new D("child_changed",b.Ja,d,e.Le)}}else a.bb[d]=b}function id(a,b,c){this.Rb=a,this.qb=b,this.sb=c||null}function jd(a,b,c){this.ha=a,this.qb=b,this.sb=c}function kd(a){this.g=a}function ld(a){this.Ce=new kd(a.g),this.g=a.g;var b;a.ma?(b=md(a),b=a.g.Pc(nd(a),b)):b=a.g.Tc(),this.ed=b,a.pa?(b=od(a),a=a.g.Pc(pd(a),b)):a=a.g.Qc(),this.Gc=a}function qd(a){this.sa=new ld(a),this.g=a.g,K(a.ja,"Only valid if limit has been set"),this.ka=a.ka,this.Jb=!rd(a)}function sd(a,b,c,d,e,f){var h;if(a.Jb){var k=td(a.g);h=function(a,b){return k(b,a)}}else h=td(a.g);K(b.Eb()==a.ka,"");var l=new F(c,d),m=a.Jb?ud(b,a.g):vd(b,a.g),t=a.sa.matches(l);if(b.Da(c)){for(var y=b.J(c),m=e.ze(a.g,m,a.Jb);null!=m&&(m.name==c||b.Da(m.name));)m=e.ze(a.g,m,a.Jb);return e=null==m?1:h(m,l),t&&!d.e()&&0<=e?(null!=f&&hd(f,new D("child_changed",d,c,y)),b.O(c,d)):(null!=f&&hd(f,new D("child_removed",y,c)),b=b.O(c,C),null!=m&&a.sa.matches(m)?(null!=f&&hd(f,new D("child_added",m.S,m.name)),b.O(m.name,m.S)):b)}return d.e()?b:t&&0<=h(m,l)?(null!=f&&(hd(f,new D("child_removed",m.S,m.name)),hd(f,new D("child_added",d,c))),b.O(c,d).O(m.name,C)):b}function wd(a,b){this.ke=a,this.dg=b}function yd(a){this.U=a}function Hd(a,b,c,d,e,f){var h=b.Q;if(null!=d.tc(c))return b;var k;if(c.e())K(Ib(b.C()),"If change path is empty, we must have complete server data"),b.C().Ub?(e=ub(b),d=d.yc(e instanceof T?e:C)):d=d.za(ub(b)),f=a.U.xa(b.Q.j(),d,f);else{var l=E(c);if(".priority"==l)K(1==tc(c),"Can't have a priority with additional path components"),f=h.j(),k=b.C().j(),d=d.ld(c,f,k),f=null!=d?a.U.ga(f,d):h.j();else{var m=H(c);sb(h,l)?(k=b.C().j(),d=d.ld(c,h.j(),k),d=null!=d?h.j().J(l).K(m,d):h.j().J(l)):d=d.xc(l,b.C()),f=null!=d?a.U.K(h.j(),l,d,m,e,f):h.j()}}return Fd(b,f,h.ea||c.e(),a.U.Na())}function Ad(a,b,c,d,e,f,h,k){var l=b.C();if(h=h?a.U:a.U.Wb(),c.e())d=h.xa(l.j(),d,null);else if(h.Na()&&!l.Ub)d=l.j().K(c,d),d=h.xa(l.j(),d,null);else{var m=E(c);if(!Jb(l,c)&&1<tc(c))return b;var t=H(c);d=l.j().J(m).K(t,d),d=".priority"==m?h.ga(l.j(),d):h.K(l.j(),m,d,t,qb,null)}return l=l.ea||c.e(),b=new Id(b.Q,new tb(d,l,h.Na())),Hd(a,b,c,e,new rb(e,b,f),k)}function zd(a,b,c,d,e,f,h){var k=b.Q;if(e=new rb(e,b,f),c.e())h=a.U.xa(b.Q.j(),d,h),a=Fd(b,h,!0,a.U.Na());else if(f=E(c),".priority"===f)h=a.U.ga(b.Q.j(),d),a=Fd(b,h,k.ea,k.Ub);else{c=H(c);var l=k.j().J(f);if(!c.e()){var m=e.qf(f);d=null!=m?".priority"===uc(c)&&m.Y(c.parent()).e()?m:m.K(c,d):C}l.ca(d)?a=b:(h=a.U.K(k.j(),f,d,c,e,h),a=Fd(b,h,k.ea,a.U.Na()))}return a}function Cd(a,b,c,d,e,f,h){var k=b;return Kd(d,function(d,m){var t=c.u(d);sb(b.Q,E(t))&&(k=zd(a,k,t,m,e,f,h))}),Kd(d,function(d,m){var t=c.u(d);sb(b.Q,E(t))||(k=zd(a,k,t,m,e,f,h))}),k}function Ld(a,b){return Kd(b,function(b,d){a=a.K(b,d)}),a}function Dd(a,b,c,d,e,f,h,k){if(b.C().j().e()&&!Ib(b.C()))return b;var l=b;c=c.e()?d:Md(Nd,c,d);var m=b.C().j();return c.children.ia(function(c,d){if(m.Da(c)){var I=b.C().j().J(c),I=Ld(I,d);l=Ad(a,l,new L(c),I,e,f,h,k)}}),c.children.ia(function(c,d){var I=!sb(b.C(),c)&&null==d.value;m.Da(c)||I||(I=b.C().j().J(c),I=Ld(I,d),l=Ad(a,l,new L(c),I,e,f,h,k))}),l}function Gd(a,b,c,d,e,f,h){if(null!=e.tc(c))return b;var k=b.C();if(null!=d.value){if(c.e()&&k.ea||Jb(k,c))return Ad(a,b,c,k.j().Y(c),e,f,!1,h);if(c.e()){var l=Nd;return k.j().R(Od,function(a,b){l=l.set(new L(a),b)}),Dd(a,b,c,l,e,f,!1,h)}return b}return l=Nd,Kd(d,function(a){var b=c.u(a);Jb(k,b)&&(l=l.set(a,k.j().Y(b)))}),Dd(a,b,c,l,e,f,!1,h)}function Pd(){}function td(a){return q(a.compare,a)}function Sd(a){this.cc=a}function Ud(){}function Vd(){}function Wd(){}function Zd(){this.Tb=this.pa=this.Lb=this.ma=this.ja=!1,this.ka=0,this.Nb="",this.ec=null,this.yb="",this.bc=null,this.wb="",this.g=N}function rd(a){return""===a.Nb?a.ma:"l"===a.Nb}function nd(a){return K(a.ma,"Only valid if start has been set"),a.ec}function md(a){return K(a.ma,"Only valid if start has been set"),a.Lb?a.yb:"[MIN_NAME]"}function pd(a){return K(a.pa,"Only valid if end has been set"),a.bc}function od(a){return K(a.pa,"Only valid if end has been set"),a.Tb?a.wb:"[MAX_NAME]"}function ae(a){var b=new Zd;return b.ja=a.ja,b.ka=a.ka,b.ma=a.ma,b.ec=a.ec,b.Lb=a.Lb,b.yb=a.yb,b.pa=a.pa,b.bc=a.bc,b.Tb=a.Tb,b.wb=a.wb,b.g=a.g,b}function be(a,b){var c=ae(a);return c.g=b,c}function ce(a){var b={};if(a.ma&&(b.sp=a.ec,a.Lb&&(b.sn=a.yb)),a.pa&&(b.ep=a.bc,a.Tb&&(b.en=a.wb)),a.ja){b.l=a.ka;var c=a.Nb;""===c&&(c=rd(a)?"l":"r"),b.vf=c}return a.g!==N&&(b.i=a.g.toString()),b}function de(a){return!(a.ma||a.pa||a.ja)}function ee(a){var b={};if(de(a)&&a.g==N)return b;var c;return a.g===N?c="$priority":a.g===Yd?c="$value":a.g===Od?c="$key":(K(a.g instanceof Sd,"Unrecognized index type!"),c=a.g.toString()),b.orderBy=B(c),a.ma&&(b.startAt=B(a.ec),a.Lb&&(b.startAt+=","+B(a.yb))),a.pa&&(b.endAt=B(a.bc),a.Tb&&(b.endAt+=","+B(a.wb))),a.ja&&(rd(a)?b.limitToFirst=a.ka:b.limitToLast=a.ka),b}function fe(a,b){this.Bd=a,this.dc=b}function ge(a,b,c){var d=na(a.Bd,function(d,f){var h=w(a.dc,f);if(K(h,"Missing index implementation for "+f),d===Qd){if(h.Ic(b.S)){for(var k=[],l=c.Xb(Sb),m=J(l);m;)m.name!=b.name&&k.push(m),m=J(l);return k.push(b),he(k,td(h))}return Qd}return h=c.get(b.name),k=d,h&&(k=k.remove(new F(b.name,h))),k.Oa(b,b.S)});return new fe(d,a.dc)}function ie(a,b,c){var d=na(a.Bd,function(a){if(a===Qd)return a;var d=c.get(b.name);return d?a.remove(new F(b.name,d)):a});return new fe(d,a.dc)}function sc(a,b){this.A=a,K(n(this.A)&&null!==this.A,"LeafNode shouldn't be created with null/undefined value."),this.aa=b||C,ke(this.aa),this.Cb=null}function T(a,b,c){this.m=a,(this.aa=b)&&ke(this.aa),a.e()&&K(!this.aa||this.aa.e(),"An empty node cannot have a priority"),this.xb=c,this.Cb=null}function ud(a,b){var c;return c=(c=oe(a,b))?(c=c.Sc())&&c.name:a.m.Sc(),c?new F(c,a.m.get(c)):null}function vd(a,b){var c;return c=(c=oe(a,b))?(c=c.fc())&&c.name:a.m.fc(),c?new F(c,a.m.get(c)):null}function oe(a,b){return b===Od?null:a.xb.get(b.toString())}function M(a,b){if(null===a)return C;var c=null;if("object"==typeof a&&".priority"in a?c=a[".priority"]:"undefined"!=typeof b&&(c=b),K(null===c||"string"==typeof c||"number"==typeof c||"object"==typeof c&&".sv"in c,"Invalid priority type found: "+typeof c),"object"==typeof a&&".value"in a&&null!==a[".value"]&&(a=a[".value"]),"object"!=typeof a||".sv"in a)return new sc(a,M(c));if(a instanceof Array){var d=C,e=a;return r(e,function(a,b){if(v(e,b)&&"."!==b.substring(0,1)){var c=M(a);!c.L()&&c.e()||(d=d.O(b,c))}}),d.ga(M(c))}var f=[],h=!1,k=a;if(ib(k,function(a){if("string"!=typeof a||"."!==a.substring(0,1)){var b=M(k[a]);b.e()||(h=h||!b.B().e(),f.push(new F(a,b)))}}),0==f.length)return C;var l=he(f,Tb,function(a){return a.name},Vb);if(h){var m=he(f,td(N));return new T(l,M(c),new fe({".priority":m},{".priority":N}))}return new T(l,M(c),je)}function qe(a){this.count=parseInt(Math.log(a+1)/pe,10),this.jf=this.count-1,this.cg=a+1&parseInt(Array(this.count+1).join("1"),2)}function re(a){var b=!(a.cg&1<<a.jf);return a.jf--,b}function he(a,b,c,d){function e(b,d){var f=d-b;if(0==f)return null;if(1==f){var m=a[b],t=c?c(m):m;return new ec(t,m.S,(!1),null,null)}var m=parseInt(f/2,10)+b,f=e(b,m),y=e(m+1,d),m=a[m],t=c?c(m):m;return new ec(t,m.S,(!1),f,y)}a.sort(b);var f=function(b){function d(b,h){var k=t-b,y=t;t-=b;var y=e(k+1,y),k=a[k],I=c?c(k):k,y=new ec(I,k.S,h,null,y);f?f.left=y:m=y,f=y}for(var f=null,m=null,t=a.length,y=0;y<b.count;++y){var I=re(b),xd=Math.pow(2,b.count-(y+1));I?d(xd,!1):(d(xd,!1),d(xd,!0))}return m}(new qe(a.length));return null!==f?new $b(d||b,f):new $b(d||b)}function me(a){return"number"==typeof a?"number:"+Yc(a):"string:"+a}function ke(a){if(a.L()){var b=a.H();K("string"==typeof b||"number"==typeof b||"object"==typeof b&&v(b,".sv"),"Priority must be a string or number.")}else K(a===Td||a.e(),"priority of unexpected type.");K(a===Td||a.B().e(),"Priority nodes can't have a priority of their own.")}function se(){T.call(this,new $b(Vb),C,je)}function Id(a,b){this.Q=a,this.Yd=b}function Fd(a,b,c,d){return new Id(new tb(b,c,d),a.Yd)}function Jd(a){return a.Q.ea?a.Q.j():null}function ub(a){return a.Yd.ea?a.Yd.j():null}function te(a,b){this.V=a;var c=a.o,d=new kd(c.g),c=de(c)?new kd(c.g):c.ja?new qd(c):new ld(c);this.Hf=new yd(c);var e=b.C(),f=b.Q,h=d.xa(C,e.j(),null),k=c.xa(C,f.j(),null);this.Ka=new Id(new tb(k,f.ea,c.Na()),new tb(h,e.ea,d.Na())),this.Ya=[],this.jg=new cd(a)}function ue(a){return a.V}function we(a,b){var c=a.Ka.Q,d=[];return c.j().L()||c.j().R(N,function(a,b){d.push(new D("child_added",b,a))}),c.ea&&d.push(Eb(c.j())),ve(a,d,c.j(),b)}function ve(a,b,c,d){return dd(a.jg,b,c,d?[d]:a.Ya)}function xe(a,b,c){this.type=Bd,this.source=a,this.path=b,this.children=c}function ye(a,b){this.f=Nc("p:rest:"),this.F=a,this.Hb=b,this.Aa=null,this.$={}}function ze(a,b){if(n(b))return"tag$"+b;var c=a.o;return K(de(c)&&c.g==N,"should have a tag if it's not a default query."),a.path.toString()}function Ae(a,b,c,d){c=c||{},c.format="export",a.Aa&&(c.auth=a.Aa);var e=(a.F.lb?"https://":"http://")+a.F.host+b+"?"+kb(c);a.f("Sending REST request for "+e);var f=new XMLHttpRequest;f.onreadystatechange=function(){if(d&&4===f.readyState){a.f("REST Response for "+e+" received. status:",f.status,"response:",f.responseText);var b=null;if(200<=f.status&&300>f.status){try{b=nb(f.responseText)}catch(c){Q("Failed to parse JSON response for "+e+": "+f.responseText)}d(null,b)}else 401!==f.status&&404!==f.status&&Q("Got unsuccessful REST response for "+e+" Status: "+f.status),d(f.status);d=null}},f.open("GET",e,!0),f.send()}function Be(a,b){this.value=a,this.children=b||Ce}function De(a){var b=Nd;return r(a,function(a,d){b=b.set(new L(d),a)}),b}function Ee(a,b,c){if(null!=a.value&&c(a.value))return{path:G,value:a.value};if(b.e())return null;var d=E(b);return a=a.children.get(d),null!==a?(b=Ee(a,H(b),c),null!=b?{path:new L(d).u(b.path),value:b.value}:null):null}function Fe(a,b){return Ee(a,b,function(){return!0})}function Md(a,b,c){if(b.e())return c;var d=E(b);return b=Md(a.children.get(d)||Nd,H(b),c),d=b.e()?a.children.remove(d):a.children.Oa(d,b),new Be(a.value,d)}function Ge(a,b){return He(a,G,b)}function He(a,b,c){var d={};return a.children.ia(function(a,f){d[a]=He(f,b.u(a),c)}),c(b,a.value,d)}function Ie(a,b,c){return Je(a,b,G,c)}function Je(a,b,c,d){var e=!!a.value&&d(c,a.value);return e?e:b.e()?null:(e=E(b),(a=a.children.get(e))?Je(a,H(b),c.u(e),d):null)}function Ke(a,b,c){var d=G;if(!b.e()){var e=!0;a.value&&(e=c(d,a.value)),!0===e&&(e=E(b),(a=a.children.get(e))&&Le(a,H(b),d.u(e),c))}}function Le(a,b,c,d){if(b.e())return a;a.value&&d(c,a.value);var e=E(b);return(a=a.children.get(e))?Le(a,H(b),c.u(e),d):Nd}function Kd(a,b){Me(a,G,b)}function Me(a,b,c){a.children.ia(function(a,e){Me(e,b.u(a),c)}),a.value&&c(b,a.value)}function Ne(a,b){a.children.ia(function(a,d){d.value&&b(a,d.value)})}function Oe(a,b,c){this.type=Ed,this.source=Pe,this.path=a,this.Qb=b,this.Vd=c}function Qe(a,b,c,d){this.xe=a,this.pf=b,this.Ib=c,this.bf=d,K(!d||b,"Tagged queries must be from server.")}function Se(a){this.W=a}function Ue(a,b,c){if(b.e())return new Se(new Be(c));var d=Fe(a.W,b);if(null!=d){var e=d.path,d=d.value;return b=O(e,b),d=d.K(b,c),new Se(a.W.set(e,d))}return a=Md(a.W,b,new Be(c)),new Se(a)}function Ve(a,b,c){var d=a;return ib(c,function(a,c){d=Ue(d,b.u(a),c)}),d}function We(a,b){var c=Fe(a.W,b);return null!=c?a.W.get(c.path).Y(O(c.path,b)):null}function Xe(a){var b=[],c=a.W.value;return null!=c?c.L()||c.R(N,function(a,c){b.push(new F(a,c))}):a.W.children.ia(function(a,c){null!=c.value&&b.push(new F(a,c.value))}),b}function Ye(a,b){if(b.e())return a;var c=We(a,b);return new Se(null!=c?new Be(c):a.W.subtree(b))}function Ze(a,b,c){if(null!=b.value)return c.K(a,b.value);var d=null;return b.children.ia(function(b,f){".priority"===b?(K(null!==f.value,"Priority writes must always be leaf nodes"),d=f.value):c=Ze(a.u(b),f,c)}),c.Y(a).e()||null===d||(c=c.K(a.u(".priority"),d)),c}function $e(){this.T=Te,this.na=[],this.Mc=-1}function af(a,b){for(var c=0;c<a.na.length;c++){var d=a.na[c];if(d.kd===b)return d}return null}function bf(a,b){return a.Ga?a.path.contains(b):!!ua(a.children,function(c,d){return a.path.u(d).contains(b)})}function df(a){return a.visible}function cf(a,b,c){for(var d=Te,e=0;e<a.length;++e){var f=a[e];if(b(f)){var h=f.path;if(f.Ga)c.contains(h)?(h=O(c,h),d=Ue(d,h,f.Ga)):h.contains(c)&&(h=O(h,c),d=Ue(d,G,f.Ga.Y(h)));else{if(!f.children)throw Gc("WriteRecord should have .snap or .children");c.contains(h)?(h=O(c,h),d=Ve(d,h,f.children)):h.contains(c)&&(h=O(h,c),h.e()?d=Ve(d,G,f.children):(f=w(f.children,E(h)))&&(f=f.Y(H(h)),d=Ue(d,G,f)))}}}return d}function ef(a,b){this.Mb=a,this.W=b}function ff(){this.ya={}}function hf(a){return Pa(ra(a.ya),function(a){return!de(a.V.o)})}function jf(a,b){if(de(b.o))return gf(a);var c=b.va();return w(a.ya,c)}function gf(a){return va(a.ya,function(a){return de(a.V.o)})||null}function kf(a){this.ta=Nd,this.jb=new $e,this.af={},this.lc={},this.Nc=a}function lf(a,b,c,d,e){var f=a.jb,h=e;return K(d>f.Mc,"Stacking an older write on top of newer ones"),n(h)||(h=!0),f.na.push({path:b,Ga:c,kd:d,visible:h}),h&&(f.T=Ue(f.T,b,c)),f.Mc=d,e?mf(a,new Wb(Pe,b,c)):[]}function nf(a,b,c,d){var e=a.jb;return K(d>e.Mc,"Stacking an older merge on top of newer ones"),e.na.push({path:b,children:c,kd:d,visible:!0}),e.T=Ve(e.T,b,c),e.Mc=d,c=De(c),mf(a,new xe(Pe,b,c))}function of(a,b,c){c=c||!1;var d=af(a.jb,b);if(a.jb.Rd(b)){var e=Nd;return null!=d.Ga?e=e.set(G,!0):ib(d.children,function(a,b){e=e.set(new L(a),b)}),mf(a,new Oe(d.path,e,c))}return[]}function pf(a,b,c){return c=De(c),mf(a,new xe(Re,b,c))}function qf(a,b,c,d){if(d=rf(a,d),null!=d){var e=sf(d);return d=e.path,e=e.Ib,b=O(d,b),c=new Wb(new Qe((!1),(!0),e,(!0)),b,c),tf(a,d,c)}return[]}function uf(a,b,c,d){if(d=rf(a,d)){var e=sf(d);return d=e.path,e=e.Ib,b=O(d,b),c=De(c),c=new xe(new Qe((!1),(!0),e,(!0)),b,c),tf(a,d,c)}return[];
}function yf(a){return Ge(a,function(a,c,d){if(c&&null!=gf(c))return[gf(c)];var e=[];return c&&(e=hf(c)),r(d,function(a){e=e.concat(a)}),e})}function Bf(a,b){for(var c=0;c<b.length;++c){var d=b[c];if(!de(d.o)){var d=vf(d),e=a.lc[d];delete a.lc[d],delete a.af["_"+e]}}}function xf(a,b,c){var d=b.path,e=Af(a,b);if(c=zf(a,c),b=a.Nc.Ye(b,e,c.xd,c.G),d=a.ta.subtree(d),e)K(null==gf(d.value),"If we're adding a query, it shouldn't be shadowed");else for(e=Ge(d,function(a,b,c){if(!a.e()&&b&&null!=gf(b))return[ue(gf(b))];var d=[];return b&&(d=d.concat(Qa(hf(b),function(a){return a.V}))),r(c,function(a){d=d.concat(a)}),d}),d=0;d<e.length;++d)c=e[d],a.Nc.be(c,Af(a,c));return b}function zf(a,b){var c=b.V,d=Af(a,c);return{xd:function(){return(b.C()||C).hash()},G:function(b){if("ok"===b){if(d){var f=c.path;if(b=rf(a,d)){var h=sf(b);b=h.path,h=h.Ib,f=O(b,f),f=new Yb(new Qe((!1),(!0),h,(!0)),f),b=tf(a,b,f)}else b=[]}else b=mf(a,new Yb(Re,c.path));return b}return f="Unknown Error","too_big"===b?f="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"==b?f="Client doesn't have permission to access the desired data.":"unavailable"==b&&(f="The service is unavailable"),f=Error(b+": "+f),f.code=b.toUpperCase(),a.kb(c,null,f)}}}function vf(a){return a.path.toString()+"$"+a.va()}function sf(a){var b=a.indexOf("$");return K(-1!==b&&b<a.length-1,"Bad queryKey."),{Ib:a.substr(b+1),path:new L(a.substr(0,b))}}function rf(a,b){var c=a.af,d="_"+b;return d in c?c[d]:void 0}function Af(a,b){var c=vf(b);return w(a.lc,c)}function tf(a,b,c){var d=a.ta.get(b);return K(d,"Missing sync point for query tag that we're tracking"),d.ab(c,new ef(b,a.jb),null)}function mf(a,b){return Cf(a,b,a.ta,null,new ef(G,a.jb))}function Cf(a,b,c,d,e){if(b.path.e())return Df(a,b,c,d,e);var f=c.get(G);null==d&&null!=f&&(d=f.gb(G));var h=[],k=E(b.path),l=b.Xc(k);if((c=c.children.get(k))&&l)var m=d?d.J(k):null,k=e.u(k),h=h.concat(Cf(a,l,c,m,k));return f&&(h=h.concat(f.ab(b,e,d))),h}function Df(a,b,c,d,e){var f=c.get(G);null==d&&null!=f&&(d=f.gb(G));var h=[];return c.children.ia(function(c,f){var m=d?d.J(c):null,t=e.u(c),y=b.Xc(c);y&&(h=h.concat(Df(a,y,f,m,t)))}),f&&(h=h.concat(f.ab(b,e,d))),h}function Ef(){this.children={},this.nd=0,this.value=null}function Ff(a,b,c){this.Gd=a?a:"",this.Zc=b?b:null,this.w=c?c:new Ef}function Gf(a,b){for(var e,c=b instanceof L?b:new L(b),d=a;null!==(e=E(c));)d=new Ff(e,d,w(d.w.children,e)||new Ef),c=H(c);return d}function Hf(a,b){K("undefined"!=typeof b,"Cannot set value to undefined"),a.w.value=b,If(a)}function Jf(a,b,c,d){c&&!d&&b(a),a.R(function(a){Jf(a,b,!0,d)}),c&&d&&b(a)}function Kf(a,b){for(var c=a.parent();null!==c&&!b(c);)c=c.parent()}function If(a){if(null!==a.Zc){var b=a.Zc,c=a.Gd,d=a.e(),e=v(b.w.children,c);d&&e?(delete b.w.children[c],b.w.nd--,If(b)):d||e||(b.w.children[c]=a.w,b.w.nd++,If(b))}}function Lf(a){K(ea(a)&&0<a.length,"Requires a non-empty array"),this.Vf=a,this.Oc={}}function Mf(a,b){K(Ta(a.Vf,function(a){return a===b}),"Unknown event: "+b)}function Of(){if(Lf.call(this,["online"]),this.jc=!0,"undefined"!=typeof window&&"undefined"!=typeof window.addEventListener){var a=this;window.addEventListener("online",function(){a.jc||(a.jc=!0,a.ge("online",!0))},!1),window.addEventListener("offline",function(){a.jc&&(a.jc=!1,a.ge("online",!1))},!1)}}function Pf(){Lf.call(this,["visible"]);var a,b;if("undefined"!=typeof document&&"undefined"!=typeof document.addEventListener&&("undefined"!=typeof document.hidden?(b="visibilitychange",a="hidden"):"undefined"!=typeof document.mozHidden?(b="mozvisibilitychange",a="mozHidden"):"undefined"!=typeof document.msHidden?(b="msvisibilitychange",a="msHidden"):"undefined"!=typeof document.webkitHidden&&(b="webkitvisibilitychange",a="webkitHidden")),this.Ob=!0,b){var c=this;document.addEventListener(b,function(){var b=!document[a];b!==c.Ob&&(c.Ob=b,c.ge("visible",b))},!1)}}function Tf(a){return p(a)&&0!==a.length&&!Qf.test(a)}function Uf(a){return null===a||p(a)||ga(a)&&!Rc(a)||ia(a)&&v(a,".sv")}function Vf(a,b,c,d){d&&!n(b)||Wf(z(a,1,d),b,c)}function Wf(a,b,c){if(c instanceof L&&(c=new vc(c,a)),!n(b))throw Error(a+"contains undefined "+yc(c));if(ha(b))throw Error(a+"contains a function "+yc(c)+" with contents: "+b.toString());if(Rc(b))throw Error(a+"contains "+b.toString()+" "+yc(c));if(p(b)&&b.length>10485760/3&&10485760<wc(b))throw Error(a+"contains a string greater than 10485760 utf8 bytes "+yc(c)+" ('"+b.substring(0,50)+"...')");if(ia(b)){var d=!1,e=!1;if(ib(b,function(b,h){if(".value"===b)d=!0;else if(".priority"!==b&&".sv"!==b&&(e=!0,!Tf(b)))throw Error(a+" contains an invalid key ("+b+") "+yc(c)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');c.push(b),Wf(a,h,c),c.pop()}),d&&e)throw Error(a+' contains ".value" child '+yc(c)+" in addition to actual children.")}}function Xf(a,b,c){if(!ia(b)||ea(b))throw Error(z(a,1,!1)+" must be an Object containing the children to replace.");if(v(b,".value"))throw Error(z(a,1,!1)+' must not contain ".value".  To overwrite with a leaf value, just use .set() instead.');Vf(a,b,c,!1)}function Yf(a,b,c){if(Rc(c))throw Error(z(a,b,!1)+"is "+c.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Uf(c))throw Error(z(a,b,!1)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}function Zf(a,b,c){if(!c||n(b))switch(b){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw Error(z(a,1,c)+'must be a valid event type: "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}function $f(a,b,c,d){if((!d||n(c))&&!Tf(c))throw Error(z(a,b,d)+'was an invalid key: "'+c+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')}function ag(a,b){if(!p(b)||0===b.length||Rf.test(b))throw Error(z(a,1,!1)+'was an invalid path: "'+b+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')}function bg(a,b){if(".info"===E(b))throw Error(a+" failed: Can't modify data under /.info/")}function cg(a,b){if(!p(b))throw Error(z(a,1,!1)+"must be a valid credential (a string).")}function dg(a,b,c){if(!p(c))throw Error(z(a,b,!1)+"must be a valid string.")}function eg(a,b){if(dg(a,1,b),!Sf.test(b))throw Error(z(a,1,!1)+"'"+b+"' is not a valid authentication provider.")}function fg(a,b,c,d){if((!d||n(c))&&(!ia(c)||null===c))throw Error(z(a,b,d)+"must be a valid object.")}function gg(a,b,c){if(!ia(b)||!v(b,c))throw Error(z(a,1,!1)+'must contain the key "'+c+'"');if(!p(w(b,c)))throw Error(z(a,1,!1)+'must contain the key "'+c+'" with type "string"')}function hg(){this.set={}}function ig(a,b){r(a.set,function(a,d){b(d,a)})}function pc(){this.m=this.A=null}function jg(a,b){if(b.e())return a.A=null,a.m=null,!0;if(null!==a.A){if(a.A.L())return!1;var c=a.A;return a.A=null,c.R(N,function(b,c){a.nc(new L(b),c)}),jg(a,b)}return null===a.m||(c=E(b),b=H(b),a.m.contains(c)&&jg(a.m.get(c),b)&&a.m.remove(c),!!a.m.e()&&(a.m=null,!0))}function qc(a,b,c){null!==a.A?c(b,a.A):a.R(function(a,e){var f=new L(b.toString()+"/"+a);qc(e,f,c)})}function lg(a,b,c){this.od=a||{},this.fe=b||{},this.$a=c||{},this.od.remember||(this.od.remember="default")}function ng(a){var b={},c={};return ib(a||{},function(a,e){0<=Na(mg,a)?b[a]=e:c[a]=e}),new lg(b,{},c)}function og(a,b){this.Re=["session",a.Od,a.Db].join(":"),this.ce=b}function pg(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function qg(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pg())}function rg(){return"undefined"!=typeof location&&/^file:\//.test(location.href)}function sg(a){var b=pg();if(""===b)return!1;if("Microsoft Internet Explorer"===navigator.appName){if((b=b.match(/MSIE ([0-9]{1,}[\.0-9]{0,})/))&&1<b.length)return parseFloat(b[1])>=a}else if(-1<b.indexOf("Trident")&&(b=b.match(/rv:([0-9]{2,2}[\.0-9]{0,})/))&&1<b.length)return parseFloat(b[1])>=a;return!1}function tg(){var b,a=window.opener.frames;for(b=a.length-1;0<=b;b--)try{if(a[b].location.protocol===window.location.protocol&&a[b].location.host===window.location.host&&"__winchan_relay_frame"===a[b].name)return a[b]}catch(c){}return null}function ug(a,b,c){a.attachEvent?a.attachEvent("on"+b,c):a.addEventListener&&a.addEventListener(b,c,!1)}function vg(a,b,c){a.detachEvent?a.detachEvent("on"+b,c):a.removeEventListener&&a.removeEventListener(b,c,!1)}function wg(a){/^https?:\/\//.test(a)||(a=window.location.href);var b=/^(https?:\/\/[\-_a-zA-Z\.0-9:]+)/.exec(a);return b?b[1]:a}function xg(a){var b="";try{a=a.replace("#","");var c=lb(a);c&&v(c,"__firebase_request_key")&&(b=w(c,"__firebase_request_key"))}catch(d){}return b}function yg(){var a=Qc(kg);return a.scheme+"://"+a.host+"/v2"}function zg(a){return yg()+"/"+a+"/auth/channel"}function Ag(a){var b=this;if(this.Ac=a,this.de="*",sg(8)?this.Rc=this.zd=tg():(this.Rc=window.opener,this.zd=window),!b.Rc)throw"Unable to find relay frame";ug(this.zd,"message",q(this.ic,this)),ug(this.zd,"message",q(this.Bf,this));try{Bg(this,{a:"ready"})}catch(c){ug(this.Rc,"load",function(){Bg(b,{a:"ready"})})}ug(window,"unload",q(this.zg,this))}function Bg(a,b){b=B(b),sg(8)?a.Rc.doPost(b,a.de):a.Rc.postMessage(b,a.de)}function Cg(a){this.pc=Ga()+Ga()+Ga(),this.Ef=a}function Eg(a){var b=Error(w(Dg,a),a);return b.code=a,b}function Fg(a){var b;(b=!a.window_features)||(b=pg(),b=-1!==b.indexOf("Fennec/")||-1!==b.indexOf("Firefox/")&&-1!==b.indexOf("Android")),b&&(a.window_features=void 0),a.window_name||(a.window_name="_blank"),this.options=a}function Gg(a){a.method||(a.method="GET"),a.headers||(a.headers={}),a.headers.content_type||(a.headers.content_type="application/json"),a.headers.content_type=a.headers.content_type.toLowerCase(),this.options=a}function Hg(a){this.pc=Ga()+Ga()+Ga(),this.Ef=a}function Ig(a){a.callback_parameter||(a.callback_parameter="callback"),this.options=a,window.__firebase_auth_jsonp=window.__firebase_auth_jsonp||{}}function Jg(a,b,c){setTimeout(function(){try{var d=document.createElement("script");d.type="text/javascript",d.id=a,d.async=!0,d.src=b,d.onerror=function(){var b=document.getElementById(a);null!==b&&b.parentNode.removeChild(b),c&&c(Eg("NETWORK_ERROR"))};var e=document.getElementsByTagName("head");(e&&0!=e.length?e[0]:document.documentElement).appendChild(d)}catch(f){c&&c(Eg("NETWORK_ERROR"))}},0)}function Kg(a,b,c,d){Lf.call(this,["auth_status"]),this.F=a,this.ef=b,this.Tg=c,this.Me=d,this.sc=new og(a,[Cc,P]),this.nb=null,this.Te=!1,Lg(this)}function Lg(a){P.get("redirect_request_id")&&Mg(a);var b=a.sc.get();b&&b.token?(Ng(a,b),a.ef(b.token,function(c,d){Og(a,c,d,!1,b.token,b)},function(b,d){Pg(a,"resumeSession()",b,d)})):Ng(a,null)}function Qg(a,b,c,d,e,f){"firebaseio-demo.com"===a.F.domain&&Q("Firebase authentication is not supported on demo Firebases (*.firebaseio-demo.com). To secure your Firebase, create a production Firebase at https://www.firebase.com."),a.ef(b,function(f,k){Og(a,f,k,!0,b,c,d||{},e)},function(b,c){Pg(a,"auth()",b,c,f)})}function Rg(a,b){a.sc.clear(),Ng(a,null),a.Tg(function(a,d){if("ok"===a)R(b,null);else{var e=(a||"error").toUpperCase(),f=e;d&&(f+=": "+d),f=Error(f),f.code=e,R(b,f)}})}function Og(a,b,c,d,e,f,h,k){"ok"===b?(d&&(b=c.auth,f.auth=b,f.expires=c.expires,f.token=bd(e)?e:"",c=null,b&&v(b,"uid")?c=w(b,"uid"):v(f,"uid")&&(c=w(f,"uid")),f.uid=c,c="custom",b&&v(b,"provider")?c=w(b,"provider"):v(f,"provider")&&(c=w(f,"provider")),f.provider=c,a.sc.clear(),bd(e)&&(h=h||{},c=Cc,"sessionOnly"===h.remember&&(c=P),"none"!==h.remember&&a.sc.set(f,c)),Ng(a,f)),R(k,null,f)):(a.sc.clear(),Ng(a,null),f=a=(b||"error").toUpperCase(),c&&(f+=": "+c),f=Error(f),f.code=a,R(k,f))}function Pg(a,b,c,d,e){Q(b+" was canceled: "+d),a.sc.clear(),Ng(a,null),a=Error(d),a.code=c.toUpperCase(),R(e,a)}function Sg(a,b,c,d,e){Tg(a),c=new lg(d||{},{},c||{}),Ug(a,[Gg,Ig],"/auth/"+b,c,e)}function Vg(a,b,c,d){Tg(a);var e=[Fg,Hg];c=ng(c),"anonymous"===b||"password"===b?setTimeout(function(){R(d,Eg("TRANSPORT_UNAVAILABLE"))},0):(c.fe.window_features="menubar=yes,modal=yes,alwaysRaised=yeslocation=yes,resizable=yes,scrollbars=yes,status=yes,height=625,width=625,top="+("object"==typeof screen?.5*(screen.height-625):0)+",left="+("object"==typeof screen?.5*(screen.width-625):0),c.fe.relay_url=zg(a.F.Db),c.fe.requestWithCredential=q(a.qc,a),Ug(a,e,"/auth/"+b,c,d))}function Mg(a){var b=P.get("redirect_request_id");if(b){var c=P.get("redirect_client_options");P.remove("redirect_request_id"),P.remove("redirect_client_options");var d=[Gg,Ig],b={requestId:b,requestKey:xg(document.location.hash)},c=new lg(c,{},b);a.Te=!0;try{document.location.hash=document.location.hash.replace(/&__firebase_request_key=([a-zA-z0-9]*)/,"")}catch(e){}Ug(a,d,"/auth/session",c,function(){this.Te=!1}.bind(a))}}function Ug(a,b,c,d,e){Wg(a,b,c,d,function(b,c){!b&&c&&c.token&&c.uid?Qg(a,c.token,c,d.od,function(a,b){a?R(e,a):R(e,null,b)}):R(e,b||Eg("UNKNOWN_ERROR"))})}function Wg(a,b,c,d,e){b=Pa(b,function(a){return"function"==typeof a.isAvailable&&a.isAvailable()}),0===b.length?setTimeout(function(){R(e,Eg("TRANSPORT_UNAVAILABLE"))},0):(b=new(b.shift())(d.fe),d=jb(d.$a),d.v="js-"+hb,d.transport=b.Cc(),d.suppress_status_codes=!0,a=yg()+"/"+a.F.Db+c,b.open(a,d,function(a,b){if(a)R(e,a);else if(b&&b.error){var c=Error(b.error.message);c.code=b.error.code,c.details=b.error.details,R(e,c)}else R(e,null,b)}))}function Ng(a,b){var c=null!==a.nb||null!==b;a.nb=b,c&&a.ge("auth_status",b),a.Me(null!==b)}function Tg(a){var b=a.F;if("firebaseio.com"!==b.domain&&"firebaseio-demo.com"!==b.domain&&"auth.firebase.com"===kg)throw Error("This custom Firebase server ('"+a.F.domain+"') does not support delegated login.")}function Xg(a){this.ic=a,this.Nd=[],this.Sb=0,this.re=-1,this.Gb=null}function Yg(a,b,c){a.re=b,a.Gb=c,a.re<a.Sb&&(a.Gb(),a.Gb=null)}function Zg(a,b,c){for(a.Nd[b]=c;a.Nd[a.Sb];){var d=a.Nd[a.Sb];delete a.Nd[a.Sb];for(var e=0;e<d.length;++e)if(d[e]){var f=a;Db(function(){f.ic(d[e])})}if(a.Sb===a.re){a.Gb&&(clearTimeout(a.Gb),a.Gb(),a.Gb=null);break}a.Sb++}}function $g(a,b,c){this.se=a,this.f=Nc(a),this.ob=this.pb=0,this.Va=Qb(b),this.Zd=c,this.Hc=!1,this.jd=function(a){b.host!==b.Pa&&(a.ns=b.Db);var f,c=[];for(f in a)a.hasOwnProperty(f)&&c.push(f+"="+a[f]);return(b.lb?"https://":"http://")+b.Pa+"/.lp?"+c.join("&")}}function dh(a,b){var c=B(b).length;a.ob+=c,Nb(a.Va,"bytes_received",c)}function ch(a,b,c,d){if(this.jd=d,this.ib=c,this.Qe=new hg,this.ad=[],this.ue=Math.floor(1e8*Math.random()),this.Xd=!0,this.ie=Fc(),window["pLPCommand"+this.ie]=a,window["pRTLPCB"+this.ie]=b,a=document.createElement("iframe"),a.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(a);try{a.contentWindow.document||Cb("No IE domain setting required")}catch(e){a.src="javascript:void((function(){document.open();document.domain='"+document.domain+"';document.close();})())"}a.contentDocument?a.fb=a.contentDocument:a.contentWindow?a.fb=a.contentWindow.document:a.document&&(a.fb=a.document),this.Ea=a,a="",this.Ea.src&&"javascript:"===this.Ea.src.substr(0,11)&&(a='<script>document.domain="'+document.domain+'";</script>'),a="<html><body>"+a+"</body></html>";try{this.Ea.fb.open(),this.Ea.fb.write(a),this.Ea.fb.close()}catch(f){Cb("frame writing exception"),f.stack&&Cb(f.stack),Cb(f)}}function fh(a){if(a.me&&a.Xd&&a.Qe.count()<(0<a.ad.length?2:1)){a.ue++;var b={};b.id=a.sg,b.pw=a.tg,b.ser=a.ue;for(var b=a.jd(b),c="",d=0;0<a.ad.length&&1870>=a.ad[0].kf.length+30+c.length;){var e=a.ad.shift(),c=c+"&seg"+d+"="+e.Kg+"&ts"+d+"="+e.Sg+"&d"+d+"="+e.kf;d++}return gh(a,b+c,a.ue),!0}return!1}function gh(a,b,c){function d(){a.Qe.remove(c),fh(a)}a.Qe.add(c,1);var e=setTimeout(d,Math.floor(25e3));eh(a,b,function(){clearTimeout(e),d()})}function eh(a,b,c){setTimeout(function(){try{if(a.Xd){var d=a.Ea.fb.createElement("script");d.type="text/javascript",d.async=!0,d.src=b,d.onload=d.onreadystatechange=function(){var a=d.readyState;a&&"loaded"!==a&&"complete"!==a||(d.onload=d.onreadystatechange=null,d.parentNode&&d.parentNode.removeChild(d),c())},d.onerror=function(){Cb("Long-poll script failed to load: "+b),a.Xd=!1,a.close()},a.Ea.fb.body.appendChild(d)}}catch(e){}},Math.floor(1))}function ih(a,b,c){this.se=a,this.f=Nc(this.se),this.frames=this.Kc=null,this.ob=this.pb=this.cf=0,this.Va=Qb(b),this.eb=(b.lb?"wss://":"ws://")+b.Pa+"/.ws?v=5","undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(this.eb+="&r=f"),b.host!==b.Pa&&(this.eb=this.eb+"&ns="+b.Db),c&&(this.eb=this.eb+"&s="+c)}function lh(a,b){if(a.frames.push(b),a.frames.length==a.cf){var c=a.frames.join("");a.frames=null,c=nb(c),a.xg(c)}}function kh(a){clearInterval(a.Kc),a.Kc=setInterval(function(){a.ua&&a.ua.send("0"),kh(a)},Math.floor(45e3))}function mh(a){nh(this,a)}function nh(a,b){var c=ih&&ih.isAvailable(),d=c&&!(Cc.wf||!0===Cc.get("previous_websocket_failure"));if(b.Ug&&(c||Q("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),d=!0),d)a.gd=[ih];else{var e=a.gd=[];Xc(oh,function(a,b){b&&b.isAvailable()&&e.push(b)})}}function ph(a){if(0<a.gd.length)return a.gd[0];throw Error("No transports available")}function qh(a,b,c,d,e,f){this.id=a,this.f=Nc("c:"+this.id+":"),this.ic=c,this.Wc=d,this.la=e,this.Oe=f,this.F=b,this.Md=[],this.ff=0,this.Of=new mh(b),this.Ua=0,this.f("Connection created"),rh(this)}function rh(a){var b=ph(a.Of);a.I=new b("c:"+a.id+":"+a.ff++,a.F),a.Se=b.responsesRequiredToBeHealthy||0;var c=sh(a,a.I),d=th(a,a.I);a.hd=a.I,a.cd=a.I,a.D=null,a.Bb=!1,setTimeout(function(){a.I&&a.I.open(c,d)},Math.floor(0)),b=b.healthyTimeout||0,0<b&&(a.yd=setTimeout(function(){a.yd=null,a.Bb||(a.I&&102400<a.I.ob?(a.f("Connection exceeded healthy timeout but has received "+a.I.ob+" bytes.  Marking connection healthy."),a.Bb=!0,a.I.Ed()):a.I&&10240<a.I.pb?a.f("Connection exceeded healthy timeout but has sent "+a.I.pb+" bytes.  Leaving connection alive."):(a.f("Closing unhealthy connection after timeout."),a.close()))},Math.floor(b)))}function th(a,b){return function(c){b===a.I?(a.I=null,c||0!==a.Ua?1===a.Ua&&a.f("Realtime connection lost."):(a.f("Realtime connection failed."),"s-"===a.F.Pa.substr(0,2)&&(Cc.remove("host:"+a.F.host),a.F.Pa=a.F.host)),a.close()):b===a.D?(a.f("Secondary connection lost."),c=a.D,a.D=null,a.hd!==c&&a.cd!==c||a.close()):a.f("closing an old connection")}}function sh(a,b){return function(c){if(2!=a.Ua)if(b===a.cd){var d=Uc("t",c);if(c=Uc("d",c),"c"==d){if(d=Uc("t",c),"d"in c)if(c=c.d,"h"===d){var d=c.ts,e=c.v,f=c.h;a.Zd=c.s,Ec(a.F,f),0==a.Ua&&(a.I.start(),uh(a,a.I,d),"5"!==e&&Q("Protocol version mismatch detected"),c=a.Of,(c=1<c.gd.length?c.gd[1]:null)&&vh(a,c))}else if("n"===d){for(a.f("recvd end transmission on primary"),a.cd=a.D,c=0;c<a.Md.length;++c)a.Id(a.Md[c]);a.Md=[],wh(a)}else"s"===d?(a.f("Connection shutdown command received. Shutting down..."),a.Oe&&(a.Oe(c),a.Oe=null),a.la=null,a.close()):"r"===d?(a.f("Reset packet received.  New host: "+c),Ec(a.F,c),1===a.Ua?a.close():(xh(a),rh(a))):"e"===d?Oc("Server Error: "+c):"o"===d?(a.f("got pong on primary."),yh(a),zh(a)):Oc("Unknown control packet command: "+d)}else"d"==d&&a.Id(c)}else if(b===a.D)if(d=Uc("t",c),c=Uc("d",c),"c"==d)"t"in c&&(c=c.t,"a"===c?Ah(a):"r"===c?(a.f("Got a reset on secondary, closing it"),a.D.close(),a.hd!==a.D&&a.cd!==a.D||a.close()):"o"===c&&(a.f("got pong on secondary."),a.Mf--,Ah(a)));else{if("d"!=d)throw Error("Unknown protocol layer: "+d);a.Md.push(c)}else a.f("message on old connection")}}function wh(a){a.hd===a.D&&a.cd===a.D&&(a.f("cleaning up and promoting a connection: "+a.D.se),a.I=a.D,a.D=null)}function Ah(a){0>=a.Mf?(a.f("Secondary connection is healthy."),a.Bb=!0,a.D.Ed(),a.D.start(),a.f("sending client ack on secondary"),a.D.send({t:"c",d:{t:"a",d:{}}}),a.f("Ending transmission on primary"),a.I.send({t:"c",d:{t:"n",d:{}}}),a.hd=a.D,wh(a)):(a.f("sending ping on secondary."),a.D.send({t:"c",d:{t:"p",d:{}}}))}function yh(a){a.Bb||(a.Se--,0>=a.Se&&(a.f("Primary connection is healthy."),a.Bb=!0,a.I.Ed()))}function vh(a,b){a.D=new b("c:"+a.id+":"+a.ff++,a.F,a.Zd),a.Mf=b.responsesRequiredToBeHealthy||0,a.D.open(sh(a,a.D),th(a,a.D)),setTimeout(function(){a.D&&(a.f("Timed out trying to upgrade."),a.D.close())},Math.floor(6e4))}function uh(a,b,c){a.f("Realtime connection established."),a.I=b,a.Ua=1,a.Wc&&(a.Wc(c),a.Wc=null),0===a.Se?(a.f("Primary connection is healthy."),a.Bb=!0):setTimeout(function(){zh(a)},Math.floor(5e3))}function zh(a){a.Bb||1!==a.Ua||(a.f("sending ping on primary."),Bh(a,{t:"c",d:{t:"p",d:{}}}))}function Bh(a,b){if(1!==a.Ua)throw"Connection is not connected";a.hd.send(b)}function xh(a){a.f("Shutting down all connections"),a.I&&(a.I.close(),a.I=null),a.D&&(a.D.close(),a.D=null),a.yd&&(clearTimeout(a.yd),a.yd=null)}function Ch(a,b,c,d){this.id=Dh++,this.f=Nc("p:"+this.id+":"),this.xf=this.Fe=!1,this.$={},this.qa=[],this.Yc=0,this.Vc=[],this.oa=!1,this.Za=1e3,this.Fd=3e5,this.Hb=b,this.Uc=c,this.Pe=d,this.F=a,this.tb=this.Aa=this.Ia=this.Xe=null,this.Ob=!1,this.Td={},this.Jg=0,this.nf=!0,this.Lc=this.He=null,Eh(this,0),Pf.vb().Fb("visible",this.Ag,this),-1===a.host.indexOf("fblocal")&&Of.vb().Fb("online",this.yg,this)}function Gh(a,b){var c=b.Gg,d=c.path.toString(),e=c.va();a.f("Listen on "+d+" for "+e);var f={p:d};b.tag&&(f.q=ce(c.o),f.t=b.tag),f.h=b.xd(),a.Fa("q",f,function(f){var k=f.d,l=f.s;if(k&&"object"==typeof k&&v(k,"w")){var m=w(k,"w");ea(m)&&0<=Na(m,"no_index")&&Q("Using an unspecified index. Consider adding "+('".indexOn": "'+c.o.g.toString()+'"')+" at "+c.path.toString()+" to your security rules for better performance")}(a.$[d]&&a.$[d][e])===b&&(a.f("listen response",f),"ok"!==l&&Hh(a,d,e),b.G&&b.G(l,k))})}function Ih(a){var b=a.Aa;a.oa&&b&&a.Fa("auth",{cred:b.gg},function(c){var d=c.s;c=c.d||"error","ok"!==d&&a.Aa===b&&delete a.Aa,b.of?"ok"!==d&&b.md&&b.md(d,c):(b.of=!0,b.zc&&b.zc(d,c))})}function Jh(a,b,c,d,e){c={p:c,d:d},a.f("onDisconnect "+b,c),a.Fa(b,c,function(a){e&&setTimeout(function(){e(a.s,a.d)},Math.floor(0))})}function Kh(a,b,c,d,e,f){d={p:c,d:d},n(f)&&(d.h=f),a.qa.push({action:b,Jf:d,G:e}),a.Yc++,b=a.qa.length-1,a.oa?Lh(a,b):a.f("Buffering put: "+c)}function Lh(a,b){var c=a.qa[b].action,d=a.qa[b].Jf,e=a.qa[b].G;a.qa[b].Hg=a.oa,a.Fa(c,d,function(d){a.f(c+" response",d),delete a.qa[b],a.Yc--,0===a.Yc&&(a.qa=[]),e&&e(d.s,d.d)})}function Eh(a,b){K(!a.Ia,"Scheduling a connect when we're already connected/ing?"),a.tb&&clearTimeout(a.tb),a.tb=setTimeout(function(){a.tb=null,Oh(a)},Math.floor(b))}function Oh(a){if(Ph(a)){a.f("Making a connection attempt"),a.He=(new Date).getTime(),a.Lc=null;var b=q(a.Id,a),c=q(a.Wc,a),d=q(a.Df,a),e=a.id+":"+Fh++;a.Ia=new qh(e,a.F,b,c,d,function(b){Q(b+" ("+a.F.toString()+")"),a.xf=!0})}}function Mh(a,b,c){c=c?Qa(c,function(a){return Vc(a)}).join("$"):"default",(a=Hh(a,b,c))&&a.G&&a.G("permission_denied")}function Hh(a,b,c){b=new L(b).toString();var d;return n(a.$[b])?(d=a.$[b][c],delete a.$[b][c],0===pa(a.$[b])&&delete a.$[b]):d=void 0,d}function Nh(a){Ih(a),r(a.$,function(b){r(b,function(b){Gh(a,b)})});for(var b=0;b<a.qa.length;b++)a.qa[b]&&Lh(a,b);for(;a.Vc.length;)b=a.Vc.shift(),Jh(a,b.action,b.$c,b.data,b.G)}function Ph(a){var b;return b=Of.vb().jc,!a.xf&&!a.Fe&&b}function S(a,b,c){this.w=a,this.V=b,this.g=c}function Qh(a,b){this.F=a,this.Va=Qb(a),this.fd=null,this.da=new vb,this.Hd=1,this.Sa=null,b||0<=("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)?(this.ba=new ye(this.F,q(this.Hb,this)),setTimeout(q(this.Uc,this,!0),0)):this.ba=this.Sa=new Ch(this.F,q(this.Hb,this),q(this.Uc,this),q(this.Pe,this)),this.Qg=Rb(a,q(function(){return new Lb(this.Va,this.ba)},this)),this.uc=new Ff,this.De=new ob;var c=this;this.Cd=new kf({Ye:function(a,b,f,h){return b=[],f=c.De.j(a.path),f.e()||(b=mf(c.Cd,new Wb(Re,a.path,f)),setTimeout(function(){h("ok")},0)),b},be:ba}),Rh(this,"connected",!1),this.la=new pc,this.N=new Kg(a,q(this.ba.N,this.ba),q(this.ba.he,this.ba),q(this.Me,this)),this.sd=0,this.Ee=null,this.M=new kf({Ye:function(a,b,f,h){return c.ba.yf(a,f,b,function(b,e){var f=h(b,e);Ab(c.da,a.path,f)}),[]},be:function(a,b){c.ba.Pf(a,b)}})}function Sh(a){return a=a.De.j(new L(".info/serverTimeOffset")).H()||0,(new Date).getTime()+a}function Th(a){return a=a={timestamp:Sh(a)},a.timestamp=a.timestamp||(new Date).getTime(),a}function Rh(a,b,c){b=new L("/.info/"+b),c=M(c);var d=a.De;d.Wd=d.Wd.K(b,c),c=mf(a.Cd,new Wb(Re,b,c)),Ab(a.da,b,c)}function Vh(a){a.f("onDisconnectEvents");var b=Th(a),c=[];qc(oc(a.la,b),G,function(b,e){c=c.concat(mf(a.M,new Wb(Re,b,e)));var f=Xh(a,b);Uh(a,f)}),a.la=new pc,Ab(a.da,G,c)}function Yh(a,b,c,d){var e=M(c);a.ba.Ne(b.toString(),e.H(!0),function(c,h){"ok"===c&&a.la.nc(b,e),Wh(d,c,h)})}function Zh(a,b,c,d,e){var f=M(c,d);a.ba.Ne(b.toString(),f.H(!0),function(c,d){"ok"===c&&a.la.nc(b,f),Wh(e,c,d)})}function $h(a,b,c,d){var f,e=!0;for(f in c)e=!1;e?(Cb("onDisconnect().update() called with empty data.  Don't do anything."),Wh(d,"ok")):a.ba.Cf(b.toString(),c,function(e,f){if("ok"===e)for(var l in c){var m=M(c[l]);a.la.nc(b.u(l),m)}Wh(d,e,f)})}function ai(a,b,c){c=".info"===E(b.path)?a.Cd.Pb(b,c):a.M.Pb(b,c),yb(a.da,b.path,c)}function Wh(a,b,c){a&&Db(function(){if("ok"==b)a(null);else{var d=(b||"error").toUpperCase(),e=d;c&&(e+=": "+c),e=Error(e),e.code=d,a(e)}})}function bi(a,b,c,d,e){function f(){}a.f("transaction on "+b);var h=new U(a,b);if(h.Fb("value",f),c={path:b,update:c,G:d,status:null,Ff:Fc(),df:e,Lf:0,je:function(){h.hc("value",f)},le:null,Ba:null,pd:null,qd:null,rd:null},d=a.M.za(b,void 0)||C,c.pd=d,d=c.update(d.H()),n(d)){Wf("transaction failed: Data returned ",d,c.path),c.status=1,e=Gf(a.uc,b);var k=e.Ca()||[];k.push(c),Hf(e,k),"object"==typeof d&&null!==d&&v(d,".priority")?(k=w(d,".priority"),K(Uf(k),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):k=(a.M.za(b)||C).B().H(),e=Th(a),d=M(d,k),e=rc(d,e),c.qd=d,c.rd=e,c.Ba=a.Hd++,c=lf(a.M,b,e,c.Ba,c.df),Ab(a.da,b,c),ci(a)}else c.je(),c.qd=null,c.rd=null,c.G&&(a=new S(c.pd,new U(a,c.path),N),c.G(null,!1,a))}function ci(a,b){var c=b||a.uc;if(b||di(a,c),null!==c.Ca()){var d=ei(a,c);K(0<d.length,"Sending zero length transaction queue"),Sa(d,function(a){return 1===a.status})&&fi(a,c.path(),d)}else c.wd()&&c.R(function(b){ci(a,b)})}function fi(a,b,c){for(var d=Qa(c,function(a){return a.Ba}),e=a.M.za(b,d)||C,d=e,e=e.hash(),f=0;f<c.length;f++){var h=c[f];K(1===h.status,"tryToSendTransactionQueue_: items in queue should all be run."),h.status=2,h.Lf++;var k=O(b,h.path),d=d.K(k,h.qd)}d=d.H(!0),a.ba.put(b.toString(),d,function(d){a.f("transaction put response",{path:b.toString(),status:d});var e=[];if("ok"===d){for(d=[],f=0;f<c.length;f++){if(c[f].status=3,e=e.concat(of(a.M,c[f].Ba)),c[f].G){var h=c[f].rd,k=new U(a,c[f].path);d.push(q(c[f].G,null,null,!0,new S(h,k,N)))}c[f].je()}for(di(a,Gf(a.uc,b)),ci(a),Ab(a.da,b,e),f=0;f<d.length;f++)Db(d[f])}else{if("datastale"===d)for(f=0;f<c.length;f++)c[f].status=4===c[f].status?5:1;else for(Q("transaction at "+b.toString()+" failed: "+d),f=0;f<c.length;f++)c[f].status=5,c[f].le=d;Uh(a,b)}},e)}function Uh(a,b){var c=gi(a,b),d=c.path(),c=ei(a,c);return hi(a,c,d),d}function hi(a,b,c){if(0!==b.length){for(var d=[],e=[],f=Qa(b,function(a){return a.Ba}),h=0;h<b.length;h++){var t,k=b[h],l=O(c,k.path),m=!1;if(K(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),5===k.status)m=!0,t=k.le,e=e.concat(of(a.M,k.Ba,!0));else if(1===k.status)if(25<=k.Lf)m=!0,t="maxretry",e=e.concat(of(a.M,k.Ba,!0));else{var y=a.M.za(k.path,f)||C;k.pd=y;var I=b[h].update(y.H());n(I)?(Wf("transaction failed: Data returned ",I,k.path),l=M(I),"object"==typeof I&&null!=I&&v(I,".priority")||(l=l.ga(y.B())),y=k.Ba,I=Th(a),I=rc(l,I),k.qd=l,k.rd=I,k.Ba=a.Hd++,Va(f,y),e=e.concat(lf(a.M,k.path,I,k.Ba,k.df)),e=e.concat(of(a.M,y,!0))):(m=!0,t="nodata",e=e.concat(of(a.M,k.Ba,!0)))}Ab(a.da,c,e),e=[],m&&(b[h].status=3,setTimeout(b[h].je,Math.floor(0)),b[h].G&&("nodata"===t?(k=new U(a,b[h].path),d.push(q(b[h].G,null,null,!1,new S(b[h].pd,k,N)))):d.push(q(b[h].G,null,Error(t),!1,null))))}for(di(a,a.uc),h=0;h<d.length;h++)Db(d[h]);ci(a)}}function gi(a,b){for(var c,d=a.uc;null!==(c=E(b))&&null===d.Ca();)d=Gf(d,c),b=H(b);return d}function ei(a,b){var c=[];return ii(a,b,c),c.sort(function(a,b){return a.Ff-b.Ff}),c}function ii(a,b,c){var d=b.Ca();if(null!==d)for(var e=0;e<d.length;e++)c.push(d[e]);b.R(function(b){ii(a,b,c)})}function di(a,b){var c=b.Ca();if(c){for(var d=0,e=0;e<c.length;e++)3!==c[e].status&&(c[d]=c[e],d++);c.length=d,Hf(b,0<c.length?c:null)}b.R(function(b){di(a,b)})}function Xh(a,b){var c=gi(a,b).path(),d=Gf(a.uc,b);return Kf(d,function(b){ji(a,b)}),ji(a,d),Jf(d,function(b){ji(a,b)}),c}function ji(a,b){var c=b.Ca();if(null!==c){for(var d=[],e=[],f=-1,h=0;h<c.length;h++)4!==c[h].status&&(2===c[h].status?(K(f===h-1,"All SENT items should be at beginning of queue."),f=h,c[h].status=4,c[h].le="set"):(K(1===c[h].status,"Unexpected transaction status in abort"),c[h].je(),e=e.concat(of(a.M,c[h].Ba,!0)),c[h].G&&d.push(q(c[h].G,null,Error("set"),!1,null))));for(-1===f?Hf(b,null):c.length=f+1,Ab(a.da,b.path(),e),h=0;h<d.length;h++)Db(d[h])}}function W(){this.oc={},this.Qf=!1}function X(a,b){this.bd=a,this.ra=b}function Y(a,b,c,d){this.k=a,this.path=b,this.o=c,this.kc=d}function ki(a){var b=null,c=null;if(a.ma&&(b=nd(a)),a.pa&&(c=pd(a)),a.g===Od){if(a.ma){if("[MIN_NAME]"!=md(a))throw Error("Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().");if("string"!=typeof b)throw Error("Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.")}if(a.pa){if("[MAX_NAME]"!=od(a))throw Error("Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().");if("string"!=typeof c)throw Error("Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.")}}else if(a.g===N){if(null!=b&&!Uf(b)||null!=c&&!Uf(c))throw Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(K(a.g instanceof Sd||a.g===Yd,"unknown index type."),null!=b&&"object"==typeof b||null!=c&&"object"==typeof c)throw Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")}function li(a){if(a.ma&&a.pa&&a.ja&&(!a.ja||""===a.Nb))throw Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")}function mi(a,b){if(!0===a.kc)throw Error(b+": You can't combine multiple orderBy calls.")}function ni(a,b,c){var d={cancel:null,Ma:null};if(b&&c)d.cancel=b,A(a,3,d.cancel,!0),d.Ma=c,mb(a,4,d.Ma);else if(b)if("object"==typeof b&&null!==b)d.Ma=b;else{if("function"!=typeof b)throw Error(z(a,3,!0)+" must either be a cancel callback or a context object.");d.cancel=b}return d}function U(a,b){var c,d,e;if(a instanceof Qh)c=a,d=b;else{x("new Firebase",1,2,arguments.length),d=Qc(arguments[0]),c=d.Rg,"firebase"===d.domain&&Pc(d.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),c&&"undefined"!=c||Pc("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),d.lb||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Q("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),c=new Dc(d.host,d.lb,c,"ws"===d.scheme||"wss"===d.scheme),d=new L(d.$c),e=d.toString();var f;if(!(f=!p(c.host)||0===c.host.length||!Tf(c.Db))&&(f=0!==e.length)&&(e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),
f=!(p(e)&&0!==e.length&&!Rf.test(e))),f)throw Error(z("new Firebase",1,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".');if(b)if(b instanceof W)e=b;else{if(!p(b))throw Error("Expected a valid Firebase.Context for second argument to new Firebase()");e=W.vb(),c.Od=b}else e=W.vb();f=c.toString();var h=w(e.oc,f);h||(h=new Qh(c,e.Qf),e.oc[f]=h),c=h}Y.call(this,c,d,$d,!1)}function Mc(a,b){K(!b||!0===a||!1===a,"Can't turn on custom loggers persistently."),!0===a?("undefined"!=typeof console&&("function"==typeof console.log?Bb=q(console.log,console):"object"==typeof console.log&&(Bb=function(a){console.log(a)})),b&&P.set("logging_enabled",!0)):a?Bb=a:(Bb=null,P.remove("logging_enabled"))}var g,aa=this,la=Date.now||function(){return+new Date},ya="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),Ea={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\x0B":"\\u000b"},Fa=/\uffff/.test("")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g,Ha;a:{var Ia=aa.navigator;if(Ia){var Ja=Ia.userAgent;if(Ja){Ha=Ja;break a}}Ha=""}ma(La,Ka),La.prototype.reset=function(){this.P[0]=1732584193,this.P[1]=4023233417,this.P[2]=2562383102,this.P[3]=271733878,this.P[4]=3285377520,this.ee=this.ac=0},La.prototype.update=function(a,b){if(null!=a){n(b)||(b=a.length);for(var c=b-this.Wa,d=0,e=this.ne,f=this.ac;d<b;){if(0==f)for(;d<=c;)Ma(this,a,d),d+=this.Wa;if(p(a)){for(;d<b;)if(e[f]=a.charCodeAt(d),++f,++d,f==this.Wa){Ma(this,e),f=0;break}}else for(;d<b;)if(e[f]=a[d],++f,++d,f==this.Wa){Ma(this,e),f=0;break}}this.ac=f,this.ee+=b}};var u=Array.prototype,Na=u.indexOf?function(a,b,c){return u.indexOf.call(a,b,c)}:function(a,b,c){if(c=null==c?0:0>c?Math.max(0,a.length+c):c,p(a))return p(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},Oa=u.forEach?function(a,b,c){u.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=p(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},Pa=u.filter?function(a,b,c){return u.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=[],f=0,h=p(a)?a.split(""):a,k=0;k<d;k++)if(k in h){var l=h[k];b.call(c,l,k,a)&&(e[f++]=l)}return e},Qa=u.map?function(a,b,c){return u.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),f=p(a)?a.split(""):a,h=0;h<d;h++)h in f&&(e[h]=b.call(c,f[h],h,a));return e},Ra=u.reduce?function(a,b,c,d){for(var e=[],f=1,h=arguments.length;f<h;f++)e.push(arguments[f]);return d&&(e[0]=q(b,d)),u.reduce.apply(a,e)}:function(a,b,c,d){var e=c;return Oa(a,function(c,h){e=b.call(d,e,c,h,a)}),e},Sa=u.every?function(a,b,c){return u.every.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=p(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&!b.call(c,e[f],f,a))return!1;return!0},Za=-1!=Ha.indexOf("Opera")||-1!=Ha.indexOf("OPR"),$a=-1!=Ha.indexOf("Trident")||-1!=Ha.indexOf("MSIE"),ab=-1!=Ha.indexOf("Gecko")&&-1==Ha.toLowerCase().indexOf("webkit")&&!(-1!=Ha.indexOf("Trident")||-1!=Ha.indexOf("MSIE")),bb=-1!=Ha.toLowerCase().indexOf("webkit");!function(){var b,a="";return Za&&aa.opera?(a=aa.opera.version,ha(a)?a():a):(ab?b=/rv\:([^\);]+)(\)|;)/:$a?b=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/:bb&&(b=/WebKit\/(\S+)/),b&&(a=(a=b.exec(Ha))?a[1]:""),$a&&(b=(b=aa.document)?b.documentMode:void 0,b>parseFloat(a))?String(b):a)}();var cb=null,db=null,eb=null,hb=hb||"2.2.9";ob.prototype.j=function(a){return this.Wd.Y(a)},ob.prototype.toString=function(){return this.Wd.toString()},pb.prototype.qf=function(){return null},pb.prototype.ze=function(){return null};var qb=new pb;rb.prototype.qf=function(a){var b=this.Ka.Q;return sb(b,a)?b.j().J(a):(b=null!=this.Kd?new tb(this.Kd,(!0),(!1)):this.Ka.C(),this.Rf.xc(a,b))},rb.prototype.ze=function(a,b,c){var d=null!=this.Kd?this.Kd:ub(this.Ka);return a=this.Rf.oe(d,b,1,c,a),0===a.length?null:a[0]},xb.prototype.add=function(a){this.vd.push(a)},xb.prototype.Zb=function(){return this.ra};var Fb="value";Gb.prototype.Zb=function(){var a=this.$d.mc();return"value"===this.ud?a.path:a.parent().path},Gb.prototype.Ae=function(){return this.ud},Gb.prototype.Vb=function(){return this.ve.Vb(this)},Gb.prototype.toString=function(){return this.Zb().toString()+":"+this.ud+":"+B(this.$d.mf())},Hb.prototype.Zb=function(){return this.path},Hb.prototype.Ae=function(){return"cancel"},Hb.prototype.Vb=function(){return this.ve.Vb(this)},Hb.prototype.toString=function(){return this.path.toString()+":cancel"},tb.prototype.j=function(){return this.w},Kb.prototype.get=function(){var a=this.eg.get(),b=xa(a);if(this.Dd)for(var c in this.Dd)b[c]-=this.Dd[c];return this.Dd=a,b},Lb.prototype.If=function(){var d,a=this.fd.get(),b={},c=!1;for(d in a)0<a[d]&&v(this.Nf,d)&&(b[d]=a[d],c=!0);c&&this.ba.Ve(b),setTimeout(q(this.If,this),Math.floor(6e5*Math.random()))},Mb.prototype.get=function(){return xa(this.Ec)};var Ob={},Pb={};Wb.prototype.Xc=function(a){return this.path.e()?new Wb(this.source,G,this.Ga.J(a)):new Wb(this.source,H(this.path),this.Ga)},Wb.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" overwrite: "+this.Ga.toString()+")"},Yb.prototype.Xc=function(){return this.path.e()?new Yb(this.source,G):new Yb(this.source,H(this.path))},Yb.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" listen_complete)"},g=$b.prototype,g.Oa=function(a,b){return new $b(this.La,this.wa.Oa(a,b,this.La).X(null,null,!1,null,null))},g.remove=function(a){return new $b(this.La,this.wa.remove(a,this.La).X(null,null,!1,null,null))},g.get=function(a){for(var b,c=this.wa;!c.e();){if(b=this.La(a,c.key),0===b)return c.value;0>b?c=c.left:0<b&&(c=c.right)}return null},g.e=function(){return this.wa.e()},g.count=function(){return this.wa.count()},g.Sc=function(){return this.wa.Sc()},g.fc=function(){return this.wa.fc()},g.ia=function(a){return this.wa.ia(a)},g.Xb=function(a){return new cc(this.wa,null,this.La,(!1),a)},g.Yb=function(a,b){return new cc(this.wa,a,this.La,(!1),b)},g.$b=function(a,b){return new cc(this.wa,a,this.La,(!0),b)},g.sf=function(a){return new cc(this.wa,null,this.La,(!0),a)},g=ec.prototype,g.X=function(a,b,c,d,e){return new ec(null!=a?a:this.key,null!=b?b:this.value,null!=c?c:this.color,null!=d?d:this.left,null!=e?e:this.right)},g.count=function(){return this.left.count()+1+this.right.count()},g.e=function(){return!1},g.ia=function(a){return this.left.ia(a)||a(this.key,this.value)||this.right.ia(a)},g.Sc=function(){return fc(this).key},g.fc=function(){return this.right.e()?this.key:this.right.fc()},g.Oa=function(a,b,c){var d,e;return e=this,d=c(a,e.key),e=0>d?e.X(null,null,null,e.left.Oa(a,b,c),null):0===d?e.X(null,b,null,null,null):e.X(null,null,null,null,e.right.Oa(a,b,c)),gc(e)},g.remove=function(a,b){var c,d;if(c=this,0>b(a,c.key))c.left.e()||c.left.fa()||c.left.left.fa()||(c=ic(c)),c=c.X(null,null,null,c.left.remove(a,b),null);else{if(c.left.fa()&&(c=jc(c)),c.right.e()||c.right.fa()||c.right.left.fa()||(c=kc(c),c.left.left.fa()&&(c=jc(c),c=kc(c))),0===b(a,c.key)){if(c.right.e())return ac;d=fc(c.right),c=c.X(d.key,d.value,null,null,hc(c.right))}c=c.X(null,null,null,null,c.right.remove(a,b))}return gc(c)},g.fa=function(){return this.color},g=mc.prototype,g.X=function(){return this},g.Oa=function(a,b){return new ec(a,b,null)},g.remove=function(){return this},g.count=function(){return 0},g.e=function(){return!0},g.ia=function(){return!1},g.Sc=function(){return null},g.fc=function(){return null},g.fa=function(){return!1};var ac=new mc;g=L.prototype,g.toString=function(){for(var a="",b=this.Z;b<this.n.length;b++)""!==this.n[b]&&(a+="/"+this.n[b]);return a||"/"},g.slice=function(a){return this.n.slice(this.Z+(a||0))},g.parent=function(){if(this.Z>=this.n.length)return null;for(var a=[],b=this.Z;b<this.n.length-1;b++)a.push(this.n[b]);return new L(a,0)},g.u=function(a){for(var b=[],c=this.Z;c<this.n.length;c++)b.push(this.n[c]);if(a instanceof L)for(c=a.Z;c<a.n.length;c++)b.push(a.n[c]);else for(a=a.split("/"),c=0;c<a.length;c++)0<a[c].length&&b.push(a[c]);return new L(b,0)},g.e=function(){return this.Z>=this.n.length},g.ca=function(a){if(tc(this)!==tc(a))return!1;for(var b=this.Z,c=a.Z;b<=this.n.length;b++,c++)if(this.n[b]!==a.n[c])return!1;return!0},g.contains=function(a){var b=this.Z,c=a.Z;if(tc(this)>tc(a))return!1;for(;b<this.n.length;){if(this.n[b]!==a.n[c])return!1;++b,++c}return!0};var G=new L("");vc.prototype.push=function(a){0<this.Ra.length&&(this.Ha+=1),this.Ra.push(a),this.Ha+=wc(a),xc(this)},vc.prototype.pop=function(){var a=this.Ra.pop();this.Ha-=wc(a),0<this.Ra.length&&--this.Ha},zc.prototype.set=function(a,b){null==b?delete this.wc[a]:this.wc[a]=b},zc.prototype.get=function(a){return v(this.wc,a)?this.wc[a]:null},zc.prototype.remove=function(a){delete this.wc[a]},zc.prototype.wf=!0,g=Ac.prototype,g.set=function(a,b){null==b?this.Fc.removeItem(this.Pd+a):this.Fc.setItem(this.Pd+a,B(b))},g.get=function(a){return a=this.Fc.getItem(this.Pd+a),null==a?null:nb(a)},g.remove=function(a){this.Fc.removeItem(this.Pd+a)},g.wf=!1,g.toString=function(){return this.Fc.toString()};var Cc=Bc("localStorage"),P=Bc("sessionStorage");Dc.prototype.toString=function(){var a=(this.lb?"https://":"http://")+this.host;return this.Od&&(a+="<"+this.Od+">"),a};var Fc=function(){var a=1;return function(){return a++}}(),Bb=null,Lc=!0,Zc=/^-?\d{1,10}$/;cd.prototype.fg=function(a,b){if(null==a.Xa||null==b.Xa)throw Gc("Should only compare child_ events.");return this.g.compare(new F(a.Xa,a.Ja),new F(b.Xa,b.Ja))},g=id.prototype,g.Kf=function(a){return"value"===a},g.createEvent=function(a,b){var c=b.o.g;return new Gb("value",this,new S(a.Ja,b.mc(),c))},g.Vb=function(a){var b=this.sb;if("cancel"===a.Ae()){K(this.qb,"Raising a cancel event on a listener with no cancel callback");var c=this.qb;return function(){c.call(b,a.error)}}var d=this.Rb;return function(){d.call(b,a.$d)}},g.gf=function(a,b){return this.qb?new Hb(this,a,b):null},g.matches=function(a){return a instanceof id&&(!a.Rb||!this.Rb||a.Rb===this.Rb&&a.sb===this.sb)},g.tf=function(){return null!==this.Rb},g=jd.prototype,g.Kf=function(a){return a="children_added"===a?"child_added":a,("children_removed"===a?"child_removed":a)in this.ha},g.gf=function(a,b){return this.qb?new Hb(this,a,b):null},g.createEvent=function(a,b){K(null!=a.Xa,"Child events should have a childName.");var c=b.mc().u(a.Xa);return new Gb(a.type,this,new S(a.Ja,c,b.o.g),a.Qd)},g.Vb=function(a){var b=this.sb;if("cancel"===a.Ae()){K(this.qb,"Raising a cancel event on a listener with no cancel callback");var c=this.qb;return function(){c.call(b,a.error)}}var d=this.ha[a.ud];return function(){d.call(b,a.$d,a.Qd)}},g.matches=function(a){if(a instanceof jd){if(!this.ha||!a.ha)return!0;if(this.sb===a.sb){var b=pa(a.ha);if(b===pa(this.ha)){if(1===b){var b=qa(a.ha),c=qa(this.ha);return!(c!==b||a.ha[b]&&this.ha[c]&&a.ha[b]!==this.ha[c])}return oa(this.ha,function(b,c){return a.ha[c]===b})}}}return!1},g.tf=function(){return null!==this.ha},g=kd.prototype,g.K=function(a,b,c,d,e,f){return K(a.Jc(this.g),"A node must be indexed if only a child is updated"),e=a.J(b),e.Y(d).ca(c.Y(d))&&e.e()==c.e()?a:(null!=f&&(c.e()?a.Da(b)?hd(f,new D("child_removed",e,b)):K(a.L(),"A child remove without an old child only makes sense on a leaf node"):e.e()?hd(f,new D("child_added",c,b)):hd(f,new D("child_changed",c,b,e))),a.L()&&c.e()?a:a.O(b,c).mb(this.g))},g.xa=function(a,b,c){return null!=c&&(a.L()||a.R(N,function(a,e){b.Da(a)||hd(c,new D("child_removed",e,a))}),b.L()||b.R(N,function(b,e){if(a.Da(b)){var f=a.J(b);f.ca(e)||hd(c,new D("child_changed",e,b,f))}else hd(c,new D("child_added",e,b))})),b.mb(this.g)},g.ga=function(a,b){return a.e()?C:a.ga(b)},g.Na=function(){return!1},g.Wb=function(){return this},g=ld.prototype,g.matches=function(a){return 0>=this.g.compare(this.ed,a)&&0>=this.g.compare(a,this.Gc)},g.K=function(a,b,c,d,e,f){return this.matches(new F(b,c))||(c=C),this.Ce.K(a,b,c,d,e,f)},g.xa=function(a,b,c){b.L()&&(b=C);var d=b.mb(this.g),d=d.ga(C),e=this;return b.R(N,function(a,b){e.matches(new F(a,b))||(d=d.O(a,C))}),this.Ce.xa(a,d,c)},g.ga=function(a){return a},g.Na=function(){return!0},g.Wb=function(){return this.Ce},g=qd.prototype,g.K=function(a,b,c,d,e,f){return this.sa.matches(new F(b,c))||(c=C),a.J(b).ca(c)?a:a.Eb()<this.ka?this.sa.Wb().K(a,b,c,d,e,f):sd(this,a,b,c,e,f)},g.xa=function(a,b,c){var d;if(b.L()||b.e())d=C.mb(this.g);else if(2*this.ka<b.Eb()&&b.Jc(this.g)){d=C.mb(this.g),b=this.Jb?b.$b(this.sa.Gc,this.g):b.Yb(this.sa.ed,this.g);for(var e=0;0<b.Qa.length&&e<this.ka;){var h,f=J(b);if(!(h=this.Jb?0>=this.g.compare(this.sa.ed,f):0>=this.g.compare(f,this.sa.Gc)))break;d=d.O(f.name,f.S),e++}}else{d=b.mb(this.g),d=d.ga(C);var k,l,m;if(this.Jb){b=d.sf(this.g),k=this.sa.Gc,l=this.sa.ed;var t=td(this.g);m=function(a,b){return t(b,a)}}else b=d.Xb(this.g),k=this.sa.ed,l=this.sa.Gc,m=td(this.g);for(var e=0,y=!1;0<b.Qa.length;)f=J(b),!y&&0>=m(k,f)&&(y=!0),(h=y&&e<this.ka&&0>=m(f,l))?e++:d=d.O(f.name,C)}return this.sa.Wb().xa(a,d,c)},g.ga=function(a){return a},g.Na=function(){return!0},g.Wb=function(){return this.sa.Wb()},yd.prototype.ab=function(a,b,c,d){var f,e=new gd;if(b.type===Xb)b.source.xe?c=zd(this,a,b.path,b.Ga,c,d,e):(K(b.source.pf,"Unknown source."),f=b.source.bf,c=Ad(this,a,b.path,b.Ga,c,d,f,e));else if(b.type===Bd)b.source.xe?c=Cd(this,a,b.path,b.children,c,d,e):(K(b.source.pf,"Unknown source."),f=b.source.bf,c=Dd(this,a,b.path,b.children,c,d,f,e));else if(b.type===Ed)if(b.Vd)if(b=b.path,null!=c.tc(b))c=a;else{if(f=new rb(c,a,d),d=a.Q.j(),b.e()||".priority"===E(b))Ib(a.C())?b=c.za(ub(a)):(b=a.C().j(),K(b instanceof T,"serverChildren would be complete if leaf node"),b=c.yc(b)),b=this.U.xa(d,b,e);else{var h=E(b),k=c.xc(h,a.C());null==k&&sb(a.C(),h)&&(k=d.J(h)),b=null!=k?this.U.K(d,h,k,H(b),f,e):a.Q.j().Da(h)?this.U.K(d,h,C,H(b),f,e):d,b.e()&&Ib(a.C())&&(d=c.za(ub(a)),d.L()&&(b=this.U.xa(b,d,e)))}d=Ib(a.C())||null!=c.tc(G),c=Fd(a,b,d,this.U.Na())}else c=Gd(this,a,b.path,b.Qb,c,d,e);else{if(b.type!==Zb)throw Gc("Unknown operation type: "+b.type);d=b.path,b=a.C(),f=b.j(),h=b.ea||d.e(),c=Hd(this,new Id(a.Q,new tb(f,h,b.Ub)),d,c,qb,e)}return e=ra(e.bb),d=c,b=d.Q,b.ea&&(f=b.j().L()||b.j().e(),h=Jd(a),(0<e.length||!a.Q.ea||f&&!b.j().ca(h)||!b.j().B().ca(h.B()))&&e.push(Eb(Jd(d)))),new wd(c,e)};var Qd={};Pd.prototype.Ad=function(a,b){return 0!==this.compare(new F("[MIN_NAME]",a),new F("[MIN_NAME]",b))},Pd.prototype.Tc=function(){return Rd},ma(Sd,Pd),g=Sd.prototype,g.Ic=function(a){return!a.J(this.cc).e()},g.compare=function(a,b){var c=a.S.J(this.cc),d=b.S.J(this.cc),c=c.Dc(d);return 0===c?Ub(a.name,b.name):c},g.Pc=function(a,b){var c=M(a),c=C.O(this.cc,c);return new F(b,c)},g.Qc=function(){var a=C.O(this.cc,Td);return new F("[MAX_NAME]",a)},g.toString=function(){return this.cc},ma(Ud,Pd),g=Ud.prototype,g.compare=function(a,b){var c=a.S.B(),d=b.S.B(),c=c.Dc(d);return 0===c?Ub(a.name,b.name):c},g.Ic=function(a){return!a.B().e()},g.Ad=function(a,b){return!a.B().ca(b.B())},g.Tc=function(){return Rd},g.Qc=function(){return new F("[MAX_NAME]",new sc("[PRIORITY-POST]",Td))},g.Pc=function(a,b){var c=M(a);return new F(b,new sc("[PRIORITY-POST]",c))},g.toString=function(){return".priority"};var N=new Ud;ma(Vd,Pd),g=Vd.prototype,g.compare=function(a,b){return Ub(a.name,b.name)},g.Ic=function(){throw Gc("KeyIndex.isDefinedOn not expected to be called.")},g.Ad=function(){return!1},g.Tc=function(){return Rd},g.Qc=function(){return new F("[MAX_NAME]",C)},g.Pc=function(a){return K(p(a),"KeyIndex indexValue must always be a string."),new F(a,C)},g.toString=function(){return".key"};var Od=new Vd;ma(Wd,Pd),g=Wd.prototype,g.compare=function(a,b){var c=a.S.Dc(b.S);return 0===c?Ub(a.name,b.name):c},g.Ic=function(){return!0},g.Ad=function(a,b){return!a.ca(b)},g.Tc=function(){return Rd},g.Qc=function(){return Xd},g.Pc=function(a,b){var c=M(a);return new F(b,c)},g.toString=function(){return".value"};var Yd=new Wd,$d=new Zd;g=Zd.prototype,g.Ie=function(a){var b=ae(this);return b.ja=!0,b.ka=a,b.Nb="",b},g.Je=function(a){var b=ae(this);return b.ja=!0,b.ka=a,b.Nb="l",b},g.Ke=function(a){var b=ae(this);return b.ja=!0,b.ka=a,b.Nb="r",b},g.ae=function(a,b){var c=ae(this);return c.ma=!0,n(a)||(a=null),c.ec=a,null!=b?(c.Lb=!0,c.yb=b):(c.Lb=!1,c.yb=""),c},g.td=function(a,b){var c=ae(this);return c.pa=!0,n(a)||(a=null),c.bc=a,n(b)?(c.Tb=!0,c.wb=b):(c.Zg=!1,c.wb=""),c},g.toString=function(){return B(ce(this))},fe.prototype.get=function(a){var b=w(this.Bd,a);if(!b)throw Error("No index defined for "+a);return b===Qd?null:b};var je=new fe({".priority":Qd},{".priority":N}),le=["object","boolean","number","string"];g=sc.prototype,g.L=function(){return!0},g.B=function(){return this.aa},g.ga=function(a){return new sc(this.A,a)},g.J=function(a){return".priority"===a?this.aa:C},g.Y=function(a){return a.e()?this:".priority"===E(a)?this.aa:C},g.Da=function(){return!1},g.rf=function(){return null},g.O=function(a,b){return".priority"===a?this.ga(b):b.e()&&".priority"!==a?this:C.O(a,b).ga(this.aa)},g.K=function(a,b){var c=E(a);return null===c?b:b.e()&&".priority"!==c?this:(K(".priority"!==c||1===tc(a),".priority must be the last token in a path"),this.O(c,C.K(H(a),b)))},g.e=function(){return!1},g.Eb=function(){return 0},g.R=function(){return!1},g.H=function(a){return a&&!this.B().e()?{".value":this.Ca(),".priority":this.B().H()}:this.Ca()},g.hash=function(){if(null===this.Cb){var a="";this.aa.e()||(a+="priority:"+me(this.aa.H())+":");var b=typeof this.A,a=a+(b+":"),a="number"===b?a+Yc(this.A):a+this.A;this.Cb=Ic(a)}return this.Cb},g.Ca=function(){return this.A},g.Dc=function(a){if(a===C)return 1;if(a instanceof T)return-1;K(a.L(),"Unknown node type");var b=typeof a.A,c=typeof this.A,d=Na(le,b),e=Na(le,c);return K(0<=d,"Unknown leaf type: "+b),K(0<=e,"Unknown leaf type: "+c),d===e?"object"===c?0:this.A<a.A?-1:this.A===a.A?0:1:e-d},g.mb=function(){return this},g.Jc=function(){return!0},g.ca=function(a){return a===this||!!a.L()&&(this.A===a.A&&this.aa.ca(a.aa))},g.toString=function(){return B(this.H(!0))},g=T.prototype,g.L=function(){return!1},g.B=function(){return this.aa||C},g.ga=function(a){return this.m.e()?this:new T(this.m,a,this.xb)},g.J=function(a){return".priority"===a?this.B():(a=this.m.get(a),null===a?C:a)},g.Y=function(a){var b=E(a);return null===b?this:this.J(b).Y(H(a))},g.Da=function(a){return null!==this.m.get(a)},g.O=function(a,b){if(K(b,"We should always be passing snapshot nodes"),".priority"===a)return this.ga(b);var d,e,c=new F(a,b);return b.e()?(d=this.m.remove(a),c=ie(this.xb,c,this.m)):(d=this.m.Oa(a,b),c=ge(this.xb,c,this.m)),e=d.e()?C:this.aa,new T(d,e,c)},g.K=function(a,b){var c=E(a);if(null===c)return b;K(".priority"!==E(a)||1===tc(a),".priority must be the last token in a path");var d=this.J(c).K(H(a),b);return this.O(c,d)},g.e=function(){return this.m.e()},g.Eb=function(){return this.m.count()};var ne=/^(0|[1-9]\d*)$/;g=T.prototype,g.H=function(a){if(this.e())return null;var b={},c=0,d=0,e=!0;if(this.R(N,function(f,h){b[f]=h.H(a),c++,e&&ne.test(f)?d=Math.max(d,Number(f)):e=!1}),!a&&e&&d<2*c){var h,f=[];for(h in b)f[h]=b[h];return f}return a&&!this.B().e()&&(b[".priority"]=this.B().H()),b},g.hash=function(){if(null===this.Cb){var a="";this.B().e()||(a+="priority:"+me(this.B().H())+":"),this.R(N,function(b,c){var d=c.hash();""!==d&&(a+=":"+b+":"+d)}),this.Cb=""===a?"":Ic(a)}return this.Cb},g.rf=function(a,b,c){return(c=oe(this,c))?(a=bc(c,new F(a,b)))?a.name:null:bc(this.m,a)},g.R=function(a,b){var c=oe(this,a);return c?c.ia(function(a){return b(a.name,a.S)}):this.m.ia(b)},g.Xb=function(a){return this.Yb(a.Tc(),a)},g.Yb=function(a,b){var c=oe(this,b);if(c)return c.Yb(a,function(a){return a});for(var c=this.m.Yb(a.name,Sb),d=dc(c);null!=d&&0>b.compare(d,a);)J(c),d=dc(c);return c},g.sf=function(a){return this.$b(a.Qc(),a)},g.$b=function(a,b){var c=oe(this,b);if(c)return c.$b(a,function(a){return a});for(var c=this.m.$b(a.name,Sb),d=dc(c);null!=d&&0<b.compare(d,a);)J(c),d=dc(c);return c},g.Dc=function(a){return this.e()?a.e()?0:-1:a.L()||a.e()?1:a===Td?-1:0},g.mb=function(a){if(a===Od||ta(this.xb.dc,a.toString()))return this;var b=this.xb,c=this.m;K(a!==Od,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var d=[],e=!1,c=c.Xb(Sb),f=J(c);f;)e=e||a.Ic(f.S),d.push(f),f=J(c);return d=e?he(d,td(a)):Qd,e=a.toString(),c=xa(b.dc),c[e]=a,a=xa(b.Bd),a[e]=d,new T(this.m,this.aa,new fe(a,c))},g.Jc=function(a){return a===Od||ta(this.xb.dc,a.toString())},g.ca=function(a){if(a===this)return!0;if(a.L())return!1;if(this.B().ca(a.B())&&this.m.count()===a.m.count()){var b=this.Xb(N);a=a.Xb(N);for(var c=J(b),d=J(a);c&&d;){if(c.name!==d.name||!c.S.ca(d.S))return!1;c=J(b),d=J(a)}return null===c&&null===d}return!1},g.toString=function(){return B(this.H(!0))};var pe=Math.log(2),C=new T(new $b(Vb),null,je);ma(se,T),g=se.prototype,g.Dc=function(a){return a===this?0:1},g.ca=function(a){return a===this},g.B=function(){return this},g.J=function(){return C},g.e=function(){return!1};var Td=new se,Rd=new F("[MIN_NAME]",C),Xd=new F("[MAX_NAME]",Td);Id.prototype.C=function(){return this.Yd},g=te.prototype,g.C=function(){return this.Ka.C().j()},g.gb=function(a){var b=ub(this.Ka);return b&&(de(this.V.o)||!a.e()&&!b.J(E(a)).e())?b.Y(a):null},g.e=function(){return 0===this.Ya.length},g.Pb=function(a){this.Ya.push(a)},g.kb=function(a,b){var c=[];if(b){K(null==a,"A cancel should cancel all event registrations.");var d=this.V.path;Oa(this.Ya,function(a){(a=a.gf(b,d))&&c.push(a)})}if(a){for(var e=[],f=0;f<this.Ya.length;++f){var h=this.Ya[f];if(h.matches(a)){if(a.tf()){e=e.concat(this.Ya.slice(f+1));break}}else e.push(h)}this.Ya=e}else this.Ya=[];return c},g.ab=function(a,b,c){a.type===Bd&&null!==a.source.Ib&&(K(ub(this.Ka),"We should always have a full cache before handling merges"),K(Jd(this.Ka),"Missing event cache, even though we have a server cache"));var d=this.Ka;return a=this.Hf.ab(d,a,b,c),b=this.Hf,c=a.ke,K(c.Q.j().Jc(b.U.g),"Event snap not indexed"),K(c.C().j().Jc(b.U.g),"Server snap not indexed"),K(Ib(a.ke.C())||!Ib(d.C()),"Once a server snap is complete, it should never go back"),this.Ka=a.ke,ve(this,a.dg,a.ke.Q.j(),null)},xe.prototype.Xc=function(a){return this.path.e()?(a=this.children.subtree(new L(a)),a.e()?null:a.value?new Wb(this.source,G,a.value):new xe(this.source,G,a)):(K(E(this.path)===a,"Can't get a merge for a child not on the path of the operation"),new xe(this.source,H(this.path),this.children))},xe.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},g=ye.prototype,g.yf=function(a,b,c,d){var e=a.path.toString();this.f("Listen called for "+e+" "+a.va());var f=ze(a,c),h={};this.$[f]=h,a=ee(a.o);var k=this;Ae(this,e+".json",a,function(a,b){var t=b;404===a&&(a=t=null),null===a&&k.Hb(e,t,!1,c),w(k.$,f)===h&&d(a?401==a?"permission_denied":"rest_error:"+a:"ok",null)})},g.Pf=function(a,b){var c=ze(a,b);delete this.$[c]},g.N=function(a,b){this.Aa=a;var c=$c(a),d=c.data,c=c.Bc&&c.Bc.exp;b&&b("ok",{auth:d,expires:c})},g.he=function(a){this.Aa=null,a("ok",null)},g.Ne=function(){},g.Cf=function(){},g.Jd=function(){},g.put=function(){},g.zf=function(){},g.Ve=function(){};var Ce=new $b(function(a,b){return a===b?0:a<b?-1:1});g=Be.prototype,g.e=function(){return null===this.value&&this.children.e()},g.subtree=function(a){if(a.e())return this;var b=this.children.get(E(a));return null!==b?b.subtree(H(a)):Nd},g.set=function(a,b){if(a.e())return new Be(b,this.children);var c=E(a),d=(this.children.get(c)||Nd).set(H(a),b),c=this.children.Oa(c,d);return new Be(this.value,c)},g.remove=function(a){if(a.e())return this.children.e()?Nd:new Be(null,this.children);var b=E(a),c=this.children.get(b);return c?(a=c.remove(H(a)),b=a.e()?this.children.remove(b):this.children.Oa(b,a),null===this.value&&b.e()?Nd:new Be(this.value,b)):this},g.get=function(a){if(a.e())return this.value;var b=this.children.get(E(a));return b?b.get(H(a)):null};var Nd=new Be(null);Be.prototype.toString=function(){var a={};return Kd(this,function(b,c){a[b.toString()]=c.toString()}),B(a)},Oe.prototype.Xc=function(a){return this.path.e()?null!=this.Qb.value?(K(this.Qb.children.e(),"affectedTree should not have overlapping affected paths."),this):(a=this.Qb.subtree(new L(a)),new Oe(G,a,this.Vd)):(K(E(this.path)===a,"operationForChild called for unrelated child."),new Oe(H(this.path),this.Qb,this.Vd))},Oe.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" ack write revert="+this.Vd+" affectedTree="+this.Qb+")"};var Xb=0,Bd=1,Ed=2,Zb=3,Pe=new Qe((!0),(!1),null,(!1)),Re=new Qe((!1),(!0),null,(!1));Qe.prototype.toString=function(){return this.xe?"user":this.bf?"server(queryID="+this.Ib+")":"server"};var Te=new Se(new Be(null));Se.prototype.Rd=function(a){return a.e()?Te:(a=Md(this.W,a,Nd),new Se(a))},Se.prototype.e=function(){return this.W.e()},Se.prototype.apply=function(a){return Ze(G,this.W,a)},g=$e.prototype,g.Rd=function(a){var b=Ua(this.na,function(b){return b.kd===a});K(0<=b,"removeWrite called with nonexistent writeId.");var c=this.na[b];this.na.splice(b,1);for(var d=c.visible,e=!1,f=this.na.length-1;d&&0<=f;){var h=this.na[f];h.visible&&(f>=b&&bf(h,c.path)?d=!1:c.path.contains(h.path)&&(e=!0)),f--}if(d){if(e)this.T=cf(this.na,df,G),this.Mc=0<this.na.length?this.na[this.na.length-1].kd:-1;else if(c.Ga)this.T=this.T.Rd(c.path);else{var k=this;r(c.children,function(a,b){k.T=k.T.Rd(c.path.u(b))})}return!0}return!1},g.za=function(a,b,c,d){if(c||d){var e=Ye(this.T,a);return!d&&e.e()?b:d||null!=b||null!=We(e,G)?(e=cf(this.na,function(b){return(b.visible||d)&&(!c||!(0<=Na(c,b.kd)))&&(b.path.contains(a)||a.contains(b.path))},a),b=b||C,e.apply(b)):null}return e=We(this.T,a),null!=e?e:(e=Ye(this.T,a),e.e()?b:null!=b||null!=We(e,G)?(b=b||C,e.apply(b)):null)},g.yc=function(a,b){var c=C,d=We(this.T,a);if(d)d.L()||d.R(N,function(a,b){c=c.O(a,b)});else if(b){var e=Ye(this.T,a);b.R(N,function(a,b){var d=Ye(e,new L(a)).apply(b);c=c.O(a,d)}),Oa(Xe(e),function(a){c=c.O(a.name,a.S)})}else e=Ye(this.T,a),Oa(Xe(e),function(a){c=c.O(a.name,a.S)});return c},g.ld=function(a,b,c,d){return K(c||d,"Either existingEventSnap or existingServerSnap must exist"),a=a.u(b),null!=We(this.T,a)?null:(a=Ye(this.T,a),a.e()?d.Y(b):a.apply(d.Y(b)))},g.xc=function(a,b,c){a=a.u(b);var d=We(this.T,a);return null!=d?d:sb(c,b)?Ye(this.T,a).apply(c.j().J(b)):null},g.tc=function(a){return We(this.T,a)},g.oe=function(a,b,c,d,e,f){var h;if(a=Ye(this.T,a),h=We(a,G),null==h){if(null==b)return[];h=a.apply(b)}if(h=h.mb(f),h.e()||h.L())return[];for(b=[],a=td(f),e=e?h.$b(c,f):h.Yb(c,f),f=J(e);f&&b.length<d;)0!==a(f,c)&&b.push(f),f=J(e);return b},g=ef.prototype,g.za=function(a,b,c){return this.W.za(this.Mb,a,b,c)},g.yc=function(a){return this.W.yc(this.Mb,a)},g.ld=function(a,b,c){return this.W.ld(this.Mb,a,b,c)},g.tc=function(a){return this.W.tc(this.Mb.u(a))},g.oe=function(a,b,c,d,e){return this.W.oe(this.Mb,a,b,c,d,e)},g.xc=function(a,b){return this.W.xc(this.Mb,a,b)},g.u=function(a){return new ef(this.Mb.u(a),this.W)},g=ff.prototype,g.e=function(){return wa(this.ya)},g.ab=function(a,b,c){var d=a.source.Ib;if(null!==d)return d=w(this.ya,d),K(null!=d,"SyncTree gave us an op for an invalid query."),d.ab(a,b,c);var e=[];return r(this.ya,function(d){e=e.concat(d.ab(a,b,c))}),e},g.Pb=function(a,b,c,d,e){var f=a.va(),h=w(this.ya,f);if(!h){var h=c.za(e?d:null),k=!1;h?k=!0:(h=d instanceof T?c.yc(d):C,k=!1),h=new te(a,new Id(new tb(h,k,(!1)),new tb(d,e,(!1)))),this.ya[f]=h}return h.Pb(b),we(h,b)},g.kb=function(a,b,c){var d=a.va(),e=[],f=[],h=null!=gf(this);if("default"===d){var k=this;r(this.ya,function(a,d){f=f.concat(a.kb(b,c)),a.e()&&(delete k.ya[d],de(a.V.o)||e.push(a.V))})}else{var l=w(this.ya,d);l&&(f=f.concat(l.kb(b,c)),l.e()&&(delete this.ya[d],de(l.V.o)||e.push(l.V)))}return h&&null==gf(this)&&e.push(new U(a.k,a.path)),{Ig:e,kg:f}},g.gb=function(a){var b=null;return r(this.ya,function(c){b=b||c.gb(a)}),b},kf.prototype.Pb=function(a,b){var c=a.path,d=null,e=!1;Ke(this.ta,c,function(a,b){var f=O(a,c);return d=b.gb(f),e=e||null!=gf(b),!d});var f=this.ta.get(c);f?(e=e||null!=gf(f),d=d||f.gb(G)):(f=new ff,this.ta=this.ta.set(c,f));var h;null!=d?h=!0:(h=!1,d=C,Ne(this.ta.subtree(c),function(a,b){var c=b.gb(G);c&&(d=d.O(a,c))}));var k=null!=jf(f,a);if(!k&&!de(a.o)){var l=vf(a);K(!(l in this.lc),"View does not exist, but we have a tag");var m=wf++;this.lc[l]=m,this.af["_"+m]=l}return h=f.Pb(a,b,new ef(c,this.jb),d,h),k||e||(f=jf(f,a),h=h.concat(xf(this,a,f))),h},kf.prototype.kb=function(a,b,c){var d=a.path,e=this.ta.get(d),f=[];if(e&&("default"===a.va()||null!=jf(e,a))){f=e.kb(a,b,c),e.e()&&(this.ta=this.ta.remove(d)),e=f.Ig,f=f.kg,b=-1!==Ua(e,function(a){return de(a.o)});var h=Ie(this.ta,d,function(a,b){return null!=gf(b)});if(b&&!h&&(d=this.ta.subtree(d),!d.e()))for(var d=yf(d),k=0;k<d.length;++k){var l=d[k],m=l.V,l=zf(this,l);this.Nc.Ye(m,Af(this,m),l.xd,l.G)}if(!h&&0<e.length&&!c)if(b)this.Nc.be(a,null);else{var t=this;Oa(e,function(a){a.va();var b=t.lc[vf(a)];t.Nc.be(a,b)})}Bf(this,e)}return f},kf.prototype.za=function(a,b){var c=this.jb,d=Ie(this.ta,a,function(b,c){var d=O(b,a);if(d=c.gb(d))return d});return c.za(a,d,b,!0)};var wf=1;g=Ff.prototype,g.Ca=function(){return this.w.value},g.clear=function(){this.w.value=null,this.w.children={},this.w.nd=0,If(this)},g.wd=function(){return 0<this.w.nd},g.e=function(){return null===this.Ca()&&!this.wd()},g.R=function(a){var b=this;r(this.w.children,function(c,d){a(new Ff(d,b,c))})},g.path=function(){return new L(null===this.Zc?this.Gd:this.Zc.path()+"/"+this.Gd)},g.name=function(){return this.Gd},g.parent=function(){return this.Zc},Lf.prototype.ge=function(a,b){for(var c=this.Oc[a]||[],d=0;d<c.length;d++)c[d].zc.apply(c[d].Ma,Array.prototype.slice.call(arguments,1))},Lf.prototype.Fb=function(a,b,c){Mf(this,a),this.Oc[a]=this.Oc[a]||[],this.Oc[a].push({zc:b,Ma:c}),(a=this.Be(a))&&b.apply(c,a)},Lf.prototype.hc=function(a,b,c){Mf(this,a),a=this.Oc[a]||[];for(var d=0;d<a.length;d++)if(a[d].zc===b&&(!c||c===a[d].Ma)){a.splice(d,1);break}};var Nf=function(){var a=0,b=[];return function(c){var d=c===a;a=c;for(var e=Array(8),f=7;0<=f;f--)e[f]="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz".charAt(c%64),c=Math.floor(c/64);if(K(0===c,"Cannot push at time == 0"),c=e.join(""),d){for(f=11;0<=f&&63===b[f];f--)b[f]=0;b[f]++}else for(f=0;12>f;f++)b[f]=Math.floor(64*Math.random());for(f=0;12>f;f++)c+="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz".charAt(b[f]);return K(20===c.length,"nextPushId: Length should be 20."),c}}();ma(Of,Lf),Of.prototype.Be=function(a){return K("online"===a,"Unknown event type: "+a),[this.jc]},ca(Of),ma(Pf,Lf),Pf.prototype.Be=function(a){return K("visible"===a,"Unknown event type: "+a),[this.Ob]},ca(Pf);var Qf=/[\[\].#$\/\u0000-\u001F\u007F]/,Rf=/[\[\].#$\u0000-\u001F\u007F]/,Sf=/^[a-zA-Z][a-zA-Z._\-+]+$/;g=hg.prototype,g.add=function(a,b){this.set[a]=null===b||b},g.contains=function(a){return v(this.set,a)},g.get=function(a){return this.contains(a)?this.set[a]:void 0},g.remove=function(a){delete this.set[a]},g.clear=function(){this.set={}},g.e=function(){return wa(this.set)},g.count=function(){return pa(this.set)},g.keys=function(){var a=[];return r(this.set,function(b,c){a.push(c)}),a},pc.prototype.find=function(a){if(null!=this.A)return this.A.Y(a);if(a.e()||null==this.m)return null;var b=E(a);return a=H(a),this.m.contains(b)?this.m.get(b).find(a):null},pc.prototype.nc=function(a,b){if(a.e())this.A=b,this.m=null;else if(null!==this.A)this.A=this.A.K(a,b);else{null==this.m&&(this.m=new hg);var c=E(a);this.m.contains(c)||this.m.add(c,new pc),c=this.m.get(c),a=H(a),c.nc(a,b)}},pc.prototype.R=function(a){null!==this.m&&ig(this.m,function(b,c){a(b,c)})};var kg="auth.firebase.com",mg=["remember","redirectTo"];og.prototype.set=function(a,b){if(!b){if(!this.ce.length)throw Error("fb.login.SessionManager : No storage options available!");b=this.ce[0]}b.set(this.Re,a)},og.prototype.get=function(){
var a=Qa(this.ce,q(this.og,this)),a=Pa(a,function(a){return null!==a});return Xa(a,function(a,c){return ad(c.token)-ad(a.token)}),0<a.length?a.shift():null},og.prototype.og=function(a){try{var b=a.get(this.Re);if(b&&b.token)return b}catch(c){}return null},og.prototype.clear=function(){var a=this;Oa(this.ce,function(b){b.remove(a.Re)})},Ag.prototype.ic=function(a){var c,b=this;try{c=nb(a.data)}catch(d){}c&&"request"===c.a&&(vg(window,"message",this.ic),this.de=a.origin,this.Ac&&setTimeout(function(){b.Ac(b.de,c.d,function(a,c){b.bg=!c,b.Ac=void 0,Bg(b,{a:"response",d:a,forceKeepWindowOpen:c})})},0))},Ag.prototype.zg=function(){try{vg(this.zd,"message",this.Bf)}catch(a){}this.Ac&&(Bg(this,{a:"error",d:"unknown closed window"}),this.Ac=void 0);try{window.close()}catch(b){}},Ag.prototype.Bf=function(a){if(this.bg&&"die"===a.data)try{window.close()}catch(b){}},Cg.prototype.open=function(a,b){P.set("redirect_request_id",this.pc),P.set("redirect_request_id",this.pc),b.requestId=this.pc,b.redirectTo=b.redirectTo||window.location.href,a+=(/\?/.test(a)?"":"?")+kb(b),window.location=a},Cg.isAvailable=function(){return!rg()&&!qg()},Cg.prototype.Cc=function(){return"redirect"};var Dg={NETWORK_ERROR:"Unable to contact the Firebase server.",SERVER_ERROR:"An unknown server error occurred.",TRANSPORT_UNAVAILABLE:"There are no login transports available for the requested method.",REQUEST_INTERRUPTED:"The browser redirected the page before the login request could complete.",USER_CANCELLED:"The user cancelled authentication."};Fg.prototype.open=function(a,b,c){function d(a){if(h&&(document.body.removeChild(h),h=void 0),t&&(t=clearInterval(t)),vg(window,"message",e),vg(window,"unload",d),m&&!a)try{m.close()}catch(b){k.postMessage("die",l)}m=k=void 0}function e(a){if(a.origin===l)try{var b=nb(a.data);"ready"===b.a?k.postMessage(y,l):"error"===b.a?(d(!1),c&&(c(b.d),c=null)):"response"===b.a&&(d(b.forceKeepWindowOpen),c&&(c(null,b.d),c=null))}catch(e){}}var h,k,f=sg(8);if(!this.options.relay_url)return c(Error("invalid arguments: origin of url and relay_url must match"));var l=wg(a);if(l!==wg(this.options.relay_url))c&&setTimeout(function(){c(Error("invalid arguments: origin of url and relay_url must match"))},0);else{f&&(h=document.createElement("iframe"),h.setAttribute("src",this.options.relay_url),h.style.display="none",h.setAttribute("name","__winchan_relay_frame"),document.body.appendChild(h),k=h.contentWindow),a+=(/\?/.test(a)?"":"?")+kb(b);var m=window.open(a,this.options.window_name,this.options.window_features);k||(k=m);var t=setInterval(function(){m&&m.closed&&(d(!1),c&&(c(Eg("USER_CANCELLED")),c=null))},500),y=B({a:"request",d:b});ug(window,"unload",d),ug(window,"message",e)}},Fg.isAvailable=function(){var a;return(a="postMessage"in window&&!rg())&&((a=qg()||"undefined"!=typeof navigator&&(!!pg().match(/Windows Phone/)||!!window.Windows&&/^ms-appx:/.test(location.href)))||(a=pg(),a="undefined"!=typeof navigator&&"undefined"!=typeof window&&!!(a.match(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i)||a.match(/CriOS/)||a.match(/Twitter for iPhone/)||a.match(/FBAN\/FBIOS/)||window.navigator.standalone)),a=!a),a&&!pg().match(/PhantomJS/)},Fg.prototype.Cc=function(){return"popup"},Gg.prototype.open=function(a,b,c){function d(){c&&(c(Eg("REQUEST_INTERRUPTED")),c=null)}var h,e=new XMLHttpRequest,f=this.options.method.toUpperCase();if(ug(window,"beforeunload",d),e.onreadystatechange=function(){if(c&&4===e.readyState){var a;if(200<=e.status&&300>e.status){try{a=nb(e.responseText)}catch(b){}c(null,a)}else c(500<=e.status&&600>e.status?Eg("SERVER_ERROR"):Eg("NETWORK_ERROR"));c=null,vg(window,"beforeunload",d)}},"GET"===f)a+=(/\?/.test(a)?"":"?")+kb(b),h=null;else{var k=this.options.headers.content_type;"application/json"===k&&(h=B(b)),"application/x-www-form-urlencoded"===k&&(h=kb(b))}e.open(f,a,!0),a={"X-Requested-With":"XMLHttpRequest",Accept:"application/json;text/plain"},za(a,this.options.headers);for(var l in a)e.setRequestHeader(l,a[l]);e.send(h)},Gg.isAvailable=function(){var a;return(a=!!window.XMLHttpRequest)&&(a=pg(),a=!(a.match(/MSIE/)||a.match(/Trident/))||sg(10)),a},Gg.prototype.Cc=function(){return"json"},Hg.prototype.open=function(a,b,c){function d(){c&&(c(Eg("USER_CANCELLED")),c=null)}var h,e=this,f=Qc(kg);b.requestId=this.pc,b.redirectTo=f.scheme+"://"+f.host+"/blank/page.html",a+=/\?/.test(a)?"":"?",a+=kb(b),(h=window.open(a,"_blank","location=no"))&&ha(h.addEventListener)?(h.addEventListener("loadstart",function(a){var b;if(b=a&&a.url)a:{try{var m=document.createElement("a");m.href=a.url,b=m.host===f.host&&"/blank/page.html"===m.pathname;break a}catch(t){}b=!1}b&&(a=xg(a.url),h.removeEventListener("exit",d),h.close(),a=new lg(null,null,{requestId:e.pc,requestKey:a}),e.Ef.requestWithCredential("/auth/session",a,c),c=null)}),h.addEventListener("exit",d)):c(Eg("TRANSPORT_UNAVAILABLE"))},Hg.isAvailable=function(){return qg()},Hg.prototype.Cc=function(){return"redirect"},Ig.prototype.open=function(a,b,c){function d(){c&&(c(Eg("REQUEST_INTERRUPTED")),c=null)}function e(){setTimeout(function(){window.__firebase_auth_jsonp[f]=void 0,wa(window.__firebase_auth_jsonp)&&(window.__firebase_auth_jsonp=void 0);try{var a=document.getElementById(f);a&&a.parentNode.removeChild(a)}catch(b){}},1),vg(window,"beforeunload",d)}var f="fn"+(new Date).getTime()+Math.floor(99999*Math.random());b[this.options.callback_parameter]="__firebase_auth_jsonp."+f,a+=(/\?/.test(a)?"":"?")+kb(b),ug(window,"beforeunload",d),window.__firebase_auth_jsonp[f]=function(a){c&&(c(null,a),c=null),e()},Jg(f,a,c)},Ig.isAvailable=function(){return"undefined"!=typeof document&&null!=document.createElement},Ig.prototype.Cc=function(){return"json"},ma(Kg,Lf),g=Kg.prototype,g.ye=function(){return this.nb||null},g.te=function(a,b){Tg(this);var c=ng(a);c.$a._method="POST",this.qc("/users",c,function(a,c){a?R(b,a):R(b,a,c)})},g.Ue=function(a,b){var c=this;Tg(this);var d="/users/"+encodeURIComponent(a.email),e=ng(a);e.$a._method="DELETE",this.qc(d,e,function(a,d){!a&&d&&d.uid&&c.nb&&c.nb.uid&&c.nb.uid===d.uid&&Rg(c),R(b,a)})},g.qe=function(a,b){Tg(this);var c="/users/"+encodeURIComponent(a.email)+"/password",d=ng(a);d.$a._method="PUT",d.$a.password=a.newPassword,this.qc(c,d,function(a){R(b,a)})},g.pe=function(a,b){Tg(this);var c="/users/"+encodeURIComponent(a.oldEmail)+"/email",d=ng(a);d.$a._method="PUT",d.$a.email=a.newEmail,d.$a.password=a.password,this.qc(c,d,function(a){R(b,a)})},g.We=function(a,b){Tg(this);var c="/users/"+encodeURIComponent(a.email)+"/password",d=ng(a);d.$a._method="POST",this.qc(c,d,function(a){R(b,a)})},g.qc=function(a,b,c){Wg(this,[Gg,Ig],a,b,c)},g.Be=function(a){return K("auth_status"===a,'initial event must be of type "auth_status"'),this.Te?null:[this.nb]};var ah,bh;$g.prototype.open=function(a,b){this.hf=0,this.la=b,this.Af=new Xg(a),this.Ab=!1;var c=this;this.rb=setTimeout(function(){c.f("Timed out trying to connect."),c.hb(),c.rb=null},Math.floor(3e4)),Sc(function(){if(!c.Ab){c.Ta=new ch(function(a,b,d,k,l){if(dh(c,arguments),c.Ta)if(c.rb&&(clearTimeout(c.rb),c.rb=null),c.Hc=!0,"start"==a)c.id=b,c.Gf=d;else{if("close"!==a)throw Error("Unrecognized command received: "+a);b?(c.Ta.Xd=!1,Yg(c.Af,b,function(){c.hb()})):c.hb()}},function(a,b){dh(c,arguments),Zg(c.Af,a,b)},function(){c.hb()},c.jd);var a={start:"t"};a.ser=Math.floor(1e8*Math.random()),c.Ta.ie&&(a.cb=c.Ta.ie),a.v="5",c.Zd&&(a.s=c.Zd),"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(a.r="f"),a=c.jd(a),c.f("Connecting via long-poll to "+a),eh(c.Ta,a,function(){})}})},$g.prototype.start=function(){var a=this.Ta,b=this.Gf;for(a.sg=this.id,a.tg=b,a.me=!0;fh(a););a=this.id,b=this.Gf,this.gc=document.createElement("iframe");var c={dframe:"t"};c.id=a,c.pw=b,this.gc.src=this.jd(c),this.gc.style.display="none",document.body.appendChild(this.gc)},$g.isAvailable=function(){return ah||!bh&&"undefined"!=typeof document&&null!=document.createElement&&!("object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"==typeof Windows&&"object"==typeof Windows.Vg)&&!0},g=$g.prototype,g.Ed=function(){},g.dd=function(){this.Ab=!0,this.Ta&&(this.Ta.close(),this.Ta=null),this.gc&&(document.body.removeChild(this.gc),this.gc=null),this.rb&&(clearTimeout(this.rb),this.rb=null)},g.hb=function(){this.Ab||(this.f("Longpoll is closing itself"),this.dd(),this.la&&(this.la(this.Hc),this.la=null))},g.close=function(){this.Ab||(this.f("Longpoll is being closed."),this.dd())},g.send=function(a){a=B(a),this.pb+=a.length,Nb(this.Va,"bytes_sent",a.length),a=Jc(a),a=fb(a,!0),a=Wc(a,1840);for(var b=0;b<a.length;b++){var c=this.Ta;c.ad.push({Kg:this.hf,Sg:a.length,kf:a[b]}),c.me&&fh(c),this.hf++}},ch.prototype.close=function(){if(this.me=!1,this.Ea){this.Ea.fb.body.innerHTML="";var a=this;setTimeout(function(){null!==a.Ea&&(document.body.removeChild(a.Ea),a.Ea=null)},Math.floor(0))}var b=this.ib;b&&(this.ib=null,b())};var hh=null;"undefined"!=typeof MozWebSocket?hh=MozWebSocket:"undefined"!=typeof WebSocket&&(hh=WebSocket);var jh;ih.prototype.open=function(a,b){this.ib=b,this.xg=a,this.f("Websocket connecting to "+this.eb),this.Hc=!1,Cc.set("previous_websocket_failure",!0);try{this.ua=new hh(this.eb)}catch(c){this.f("Error instantiating WebSocket.");var d=c.message||c.data;return d&&this.f(d),void this.hb()}var e=this;this.ua.onopen=function(){e.f("Websocket connected."),e.Hc=!0},this.ua.onclose=function(){e.f("Websocket connection was disconnected."),e.ua=null,e.hb()},this.ua.onmessage=function(a){if(null!==e.ua)if(a=a.data,e.ob+=a.length,Nb(e.Va,"bytes_received",a.length),kh(e),null!==e.frames)lh(e,a);else{a:{if(K(null===e.frames,"We already have a frame buffer"),6>=a.length){var b=Number(a);if(!isNaN(b)){e.cf=b,e.frames=[],a=null;break a}}e.cf=1,e.frames=[]}null!==a&&lh(e,a)}},this.ua.onerror=function(a){e.f("WebSocket error.  Closing connection."),(a=a.message||a.data)&&e.f(a),e.hb()}},ih.prototype.start=function(){},ih.isAvailable=function(){var a=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var b=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);b&&1<b.length&&4.4>parseFloat(b[1])&&(a=!0)}return!a&&null!==hh&&!jh},ih.responsesRequiredToBeHealthy=2,ih.healthyTimeout=3e4,g=ih.prototype,g.Ed=function(){Cc.remove("previous_websocket_failure")},g.send=function(a){kh(this),a=B(a),this.pb+=a.length,Nb(this.Va,"bytes_sent",a.length),a=Wc(a,16384),1<a.length&&this.ua.send(String(a.length));for(var b=0;b<a.length;b++)this.ua.send(a[b])},g.dd=function(){this.Ab=!0,this.Kc&&(clearInterval(this.Kc),this.Kc=null),this.ua&&(this.ua.close(),this.ua=null)},g.hb=function(){this.Ab||(this.f("WebSocket is closing itself"),this.dd(),this.ib&&(this.ib(this.Hc),this.ib=null))},g.close=function(){this.Ab||(this.f("WebSocket is being closed"),this.dd())};var oh=[$g,ih];qh.prototype.Fa=function(a){Bh(this,{t:"d",d:a})},qh.prototype.Id=function(a){yh(this),this.ic(a)},qh.prototype.close=function(){2!==this.Ua&&(this.f("Closing realtime connection."),this.Ua=2,xh(this),this.la&&(this.la(),this.la=null))};var Dh=0,Fh=0;g=Ch.prototype,g.Fa=function(a,b,c){var d=++this.Jg;a={r:d,a:a,b:b},this.f(B(a)),K(this.oa,"sendRequest call when we're not connected not allowed."),this.Ia.Fa(a),c&&(this.Td[d]=c)},g.yf=function(a,b,c,d){var e=a.va(),f=a.path.toString();this.f("Listen called for "+f+" "+e),this.$[f]=this.$[f]||{},K(!this.$[f][e],"listen() called twice for same path/queryId."),a={G:d,xd:b,Gg:a,tag:c},this.$[f][e]=a,this.oa&&Gh(this,a)},g.N=function(a,b,c){this.Aa={gg:a,of:!1,zc:b,md:c},this.f("Authenticating using credential: "+a),Ih(this),(b=40==a.length)||(a=$c(a).Bc,b="object"==typeof a&&!0===w(a,"admin")),b&&(this.f("Admin auth credential detected.  Reducing max reconnect time."),this.Fd=3e4)},g.he=function(a){delete this.Aa,this.oa&&this.Fa("unauth",{},function(b){a(b.s,b.d)})},g.Pf=function(a,b){var c=a.path.toString(),d=a.va();if(this.f("Unlisten called for "+c+" "+d),Hh(this,c,d)&&this.oa){var e=ce(a.o);this.f("Unlisten on "+c+" for "+d),c={p:c},b&&(c.q=e,c.t=b),this.Fa("n",c)}},g.Ne=function(a,b,c){this.oa?Jh(this,"o",a,b,c):this.Vc.push({$c:a,action:"o",data:b,G:c})},g.Cf=function(a,b,c){this.oa?Jh(this,"om",a,b,c):this.Vc.push({$c:a,action:"om",data:b,G:c})},g.Jd=function(a,b){this.oa?Jh(this,"oc",a,null,b):this.Vc.push({$c:a,action:"oc",data:null,G:b})},g.put=function(a,b,c,d){Kh(this,"p",a,b,c,d)},g.zf=function(a,b,c,d){Kh(this,"m",a,b,c,d)},g.Ve=function(a){this.oa&&(a={c:a},this.f("reportStats",a),this.Fa("s",a,function(a){"ok"!==a.s&&this.f("reportStats","Error sending stats: "+a.d)}))},g.Id=function(a){if("r"in a){this.f("from server: "+B(a));var b=a.r,c=this.Td[b];c&&(delete this.Td[b],c(a.b))}else{if("error"in a)throw"A server-side error has occurred: "+a.error;"a"in a&&(b=a.a,c=a.b,this.f("handleServerMessage",b,c),"d"===b?this.Hb(c.p,c.d,!1,c.t):"m"===b?this.Hb(c.p,c.d,!0,c.t):"c"===b?Mh(this,c.p,c.q):"ac"===b?(a=c.s,b=c.d,c=this.Aa,delete this.Aa,c&&c.md&&c.md(a,b)):"sd"===b?this.Xe?this.Xe(c):"msg"in c&&"undefined"!=typeof console&&console.log("FIREBASE: "+c.msg.replace("\n","\nFIREBASE: ")):Oc("Unrecognized action received from server: "+B(b)+"\nAre you using the latest client?"))}},g.Wc=function(a){this.f("connection ready"),this.oa=!0,this.Lc=(new Date).getTime(),this.Pe({serverTimeOffset:a-(new Date).getTime()}),this.nf&&(a={},a["sdk.js."+hb.replace(/\./g,"-")]=1,qg()&&(a["framework.cordova"]=1),this.Ve(a)),Nh(this),this.nf=!1,this.Uc(!0)},g.Ag=function(a){a&&!this.Ob&&this.Za===this.Fd&&(this.f("Window became visible.  Reducing delay."),this.Za=1e3,this.Ia||Eh(this,0)),this.Ob=a},g.yg=function(a){a?(this.f("Browser went online."),this.Za=1e3,this.Ia||Eh(this,0)):(this.f("Browser went offline.  Killing connection."),this.Ia&&this.Ia.close())},g.Df=function(){this.f("data client disconnected"),this.oa=!1,this.Ia=null;for(var a=0;a<this.qa.length;a++){var b=this.qa[a];b&&"h"in b.Jf&&b.Hg&&(b.G&&b.G("disconnect"),delete this.qa[a],this.Yc--)}0===this.Yc&&(this.qa=[]),this.Td={},Ph(this)&&(this.Ob?this.Lc&&(3e4<(new Date).getTime()-this.Lc&&(this.Za=1e3),this.Lc=null):(this.f("Window isn't visible.  Delaying reconnect."),this.Za=this.Fd,this.He=(new Date).getTime()),a=Math.max(0,this.Za-((new Date).getTime()-this.He)),a*=Math.random(),this.f("Trying to reconnect in "+a+"ms"),Eh(this,a),this.Za=Math.min(this.Fd,1.3*this.Za)),this.Uc(!1)},g.zb=function(){this.Fe=!0,this.Ia?this.Ia.close():(this.tb&&(clearTimeout(this.tb),this.tb=null),this.oa&&this.Df())},g.rc=function(){this.Fe=!1,this.Za=1e3,this.Ia||Eh(this,0)};var V={mg:function(){ah=jh=!0}};V.forceLongPolling=V.mg,V.ng=function(){bh=!0},V.forceWebSockets=V.ng,V.Ng=function(a,b){a.k.Sa.Xe=b},V.setSecurityDebugCallback=V.Ng,V.Ze=function(a,b){a.k.Ze(b)},V.stats=V.Ze,V.$e=function(a,b){a.k.$e(b)},V.statsIncrementCounter=V.$e,V.sd=function(a){return a.k.sd},V.dataUpdateCount=V.sd,V.qg=function(a,b){a.k.Ee=b},V.interceptServerData=V.qg,V.wg=function(a){new Ag(a)},V.onPopupOpen=V.wg,V.Lg=function(a){kg=a},V.setAuthenticationServer=V.Lg,S.prototype.H=function(){return x("Firebase.DataSnapshot.val",0,0,arguments.length),this.w.H()},S.prototype.val=S.prototype.H,S.prototype.mf=function(){return x("Firebase.DataSnapshot.exportVal",0,0,arguments.length),this.w.H(!0)},S.prototype.exportVal=S.prototype.mf,S.prototype.lg=function(){return x("Firebase.DataSnapshot.exists",0,0,arguments.length),!this.w.e()},S.prototype.exists=S.prototype.lg,S.prototype.u=function(a){x("Firebase.DataSnapshot.child",0,1,arguments.length),ga(a)&&(a=String(a)),ag("Firebase.DataSnapshot.child",a);var b=new L(a),c=this.V.u(b);return new S(this.w.Y(b),c,N)},S.prototype.child=S.prototype.u,S.prototype.Da=function(a){x("Firebase.DataSnapshot.hasChild",1,1,arguments.length),ag("Firebase.DataSnapshot.hasChild",a);var b=new L(a);return!this.w.Y(b).e()},S.prototype.hasChild=S.prototype.Da,S.prototype.B=function(){return x("Firebase.DataSnapshot.getPriority",0,0,arguments.length),this.w.B().H()},S.prototype.getPriority=S.prototype.B,S.prototype.forEach=function(a){if(x("Firebase.DataSnapshot.forEach",1,1,arguments.length),A("Firebase.DataSnapshot.forEach",1,a,!1),this.w.L())return!1;var b=this;return!!this.w.R(this.g,function(c,d){return a(new S(d,b.V.u(c),N))})},S.prototype.forEach=S.prototype.forEach,S.prototype.wd=function(){return x("Firebase.DataSnapshot.hasChildren",0,0,arguments.length),!this.w.L()&&!this.w.e()},S.prototype.hasChildren=S.prototype.wd,S.prototype.name=function(){return Q("Firebase.DataSnapshot.name() being deprecated. Please use Firebase.DataSnapshot.key() instead."),x("Firebase.DataSnapshot.name",0,0,arguments.length),this.key()},S.prototype.name=S.prototype.name,S.prototype.key=function(){return x("Firebase.DataSnapshot.key",0,0,arguments.length),this.V.key()},S.prototype.key=S.prototype.key,S.prototype.Eb=function(){return x("Firebase.DataSnapshot.numChildren",0,0,arguments.length),this.w.Eb()},S.prototype.numChildren=S.prototype.Eb,S.prototype.mc=function(){return x("Firebase.DataSnapshot.ref",0,0,arguments.length),this.V},S.prototype.ref=S.prototype.mc,g=Qh.prototype,g.toString=function(){return(this.F.lb?"https://":"http://")+this.F.host},g.name=function(){return this.F.Db},g.Hb=function(a,b,c,d){this.sd++;var e=new L(a);b=this.Ee?this.Ee(a,b):b,a=[],d?c?(b=na(b,function(a){return M(a)}),a=uf(this.M,e,b,d)):(b=M(b),a=qf(this.M,e,b,d)):c?(d=na(b,function(a){return M(a)}),a=pf(this.M,e,d)):(d=M(b),a=mf(this.M,new Wb(Re,e,d))),d=e,0<a.length&&(d=Uh(this,e)),Ab(this.da,d,a)},g.Uc=function(a){Rh(this,"connected",a),!1===a&&Vh(this)},g.Pe=function(a){var b=this;Xc(a,function(a,d){Rh(b,d,a)})},g.Me=function(a){Rh(this,"authenticated",a)},g.Kb=function(a,b,c,d){this.f("set",{path:a.toString(),value:b,Yg:c});var e=Th(this);b=M(b,c);var e=rc(b,e),f=this.Hd++,e=lf(this.M,a,e,f,!0);wb(this.da,e);var h=this;this.ba.put(a.toString(),b.H(!0),function(b,c){var e="ok"===b;e||Q("set at "+a+" failed: "+b),e=of(h.M,f,!e),Ab(h.da,a,e),Wh(d,b,c)}),e=Xh(this,a),Uh(this,e),Ab(this.da,e,[])},g.update=function(a,b,c){this.f("update",{path:a.toString(),value:b});var d=!0,e=Th(this),f={};if(r(b,function(a,b){d=!1;var c=M(a);f[b]=rc(c,e)}),d)Cb("update() called with empty data.  Don't do anything."),Wh(c,"ok");else{var h=this.Hd++,k=nf(this.M,a,f,h);wb(this.da,k);var l=this;this.ba.zf(a.toString(),b,function(b,d){var e="ok"===b;e||Q("update at "+a+" failed: "+b);var e=of(l.M,h,!e),f=a;0<e.length&&(f=Uh(l,a)),Ab(l.da,f,e),Wh(c,b,d)}),b=Xh(this,a),Uh(this,b),Ab(this.da,a,[])}},g.Jd=function(a,b){var c=this;this.ba.Jd(a.toString(),function(d,e){"ok"===d&&jg(c.la,a),Wh(b,d,e)})},g.zb=function(){this.Sa&&this.Sa.zb()},g.rc=function(){this.Sa&&this.Sa.rc()},g.Ze=function(a){if("undefined"!=typeof console){a?(this.fd||(this.fd=new Kb(this.Va)),a=this.fd.get()):a=this.Va.get();var c,b=Ra(sa(a),function(a,b){return Math.max(b.length,a)},0);for(c in a){for(var d=a[c],e=c.length;e<b+2;e++)c+=" ";console.log(c+d)}}},g.$e=function(a){Nb(this.Va,a),this.Qg.Nf[a]=!0},g.f=function(a){var b="";this.Sa&&(b=this.Sa.id+":"),Cb(b,arguments)},W.prototype.zb=function(){for(var a in this.oc)this.oc[a].zb()},W.prototype.rc=function(){for(var a in this.oc)this.oc[a].rc()},W.prototype.we=function(){this.Qf=!0},ca(W),W.prototype.interrupt=W.prototype.zb,W.prototype.resume=W.prototype.rc,X.prototype.cancel=function(a){x("Firebase.onDisconnect().cancel",0,1,arguments.length),A("Firebase.onDisconnect().cancel",1,a,!0),this.bd.Jd(this.ra,a||null)},X.prototype.cancel=X.prototype.cancel,X.prototype.remove=function(a){x("Firebase.onDisconnect().remove",0,1,arguments.length),bg("Firebase.onDisconnect().remove",this.ra),A("Firebase.onDisconnect().remove",1,a,!0),Yh(this.bd,this.ra,null,a)},X.prototype.remove=X.prototype.remove,X.prototype.set=function(a,b){x("Firebase.onDisconnect().set",1,2,arguments.length),bg("Firebase.onDisconnect().set",this.ra),Vf("Firebase.onDisconnect().set",a,this.ra,!1),A("Firebase.onDisconnect().set",2,b,!0),Yh(this.bd,this.ra,a,b)},X.prototype.set=X.prototype.set,X.prototype.Kb=function(a,b,c){x("Firebase.onDisconnect().setWithPriority",2,3,arguments.length),bg("Firebase.onDisconnect().setWithPriority",this.ra),Vf("Firebase.onDisconnect().setWithPriority",a,this.ra,!1),Yf("Firebase.onDisconnect().setWithPriority",2,b),A("Firebase.onDisconnect().setWithPriority",3,c,!0),Zh(this.bd,this.ra,a,b,c)},X.prototype.setWithPriority=X.prototype.Kb,X.prototype.update=function(a,b){if(x("Firebase.onDisconnect().update",1,2,arguments.length),bg("Firebase.onDisconnect().update",this.ra),ea(a)){for(var c={},d=0;d<a.length;++d)c[""+d]=a[d];a=c,Q("Passing an Array to Firebase.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Xf("Firebase.onDisconnect().update",a,this.ra),A("Firebase.onDisconnect().update",2,b,!0),$h(this.bd,this.ra,a,b)},X.prototype.update=X.prototype.update,g=Y.prototype,g.mc=function(){return x("Query.ref",0,0,arguments.length),new U(this.k,this.path)},g.Fb=function(a,b,c,d){x("Query.on",2,4,arguments.length),Zf("Query.on",a,!1),A("Query.on",2,b,!1);var e=ni("Query.on",c,d);if("value"===a)ai(this.k,this,new id(b,e.cancel||null,e.Ma||null));else{var f={};f[a]=b,ai(this.k,this,new jd(f,e.cancel,e.Ma))}return b},g.hc=function(a,b,c){x("Query.off",0,3,arguments.length),Zf("Query.off",a,!0),A("Query.off",2,b,!0),mb("Query.off",3,c);var d=null,e=null;"value"===a?d=new id(b||null,null,c||null):a&&(b&&(e={},e[a]=b),d=new jd(e,null,c||null)),e=this.k,d=".info"===E(this.path)?e.Cd.kb(this,d):e.M.kb(this,d),yb(e.da,this.path,d)},g.Bg=function(a,b){function c(h){f&&(f=!1,e.hc(a,c),b.call(d.Ma,h))}x("Query.once",2,4,arguments.length),Zf("Query.once",a,!1),A("Query.once",2,b,!1);var d=ni("Query.once",arguments[2],arguments[3]),e=this,f=!0;this.Fb(a,c,function(b){e.hc(a,c),d.cancel&&d.cancel.call(d.Ma,b)})},g.Ie=function(a){if(Q("Query.limit() being deprecated. Please use Query.limitToFirst() or Query.limitToLast() instead."),x("Query.limit",1,1,arguments.length),!ga(a)||Math.floor(a)!==a||0>=a)throw Error("Query.limit: First argument must be a positive integer.");if(this.o.ja)throw Error("Query.limit: Limit was already set (by another call to limit, limitToFirst, orlimitToLast.");var b=this.o.Ie(a);return li(b),new Y(this.k,this.path,b,this.kc)},g.Je=function(a){if(x("Query.limitToFirst",1,1,arguments.length),!ga(a)||Math.floor(a)!==a||0>=a)throw Error("Query.limitToFirst: First argument must be a positive integer.");if(this.o.ja)throw Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new Y(this.k,this.path,this.o.Je(a),this.kc)},g.Ke=function(a){if(x("Query.limitToLast",1,1,arguments.length),!ga(a)||Math.floor(a)!==a||0>=a)throw Error("Query.limitToLast: First argument must be a positive integer.");if(this.o.ja)throw Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new Y(this.k,this.path,this.o.Ke(a),this.kc)},g.Cg=function(a){if(x("Query.orderByChild",1,1,arguments.length),"$key"===a)throw Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===a)throw Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===a)throw Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');$f("Query.orderByChild",1,a,!1),mi(this,"Query.orderByChild");var b=be(this.o,new Sd(a));return ki(b),new Y(this.k,this.path,b,(!0))},g.Dg=function(){x("Query.orderByKey",0,0,arguments.length),mi(this,"Query.orderByKey");var a=be(this.o,Od);return ki(a),new Y(this.k,this.path,a,(!0))},g.Eg=function(){x("Query.orderByPriority",0,0,arguments.length),mi(this,"Query.orderByPriority");var a=be(this.o,N);return ki(a),new Y(this.k,this.path,a,(!0))},g.Fg=function(){x("Query.orderByValue",0,0,arguments.length),mi(this,"Query.orderByValue");var a=be(this.o,Yd);return ki(a),new Y(this.k,this.path,a,(!0))},g.ae=function(a,b){x("Query.startAt",0,2,arguments.length),Vf("Query.startAt",a,this.path,!0),$f("Query.startAt",2,b,!0);var c=this.o.ae(a,b);if(li(c),ki(c),this.o.ma)throw Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return n(a)||(b=a=null),new Y(this.k,this.path,c,this.kc)},g.td=function(a,b){x("Query.endAt",0,2,arguments.length),Vf("Query.endAt",a,this.path,!0),$f("Query.endAt",2,b,!0);var c=this.o.td(a,b);if(li(c),ki(c),this.o.pa)throw Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new Y(this.k,this.path,c,this.kc)},g.ig=function(a,b){if(x("Query.equalTo",1,2,arguments.length),Vf("Query.equalTo",a,this.path,!1),$f("Query.equalTo",2,b,!0),this.o.ma)throw Error("Query.equalTo: Starting point was already set (by another call to endAt or equalTo).");if(this.o.pa)throw Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.ae(a,b).td(a,b)},g.toString=function(){x("Query.toString",0,0,arguments.length);for(var a=this.path,b="",c=a.Z;c<a.n.length;c++)""!==a.n[c]&&(b+="/"+encodeURIComponent(String(a.n[c])));return this.k.toString()+(b||"/")},g.va=function(){var a=Vc(ce(this.o));return"{}"===a?"default":a},Y.prototype.ref=Y.prototype.mc,Y.prototype.on=Y.prototype.Fb,Y.prototype.off=Y.prototype.hc,Y.prototype.once=Y.prototype.Bg,Y.prototype.limit=Y.prototype.Ie,Y.prototype.limitToFirst=Y.prototype.Je,Y.prototype.limitToLast=Y.prototype.Ke,Y.prototype.orderByChild=Y.prototype.Cg,Y.prototype.orderByKey=Y.prototype.Dg,Y.prototype.orderByPriority=Y.prototype.Eg,Y.prototype.orderByValue=Y.prototype.Fg,Y.prototype.startAt=Y.prototype.ae,Y.prototype.endAt=Y.prototype.td,Y.prototype.equalTo=Y.prototype.ig,Y.prototype.toString=Y.prototype.toString;var Z={};Z.vc=Ch,Z.DataConnection=Z.vc,Ch.prototype.Pg=function(a,b){this.Fa("q",{p:a},b)},Z.vc.prototype.simpleListen=Z.vc.prototype.Pg,Ch.prototype.hg=function(a,b){this.Fa("echo",{d:a},b)},Z.vc.prototype.echo=Z.vc.prototype.hg,Ch.prototype.interrupt=Ch.prototype.zb,Z.Tf=qh,Z.RealTimeConnection=Z.Tf,qh.prototype.sendRequest=qh.prototype.Fa,qh.prototype.close=qh.prototype.close,Z.pg=function(a){var b=Ch.prototype.put;return Ch.prototype.put=function(c,d,e,f){n(f)&&(f=a()),b.call(this,c,d,e,f)},function(){Ch.prototype.put=b}},Z.hijackHash=Z.pg,Z.Sf=Dc,Z.ConnectionTarget=Z.Sf,Z.va=function(a){return a.va()},Z.queryIdentifier=Z.va,Z.rg=function(a){return a.k.Sa.$},Z.listens=Z.rg,Z.we=function(a){a.we()},Z.forceRestClient=Z.we,ma(U,Y);var oi=U,pi=["Firebase"],qi=aa;pi[0]in qi||!qi.execScript||qi.execScript("var "+pi[0]);for(var ri;pi.length&&(ri=pi.shift());)!pi.length&&n(oi)?qi[ri]=oi:qi=qi[ri]?qi[ri]:qi[ri]={};U.goOffline=function(){x("Firebase.goOffline",0,0,arguments.length),W.vb().zb()},U.goOnline=function(){x("Firebase.goOnline",0,0,arguments.length),W.vb().rc()},U.enableLogging=Mc,U.ServerValue={TIMESTAMP:{".sv":"timestamp"}},U.SDK_VERSION=hb,U.INTERNAL=V,U.Context=W,U.TEST_ACCESS=Z,U.prototype.name=function(){return Q("Firebase.name() being deprecated. Please use Firebase.key() instead."),x("Firebase.name",0,0,arguments.length),this.key()},U.prototype.name=U.prototype.name,U.prototype.key=function(){return x("Firebase.key",0,0,arguments.length),this.path.e()?null:uc(this.path)},U.prototype.key=U.prototype.key,U.prototype.u=function(a){if(x("Firebase.child",1,1,arguments.length),ga(a))a=String(a);else if(!(a instanceof L))if(null===E(this.path)){var b=a;b&&(b=b.replace(/^\/*\.info(\/|$)/,"/")),ag("Firebase.child",b)}else ag("Firebase.child",a);return new U(this.k,this.path.u(a))},U.prototype.child=U.prototype.u,U.prototype.parent=function(){x("Firebase.parent",0,0,arguments.length);var a=this.path.parent();return null===a?null:new U(this.k,a)},U.prototype.parent=U.prototype.parent,U.prototype.root=function(){x("Firebase.ref",0,0,arguments.length);for(var a=this;null!==a.parent();)a=a.parent();return a},U.prototype.root=U.prototype.root,U.prototype.set=function(a,b){x("Firebase.set",1,2,arguments.length),bg("Firebase.set",this.path),Vf("Firebase.set",a,this.path,!1),A("Firebase.set",2,b,!0),this.k.Kb(this.path,a,null,b||null)},U.prototype.set=U.prototype.set,U.prototype.update=function(a,b){if(x("Firebase.update",1,2,arguments.length),bg("Firebase.update",this.path),ea(a)){for(var c={},d=0;d<a.length;++d)c[""+d]=a[d];a=c,Q("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Xf("Firebase.update",a,this.path),A("Firebase.update",2,b,!0),this.k.update(this.path,a,b||null)},U.prototype.update=U.prototype.update,U.prototype.Kb=function(a,b,c){if(x("Firebase.setWithPriority",2,3,arguments.length),bg("Firebase.setWithPriority",this.path),Vf("Firebase.setWithPriority",a,this.path,!1),Yf("Firebase.setWithPriority",2,b),A("Firebase.setWithPriority",3,c,!0),".length"===this.key()||".keys"===this.key())throw"Firebase.setWithPriority failed: "+this.key()+" is a read-only object.";this.k.Kb(this.path,a,b,c||null)},U.prototype.setWithPriority=U.prototype.Kb,U.prototype.remove=function(a){x("Firebase.remove",0,1,arguments.length),bg("Firebase.remove",this.path),A("Firebase.remove",1,a,!0),this.set(null,a)},U.prototype.remove=U.prototype.remove,U.prototype.transaction=function(a,b,c){if(x("Firebase.transaction",1,3,arguments.length),bg("Firebase.transaction",this.path),A("Firebase.transaction",1,a,!1),A("Firebase.transaction",2,b,!0),n(c)&&"boolean"!=typeof c)throw Error(z("Firebase.transaction",3,!0)+"must be a boolean.");if(".length"===this.key()||".keys"===this.key())throw"Firebase.transaction failed: "+this.key()+" is a read-only object.";"undefined"==typeof c&&(c=!0),bi(this.k,this.path,a,b||null,c)},U.prototype.transaction=U.prototype.transaction,U.prototype.Mg=function(a,b){x("Firebase.setPriority",1,2,arguments.length),bg("Firebase.setPriority",this.path),Yf("Firebase.setPriority",1,a),A("Firebase.setPriority",2,b,!0),this.k.Kb(this.path.u(".priority"),a,null,b)},U.prototype.setPriority=U.prototype.Mg,U.prototype.push=function(a,b){x("Firebase.push",0,2,arguments.length),bg("Firebase.push",this.path),Vf("Firebase.push",a,this.path,!0),A("Firebase.push",2,b,!0);var c=Sh(this.k),c=Nf(c),c=this.u(c);return"undefined"!=typeof a&&null!==a&&c.set(a,b),c},U.prototype.push=U.prototype.push,U.prototype.ib=function(){return bg("Firebase.onDisconnect",this.path),new X(this.k,this.path)},U.prototype.onDisconnect=U.prototype.ib,U.prototype.N=function(a,b,c){Q("FirebaseRef.auth() being deprecated. Please use FirebaseRef.authWithCustomToken() instead."),x("Firebase.auth",1,3,arguments.length),cg("Firebase.auth",a),A("Firebase.auth",2,b,!0),A("Firebase.auth",3,b,!0),Qg(this.k.N,a,{},{remember:"none"},b,c)},U.prototype.auth=U.prototype.N,U.prototype.he=function(a){x("Firebase.unauth",0,1,arguments.length),A("Firebase.unauth",1,a,!0),Rg(this.k.N,a)},U.prototype.unauth=U.prototype.he,U.prototype.ye=function(){return x("Firebase.getAuth",0,0,arguments.length),this.k.N.ye()},U.prototype.getAuth=U.prototype.ye,U.prototype.vg=function(a,b){x("Firebase.onAuth",1,2,arguments.length),A("Firebase.onAuth",1,a,!1),mb("Firebase.onAuth",2,b),this.k.N.Fb("auth_status",a,b)},U.prototype.onAuth=U.prototype.vg,U.prototype.ug=function(a,b){x("Firebase.offAuth",1,2,arguments.length),A("Firebase.offAuth",1,a,!1),mb("Firebase.offAuth",2,b),this.k.N.hc("auth_status",a,b)},U.prototype.offAuth=U.prototype.ug,U.prototype.Xf=function(a,b,c){x("Firebase.authWithCustomToken",2,3,arguments.length),cg("Firebase.authWithCustomToken",a),A("Firebase.authWithCustomToken",2,b,!1),fg("Firebase.authWithCustomToken",3,c,!0),Qg(this.k.N,a,{},c||{},b)},U.prototype.authWithCustomToken=U.prototype.Xf,U.prototype.Yf=function(a,b,c){x("Firebase.authWithOAuthPopup",2,3,arguments.length),eg("Firebase.authWithOAuthPopup",a),
A("Firebase.authWithOAuthPopup",2,b,!1),fg("Firebase.authWithOAuthPopup",3,c,!0),Vg(this.k.N,a,c,b)},U.prototype.authWithOAuthPopup=U.prototype.Yf,U.prototype.Zf=function(a,b,c){x("Firebase.authWithOAuthRedirect",2,3,arguments.length),eg("Firebase.authWithOAuthRedirect",a),A("Firebase.authWithOAuthRedirect",2,b,!1),fg("Firebase.authWithOAuthRedirect",3,c,!0);var d=this.k.N;Tg(d);var e=[Cg],f=ng(c);"anonymous"===a||"firebase"===a?R(b,Eg("TRANSPORT_UNAVAILABLE")):(P.set("redirect_client_options",f.od),Ug(d,e,"/auth/"+a,f,b))},U.prototype.authWithOAuthRedirect=U.prototype.Zf,U.prototype.$f=function(a,b,c,d){x("Firebase.authWithOAuthToken",3,4,arguments.length),eg("Firebase.authWithOAuthToken",a),A("Firebase.authWithOAuthToken",3,c,!1),fg("Firebase.authWithOAuthToken",4,d,!0),p(b)?(dg("Firebase.authWithOAuthToken",2,b),Sg(this.k.N,a+"/token",{access_token:b},d,c)):(fg("Firebase.authWithOAuthToken",2,b,!1),Sg(this.k.N,a+"/token",b,d,c))},U.prototype.authWithOAuthToken=U.prototype.$f,U.prototype.Wf=function(a,b){x("Firebase.authAnonymously",1,2,arguments.length),A("Firebase.authAnonymously",1,a,!1),fg("Firebase.authAnonymously",2,b,!0),Sg(this.k.N,"anonymous",{},b,a)},U.prototype.authAnonymously=U.prototype.Wf,U.prototype.ag=function(a,b,c){x("Firebase.authWithPassword",2,3,arguments.length),fg("Firebase.authWithPassword",1,a,!1),gg("Firebase.authWithPassword",a,"email"),gg("Firebase.authWithPassword",a,"password"),A("Firebase.authWithPassword",2,b,!1),fg("Firebase.authWithPassword",3,c,!0),Sg(this.k.N,"password",a,c,b)},U.prototype.authWithPassword=U.prototype.ag,U.prototype.te=function(a,b){x("Firebase.createUser",2,2,arguments.length),fg("Firebase.createUser",1,a,!1),gg("Firebase.createUser",a,"email"),gg("Firebase.createUser",a,"password"),A("Firebase.createUser",2,b,!1),this.k.N.te(a,b)},U.prototype.createUser=U.prototype.te,U.prototype.Ue=function(a,b){x("Firebase.removeUser",2,2,arguments.length),fg("Firebase.removeUser",1,a,!1),gg("Firebase.removeUser",a,"email"),gg("Firebase.removeUser",a,"password"),A("Firebase.removeUser",2,b,!1),this.k.N.Ue(a,b)},U.prototype.removeUser=U.prototype.Ue,U.prototype.qe=function(a,b){x("Firebase.changePassword",2,2,arguments.length),fg("Firebase.changePassword",1,a,!1),gg("Firebase.changePassword",a,"email"),gg("Firebase.changePassword",a,"oldPassword"),gg("Firebase.changePassword",a,"newPassword"),A("Firebase.changePassword",2,b,!1),this.k.N.qe(a,b)},U.prototype.changePassword=U.prototype.qe,U.prototype.pe=function(a,b){x("Firebase.changeEmail",2,2,arguments.length),fg("Firebase.changeEmail",1,a,!1),gg("Firebase.changeEmail",a,"oldEmail"),gg("Firebase.changeEmail",a,"newEmail"),gg("Firebase.changeEmail",a,"password"),A("Firebase.changeEmail",2,b,!1),this.k.N.pe(a,b)},U.prototype.changeEmail=U.prototype.pe,U.prototype.We=function(a,b){x("Firebase.resetPassword",2,2,arguments.length),fg("Firebase.resetPassword",1,a,!1),gg("Firebase.resetPassword",a,"email"),A("Firebase.resetPassword",2,b,!1),this.k.N.We(a,b)},U.prototype.resetPassword=U.prototype.We}(),function(exports){"use strict";angular.module("firebase",[]).value("Firebase",exports.Firebase)}(window),function(){"use strict";angular.module("firebase").factory("$firebaseArray",["$log","$firebaseUtils","$q",function($log,$firebaseUtils,$q){function FirebaseArray(ref){if(!(this instanceof FirebaseArray))return new FirebaseArray(ref);var self=this;return this._observers=[],this.$list=[],this._ref=ref,this._sync=new ArraySyncManager(this),$firebaseUtils.assertValidRef(ref,"Must pass a valid Firebase reference to $firebaseArray (not a string or URL)"),this._indexCache={},$firebaseUtils.getPublicMethods(self,function(fn,key){self.$list[key]=fn.bind(self)}),this._sync.init(this.$list),this.$list}function ArraySyncManager(firebaseArray){function destroy(err){if(!sync.isDestroyed){sync.isDestroyed=!0;var ref=firebaseArray.$ref();ref.off("child_added",created),ref.off("child_moved",moved),ref.off("child_changed",updated),ref.off("child_removed",removed),firebaseArray=null,initComplete(err||"destroyed")}}function init($list){var ref=firebaseArray.$ref();ref.on("child_added",created,error),ref.on("child_moved",moved,error),ref.on("child_changed",updated,error),ref.on("child_removed",removed,error),ref.once("value",function(snap){angular.isArray(snap.val())&&$log.warn("Storing data using array indices in Firebase can result in unexpected behavior. See https://www.firebase.com/docs/web/guide/understanding-data.html#section-arrays-in-firebase for more information."),initComplete(null,$list)},initComplete)}function _initComplete(err,result){isResolved||(isResolved=!0,err?def.reject(err):def.resolve(result))}function waitForResolution(maybePromise,callback){var promise=$q.when(maybePromise);promise.then(function(result){result&&callback(result)}),isResolved||resolutionPromises.push(promise)}var def=$firebaseUtils.defer(),created=function(snap,prevChild){waitForResolution(firebaseArray.$$added(snap,prevChild),function(rec){firebaseArray.$$process("child_added",rec,prevChild)})},updated=function(snap){var rec=firebaseArray.$getRecord($firebaseUtils.getKey(snap));rec&&waitForResolution(firebaseArray.$$updated(snap),function(){firebaseArray.$$process("child_changed",rec)})},moved=function(snap,prevChild){var rec=firebaseArray.$getRecord($firebaseUtils.getKey(snap));rec&&waitForResolution(firebaseArray.$$moved(snap,prevChild),function(){firebaseArray.$$process("child_moved",rec,prevChild)})},removed=function(snap){var rec=firebaseArray.$getRecord($firebaseUtils.getKey(snap));rec&&waitForResolution(firebaseArray.$$removed(snap),function(){firebaseArray.$$process("child_removed",rec)})},resolutionPromises=[],isResolved=!1,error=$firebaseUtils.batch(function(err){_initComplete(err),firebaseArray&&firebaseArray.$$error(err)}),initComplete=$firebaseUtils.batch(_initComplete),sync={destroy:destroy,isDestroyed:!1,init:init,ready:function(){return def.promise.then(function(result){return $q.all(resolutionPromises).then(function(){return result})})}};return sync}return FirebaseArray.prototype={$add:function(data){this._assertNotDestroyed("$add");var def=$firebaseUtils.defer(),ref=this.$ref().ref().push();return ref.set($firebaseUtils.toJSON(data),$firebaseUtils.makeNodeResolver(def)),def.promise.then(function(){return ref})},$save:function(indexOrItem){this._assertNotDestroyed("$save");var self=this,item=self._resolveItem(indexOrItem),key=self.$keyAt(item);if(null!==key){var ref=self.$ref().ref().child(key),data=$firebaseUtils.toJSON(item);return $firebaseUtils.doSet(ref,data).then(function(){return self.$$notify("child_changed",key),ref})}return $firebaseUtils.reject("Invalid record; could determine key for "+indexOrItem)},$remove:function(indexOrItem){this._assertNotDestroyed("$remove");var key=this.$keyAt(indexOrItem);if(null!==key){var ref=this.$ref().ref().child(key);return $firebaseUtils.doRemove(ref).then(function(){return ref})}return $firebaseUtils.reject("Invalid record; could not determine key for "+indexOrItem)},$keyAt:function(indexOrItem){var item=this._resolveItem(indexOrItem);return this.$$getKey(item)},$indexFor:function(key){var self=this,cache=self._indexCache;if(!cache.hasOwnProperty(key)||self.$keyAt(cache[key])!==key){var pos=self.$list.findIndex(function(rec){return self.$$getKey(rec)===key});pos!==-1&&(cache[key]=pos)}return cache.hasOwnProperty(key)?cache[key]:-1},$loaded:function(resolve,reject){var promise=this._sync.ready();return arguments.length&&(promise=promise.then.call(promise,resolve,reject)),promise},$ref:function(){return this._ref},$watch:function(cb,context){var list=this._observers;return list.push([cb,context]),function(){var i=list.findIndex(function(parts){return parts[0]===cb&&parts[1]===context});i>-1&&list.splice(i,1)}},$destroy:function(err){this._isDestroyed||(this._isDestroyed=!0,this._sync.destroy(err),this.$list.length=0)},$getRecord:function(key){var i=this.$indexFor(key);return i>-1?this.$list[i]:null},$$added:function(snap){var i=this.$indexFor($firebaseUtils.getKey(snap));if(i===-1){var rec=snap.val();return angular.isObject(rec)||(rec={$value:rec}),rec.$id=$firebaseUtils.getKey(snap),rec.$priority=snap.getPriority(),$firebaseUtils.applyDefaults(rec,this.$$defaults),rec}return!1},$$removed:function(snap){return this.$indexFor($firebaseUtils.getKey(snap))>-1},$$updated:function(snap){var changed=!1,rec=this.$getRecord($firebaseUtils.getKey(snap));return angular.isObject(rec)&&(changed=$firebaseUtils.updateRec(rec,snap),$firebaseUtils.applyDefaults(rec,this.$$defaults)),changed},$$moved:function(snap){var rec=this.$getRecord($firebaseUtils.getKey(snap));return!!angular.isObject(rec)&&(rec.$priority=snap.getPriority(),!0)},$$error:function(err){$log.error(err),this.$destroy(err)},$$getKey:function(rec){return angular.isObject(rec)?rec.$id:null},$$process:function(event,rec,prevChild){var curPos,key=this.$$getKey(rec),changed=!1;switch(event){case"child_added":curPos=this.$indexFor(key);break;case"child_moved":curPos=this.$indexFor(key),this._spliceOut(key);break;case"child_removed":changed=null!==this._spliceOut(key);break;case"child_changed":changed=!0;break;default:throw new Error("Invalid event type: "+event)}return angular.isDefined(curPos)&&(changed=this._addAfter(rec,prevChild)!==curPos),changed&&this.$$notify(event,key,prevChild),changed},$$notify:function(event,key,prevChild){var eventData={event:event,key:key};angular.isDefined(prevChild)&&(eventData.prevChild=prevChild),angular.forEach(this._observers,function(parts){parts[0].call(parts[1],eventData)})},_addAfter:function(rec,prevChild){var i;return null===prevChild?i=0:(i=this.$indexFor(prevChild)+1,0===i&&(i=this.$list.length)),this.$list.splice(i,0,rec),this._indexCache[this.$$getKey(rec)]=i,i},_spliceOut:function(key){var i=this.$indexFor(key);return i>-1?(delete this._indexCache[key],this.$list.splice(i,1)[0]):null},_resolveItem:function(indexOrItem){var list=this.$list;if(angular.isNumber(indexOrItem)&&indexOrItem>=0&&list.length>=indexOrItem)return list[indexOrItem];if(angular.isObject(indexOrItem)){var key=this.$$getKey(indexOrItem),rec=this.$getRecord(key);return rec===indexOrItem?rec:null}return null},_assertNotDestroyed:function(method){if(this._isDestroyed)throw new Error("Cannot call "+method+" method on a destroyed $firebaseArray object")}},FirebaseArray.$extend=function(ChildClass,methods){return 1===arguments.length&&angular.isObject(ChildClass)&&(methods=ChildClass,ChildClass=function(ref){return this instanceof ChildClass?(FirebaseArray.apply(this,arguments),this.$list):new ChildClass(ref)}),$firebaseUtils.inherit(ChildClass,FirebaseArray,methods)},FirebaseArray}]),angular.module("firebase").factory("$FirebaseArray",["$log","$firebaseArray",function($log,$firebaseArray){return function(){return $log.warn("$FirebaseArray has been renamed. Use $firebaseArray instead."),$firebaseArray.apply(null,arguments)}}])}(),function(){"use strict";var FirebaseAuth;angular.module("firebase").factory("$firebaseAuth",["$q","$firebaseUtils",function($q,$firebaseUtils){return function(ref){var auth=new FirebaseAuth($q,$firebaseUtils,ref);return auth.construct()}}]),FirebaseAuth=function($q,$firebaseUtils,ref){if(this._q=$q,this._utils=$firebaseUtils,"string"==typeof ref)throw new Error("Please provide a Firebase reference instead of a URL when creating a `$firebaseAuth` object.");this._ref=ref,this._initialAuthResolver=this._initAuthResolver()},FirebaseAuth.prototype={construct:function(){return this._object={$authWithCustomToken:this.authWithCustomToken.bind(this),$authAnonymously:this.authAnonymously.bind(this),$authWithPassword:this.authWithPassword.bind(this),$authWithOAuthPopup:this.authWithOAuthPopup.bind(this),$authWithOAuthRedirect:this.authWithOAuthRedirect.bind(this),$authWithOAuthToken:this.authWithOAuthToken.bind(this),$unauth:this.unauth.bind(this),$onAuth:this.onAuth.bind(this),$getAuth:this.getAuth.bind(this),$requireAuth:this.requireAuth.bind(this),$waitForAuth:this.waitForAuth.bind(this),$createUser:this.createUser.bind(this),$changePassword:this.changePassword.bind(this),$changeEmail:this.changeEmail.bind(this),$removeUser:this.removeUser.bind(this),$resetPassword:this.resetPassword.bind(this)},this._object},authWithCustomToken:function(authToken,options){var deferred=this._q.defer();try{this._ref.authWithCustomToken(authToken,this._utils.makeNodeResolver(deferred),options)}catch(error){deferred.reject(error)}return deferred.promise},authAnonymously:function(options){var deferred=this._q.defer();try{this._ref.authAnonymously(this._utils.makeNodeResolver(deferred),options)}catch(error){deferred.reject(error)}return deferred.promise},authWithPassword:function(credentials,options){var deferred=this._q.defer();try{this._ref.authWithPassword(credentials,this._utils.makeNodeResolver(deferred),options)}catch(error){deferred.reject(error)}return deferred.promise},authWithOAuthPopup:function(provider,options){var deferred=this._q.defer();try{this._ref.authWithOAuthPopup(provider,this._utils.makeNodeResolver(deferred),options)}catch(error){deferred.reject(error)}return deferred.promise},authWithOAuthRedirect:function(provider,options){var deferred=this._q.defer();try{this._ref.authWithOAuthRedirect(provider,this._utils.makeNodeResolver(deferred),options)}catch(error){deferred.reject(error)}return deferred.promise},authWithOAuthToken:function(provider,credentials,options){var deferred=this._q.defer();try{this._ref.authWithOAuthToken(provider,credentials,this._utils.makeNodeResolver(deferred),options)}catch(error){deferred.reject(error)}return deferred.promise},unauth:function(){null!==this.getAuth()&&this._ref.unauth()},onAuth:function(callback,context){var self=this,fn=this._utils.debounce(callback,context,0);return this._ref.onAuth(fn),function(){self._ref.offAuth(fn)}},getAuth:function(){return this._ref.getAuth()},_routerMethodOnAuthPromise:function(rejectIfAuthDataIsNull){var ref=this._ref,utils=this._utils;return this._initialAuthResolver.then(function(){var authData=ref.getAuth(),res=null;return res=rejectIfAuthDataIsNull&&null===authData?utils.reject("AUTH_REQUIRED"):utils.resolve(authData)})},_initAuthResolver:function(){var ref=this._ref;return this._utils.promise(function(resolve){function callback(){ref.offAuth(callback),resolve()}ref.onAuth(callback)})},requireAuth:function(){return this._routerMethodOnAuthPromise(!0)},waitForAuth:function(){return this._routerMethodOnAuthPromise(!1)},createUser:function(credentials){var deferred=this._q.defer();if("string"==typeof credentials)throw new Error("$createUser() expects an object containing 'email' and 'password', but got a string.");try{this._ref.createUser(credentials,this._utils.makeNodeResolver(deferred))}catch(error){deferred.reject(error)}return deferred.promise},changePassword:function(credentials){var deferred=this._q.defer();if("string"==typeof credentials)throw new Error("$changePassword() expects an object containing 'email', 'oldPassword', and 'newPassword', but got a string.");try{this._ref.changePassword(credentials,this._utils.makeNodeResolver(deferred))}catch(error){deferred.reject(error)}return deferred.promise},changeEmail:function(credentials){var deferred=this._q.defer();if("function"!=typeof this._ref.changeEmail)throw new Error("$firebaseAuth.$changeEmail() requires Firebase version 2.1.0 or greater.");if("string"==typeof credentials)throw new Error("$changeEmail() expects an object containing 'oldEmail', 'newEmail', and 'password', but got a string.");try{this._ref.changeEmail(credentials,this._utils.makeNodeResolver(deferred))}catch(error){deferred.reject(error)}return deferred.promise},removeUser:function(credentials){var deferred=this._q.defer();if("string"==typeof credentials)throw new Error("$removeUser() expects an object containing 'email' and 'password', but got a string.");try{this._ref.removeUser(credentials,this._utils.makeNodeResolver(deferred))}catch(error){deferred.reject(error)}return deferred.promise},resetPassword:function(credentials){var deferred=this._q.defer();if("string"==typeof credentials)throw new Error("$resetPassword() expects an object containing 'email', but got a string.");try{this._ref.resetPassword(credentials,this._utils.makeNodeResolver(deferred))}catch(error){deferred.reject(error)}return deferred.promise}}}(),function(){"use strict";angular.module("firebase").factory("$firebaseObject",["$parse","$firebaseUtils","$log",function($parse,$firebaseUtils,$log){function FirebaseObject(ref){return this instanceof FirebaseObject?(this.$$conf={sync:new ObjectSyncManager(this,ref),ref:ref,binding:new ThreeWayBinding(this),listeners:[]},Object.defineProperty(this,"$$conf",{value:this.$$conf}),this.$id=$firebaseUtils.getKey(ref.ref()),this.$priority=null,$firebaseUtils.applyDefaults(this,this.$$defaults),void this.$$conf.sync.init()):new FirebaseObject(ref)}function ThreeWayBinding(rec){this.subs=[],this.scope=null,this.key=null,this.rec=rec}function ObjectSyncManager(firebaseObject,ref){function destroy(err){sync.isDestroyed||(sync.isDestroyed=!0,ref.off("value",applyUpdate),firebaseObject=null,initComplete(err||"destroyed"))}function init(){ref.on("value",applyUpdate,error),ref.once("value",function(snap){angular.isArray(snap.val())&&$log.warn("Storing data using array indices in Firebase can result in unexpected behavior. See https://www.firebase.com/docs/web/guide/understanding-data.html#section-arrays-in-firebase for more information. Also note that you probably wanted $firebaseArray and not $firebaseObject."),initComplete(null)},initComplete)}function _initComplete(err){isResolved||(isResolved=!0,err?def.reject(err):def.resolve(firebaseObject))}var isResolved=!1,def=$firebaseUtils.defer(),applyUpdate=$firebaseUtils.batch(function(snap){var changed=firebaseObject.$$updated(snap);changed&&firebaseObject.$$notify()}),error=$firebaseUtils.batch(function(err){_initComplete(err),firebaseObject&&firebaseObject.$$error(err)}),initComplete=$firebaseUtils.batch(_initComplete),sync={isDestroyed:!1,destroy:destroy,init:init,ready:function(){return def.promise}};return sync}return FirebaseObject.prototype={$save:function(){var self=this,ref=self.$ref(),data=$firebaseUtils.toJSON(self);return $firebaseUtils.doSet(ref,data).then(function(){return self.$$notify(),self.$ref()})},$remove:function(){var self=this;return $firebaseUtils.trimKeys(self,{}),self.$value=null,$firebaseUtils.doRemove(self.$ref()).then(function(){return self.$$notify(),self.$ref()})},$loaded:function(resolve,reject){var promise=this.$$conf.sync.ready();return arguments.length&&(promise=promise.then.call(promise,resolve,reject)),promise},$ref:function(){return this.$$conf.ref},$bindTo:function(scope,varName){var self=this;return self.$loaded().then(function(){return self.$$conf.binding.bindTo(scope,varName)})},$watch:function(cb,context){var list=this.$$conf.listeners;return list.push([cb,context]),function(){var i=list.findIndex(function(parts){return parts[0]===cb&&parts[1]===context});i>-1&&list.splice(i,1)}},$destroy:function(err){var self=this;self.$isDestroyed||(self.$isDestroyed=!0,self.$$conf.sync.destroy(err),self.$$conf.binding.destroy(),$firebaseUtils.each(self,function(v,k){delete self[k]}))},$$updated:function(snap){var changed=$firebaseUtils.updateRec(this,snap);return $firebaseUtils.applyDefaults(this,this.$$defaults),changed},$$error:function(err){$log.error(err),this.$destroy(err)},$$scopeUpdated:function(newData){var def=$firebaseUtils.defer();return this.$ref().set($firebaseUtils.toJSON(newData),$firebaseUtils.makeNodeResolver(def)),def.promise},$$notify:function(){var self=this,list=this.$$conf.listeners.slice();angular.forEach(list,function(parts){parts[0].call(parts[1],{event:"value",key:self.$id})})},forEach:function(iterator,context){return $firebaseUtils.each(this,iterator,context)}},FirebaseObject.$extend=function(ChildClass,methods){return 1===arguments.length&&angular.isObject(ChildClass)&&(methods=ChildClass,ChildClass=function(ref){return this instanceof ChildClass?void FirebaseObject.apply(this,arguments):new ChildClass(ref)}),$firebaseUtils.inherit(ChildClass,FirebaseObject,methods)},ThreeWayBinding.prototype={assertNotBound:function(varName){if(this.scope){var msg="Cannot bind to "+varName+" because this instance is already bound to "+this.key+"; one binding per instance (call unbind method or create another FirebaseObject instance)";return $log.error(msg),$firebaseUtils.reject(msg)}},bindTo:function(scope,varName){function _bind(self){function equals(scopeValue){return angular.equals(scopeValue,rec)&&scopeValue.$priority===rec.$priority&&scopeValue.$value===rec.$value}function setScope(rec){parsed.assign(scope,$firebaseUtils.scopeData(rec))}function watchExp(){var obj=parsed(scope);return[obj,obj.$priority,obj.$value]}var sending=!1,parsed=$parse(varName),rec=self.rec;self.scope=scope,self.varName=varName;var send=$firebaseUtils.debounce(function(val){var scopeData=$firebaseUtils.scopeData(val);rec.$$scopeUpdated(scopeData)["finally"](function(){sending=!1,scopeData.hasOwnProperty("$value")||(delete rec.$value,delete parsed(scope).$value)})},50,500),scopeUpdated=function(newVal){newVal=newVal[0],equals(newVal)||(sending=!0,send(newVal))},recUpdated=function(){sending||equals(parsed(scope))||setScope(rec)};return setScope(rec),self.subs.push(scope.$on("$destroy",self.unbind.bind(self))),self.subs.push(scope.$watch(watchExp,scopeUpdated,!0)),self.subs.push(rec.$watch(recUpdated)),self.unbind.bind(self)}return this.assertNotBound(varName)||_bind(this)},unbind:function(){this.scope&&(angular.forEach(this.subs,function(unbind){unbind()}),this.subs=[],this.scope=null,this.key=null)},destroy:function(){this.unbind(),this.rec=null}},FirebaseObject}]),angular.module("firebase").factory("$FirebaseObject",["$log","$firebaseObject",function($log,$firebaseObject){return function(){return $log.warn("$FirebaseObject has been renamed. Use $firebaseObject instead."),$firebaseObject.apply(null,arguments)}}])}(),function(){"use strict";angular.module("firebase").factory("$firebase",function(){return function(){throw new Error("$firebase has been removed. You may instantiate $firebaseArray and $firebaseObject directly now. For simple write operations, just use the Firebase ref directly. See the AngularFire 1.0.0 changelog for details: https://www.firebase.com/docs/web/libraries/angular/changelog.html")}})}(),Array.prototype.indexOf||(Array.prototype.indexOf=function(searchElement,fromIndex){if(void 0===this||null===this)throw new TypeError("'this' is null or not defined");var length=this.length>>>0;for(fromIndex=+fromIndex||0,Math.abs(fromIndex)===1/0&&(fromIndex=0),fromIndex<0&&(fromIndex+=length,fromIndex<0&&(fromIndex=0));fromIndex<length;fromIndex++)if(this[fromIndex]===searchElement)return fromIndex;return-1}),Function.prototype.bind||(Function.prototype.bind=function(oThis){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var aArgs=Array.prototype.slice.call(arguments,1),fToBind=this,fNOP=function(){},fBound=function(){return fToBind.apply(this instanceof fNOP&&oThis?this:oThis,aArgs.concat(Array.prototype.slice.call(arguments)))};return fNOP.prototype=this.prototype,fBound.prototype=new fNOP,fBound}),Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{enumerable:!1,configurable:!0,writable:!0,value:function(predicate){if(null==this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof predicate)throw new TypeError("predicate must be a function");for(var value,list=Object(this),length=list.length>>>0,thisArg=arguments[1],i=0;i<length;i++)if(i in list&&(value=list[i],predicate.call(thisArg,value,i,list)))return i;return-1}}),"function"!=typeof Object.create&&!function(){var F=function(){};Object.create=function(o){if(arguments.length>1)throw new Error("Second argument not supported");if(null===o)throw new Error("Cannot set a null [[Prototype]]");if("object"!=typeof o)throw new TypeError("Argument must be an object");return F.prototype=o,new F}}(),Object.keys||(Object.keys=function(){"use strict";var hasOwnProperty=Object.prototype.hasOwnProperty,hasDontEnumBug=!{toString:null}.propertyIsEnumerable("toString"),dontEnums=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],dontEnumsLength=dontEnums.length;return function(obj){if("object"!=typeof obj&&("function"!=typeof obj||null===obj))throw new TypeError("Object.keys called on non-object");var prop,i,result=[];for(prop in obj)hasOwnProperty.call(obj,prop)&&result.push(prop);if(hasDontEnumBug)for(i=0;i<dontEnumsLength;i++)hasOwnProperty.call(obj,dontEnums[i])&&result.push(dontEnums[i]);return result}}()),"function"!=typeof Object.getPrototypeOf&&("object"==typeof"test".__proto__?Object.getPrototypeOf=function(object){return object.__proto__}:Object.getPrototypeOf=function(object){return object.constructor.prototype}),function(){"use strict";function stripDollarPrefixedKeys(data){if(!angular.isObject(data))return data;var out=angular.isArray(data)?[]:{};return angular.forEach(data,function(v,k){"string"==typeof k&&"$"===k.charAt(0)||(out[k]=stripDollarPrefixedKeys(v))}),out}angular.module("firebase").factory("$firebaseConfig",["$firebaseArray","$firebaseObject","$injector",function($firebaseArray,$firebaseObject,$injector){return function(configOpts){var opts=angular.extend({},configOpts);return"string"==typeof opts.objectFactory&&(opts.objectFactory=$injector.get(opts.objectFactory)),"string"==typeof opts.arrayFactory&&(opts.arrayFactory=$injector.get(opts.arrayFactory)),angular.extend({arrayFactory:$firebaseArray,objectFactory:$firebaseObject},opts)}}]).factory("$firebaseUtils",["$q","$timeout","$rootScope",function($q,$timeout,$rootScope){function Q(resolver){function resolveFn(value){deferred.resolve(value)}function rejectFn(reason){deferred.reject(reason)}if(!angular.isFunction(resolver))throw new Error("missing resolver function");var deferred=$q.defer();return resolver(resolveFn,rejectFn),deferred.promise}var utils={batch:function(action,context){return function(){var args=Array.prototype.slice.call(arguments,0);utils.compile(function(){action.apply(context,args)})}},debounce:function(fn,ctx,wait,maxWait){function resetTimer(){cancelTimer&&(cancelTimer(),cancelTimer=null),start&&Date.now()-start>maxWait?runScheduledForNextTick||(runScheduledForNextTick=!0,utils.compile(runNow)):(start||(start=Date.now()),cancelTimer=utils.wait(runNow,wait))}function runNow(){cancelTimer=null,start=null,runScheduledForNextTick=!1,fn.apply(ctx,args)}function debounced(){args=Array.prototype.slice.call(arguments,0),resetTimer()}var start,cancelTimer,args,runScheduledForNextTick;if("number"==typeof ctx&&(maxWait=wait,wait=ctx,ctx=null),"number"!=typeof wait)throw new Error("Must provide a valid integer for wait. Try 0 for a default");if("function"!=typeof fn)throw new Error("Must provide a valid function to debounce");return maxWait||(maxWait=10*wait||100),debounced.running=function(){return start>0},debounced},assertValidRef:function(ref,msg){if(!angular.isObject(ref)||"function"!=typeof ref.ref||"function"!=typeof ref.ref().transaction)throw new Error(msg||"Invalid Firebase reference")},inherit:function(ChildClass,ParentClass,methods){var childMethods=ChildClass.prototype;return ChildClass.prototype=Object.create(ParentClass.prototype),ChildClass.prototype.constructor=ChildClass,angular.forEach(Object.keys(childMethods),function(k){ChildClass.prototype[k]=childMethods[k]}),angular.isObject(methods)&&angular.extend(ChildClass.prototype,methods),ChildClass},getPrototypeMethods:function(inst,iterator,context){for(var methods={},objProto=Object.getPrototypeOf({}),proto=angular.isFunction(inst)&&angular.isObject(inst.prototype)?inst.prototype:Object.getPrototypeOf(inst);proto&&proto!==objProto;){for(var key in proto)proto.hasOwnProperty(key)&&!methods.hasOwnProperty(key)&&(methods[key]=!0,iterator.call(context,proto[key],key,proto));proto=Object.getPrototypeOf(proto)}},getPublicMethods:function(inst,iterator,context){utils.getPrototypeMethods(inst,function(m,k){"function"==typeof m&&"_"!==k.charAt(0)&&iterator.call(context,m,k)})},defer:$q.defer,reject:$q.reject,resolve:$q.when,promise:angular.isFunction($q)?$q:Q,makeNodeResolver:function(deferred){return function(err,result){null===err?(arguments.length>2&&(result=Array.prototype.slice.call(arguments,1)),deferred.resolve(result)):deferred.reject(err)}},wait:function(fn,wait){var to=$timeout(fn,wait||0);return function(){to&&($timeout.cancel(to),to=null)}},compile:function(fn){return $rootScope.$evalAsync(fn||function(){})},deepCopy:function(obj){if(!angular.isObject(obj))return obj;var newCopy=angular.isArray(obj)?obj.slice():angular.extend({},obj);for(var key in newCopy)newCopy.hasOwnProperty(key)&&angular.isObject(newCopy[key])&&(newCopy[key]=utils.deepCopy(newCopy[key]));return newCopy},trimKeys:function(dest,source){utils.each(dest,function(v,k){source.hasOwnProperty(k)||delete dest[k]})},scopeData:function(dataOrRec){var data={$id:dataOrRec.$id,$priority:dataOrRec.$priority},hasPublicProp=!1;return utils.each(dataOrRec,function(v,k){hasPublicProp=!0,data[k]=utils.deepCopy(v)}),!hasPublicProp&&dataOrRec.hasOwnProperty("$value")&&(data.$value=dataOrRec.$value),data},updateRec:function(rec,snap){var data=snap.val(),oldData=angular.extend({},rec);return angular.isObject(data)?delete rec.$value:(rec.$value=data,data={}),utils.trimKeys(rec,data),angular.extend(rec,data),rec.$priority=snap.getPriority(),!angular.equals(oldData,rec)||oldData.$value!==rec.$value||oldData.$priority!==rec.$priority},applyDefaults:function(rec,defaults){return angular.isObject(defaults)&&angular.forEach(defaults,function(v,k){rec.hasOwnProperty(k)||(rec[k]=v)}),rec},dataKeys:function(obj){var out=[];return utils.each(obj,function(v,k){out.push(k)}),out},each:function(obj,iterator,context){if(angular.isObject(obj)){for(var k in obj)if(obj.hasOwnProperty(k)){var c=k.charAt(0);"_"!==c&&"$"!==c&&"."!==c&&iterator.call(context,obj[k],k,obj)}}else if(angular.isArray(obj))for(var i=0,len=obj.length;i<len;i++)iterator.call(context,obj[i],i,obj);return obj},getKey:function(refOrSnapshot){return"function"==typeof refOrSnapshot.key?refOrSnapshot.key():refOrSnapshot.name()},toJSON:function(rec){var dat;return angular.isObject(rec)||(rec={$value:rec}),angular.isFunction(rec.toJSON)?dat=rec.toJSON():(dat={},utils.each(rec,function(v,k){dat[k]=stripDollarPrefixedKeys(v)})),angular.isDefined(rec.$value)&&0===Object.keys(dat).length&&null!==rec.$value&&(dat[".value"]=rec.$value),angular.isDefined(rec.$priority)&&Object.keys(dat).length>0&&null!==rec.$priority&&(dat[".priority"]=rec.$priority),angular.forEach(dat,function(v,k){if(k.match(/[.$\[\]#\/]/)&&".value"!==k&&".priority"!==k)throw new Error("Invalid key "+k+" (cannot contain .$[]#)");if(angular.isUndefined(v))throw new Error("Key "+k+" was undefined. Cannot pass undefined in JSON. Use null instead.")}),dat},doSet:function(ref,data){var def=utils.defer();if(angular.isFunction(ref.set)||!angular.isObject(data))ref.set(data,utils.makeNodeResolver(def));else{var dataCopy=angular.extend({},data);ref.once("value",function(snap){snap.forEach(function(ss){dataCopy.hasOwnProperty(utils.getKey(ss))||(dataCopy[utils.getKey(ss)]=null)}),ref.ref().update(dataCopy,utils.makeNodeResolver(def))},function(err){def.reject(err)})}return def.promise},doRemove:function(ref){var def=utils.defer();return angular.isFunction(ref.remove)?ref.remove(utils.makeNodeResolver(def)):ref.once("value",function(snap){var promises=[];snap.forEach(function(ss){var d=utils.defer();promises.push(d.promise),ss.ref().remove(utils.makeNodeResolver(def))}),utils.allPromises(promises).then(function(){def.resolve(ref)},function(err){def.reject(err)})},function(err){def.reject(err)}),def.promise},VERSION:"1.1.2",allPromises:$q.all.bind($q)};return utils}])}(),function(h,e,b,i,c,g,j){
function l(){function i(a,b){d.push({lc:a,Yb:b})}function g(b,c){a.e(d,function(a,e){a.lc==b&&a.Yb===c&&d.splice(e,1)})}var b=this,d=[];b.$On=b.addEventListener=i,b.$Off=b.removeEventListener=g,b.i=function(b){var c=[].slice.call(arguments,1);a.e(d,function(a){a.lc==b&&a.Yb.apply(h,c)})}}function k(o,z,k,R,P,K){function M(a){f+=a,j+=a,m+=a,l+=a,n+=a,A=a}function Q(a,b){var c=a-f+o*b;return M(c),j}function w(o,i){var d=o;if(r&&(d>=j||d<=f)&&(d=((d-f)%r+r)%r+f),!E||x||i||l!=d){var g=b.min(d,j);if(g=b.max(g,f),!E||x||i||g!=n){if(K){var h=(g-m)/(z||1);k.$Reverse&&(h=1-h);var p=a.td(P,K,h,I,H,J,k);a.e(p,function(b,a){C[a]&&C[a](R,b)})}e.rc(n-m,g-m),n=g,a.e(y,function(b,c){var a=o<l?y[y.length-c-1]:b;a.v(n-A,i)});var s=l,q=n;l=d,E=c,e.Gb(s,q)}}}function F(a,c,d){c&&a.Jb(j,1),d||(f=b.min(f,a.ae()+A),j=b.max(j,a.Y()+A)),y.push(a)}function L(){if(s){var d=a.J(),e=b.min(d-B,k.md),c=l+e*q;B=d,c*q>=p*q&&(c=p),w(c),!x&&c*q>=p*q?N(D):t(L)}}function v(d,g,h){s||(s=c,x=h,D=g,d=b.max(d,f),d=b.min(d,j),p=d,q=p<l?-1:1,e.ld(),B=a.J(),t(L))}function N(a){s&&(x=s=D=g,e.kd(),a&&a())}o=o||0;var s,p,q,x,I,J,H,D,E,f,j,r,C,e=this,B=0,A=0,l=0,n=0,m=o,y=[],t=h.requestAnimationFrame||h.webkitRequestAnimationFrame||h.mozRequestAnimationFrame||h.msRequestAnimationFrame;a.je()&&a.Sc()<7&&(t=i),t=t||function(b){a.$Delay(b,k.$Interval)},e.$Play=function(a,b,c){v(a?l+a:j,b,c)},e.fd=v,e.W=N,e.Kd=function(a){v(a)},e.T=function(){return l},e.jd=function(){return p},e.Eb=function(){return n},e.v=w,e.$Move=function(a){w(l+a)},e.$IsPlaying=function(){return s},e.Fd=function(a){r=a},e.Jb=Q,e.$Shift=M,e.X=function(a){F(a,0)},e.nc=function(a){F(a,1)},e.ae=function(){return f},e.Y=function(){return j},e.Gb=e.ld=e.kd=e.rc=a.ac,e.Zb=a.J(),k=a.l({$Interval:16,md:50},k),r=k.ed,C=a.l({},a.ce(),k.wc),f=m=o,j=o+z,J=k.$Round||{},H=k.$During||{},I=a.l({Cb:a.Nc(k.$Easing)&&k.$Easing||d.$EaseSwing},k.$Easing)}function o(){k.call(this,0,0),this.Sb=a.ac}new function(){};var d=h.$JssorEasing$={$EaseSwing:function(a){return-b.cos(a*b.PI)/2+.5},$EaseLinear:function(a){return a},$EaseInQuad:function(a){return a*a},$EaseOutQuad:function(a){return-a*(a-2)},$EaseInOutQuad:function(a){return(a*=2)<1?.5*a*a:-.5*(--a*(a-2)-1)},$EaseInCubic:function(a){return a*a*a},$EaseOutCubic:function(a){return(a-=1)*a*a+1},$EaseInOutCubic:function(a){return(a*=2)<1?.5*a*a*a:.5*((a-=2)*a*a+2)},$EaseInQuart:function(a){return a*a*a*a},$EaseOutQuart:function(a){return-((a-=1)*a*a*a-1)},$EaseInOutQuart:function(a){return(a*=2)<1?.5*a*a*a*a:-.5*((a-=2)*a*a*a-2)},$EaseInQuint:function(a){return a*a*a*a*a},$EaseOutQuint:function(a){return(a-=1)*a*a*a*a+1},$EaseInOutQuint:function(a){return(a*=2)<1?.5*a*a*a*a*a:.5*((a-=2)*a*a*a*a+2)},$EaseInSine:function(a){return 1-b.cos(a*b.PI/2)},$EaseOutSine:function(a){return b.sin(a*b.PI/2)},$EaseInOutSine:function(a){return-.5*(b.cos(b.PI*a)-1)},$EaseInExpo:function(a){return 0==a?0:b.pow(2,10*(a-1))},$EaseOutExpo:function(a){return 1==a?1:-b.pow(2,-10*a)+1},$EaseInOutExpo:function(a){return 0==a||1==a?a:(a*=2)<1?.5*b.pow(2,10*(a-1)):.5*(-b.pow(2,-10*--a)+2)},$EaseInCirc:function(a){return-(b.sqrt(1-a*a)-1)},$EaseOutCirc:function(a){return b.sqrt(1-(a-=1)*a)},$EaseInOutCirc:function(a){return(a*=2)<1?-.5*(b.sqrt(1-a*a)-1):.5*(b.sqrt(1-(a-=2)*a)+1)},$EaseInElastic:function(a){if(!a||1==a)return a;var c=.3,d=.075;return-(b.pow(2,10*(a-=1))*b.sin(2*(a-d)*b.PI/c))},$EaseOutElastic:function(a){if(!a||1==a)return a;var c=.3,d=.075;return b.pow(2,-10*a)*b.sin(2*(a-d)*b.PI/c)+1},$EaseInOutElastic:function(a){if(!a||1==a)return a;var c=.45,d=.1125;return(a*=2)<1?-.5*b.pow(2,10*(a-=1))*b.sin(2*(a-d)*b.PI/c):b.pow(2,-10*(a-=1))*b.sin(2*(a-d)*b.PI/c)*.5+1},$EaseInBack:function(a){var b=1.70158;return a*a*((b+1)*a-b)},$EaseOutBack:function(a){var b=1.70158;return(a-=1)*a*((b+1)*a+b)+1},$EaseInOutBack:function(a){var b=1.70158;return(a*=2)<1?.5*a*a*(((b*=1.525)+1)*a-b):.5*((a-=2)*a*(((b*=1.525)+1)*a+b)+2)},$EaseInBounce:function(a){return 1-d.$EaseOutBounce(1-a)},$EaseOutBounce:function(a){return a<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375},$EaseInOutBounce:function(a){return a<.5?.5*d.$EaseInBounce(2*a):.5*d.$EaseOutBounce(2*a-1)+.5},$EaseGoBack:function(a){return 1-b.abs(1)},$EaseInWave:function(a){return 1-b.cos(a*b.PI*2)},$EaseOutWave:function(a){return b.sin(a*b.PI*2)},$EaseOutJump:function(a){return 1-((a*=2)<1?(a=1-a)*a*a:(a-=1)*a*a)},$EaseInJump:function(a){return(a*=2)<1?a*a*a:(a=2-a)*a*a}},a=new function(){function Eb(){if(!L){L={ie:"ontouchstart"in h||"createTouch"in e};var a;(B.pointerEnabled||(a=B.msPointerEnabled))&&(L.dd=a?"msTouchAction":"touchAction")}return L}function v(i){if(!s)if(s=-1,"Microsoft Internet Explorer"==tb&&h.attachEvent&&h.ActiveXObject){var f=k.indexOf("MSIE");s=T,p=n(k.substring(f+5,k.indexOf(";",f))),l=e.documentMode||p}else if("Netscape"==tb&&h.addEventListener){var d=k.indexOf("Firefox"),b=k.indexOf("Safari"),g=k.indexOf("Chrome"),c=k.indexOf("AppleWebKit");if(d>=0)s=fb,l=n(k.substring(d+8));else if(b>=0){var j=k.substring(0,b).lastIndexOf("/");s=g>=0?jb:kb,l=n(k.substring(j+1,b))}else{var a=/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/i.exec(k);a&&(s=T,l=p=n(a[1]))}c>=0&&(A=n(k.substring(c+12)))}else{var a=/(opera)(?:.*version|)[ \/]([\w.]+)/i.exec(k);a&&(s=ob,l=n(a[2]))}return i==s}function q(){return v(T)}function O(){return q()&&(l<6||"BackCompat"==e.compatMode)}function ib(){return v(kb)}function hb(){return v(jb)}function nb(){return v(ob)}function cb(){return ib()&&A>534&&A<535}function M(){return q()&&l<9}function t(a){return z||(m(["transform","WebkitTransform","msTransform","MozTransform","OTransform"],function(b){if(a.style[b]!=j)return z=b,c}),z=z||"transform"),z}function sb(a){return{}.toString.call(a)}function Cb(){return K||(K={},m(["Boolean","Number","String","Function","Array","Date","RegExp","Object"],function(a){K["[object "+a+"]"]=a.toLowerCase()})),K}function m(a,d){if("[object Array]"==sb(a)){for(var b=0;b<a.length;b++)if(d(a[b],b,a))return c}else for(var e in a)if(d(a[e],e,a))return c}function D(a){return a==i?String(a):Cb()[sb(a)]||"object"}function qb(a){for(var b in a)return c}function G(a){try{return"object"==D(a)&&!a.nodeType&&a!=a.window&&(!a.constructor||{}.hasOwnProperty.call(a.constructor.prototype,"isPrototypeOf"))}catch(b){}}function y(a,b){return{x:a,y:b}}function vb(b,a){setTimeout(b,a||0)}function I(b,d,c){var a=b&&"inherit"!=b?b:"";return m(d,function(c){var b=c.exec(a);if(b){var d=a.substr(0,b.index),e=a.substr(b.lastIndex+1,a.length-(b.lastIndex+1));a=d+e}}),a=c+(0!=a.indexOf(" ")?" ":"")+a}function eb(b,a){l<9&&(b.style.filter=a)}function zb(b,a,c){if(bb<9){var e=b.style.filter,h=new RegExp(/[\s]*progid:DXImageTransform\.Microsoft\.Matrix\([^\)]*\)/g),g=a?"progid:DXImageTransform.Microsoft.Matrix(M11="+a[0][0]+", M12="+a[0][1]+", M21="+a[1][0]+", M22="+a[1][1]+", SizingMethod='auto expand')":"",d=I(e,[h],g);eb(b,d),f.Uc(b,c.y),f.Vc(b,c.x)}}function W(a){a.constructor===W.caller&&a.yd&&a.yd.apply(a,W.caller.arguments)}function r(a){return a||h.event}function E(c,d,a){if(a==j){var b=c.currentStyle||c.style;return a=b[d],""==a&&h.getComputedStyle&&(b=c.ownerDocument.defaultView.getComputedStyle(c,i),b&&(a=b.getPropertyValue(d)||b[d])),a}c.style[d]=a}function Y(b,c,a,d){return a==j?n(E(b,c)):(d&&(a+="px"),void E(b,c,a))}function o(d,a){var b=2&a,c=a?Y:E;return function(e,a){return c(e,d,a,b)}}function Ab(b){if(q()&&p<9){var a=/opacity=([^)]*)/.exec(b.style.filter||"");return a?n(a[1])/100:1}return n(b.style.opacity||"1")}function Bb(c,a,f){if(q()&&p<9){var h=c.style.filter||"",i=new RegExp(/[\s]*alpha\([^\)]*\)/g),e=b.round(100*a),d="";(e<100||f)&&(d="alpha(opacity="+e+") ");var g=I(h,[i],d);eb(c,g)}else c.style.opacity=1==a?"":b.round(100*a)/100}function ab(e,a){var d=a.$Rotate||0,c=a.$Scale==j?1:a.$Scale;if(M()){var l=f.se(d/180*b.PI,c,c);zb(e,d||1!=c?l:i,f.re(l,a.$OriginalWidth,a.$OriginalHeight))}else{var g=t(e);if(g){var k="rotate("+d%360+"deg) scale("+c+")";hb()&&A>535&&"ontouchstart"in h&&(k+=" perspective(2000px)"),e.style[g]=k}}}function rb(a,c,e,b){for(b=b||"u",a=a?a.firstChild:i;a;a=a.nextSibling)if(1==a.nodeType){if(S(a,b)==c)return a;if(!e){var d=rb(a,c,e,b);if(d)return d}}}function Q(a,d,f,b){b=b||"u";var c=[];for(a=a?a.firstChild:i;a;a=a.nextSibling)if(1==a.nodeType&&(S(a,b)==d&&c.push(a),!f)){var e=Q(a,d,f,b);e.length&&(c=c.concat(e))}return c}function lb(a,c,d){for(a=a?a.firstChild:i;a;a=a.nextSibling)if(1==a.nodeType){if(a.tagName==c)return a;if(!d){var b=lb(a,c,d);if(b)return b}}}function db(a,c,e){var b=[];for(a=a?a.firstChild:i;a;a=a.nextSibling)if(1==a.nodeType&&((!c||a.tagName==c)&&b.push(a),!e)){var d=db(a,c,e);d.length&&(b=b.concat(d))}return b}function C(){var d,c,b,a,e=arguments,g=1&e[0],f=1+g;for(d=e[f-1]||{};f<e.length;f++)if(c=e[f])for(b in c)a=c[b],a!==j&&(a=c[b],d[b]=g&&G(d[b])?C(g,{},a):a);return d}function X(f,g){var c,a,b,d={};for(c in f)if(a=f[c],b=g[c],a!==b){var e;G(a)&&G(b)&&(a=X(b),e=!qb(a)),!e&&(d[c]=a)}return d}function P(a){return e.createElement(a)}function U(b,c,a){return a==j?b.getAttribute(c):void b.setAttribute(c,a)}function S(a,b){return U(a,b)||U(a,"data-"+b)}function w(b,a){return a==j?b.className:void(b.className=a)}function ub(b){var a={};return m(b,function(b){a[b]=b}),a}function wb(b,a){return b.match(a||xb)}function N(b,a){return ub(wb(b||"",a))}function Z(b,c){var a="";return m(c,function(c){a&&(a+=b),a+=c}),a}function H(a,c,b){w(a,Z(" ",C(X(N(w(a)),N(c)),N(b))))}function V(d,c,b){var a=d.cloneNode(!c);return!b&&f.Kc(a,"id"),a}function Db(b){function i(){H(b,p,g[d||k||2&h||h]),a.cb(b,"pointer-events",d?"none":"")}function c(){k=0,i(),f.I(e,"mouseup",c),f.I(e,"touchend",c),f.I(e,"touchcancel",c)}function n(a){d?f.Fb(a):(k=4,i(),f.c(e,"mouseup",c),f.c(e,"touchend",c),f.c(e,"touchcancel",c))}var p,q=this,o="",r=["av","pv","ds","dn"],g=[],k=0,h=0,d=0;q.Ic=function(a){return a==j?h:(h=2&a||1&a,void i())},q.$Enable=function(a){return a==j?!d:(d=a?0:3,void i())},b=f.hb(b);var l=a.Oe(w(b));l&&(o=l.shift()),m(r,function(a){g.push(o+a)}),p=Z(" ",g),g.unshift(""),f.c(b,"mousedown",n),f.c(b,"touchstart",n)}function J(){return u||(u=C({zg:f.Uc,Ag:f.Vc,$Clip:f.Ve,kc:f.me},R)),u}function pb(){return J(),u.kc=u.kc,u}var L,z,K,f=this,xb=/\S+/g,T=1,fb=2,kb=3,jb=4,ob=5,s=0,l=0,p=0,bb=0,A=0,B=navigator,tb=B.appName,k=B.userAgent;f.he=Eb,f.Wc=q,f.je=ib,f.ee=hb,f.vc=nb,f.Q=M,f.Sc=function(){return l},f.oc=function(){return v(),A},f.$Delay=vb,f.yd=W,f.hb=function(a){return f.cd(a)&&(a=e.getElementById(a)),a},f.Xc=r,f.Ac=function(a){return a=r(a),a.target||a.srcElement||e},f.Yc=function(a){return a=r(a),{x:a.pageX||a.clientX||0,y:a.pageY||a.clientY||0}},f.me=function(b,a){cb()?vb(f.F(i,ab,b,a)):ab(b,a)},f.le=function(b,c){var a=t(b);a&&(b.style[a+"Origin"]=c)},f.oe=function(a,c){if(q()&&p<9||p<10&&O())a.style.zoom=1==c?"":c;else{var b=t(a);if(b){var f="scale("+c+")",e=a.style[b],g=new RegExp(/[\s]*scale\(.*?\)/g),d=I(e,[g],f);a.style[b]=d}}},f.ne=function(a){a.style[t(a)]&&"none"!=a.style[t(a)]||(a.style[t(a)]="perspective(2000px)")},f.Rb=function(b,a){return function(c){c=r(c);var e=c.type,d=c.relatedTarget||("mouseout"==e?c.toElement:c.fromElement);(!d||d!==a&&!f.nf(a,d))&&b(c)}},f.c=function(a,c,d,b){a=f.hb(a),a.addEventListener?("mousewheel"==c&&a.addEventListener("DOMMouseScroll",d,b),a.addEventListener(c,d,b)):a.attachEvent&&(a.attachEvent("on"+c,d),b&&a.setCapture&&a.setCapture())},f.I=function(a,c,d,b){a=f.hb(a),a.removeEventListener?("mousewheel"==c&&a.removeEventListener("DOMMouseScroll",d,b),a.removeEventListener(c,d,b)):a.detachEvent&&(a.detachEvent("on"+c,d),b&&a.releaseCapture&&a.releaseCapture())},f.Fb=function(a){a=r(a),a.preventDefault&&a.preventDefault(),a.cancel=c,a.returnValue=g},f.af=function(a){a=r(a),a.stopPropagation&&a.stopPropagation(),a.cancelBubble=c},f.F=function(d,c){var a=[].slice.call(arguments,2),b=function(){var b=a.concat([].slice.call(arguments,0));return c.apply(d,b)};return b},f.gf=function(a,b){if(b==j)return a.textContent||a.innerText;var c=e.createTextNode(b);f.jc(a),a.appendChild(c)},f.V=function(d,c){for(var b=[],a=d.firstChild;a;a=a.nextSibling)(c||1==a.nodeType)&&b.push(a);return b},f.C=rb,f.cf=lb,f.of=db,f.mf=function(b,a){return b.getElementsByTagName(a)},f.l=C,f.Nc=function(a){return"function"==D(a)},f.mc=function(a){return"array"==D(a)},f.cd=function(a){return"string"==D(a)},f.Pc=function(a){return!isNaN(n(a))&&isFinite(a)},f.e=m,f.bb=function(){return P("DIV")},f.Qe=function(){return P("SPAN")},f.ac=function(){},f.M=U,f.t=S,f.Ec=w,f.Oe=wb,f.tb=function(a){return a.parentNode},f.K=function(a){f.N(a,"none")},f.A=function(a,b){f.N(a,b?"none":"")},f.Kc=function(b,a){b.removeAttribute(a)},f.Se=function(){return q()&&l<10},f.Ve=function(d,c){if(c)d.style.clip="rect("+b.round(c.$Top)+"px "+b.round(c.$Right)+"px "+b.round(c.$Bottom)+"px "+b.round(c.$Left)+"px)";else{var g=d.style.cssText,f=[new RegExp(/[\s]*clip: rect\(.*?\)[;]?/i),new RegExp(/[\s]*cliptop: .*?[;]?/i),new RegExp(/[\s]*clipright: .*?[;]?/i),new RegExp(/[\s]*clipbottom: .*?[;]?/i),new RegExp(/[\s]*clipleft: .*?[;]?/i)],e=I(g,f,"");a.Vb(d,e)}},f.J=function(){return+new Date},f.D=function(b,a){b.appendChild(a)},f.Wb=function(b,a,c){(c||a.parentNode).insertBefore(b,a)},f.wb=function(a,b){(b||a.parentNode).removeChild(a)},f.Ne=function(a,b){m(a,function(a){f.wb(a,b)})},f.jc=function(a){f.Ne(f.V(a,c),a)},f.Me=function(b,a){return parseInt(b,a||10)};var n=parseFloat;f.ec=n,f.nf=function(b,a){for(var c=e.body;a&&b!==a&&c!==a;)try{a=a.parentNode}catch(d){return g}return b===a},f.O=V,f.Ab=function(e,g){function b(e,c){f.I(a,"load",b),f.I(a,"abort",d),f.I(a,"error",d),g&&g(a,c)}function d(a){b(a,c)}var a=new Image;nb()&&l<11.6||!e?b(!e):(f.c(a,"load",b),f.c(a,"abort",d),f.c(a,"error",d),a.src=e)},f.bf=function(d,a,e){function b(b){c--,a&&b&&b.src==a.src&&(a=b),!c&&e&&e(a)}var c=d.length+1;m(d,function(a){f.Ab(a.src,b)}),b()},f.Dc=function(b,g,i,h){h&&(b=V(b));var c=Q(b,g);c.length||(c=a.mf(b,g));for(var f=c.length-1;f>-1;f--){var d=c[f],e=V(i);w(e,w(d)),a.Vb(e,d.style.cssText),a.Wb(e,d),a.wb(d)}return b},f.Ub=function(a){return new Db(a)},f.cb=E,f.ab=o("overflow"),f.B=o("top",2),f.z=o("left",2),f.o=o("width",2),f.n=o("height",2),f.Vc=o("marginLeft",2),f.Uc=o("marginTop",2),f.E=o("position"),f.N=o("display"),f.H=o("zIndex",1),f.rb=function(b,a,c){return a==j?Ab(b):void Bb(b,a,c)},f.Vb=function(a,b){return b==j?a.style.cssText:void(a.style.cssText=b)};var u,R={$Opacity:f.rb,$Top:f.B,$Left:f.z,db:f.o,eb:f.n,xb:f.E,yg:f.N,$ZIndex:f.H};f.ce=J,f.Wd=pb,f.Vd=function(c,b){J();var a={};return m(b,function(d,b){R[b]&&(a[b]=R[b](c))}),a},f.L=function(c,b){var a=J();m(b,function(d,b){a[b]&&a[b](c,d)})},f.Ad=function(b,a){pb(),f.L(b,a)};var F=new function(){function b(d,g){for(var j=d[0].length,i=d.length,h=g[0].length,f=[],c=0;c<i;c++)for(var k=f[c]=[],b=0;b<h;b++){for(var e=0,a=0;a<j;a++)e+=d[c][a]*g[a][b];k[b]=e}return f}var a=this;a.Pb=function(d,c){var a=b(d,[[c.x],[c.y]]);return y(a[0][0],a[1][0])}};f.se=function(d,a,c){var e=b.cos(d),f=b.sin(d);return[[e*a,-f*c],[f*a,e*c]]},f.re=function(d,c,a){var e=F.Pb(d,y(-c/2,-a/2)),f=F.Pb(d,y(c/2,-a/2)),g=F.Pb(d,y(c/2,a/2)),h=F.Pb(d,y(-c/2,a/2));return y(b.min(e.x,f.x,g.x,h.x)+c/2,b.min(e.y,f.y,g.y,h.y)+a/2)},f.td=function(l,g,t,r,u,w,j){var c=g;if(l){c={};for(var f in g){var x=w[f]||1,s=u[f]||[0,1],e=(t-s[0])/s[1];e=b.min(b.max(e,0),1),e*=x;var p=b.floor(e);e!=p&&(e-=p);var h,v=r[f]||r.Cb||d.$EaseSwing,q=v(e),y=l[f];g[f];var m=g[f];a.Pc(m)?h=y+m*q:(h=a.l({Bb:{}},l[f]),a.e(m.Bb,function(c,b){var a=c*q;h.Bb[b]=a,h[b]+=a})),c[f]=h}(g.$Zoom||g.$Rotate)&&(c.kc={$Rotate:c.$Rotate||0,$Scale:c.$Zoom,$OriginalWidth:j.$OriginalWidth,$OriginalHeight:j.$OriginalHeight})}if(g.$Clip&&j.$Move){var k=c.$Clip.Bb,o=(k.$Top||0)+(k.$Bottom||0),n=(k.$Left||0)+(k.$Right||0);c.$Left=(c.$Left||0)+n,c.$Top=(c.$Top||0)+o,c.$Clip.$Left-=n,c.$Clip.$Right-=n,c.$Clip.$Top-=o,c.$Clip.$Bottom-=o}return c.$Clip&&a.Se()&&!c.$Clip.$Top&&!c.$Clip.$Left&&c.$Clip.$Right==j.$OriginalWidth&&c.$Clip.$Bottom==j.$OriginalHeight&&(c.$Clip=i),c}},n=h.$JssorSlideshowFormations$=new function(){function y(a){return(a&r)==r}function z(a){return(a&t)==t}function g(b,a,c){c.push(a),b[a]=b[a]||[],b[a].push(c)}var h=this,d=0,a=1,f=2,e=3,s=1,r=2,t=4,q=8,w=256,x=512,v=1024,u=2048,j=u+s,i=u+r,o=x+s,m=x+r,n=w+t,k=w+q,l=v+t,p=v+q;h.$FormationStraight=function(f){for(var c,d=f.$Cols,e=f.$Rows,s=f.$Assembly,t=f.Kb,r=[],a=0,b=0,p=d-1,q=e-1,h=t-1,b=0;b<e;b++)for(a=0;a<d;a++){switch(s){case j:c=h-(a*e+(q-b));break;case l:c=h-(b*d+(p-a));break;case o:c=h-(a*e+b);case n:c=h-(b*d+a);break;case i:c=a*e+b;break;case k:c=b*d+(p-a);break;case m:c=a*e+(q-b);break;default:c=b*d+a}g(r,c,[b,a])}return r},h.$FormationSwirl=function(q){var t,p,x=q.$Cols,y=q.$Rows,B=q.$Assembly,w=q.Kb,A=[],z=[],u=0,b=0,h=0,r=x-1,s=y-1,v=0;switch(B){case j:b=r,h=0,p=[f,a,e,d];break;case l:b=0,h=s,p=[d,e,a,f];break;case o:b=r,h=s,p=[e,a,f,d];break;case n:b=r,h=s,p=[a,e,d,f];break;case i:b=0,h=0,p=[f,d,e,a];break;case k:b=r,h=0,p=[a,f,d,e];break;case m:b=0,h=s,p=[e,d,f,a];break;default:b=0,h=0,p=[d,f,a,e]}for(u=0;u<w;){if(t=h+","+b,b>=0&&b<x&&h>=0&&h<y&&!z[t])z[t]=c,g(A,u++,[h,b]);else switch(p[v++%p.length]){case d:b--;break;case f:h--;break;case a:b++;break;case e:h++}switch(p[v%p.length]){case d:b++;break;case f:h++;break;case a:b--;break;case e:h--}}return A},h.$FormationZigZag=function(p){var y,h,w=p.$Cols,x=p.$Rows,z=p.$Assembly,v=p.Kb,t=[],u=0,b=0,c=0,q=w-1,r=x-1,s=0;switch(z){case j:b=q,c=0,h=[f,a,e,a];break;case l:b=0,c=r,h=[d,e,a,e];break;case o:b=q,c=r,h=[e,a,f,a];break;case n:b=q,c=r,h=[a,e,d,e];break;case i:b=0,c=0,h=[f,d,e,d];break;case k:b=q,c=0,h=[a,f,d,f];break;case m:b=0,c=r,h=[e,d,f,d];break;default:b=0,c=0,h=[d,f,a,f]}for(u=0;u<v;)if(y=c+","+b,b>=0&&b<w&&c>=0&&c<x&&"undefined"==typeof t[y])switch(g(t,u++,[c,b]),h[s%h.length]){case d:b++;break;case f:c++;break;case a:b--;break;case e:c--}else{switch(h[s++%h.length]){case d:b--;break;case f:c--;break;case a:b++;break;case e:c++}switch(h[s++%h.length]){case d:b++;break;case f:c++;break;case a:b--;break;case e:c--}}return t},h.$FormationStraightStairs=function(q){var u=q.$Cols,v=q.$Rows,e=q.$Assembly,t=q.Kb,r=[],s=0,c=0,d=0,f=u-1,h=v-1,x=t-1;switch(e){case j:case m:case o:case i:var a=0,b=0;break;case k:case l:case n:case p:var a=f,b=0;break;default:e=p;var a=f,b=0}for(c=a,d=b;s<t;){switch(z(e)||y(e)?g(r,x-s++,[d,c]):g(r,s++,[d,c]),e){case j:case m:c--,d++;break;case o:case i:c++,d--;break;case k:case l:c--,d--;break;case p:case n:default:c++,d++}if(c<0||d<0||c>f||d>h){switch(e){case j:case m:a++;break;case k:case l:case o:case i:b++;break;case p:case n:default:a--}if(a<0||b<0||a>f||b>h){switch(e){case j:case m:a=f,b++;break;case o:case i:b=h,a++;break;case k:case l:b=h,a--;break;case p:case n:default:a=0,b++}b>h?b=h:b<0?b=0:a>f?a=f:a<0&&(a=0)}d=b,c=a}}return r},h.$FormationSquare=function(i){var d,e,f,h,k,a=i.$Cols||1,c=i.$Rows||1,j=[];for(f=a<c?(c-a)/2:0,h=a>c?(a-c)/2:0,k=b.round(b.max(a/2,c/2))+1,d=0;d<a;d++)for(e=0;e<c;e++)g(j,k-b.min(d+1+f,e+1+h,a-d+f,c-e+h),[e,d]);return j},h.$FormationRectangle=function(f){var a,c,i,d=f.$Cols||1,e=f.$Rows||1,h=[];for(i=b.round(b.min(d/2,e/2))+1,a=0;a<d;a++)for(c=0;c<e;c++)g(h,i-b.min(a+1,c+1,d-a,e-c),[c,a]);return h},h.$FormationRandom=function(d){for(var a,e=[],c=0;c<d.$Rows;c++)for(a=0;a<d.$Cols;a++)g(e,b.ceil(1e5*b.random())%13,[c,a]);return e},h.$FormationCircle=function(d){for(var a,e=d.$Cols||1,f=d.$Rows||1,h=[],i=e/2-.5,j=f/2-.5,c=0;c<e;c++)for(a=0;a<f;a++)g(h,b.round(b.sqrt(b.pow(c-i,2)+b.pow(a-j,2))),[a,c]);return h},h.$FormationCross=function(d){for(var a,e=d.$Cols||1,f=d.$Rows||1,h=[],i=e/2-.5,j=f/2-.5,c=0;c<e;c++)for(a=0;a<f;a++)g(h,b.round(b.min(b.abs(c-i),b.abs(a-j))),[a,c]);return h},h.$FormationRectangleCross=function(f){for(var a,h=f.$Cols||1,i=f.$Rows||1,j=[],d=h/2-.5,e=i/2-.5,k=b.max(d,e)+1,c=0;c<h;c++)for(a=0;a<i;a++)g(j,b.round(k-b.max(d-b.abs(c-d),e-b.abs(a-e)))-1,[a,c]);return j}};h.$JssorSlideshowRunner$=function(o,s,q,t,y){function m(h,f){var e={$Interval:f,$Duration:1,$Delay:0,$Cols:1,$Rows:1,$Opacity:0,$Zoom:0,$Clip:0,$Move:g,$SlideOut:g,$Reverse:g,$Formation:n.$FormationRandom,$Assembly:1032,$ChessMode:{$Column:0,$Row:0},$Easing:d.$EaseSwing,$Round:{},Hb:[],$During:{}};return a.l(e,h),e.Kb=e.$Cols*e.$Rows,a.Nc(e.$Easing)&&(e.$Easing={Cb:e.$Easing}),e.Od=b.ceil(e.$Duration/e.$Interval),e.Rd=function(b,a){b/=e.$Cols,a/=e.$Rows;var f=b+"x"+a;if(!e.Hb[f]){e.Hb[f]={db:b,eb:a};for(var c=0;c<e.$Cols;c++)for(var d=0;d<e.$Rows;d++)e.Hb[f][d+","+c]={$Top:d*a,$Right:c*b+b,$Bottom:d*a+a,$Left:c*b}}return e.Hb[f]},e.$Brother&&(e.$Brother=m(e.$Brother,f),e.$SlideOut=c),e}function p(A,i,d,v,n,l){function B(a){var b=a.$Formation(a);return a.$Reverse?b.reverse():b}var t,f,e,r,x,y=this,u={},j={},m=[],p=d.$ChessMode.$Column||0,q=d.$ChessMode.$Row||0,h=d.Rd(n,l),o=B(d),C=o.length-1,s=d.$Duration+d.$Delay*C,w=v+s,k=d.$SlideOut;if(w+=50,y.Mc=w,y.Ob=function(c){c-=v;var e=c<s;if(e||x){x=e,k||(c=s-c);var f=b.ceil(c/d.$Interval);a.e(j,function(c,e){var d=b.max(f,c.Cd);d=b.min(d,c.length-1),c.sd!=d&&(c.sd||k?d==c.zd&&k&&a.K(m[e]):a.A(m[e]),c.sd=d,a.Ad(m[e],c[d]))})}},i=a.O(i),a.Q()){var D=!i["no-image"],z=a.of(i);a.e(z,function(b){(D||b["jssor-slider"])&&a.rb(b,a.rb(b),c)})}a.e(o,function(i,m){a.e(i,function(G){var K=G[0],J=G[1],v=K+","+J,o=g,s=g,x=g;p&&J%2&&(3&p&&(o=!o),12&p&&(s=!s),16&p&&(x=!x)),q&&K%2&&(3&q&&(o=!o),12&q&&(s=!s),16&q&&(x=!x)),d.$Top=d.$Top||4&d.$Clip,d.$Bottom=d.$Bottom||8&d.$Clip,d.$Left=d.$Left||1&d.$Clip,d.$Right=d.$Right||2&d.$Clip;var C=s?d.$Bottom:d.$Top,z=s?d.$Top:d.$Bottom,B=o?d.$Right:d.$Left,A=o?d.$Left:d.$Right;d.$Clip=C||z||B||A,r={},e={$Top:0,$Left:0,$Opacity:1,db:n,eb:l},f=a.l({},e),t=a.l({},h[v]),d.$Opacity&&(e.$Opacity=2-d.$Opacity),d.$ZIndex&&(e.$ZIndex=d.$ZIndex,f.$ZIndex=0);var I=d.$Cols*d.$Rows>1||d.$Clip;if(d.$Zoom||d.$Rotate){var H=c;if(a.Q()&&(d.$Cols*d.$Rows>1?H=g:I=g),H){e.$Zoom=d.$Zoom?d.$Zoom-1:1,f.$Zoom=1,(a.Q()||a.vc())&&(e.$Zoom=b.min(e.$Zoom,2));var N=d.$Rotate;e.$Rotate=360*N*(x?-1:1),f.$Rotate=0}}if(I){if(d.$Clip){var w=d.$ScaleClip||1,i=t.Bb={};C&&z?(i.$Top=h.eb/2*w,i.$Bottom=-i.$Top):C?i.$Bottom=-h.eb*w:z&&(i.$Top=h.eb*w),B&&A?(i.$Left=h.db/2*w,i.$Right=-i.$Left):B?i.$Right=-h.db*w:A&&(i.$Left=h.db*w)}r.$Clip=t,f.$Clip=h[v]}var L=o?1:-1,M=s?1:-1;d.x&&(e.$Left+=n*d.x*L),d.y&&(e.$Top+=l*d.y*M),a.e(e,function(b,c){a.Pc(b)&&b!=f[c]&&(r[c]=b-f[c])}),u[v]=k?f:e;var D=d.Od,y=b.round(m*d.$Delay/d.$Interval);j[v]=new Array(y),j[v].Cd=y,j[v].zd=y+D-1;for(var F=0;F<=D;F++){var E=a.td(f,r,F/D,d.$Easing,d.$During,d.$Round,{$Move:d.$Move,$OriginalWidth:n,$OriginalHeight:l});E.$ZIndex=E.$ZIndex||1,j[v].push(E)}})}),o.reverse(),a.e(o,function(b){a.e(b,function(c){var f=c[0],e=c[1],d=f+","+e,b=i;(e||f)&&(b=a.O(i)),a.L(b,u[d]),a.ab(b,"hidden"),a.E(b,"absolute"),A.Zd(b),m[d]=b,a.A(b,!k)})})}function v(){var a=this,b=0;k.call(a,0,u),a.Gb=function(c,a){a-b>j&&(b=a,e&&e.Ob(a),h&&h.Ob(a))},a.nb=r}var u,h,e,r,f=this,x=0,w=t.$TransitionsOrder,j=8;f.Hd=function(){var a=0,c=t.$Transitions,d=c.length;return a=w?x++%d:b.floor(b.random()*d),c[a]&&(c[a].Z=a),c[a]},f.Dd=function(w,x,i,k,a){r=a,a=m(a,j);var g=k.id,d=i.id;g["no-image"]=!k.Tb,d["no-image"]=!i.Tb;var l=g,n=d,v=a,c=a.$Brother||m({},j);a.$SlideOut||(l=d,n=g);var t=c.$Shift||0;h=new p(o,n,c,b.max(t-c.$Interval,0),s,q),e=new p(o,l,v,b.max(c.$Interval-t,0),s,q),h.Ob(0),e.Ob(0),u=b.max(h.Mc,e.Mc),f.Z=w},f.Db=function(){o.Db(),h=i,e=i},f.Jd=function(){var a=i;return e&&(a=new v),a},(a.Q()||a.vc()||y&&a.oc()<537)&&(j=16),l.call(f),k.call(f,-1e7,1e7)};var f=h.$JssorSlider$=function(q,ec){function Dc(){var a=this;k.call(a,-1e8,2e8),a.Td=function(){var c=a.Eb(),d=b.floor(c),f=s(d),e=c-b.floor(c);return{Z:f,Md:d,xb:e}},a.Gb=function(d,a){var e=b.floor(a);e!=a&&a>d&&e++,Tb(e,c),n.i(f.$EVT_POSITION_CHANGE,s(a),s(d),a,d)}}function Cc(){var b=this;k.call(b,0,0,{ed:r}),a.e(D,function(a){1&A&&a.Fd(r),b.nc(a),a.$Shift(hb/ac)})}function Bc(){var a=this,b=Sb.$Elmt;k.call(a,-1,2,{$Easing:d.$EaseLinear,wc:{xb:Yb},ed:r},b,{xb:1},{xb:-2}),a.Nb=b}function pc(m,l){var d,e,h,j,b,a=this;k.call(a,-1e8,2e8,{md:100}),a.ld=function(){Q=c,U=i,n.i(f.$EVT_SWIPE_START,s(w.T()),w.T())},a.kd=function(){Q=g,j=g;var a=w.Td();n.i(f.$EVT_SWIPE_END,s(w.T()),w.T()),!a.xb&&Fc(a.Md,t)},a.Gb=function(g,f){var a;if(j)a=b;else if(a=e,h){var c=f/h;a=p.$SlideEasing(c)*(e-d)+d}w.v(a)},a.Qb=function(b,f,c,g){d=b,e=f,h=c,w.v(b),a.v(0),a.fd(c,g)},a.Nd=function(d){j=c,b=d,a.$Play(d,i,c)},a.Sd=function(a){b=a},w=new Dc,w.X(m),w.X(l)}function qc(){var c=this,b=Wb();a.H(b,0),a.cb(b,"pointerEvents","none"),c.$Elmt=b,c.Zd=function(c){a.D(b,c),a.A(b)},c.Db=function(){a.K(b),a.jc(b)}}function zc(o,e){function F(a){x&&x.Sb(),q&&q.Sb(),V(o,a),G=c,q=new L.$Class(o,L,1),x=new L.$Class(o,L),x.v(0),q.v(0)}function Y(){q.Zb<L.Zb&&F()}function O(o,r,m){if(!K&&(K=c,j&&m)){var h=m.width,b=m.height,l=h,k=b;if(h&&b&&p.$FillMode){if(3&p.$FillMode&&(!(4&p.$FillMode)||h>J||b>I)){var i=g,q=J/I*b/h;1&p.$FillMode?i=q>1:2&p.$FillMode&&(i=q<1),l=i?h*I/b:J,k=i?I:b*J/h}a.o(j,l),a.n(j,k),a.B(j,(I-k)/2),a.z(j,(J-l)/2)}a.E(j,"absolute"),n.i(f.$EVT_LOAD_END,e)}a.K(r),o&&o(d)}function X(b,c,f,g){if(g==U&&t==e&&R&&!Ec){var a=s(b);B.Dd(a,e,c,d,f),c.Xe(),ab.Jb(a,1),ab.v(a),z.Qb(b,b,0)}}function bb(b){if(b==U&&t==e){if(!h){var a=i;B&&(B.Z==e?a=B.Jd():B.Db()),Y(),h=new xc(o,e,a,d.Te(),d.Le()),h.Jc(m)}!h.$IsPlaying()&&h.zc()}}function T(f,c,g){if(f==e){f!=c?D[c]&&D[c].Ue():!g&&h&&h.Ye(),m&&m.$Enable();var j=U=a.J();d.Ab(a.F(i,bb,j))}else{var l=b.abs(e-f),k=u+p.$LazyLoading-1;(!Q||l<=k)&&d.Ab()}}function cb(){t==e&&h&&(h.W(),m&&m.$Quit(),m&&m.$Disable(),h.Oc())}function fb(){t==e&&h&&h.W()}function Z(a){!M&&n.i(f.$EVT_CLICK,e,a)}function P(){m=w.pInstance,h&&h.Jc(m)}function V(b,e,d){if(!a.M(b,"jssor-slider")){d=d||0,G||("IMG"==b.tagName&&(C.push(b),a.M(b,"src")||(Q=c,b["display-origin"]=a.N(b),a.K(b))),a.Q()&&a.H(b,(a.H(b)||0)+1),p.$HWA&&a.oc()&&(a.oc()<534||!eb&&!a.ee())&&a.ne(b));var f=a.V(b);a.e(f,function(f){var i=f.tagName,k=a.t(f,"u");if("player"!=k||w||(w=f,w.pInstance?P():a.c(w,"dataavailable",P)),"caption"==k){if(!a.Wc()&&!e){var h=a.O(f,g,c);a.Wb(h,f,b),a.wb(f,b),f=h,e=c}}else G||d||j||("A"==i?(j="image"==a.t(f,"u")?a.cf(f,"IMG"):a.C(f,"image",c),j&&(H=f,a.L(H,S),v=a.O(H,c),a.N(v,"block"),a.L(v,S),a.rb(v,0),a.cb(v,"backgroundColor","#000"))):"IMG"==i&&"image"==a.t(f,"u")&&(j=f),j&&(j.border=0,a.L(j,S)));V(f,e,d+1)})}}var q,x,N,y,j,H,v,W,K,Q,G,h,w,m,d=this,C=[];k.call(d,-u,u+1,{}),d.Ab=function(d,b){b=b||y,C.length&&!K?(a.A(b),W||(W=c,n.i(f.$EVT_LOAD_START,e),a.e(C,function(b){a.M(b,"src")||(b.src=a.t(b,"src2"),a.N(b,b["display-origin"]))})),a.bf(C,j,a.F(i,O,d,b))):O(d,b)},d.df=function(){var g=e;p.$AutoPlaySteps<0&&(g-=r);var c=g+p.$AutoPlaySteps*vc;if(2&A&&(c=s(c)),1&A||(c=b.max(0,b.min(c,r-u))),c!=e){if(B){var d=B.Hd(r);if(d){var h=U=a.J(),f=D[s(c)];return f.Ab(a.F(i,X,c,f,d,h),y)}}pb(c)}},d.bc=function(){T(e,e,c)},d.Ue=function(){m&&m.$Quit(),m&&m.$Disable(),d.rd(),h&&h.ff(),h=i,F()},d.Xe=function(){a.K(o)},d.rd=function(){a.A(o)},d.ef=function(){m&&m.$Enable()},d.rc=function(c,b){var a=u-b;Yb(N,a)},d.Te=function(){return q},d.Le=function(){return x},d.Z=e,l.call(d);var E=a.C(o,"thumb",c);E&&(d.hf=a.O(E),a.Kc(E,"id"),a.K(E)),a.A(o),y=a.O(db),a.H(y,1e3),a.c(o,"click",Z),F(c),d.Tb=j,d.qd=v,d.id=o,d.Nb=N=o,a.D(N,y),n.$On(203,T),n.$On(28,fb),n.$On(24,cb)}function xc(G,i,p,u,s){function x(){a.jc(O),cc&&j&&o.qd&&a.D(O,o.qd),a.A(O,!j&&o.Tb)}function y(){q&&(q=g,n.i(f.$EVT_ROLLBACK_END,i,d,l,h,d,e),b.v(h)),b.zc()}function z(a){r=a,b.W(),b.zc()}var m,h,d,e,j,q,v,r,b=this,l=0,w=0,o=D[i];k.call(b,0,0),b.zc=function(){var a=b.Eb();if(!C&&!Q&&!r&&t==i){a||(m&&!j&&(j=c,b.Oc(c),n.i(f.$EVT_SLIDESHOW_START,i,l,w,m,e)),x());var g,p=f.$EVT_STATE_CHANGE;a!=e&&(a==d?g=e:a==h?g=d:a?a>d?(q=c,g=d,p=f.$EVT_ROLLBACK_START):g=b.jd():g=h),n.i(p,i,a,l,h,d,e);var k=R&&(!E||F);a==e?(d!=e&&!(12&E)||k)&&o.df():(k||a!=d)&&b.fd(g,y)}},b.Ye=function(){d==e&&d==b.Eb()&&b.v(h)},b.ff=function(){B&&B.Z==i&&B.Db();var a=b.Eb();a<e&&n.i(f.$EVT_STATE_CHANGE,i,-a-1,l,h,d,e)},b.Oc=function(b){p&&a.ab(jb,b&&p.nb.$Outside?"":"hidden")},b.rc=function(b,a){j&&a>=m&&(j=g,x(),o.rd(),B.Db(),n.i(f.$EVT_SLIDESHOW_END,i,l,w,m,e)),n.i(f.$EVT_PROGRESS_CHANGE,i,a,l,h,d,e)},b.Jc=function(a){a&&!v&&(v=a,a.$On($JssorPlayer$.be,z))},p&&b.nc(p),m=b.Y(),b.Y(),b.nc(u),h=u.Y(),d=h+(a.ec(a.t(G,"idle"))||oc),s.$Shift(d),b.X(s),e=b.Y()}function Yb(g,f){var e=x>0?x:ib,c=Bb*f*(1&e),d=Cb*f*(e>>1&1);c=b.round(c),d=b.round(d),a.z(g,c),a.B(g,d)}function Ob(){rb=Q,Kb=z.jd(),G=w.T()}function fc(){Ob(),(C||!F&&12&E)&&(z.W(),n.i(f.de))}function dc(e){if(!C&&(F||!(12&E))&&!z.$IsPlaying()){var c=w.T(),a=b.ceil(G);e&&b.abs(H)>=p.$MinDragOffsetToSlide&&(a=b.ceil(c),a+=gb),1&A||(a=b.min(r-u,b.max(a,0)));var d=b.abs(a-c);d=1-b.pow(1-d,5),!M&&rb?z.Kd(Kb):c==a?(vb.ef(),vb.bc()):z.Qb(c,a,d*Ub)}}function Ib(b){!a.t(a.Ac(b),"nodrag")&&a.Fb(b)}function tc(a){Xb(a,1)}function Xb(b,d){b=a.Xc(b);var k=a.Ac(b);if(!K&&!a.t(k,"nodrag")&&uc()&&(!d||1==b.touches.length)){if(C=c,Ab=g,U=i,a.c(e,d?"touchmove":"mousemove",Db),a.J(),M=0,fc(),rb||(x=0),d){var j=b.touches[0];wb=j.clientX,xb=j.clientY}else{var h=a.Yc(b);wb=h.x,xb=h.y}H=0,cb=0,gb=0,n.i(f.$EVT_DRAG_START,s(G),G,b)}}function Db(e){if(C){e=a.Xc(e);var f;if("mousemove"!=e.type){var l=e.touches[0];f={x:l.clientX,y:l.clientY}}else f=a.Yc(e);if(f){var j=f.x-wb,k=f.y-xb;if(b.floor(G)!=G&&(x=x||ib&K),!j&&!k||x||(x=3==K?b.abs(k)>b.abs(j)?2:1:K,lb&&1==x&&b.abs(k)-b.abs(j)>3&&(Ab=c)),x){var d=k,i=Cb;if(1==x&&(d=j,i=Bb),!(1&A)){if(d>0){var g=i*t,h=d-g;h>0&&(d=g+5*b.sqrt(h))}if(d<0){var g=i*(r-u-t),h=-d-g;h>0&&(d=-g-5*b.sqrt(h))}}H-cb<-2?gb=0:H-cb>2&&(gb=-1),cb=H,H=d,ub=G-H/i/(Z||1),H&&x&&!Ab&&(a.Fb(e),Q?z.Sd(ub):z.Nd(ub))}}}}function ob(){if(rc(),C){C=g,a.J(),a.I(e,"mousemove",Db),a.I(e,"touchmove",Db),M=H,z.W();var b=w.T();n.i(f.$EVT_DRAG_END,s(b),b,s(G),G),12&E&&Ob(),dc(c)}}function jc(c){if(M){a.af(c);for(var b=a.Ac(c);b&&v!==b;){"A"==b.tagName&&a.Fb(c);try{b=b.parentNode}catch(d){break}}}}function nc(a){return D[t],t=s(a),vb=D[t],Tb(a),t}function Fc(a,b){x=0,nc(a),n.i(f.$EVT_PARK,s(a),b)}function Tb(b,c){N=b,a.e(P,function(a){a.qc(s(b),b,c)})}function uc(){var b=f.pd||0,a=Y;return lb&&1&a&&(a&=1),f.pd|=a,K=a&~b}function rc(){K&&(f.pd&=~Y,K=0)}function Wb(){var b=a.bb();return a.L(b,S),a.E(b,"absolute"),b}function s(a){return(a%r+r)%r}function kc(d,c){var a=d;c?A?2&A&&(a=s(a+N),c=g):(a=b.min(b.max(a+N,0),r-u),c=g):A&&(a=n.od(a)),pb(a,p.$SlideDuration,c)}function zb(){a.e(P,function(a){a.Bc(a.Xb.$ChanceToShow<=F)})}function hc(){F||(F=1,zb(),C||(12&E&&dc(),3&E&&D[t].bc()))}function gc(){F&&(F=0,zb(),C||!(12&E)||fc())}function ic(){S={db:J,eb:I,$Top:0,$Left:0},a.e(V,function(b){a.L(b,S),a.E(b,"absolute"),a.ab(b,"hidden"),a.K(b)}),a.L(db,S)}function nb(b,a){pb(b,a,c)}function pb(f,e,k){if(Qb&&(!C&&(F||!(12&E))||p.$NaviQuitDrag)){Q=c,C=g,z.W(),e==j&&(e=Ub);var d=Eb.Eb(),a=f;k&&(a=d+f,a=f>0?b.ceil(a):b.floor(a)),2&A&&(a=s(a)),1&A||(a=b.max(0,b.min(a,r-u)));var i=(a-d)%r;a=d+i;var h=d==a?0:e*b.abs(i);h=b.min(h,e*u*1.5),z.Qb(d,a,h||1)}}function X(){return a.o(y||q)}function kb(){return a.n(y||q)}function Gb(c,d){if(c==j)return a.o(q);if(!y){var b=a.bb(e);a.Ec(b,a.Ec(q)),a.Vb(b,a.Vb(q)),a.N(b,"block"),a.E(b,"relative"),a.B(b,0),a.z(b,0),a.ab(b,"visible"),y=a.bb(e),a.E(y,"absolute"),a.B(y,0),a.z(y,0),a.o(y,a.o(q)),a.n(y,a.n(q)),a.le(y,"0 0"),a.D(y,b);var h=a.V(q);a.D(q,y),a.cb(q,"backgroundImage",""),a.e(h,function(c){a.D(a.t(c,"noscale")?q:b,c)})}Z=c/(d?a.n:a.o)(y),a.oe(y,Z);var g=d?Z*X():c,f=d?c:Z*kb();a.o(q,g),a.n(q,f),a.e(P,function(a){a.hc(g,f)})}var n=this;n.$PlayTo=pb,n.$GoTo=function(a){w.v(a)},n.$Next=function(){nb(1)},n.$Prev=function(){nb(-1)},n.$Pause=function(){R=g},n.$Play=function(){R||(R=c,D[t]&&D[t].bc())},n.$SetSlideshowTransitions=function(a){p.$SlideshowOptions.$Transitions=a},n.$SetCaptionTransitions=function(b){L.$CaptionTransitions=b,L.Zb=a.J()},n.$SlidesCount=function(){return V.length},n.$CurrentIndex=function(){return t},n.$IsAutoPlaying=function(){
return R},n.$IsDragging=function(){return C},n.$IsSliding=function(){return Q},n.$IsMouseOver=function(){return!F},n.$LastDragSucceded=function(){return M},n.$OriginalWidth=n.$GetOriginalWidth=X,n.$OriginalHeight=n.$GetOriginalHeight=kb,n.$ScaleHeight=n.$GetScaleHeight=function(b){return b==j?a.n(q):void Gb(b,c)},n.$ScaleWidth=n.$SetScaleWidth=n.$GetScaleWidth=Gb,n.od=function(a){var d=b.ceil(s(hb/ac)),c=s(a-N+d);return c>u?a-N>r/2?a-=r:a-N<=-r/2&&(a+=r):a=N+c-d,a},l.call(n),n.$Elmt=q=a.hb(q);var p=a.l({$FillMode:0,$LazyLoading:1,$StartIndex:0,$AutoPlay:g,$Loop:1,$HWA:c,$NaviQuitDrag:c,$AutoPlaySteps:1,$AutoPlayInterval:3e3,$PauseOnHover:1,$SlideDuration:500,$SlideEasing:d.$EaseOutQuad,$MinDragOffsetToSlide:20,$SlideSpacing:0,$DisplayPieces:1,$ParkingPosition:0,$UISearchMode:1,$PlayOrientation:1,$DragOrientation:1},ec);p.$Idle!=j&&(p.$AutoPlayInterval=p.$Idle),p.$Cols!=j&&(p.$DisplayPieces=p.$Cols);var y,S,ib=3&p.$PlayOrientation,vc=(4&p.$PlayOrientation)/-4||1,fb=p.$SlideshowOptions,L=a.l({$Class:o,$PlayInMode:1,$PlayOutMode:1},p.$CaptionSliderOptions),sb=p.$BulletNavigatorOptions,W=p.$ArrowNavigatorOptions,bb=p.$ThumbnailNavigatorOptions,T=!p.$UISearchMode,v=a.C(q,"slides",T),db=a.C(q,"loading",T)||a.bb(e),Jb=a.C(q,"navigator",T),bc=a.C(q,"arrowleft",T),Zb=a.C(q,"arrowright",T),Hb=a.C(q,"thumbnavigator",T),mc=a.o(v),lc=a.n(v),V=[],wc=a.V(v);a.e(wc,function(b){"DIV"!=b.tagName||a.t(b,"u")?a.Q()&&a.H(b,(a.H(b)||0)+1):V.push(b)});var N,vb,jb,x,K,Ab,Pb,Rb,Nb,cc,Ec,R,tb,eb,hb,Y,M,Q,C,U,H,cb,gb,Eb,w,ab,z,Z,t=-1,r=V.length,J=p.$SlideWidth||mc,I=p.$SlideHeight||lc,Vb=p.$SlideSpacing,Bb=J+Vb,Cb=I+Vb,ac=1&ib?Bb:Cb,u=b.min(p.$DisplayPieces,r),P=[],E=p.$PauseOnHover,oc=p.$AutoPlayInterval,Ub=p.$SlideDuration,Qb=u<r,A=Qb?p.$Loop:0,F=1,wb=0,xb=0,Sb=new qc;R=p.$AutoPlay,n.Xb=ec,ic(),a.M(q,"jssor-slider",c),a.H(v,a.H(v)||0),a.E(v,"absolute"),jb=a.O(v,c),a.Wb(jb,v),fb&&(cc=fb.$ShowLink,tb=fb.$Class,eb=1==u&&r>1&&tb&&(!a.Wc()||a.Sc()>=8)),hb=eb||u>=r||!(1&A)?0:p.$ParkingPosition,Y=(u>1||hb?ib:-1)&p.$DragOrientation;var B,O,G,rb,Kb,ub,yb=v,D=[],Fb=a.he(),lb=Fb.ie;Fb.dd&&a.cb(yb,Fb.dd,[i,"pan-y","pan-x","none"][Y]||""),ab=new Bc,eb&&(B=new tb(Sb,J,I,fb,lb)),a.D(jb,ab.Nb),a.ab(v,"hidden"),O=Wb(),a.cb(O,"backgroundColor","#000"),a.rb(O,0),a.Wb(O,yb.firstChild,yb);for(var qb=0;qb<V.length;qb++){var yc=V[qb],Ac=new zc(yc,qb);D.push(Ac)}a.K(db),Eb=new Cc,z=new pc(Eb,ab),Y&&(a.c(v,"mousedown",Xb),a.c(v,"touchstart",tc),a.c(v,"dragstart",Ib),a.c(v,"selectstart",Ib),a.c(e,"mouseup",ob),a.c(e,"touchend",ob),a.c(e,"touchcancel",ob),a.c(h,"blur",ob)),E&=lb?10:5,Jb&&sb&&(Pb=new sb.$Class(Jb,sb,X(),kb()),P.push(Pb)),W&&bc&&Zb&&(W.$Loop=A,W.$DisplayPieces=u,Rb=new W.$Class(bc,Zb,W,X(),kb()),P.push(Rb)),Hb&&bb&&(bb.$StartIndex=p.$StartIndex,Nb=new bb.$Class(Hb,bb),P.push(Nb)),a.e(P,function(a){a.gc(r,D,db),a.$On(m.Mb,kc)}),Gb(X()),a.c(v,"click",jc),a.c(q,"mouseout",a.Rb(hc,q)),a.c(q,"mouseover",a.Rb(gc,q)),zb(),p.$ArrowKeyNavigation&&a.c(e,"keydown",function(a){37==a.keyCode?nb(-1):39==a.keyCode&&nb(1)});var mb=p.$StartIndex;1&A||(mb=b.max(0,b.min(mb,r-u))),z.Qb(mb,mb,0)};h.$JssorSlideo$=f,f.$EVT_CLICK=21,f.$EVT_DRAG_START=22,f.$EVT_DRAG_END=23,f.$EVT_SWIPE_START=24,f.$EVT_SWIPE_END=25,f.$EVT_LOAD_START=26,f.$EVT_LOAD_END=27,f.de=28,f.$EVT_POSITION_CHANGE=202,f.$EVT_PARK=203,f.$EVT_SLIDESHOW_START=206,f.$EVT_SLIDESHOW_END=207,f.$EVT_PROGRESS_CHANGE=208,f.$EVT_STATE_CHANGE=209,f.$EVT_ROLLBACK_START=210,f.$EVT_ROLLBACK_END=211;var m={Mb:1};h.$JssorBulletNavigator$=function(d,D){function x(a){a!=-1&&A[a].Ic(a==n)}function v(a){f.i(m.Mb,a*o)}var f=this;l.call(f),d=a.hb(d);var t,u,s,r,e,o,k,y,z,j,h,q,p,n=0,C=[],A=[];f.$Elmt=d,f.qc=function(a){if(a!=r){var d=n,c=b.floor(a/o);n=c,r=a,x(d),x(c)}},f.Bc=function(b){a.A(d,b)};var B;f.hc=function(f,b){if(!B||e.$Scale==g){var f=a.tb(d).clientWidth,b=a.tb(d).clientHeight;1&e.$AutoCenter&&a.z(d,(f-u)/2),2&e.$AutoCenter&&a.B(d,(b-s)/2),B=c}};var w;f.gc=function(D){if(!w){t=b.ceil(D/o),n=0;var m=q+y,r=p+z,l=b.ceil(t/k)-1;u=q+m*(j?k-1:l),s=p+r*(j?l:k-1),a.o(d,u),a.n(d,s);for(var f=0;f<t;f++){var B=a.Qe();a.gf(B,f+1);var g=a.Dc(h,"numbertemplate",B,c);a.E(g,"absolute");var x=f%(l+1);a.z(g,j?f%k*m:m*x),a.B(g,j?r*x:b.floor(f/(l+1))*r),a.D(d,g),C[f]=g,1&e.$ActionMode&&a.c(g,"click",a.F(i,v,f)),2&e.$ActionMode&&a.c(g,"mouseover",a.Rb(a.F(i,v,f),g)),A[f]=a.Ub(g)}w=c}},f.Xb=e=a.l({$SpacingX:0,$SpacingY:0,$Orientation:1,$ActionMode:1},D),h=a.C(d,"prototype"),q=a.o(h),p=a.n(h),a.wb(h,d),o=e.$Steps||1,k=e.$Lanes||1,y=e.$SpacingX,z=e.$SpacingY,j=e.$Orientation-1,e.$Scale==g&&a.M(d,"noscale",c)},h.$JssorArrowNavigator$=function(b,f,j){function n(a){d.i(m.Mb,a,c)}function r(c){a.A(b,c||!j.$Loop&&0==e),a.A(f,c||!j.$Loop&&e>=t-j.$DisplayPieces),u=c}var d=this;l.call(d);var u,t,e,h,k,q=a.o(b),o=a.n(b);d.qc=function(b,a,c){c?e=a:(e=b,r(u))},d.Bc=r;var s;d.hc=function(i,d){if(!s||h.$Scale==g){var e=a.tb(b).clientWidth,d=a.tb(b).clientHeight;1&h.$AutoCenter&&(a.z(b,(e-q)/2),a.z(f,(e-q)/2)),2&h.$AutoCenter&&(a.B(b,(d-o)/2),a.B(f,(d-o)/2)),s=c}};var p;d.gc=function(d){t=d,e=0,p||(a.c(b,"click",a.F(i,n,-k)),a.c(f,"click",a.F(i,n,k)),a.Ub(b),a.Ub(f),p=c)},d.Xb=h=a.l({$Steps:1},j),k=h.$Steps,h.$Scale==g&&(a.M(b,"noscale",c),a.M(f,"noscale",c))},h.$JssorThumbnailNavigator$=function(k,C){function B(l,e){function n(){k.Ic(q==e)}function g(a){(a||!v.$LastDragSucceded())&&h.i(m.Mb,e)}var b,k,j,f=this;f.Z=e,f.Hc=n,j=l.hf||l.Tb||a.bb(),f.Nb=b=a.Dc(o,"thumbnailtemplate",j,c),k=a.Ub(b),1&d.$ActionMode&&a.c(b,"click",a.F(i,g,0)),2&d.$ActionMode&&a.c(b,"mouseover",a.Rb(a.F(i,g,1),b))}var z,q,d,A,y,n,r,s,u,t,p,v,e,o,h=this,w=[];l.call(h),k=a.hb(k),h.qc=function(c,d,e){var a=q;q=c,a!=-1&&w[a].Hc(),w[c].Hc(),!e&&v.$PlayTo(v.od(b.floor(d/n)))},h.Bc=function(b){a.A(k,b)},h.hc=a.ac;var x;h.gc=function(F,C){if(!x){z=F,b.ceil(z/n),q=-1,p=b.min(p,C.length);var h=1&d.$Orientation,l=u+(u+r)*(n-1)*(1-h),j=t+(t+s)*(n-1)*h,o=l+(l+r)*(p-1)*h,m=j+(j+s)*(p-1)*(1-h);a.E(e,"absolute"),a.ab(e,"hidden"),1&d.$AutoCenter&&a.z(e,(A-o)/2),2&d.$AutoCenter&&a.B(e,(y-m)/2),a.o(e,o),a.n(e,m);var i=[];a.e(C,function(k,f){var g=new B(k,f),d=g.Nb,c=b.floor(f/n),j=f%n;a.z(d,(u+r)*j*(1-h)),a.B(d,(t+s)*j*h),i[c]||(i[c]=a.bb(),a.D(e,i[c])),a.D(i[c],d),w.push(g)});var E=a.l({$HWA:g,$AutoPlay:g,$NaviQuitDrag:g,$SlideWidth:l,$SlideHeight:j,$SlideSpacing:r*h+s*(1-h),$MinDragOffsetToSlide:12,$SlideDuration:200,$PauseOnHover:1,$PlayOrientation:d.$Orientation,$DragOrientation:d.$DisableDrag?0:d.$Orientation},d);v=new f(k,E),x=c}},h.Xb=d=a.l({$SpacingX:3,$SpacingY:3,$DisplayPieces:1,$Orientation:1,$AutoCenter:3,$ActionMode:1},C),d.$Rows!=j&&(d.$Lanes=d.$Rows),A=a.o(k),y=a.n(k),e=a.C(k,"slides",c),o=a.C(e,"prototype"),u=a.o(o),t=a.n(o),a.wb(o,e),n=d.$Lanes||1,r=d.$SpacingX,s=d.$SpacingY,p=d.$DisplayPieces,d.$Scale==g&&a.M(k,"noscale",c)},h.$JssorCaptionSlider$=function(p,h,f){function l(r,m){function h(c,d){var b={};return a.e(o,function(g,h){var e=a.t(c,g+(d||""));if(e){var f={};"t"==g?f.ob=e:e.indexOf("%")+1?f.ze=a.ec(e)/100:f.ob=a.ec(e),b[h]=f}}),b}function p(){return e[b.floor(b.random()*e.length)]}function g(f){var h;if("*"==f)h=p();else if(f){var d=e[a.Me(f)]||e[f];a.mc(d)&&(f!=i?(i=f,c[f]=0,j[f]=d[b.floor(b.random()*d.length)]):c[f]++,d=j[f],a.mc(d)&&(d=d.length&&d[c[f]%d.length],a.mc(d)&&(d=d[b.floor(b.random()*d.length)]))),h=d,a.cd(h)&&(h=g(h))}return h}var i,k=[],j=[],c=[],q=a.V(r);return a.e(q,function(b){var c=[];c.$Elmt=b;var e="caption"==a.t(b,"u");a.e(f?[0,3]:[2],function(k,o){if(e){var j,f;if(2==k&&a.t(b,"t3")||(f=h(b,k),2!=k||f.nb||(f.$Delay=f.$Delay||{ob:0},f=a.l(h(b,0),f))),f&&f.nb&&(j=g(f.nb.ob))){var i=a.l({$Delay:0},j);a.e(f,function(c,a){var b=(d[a]||d.Cb).apply(d,[i[a],f[a]]);isNaN(b)||(i[a]=b)}),o||(f.lb?i.lb=f.lb.ob||0:2&n&&(i.lb=0))}c.push(i)}m%2&&!o&&(c.V=l(b,m+1))}),k.push(c)}),k}function m(w,c,z){var g={$Easing:c.$Easing,$Round:c.$Round,$During:c.$During,$Reverse:f&&!z},m=w,r=a.tb(w),l=a.o(m),j=a.n(m),y=a.o(r),x=a.n(r),h={},e={},i=c.$ScaleClip||1;if(c.$Opacity&&(e.$Opacity=1-c.$Opacity),g.$OriginalWidth=l,g.$OriginalHeight=j,c.$Zoom||c.$Rotate){e.$Zoom=(c.$Zoom||2)-2,(a.Q()||a.vc())&&(e.$Zoom=b.min(e.$Zoom,1)),h.$Zoom=1;var B=c.$Rotate||0;e.$Rotate=360*B,h.$Rotate=0}else if(c.$Clip){var s={$Top:0,$Right:l,$Bottom:j,$Left:0},v=a.l({},s),d=v.Bb={},u=4&c.$Clip,p=8&c.$Clip,t=1&c.$Clip,q=2&c.$Clip;u&&p?(d.$Top=j/2*i,d.$Bottom=-d.$Top):u?d.$Bottom=-j*i:p&&(d.$Top=j*i),t&&q?(d.$Left=l/2*i,d.$Right=-d.$Left):t?d.$Right=-l*i:q&&(d.$Left=l*i),g.$Move=c.$Move,e.$Clip=v,h.$Clip=s}var n=0,o=0;c.x&&(n-=y*c.x),c.y&&(o-=x*c.y),(n||o||g.$Move)&&(e.$Left=n,e.$Top=o);var A=c.$Duration;return h=a.l(h,a.Vd(m,e)),g.wc=a.Wd(),new k(c.$Delay,A,g,m,h,e)}function i(b,d){return a.e(d,function(a){var e,h=a.$Elmt,d=a[0],k=a[1];if(d&&(e=m(h,d),b=e.Jb(d.lb==j?b:d.lb,1)),b=i(b,a.V),k){var f=m(h,k,1);f.Jb(b,1),c.X(f),g.X(f)}e&&c.X(e)}),b}var g,c=this,n=f?h.$PlayInMode:h.$PlayOutMode,e=h.$CaptionTransitions,o={nb:"t",$Delay:"d",$Duration:"du",x:"x",y:"y",$Rotate:"r",$Zoom:"z",$Opacity:"f",lb:"b"},d={Cb:function(b,a){return isNaN(a.ob)?b*=a.ze:b=a.ob,b},$Opacity:function(b,a){return this.Cb(b-1,a)}};d.$Zoom=d.$Opacity,k.call(c,0,0),c.Sb=function(){c.v(c.Y()*(f||0)),g.v(0)},g=new k(0,0),i(0,n?l(p,1):[])}}(window,document,Math,null,!0,!1),function(){function baseCompareAscending(value,other){if(value!==other){var valIsNull=null===value,valIsUndef=value===undefined,valIsReflexive=value===value,othIsNull=null===other,othIsUndef=other===undefined,othIsReflexive=other===other;if(value>other&&!othIsNull||!valIsReflexive||valIsNull&&!othIsUndef&&othIsReflexive||valIsUndef&&othIsReflexive)return 1;if(value<other&&!valIsNull||!othIsReflexive||othIsNull&&!valIsUndef&&valIsReflexive||othIsUndef&&valIsReflexive)return-1}return 0}function baseFindIndex(array,predicate,fromRight){for(var length=array.length,index=fromRight?length:-1;fromRight?index--:++index<length;)if(predicate(array[index],index,array))return index;return-1}function baseIndexOf(array,value,fromIndex){if(value!==value)return indexOfNaN(array,fromIndex);for(var index=fromIndex-1,length=array.length;++index<length;)if(array[index]===value)return index;return-1}function baseIsFunction(value){return"function"==typeof value||!1}function baseToString(value){return"string"==typeof value?value:null==value?"":value+""}function charsLeftIndex(string,chars){for(var index=-1,length=string.length;++index<length&&chars.indexOf(string.charAt(index))>-1;);return index}function charsRightIndex(string,chars){for(var index=string.length;index--&&chars.indexOf(string.charAt(index))>-1;);return index}function compareAscending(object,other){return baseCompareAscending(object.criteria,other.criteria)||object.index-other.index}function compareMultiple(object,other,orders){for(var index=-1,objCriteria=object.criteria,othCriteria=other.criteria,length=objCriteria.length,ordersLength=orders.length;++index<length;){var result=baseCompareAscending(objCriteria[index],othCriteria[index]);if(result)return index>=ordersLength?result:result*(orders[index]?1:-1)}return object.index-other.index}function deburrLetter(letter){return deburredLetters[letter]}function escapeHtmlChar(chr){return htmlEscapes[chr]}function escapeStringChar(chr){return"\\"+stringEscapes[chr]}function indexOfNaN(array,fromIndex,fromRight){for(var length=array.length,index=fromIndex+(fromRight?0:-1);fromRight?index--:++index<length;){var other=array[index];if(other!==other)return index}return-1}function isObjectLike(value){return!!value&&"object"==typeof value}function isSpace(charCode){return charCode<=160&&charCode>=9&&charCode<=13||32==charCode||160==charCode||5760==charCode||6158==charCode||charCode>=8192&&(charCode<=8202||8232==charCode||8233==charCode||8239==charCode||8287==charCode||12288==charCode||65279==charCode)}function replaceHolders(array,placeholder){for(var index=-1,length=array.length,resIndex=-1,result=[];++index<length;)array[index]===placeholder&&(array[index]=PLACEHOLDER,result[++resIndex]=index);return result}function sortedUniq(array,iteratee){for(var seen,index=-1,length=array.length,resIndex=-1,result=[];++index<length;){var value=array[index],computed=iteratee?iteratee(value,index,array):value;index&&seen===computed||(seen=computed,result[++resIndex]=value)}return result}function trimmedLeftIndex(string){for(var index=-1,length=string.length;++index<length&&isSpace(string.charCodeAt(index)););return index}function trimmedRightIndex(string){for(var index=string.length;index--&&isSpace(string.charCodeAt(index)););return index}function unescapeHtmlChar(chr){return htmlUnescapes[chr]}function runInContext(context){function lodash(value){if(isObjectLike(value)&&!isArray(value)&&!(value instanceof LazyWrapper)){if(value instanceof LodashWrapper)return value;if(hasOwnProperty.call(value,"__chain__")&&hasOwnProperty.call(value,"__wrapped__"))return wrapperClone(value)}return new LodashWrapper(value)}function baseLodash(){}function LodashWrapper(value,chainAll,actions){this.__wrapped__=value,this.__actions__=actions||[],this.__chain__=!!chainAll}function LazyWrapper(value){this.__wrapped__=value,this.__actions__=null,this.__dir__=1,this.__dropCount__=0,this.__filtered__=!1,this.__iteratees__=null,this.__takeCount__=POSITIVE_INFINITY,this.__views__=null}function lazyClone(){var actions=this.__actions__,iteratees=this.__iteratees__,views=this.__views__,result=new LazyWrapper(this.__wrapped__);return result.__actions__=actions?arrayCopy(actions):null,result.__dir__=this.__dir__,result.__filtered__=this.__filtered__,result.__iteratees__=iteratees?arrayCopy(iteratees):null,result.__takeCount__=this.__takeCount__,result.__views__=views?arrayCopy(views):null,result}function lazyReverse(){if(this.__filtered__){var result=new LazyWrapper(this);result.__dir__=-1,result.__filtered__=!0}else result=this.clone(),result.__dir__*=-1;return result}function lazyValue(){var array=this.__wrapped__.value();if(!isArray(array))return baseWrapperValue(array,this.__actions__);var dir=this.__dir__,isRight=dir<0,view=getView(0,array.length,this.__views__),start=view.start,end=view.end,length=end-start,index=isRight?end:start-1,takeCount=nativeMin(length,this.__takeCount__),iteratees=this.__iteratees__,iterLength=iteratees?iteratees.length:0,resIndex=0,result=[];outer:for(;length--&&resIndex<takeCount;){index+=dir;for(var iterIndex=-1,value=array[index];++iterIndex<iterLength;){var data=iteratees[iterIndex],iteratee=data.iteratee,type=data.type;if(type==LAZY_DROP_WHILE_FLAG){if(data.done&&(isRight?index>data.index:index<data.index)&&(data.count=0,data.done=!1),data.index=index,!data.done){var limit=data.limit;if(!(data.done=limit>-1?data.count++>=limit:!iteratee(value)))continue outer}}else{var computed=iteratee(value);if(type==LAZY_MAP_FLAG)value=computed;else if(!computed){if(type==LAZY_FILTER_FLAG)continue outer;break outer}}}result[resIndex++]=value}return result}function MapCache(){this.__data__={}}function mapDelete(key){return this.has(key)&&delete this.__data__[key]}function mapGet(key){return"__proto__"==key?undefined:this.__data__[key]}function mapHas(key){return"__proto__"!=key&&hasOwnProperty.call(this.__data__,key)}function mapSet(key,value){return"__proto__"!=key&&(this.__data__[key]=value),this}function SetCache(values){var length=values?values.length:0;for(this.data={hash:nativeCreate(null),set:new Set};length--;)this.push(values[length])}function cacheIndexOf(cache,value){var data=cache.data,result="string"==typeof value||isObject(value)?data.set.has(value):data.hash[value];return result?0:-1}function cachePush(value){var data=this.data;"string"==typeof value||isObject(value)?data.set.add(value):data.hash[value]=!0}function arrayCopy(source,array){var index=-1,length=source.length;for(array||(array=Array(length));++index<length;)array[index]=source[index];return array}function arrayEach(array,iteratee){for(var index=-1,length=array.length;++index<length&&iteratee(array[index],index,array)!==!1;);return array}function arrayEachRight(array,iteratee){for(var length=array.length;length--&&iteratee(array[length],length,array)!==!1;);return array}function arrayEvery(array,predicate){for(var index=-1,length=array.length;++index<length;)if(!predicate(array[index],index,array))return!1;return!0}function arrayExtremum(array,iteratee,comparator,exValue){for(var index=-1,length=array.length,computed=exValue,result=computed;++index<length;){var value=array[index],current=+iteratee(value);comparator(current,computed)&&(computed=current,result=value)}return result}function arrayFilter(array,predicate){for(var index=-1,length=array.length,resIndex=-1,result=[];++index<length;){var value=array[index];predicate(value,index,array)&&(result[++resIndex]=value)}return result}function arrayMap(array,iteratee){for(var index=-1,length=array.length,result=Array(length);++index<length;)result[index]=iteratee(array[index],index,array);return result}function arrayReduce(array,iteratee,accumulator,initFromArray){var index=-1,length=array.length;for(initFromArray&&length&&(accumulator=array[++index]);++index<length;)accumulator=iteratee(accumulator,array[index],index,array);return accumulator}function arrayReduceRight(array,iteratee,accumulator,initFromArray){var length=array.length;for(initFromArray&&length&&(accumulator=array[--length]);length--;)accumulator=iteratee(accumulator,array[length],length,array);return accumulator}function arraySome(array,predicate){for(var index=-1,length=array.length;++index<length;)if(predicate(array[index],index,array))return!0;return!1}function arraySum(array){for(var length=array.length,result=0;length--;)result+=+array[length]||0;return result}function assignDefaults(objectValue,sourceValue){return objectValue===undefined?sourceValue:objectValue}function assignOwnDefaults(objectValue,sourceValue,key,object){return objectValue!==undefined&&hasOwnProperty.call(object,key)?objectValue:sourceValue}function assignWith(object,source,customizer){for(var index=-1,props=keys(source),length=props.length;++index<length;){var key=props[index],value=object[key],result=customizer(value,source[key],key,object,source);(result===result?result===value:value!==value)&&(value!==undefined||key in object)||(object[key]=result)}return object}function baseAssign(object,source){return null==source?object:baseCopy(source,keys(source),object)}function baseAt(collection,props){for(var index=-1,isNil=null==collection,isArr=!isNil&&isArrayLike(collection),length=isArr?collection.length:0,propsLength=props.length,result=Array(propsLength);++index<propsLength;){var key=props[index];isArr?result[index]=isIndex(key,length)?collection[key]:undefined:result[index]=isNil?undefined:collection[key]}return result}function baseCopy(source,props,object){object||(object={});for(var index=-1,length=props.length;++index<length;){var key=props[index];object[key]=source[key]}return object}function baseCallback(func,thisArg,argCount){var type=typeof func;return"function"==type?thisArg===undefined?func:bindCallback(func,thisArg,argCount):null==func?identity:"object"==type?baseMatches(func):thisArg===undefined?property(func):baseMatchesProperty(func,thisArg)}function baseClone(value,isDeep,customizer,key,object,stackA,stackB){var result;if(customizer&&(result=object?customizer(value,key,object):customizer(value)),result!==undefined)return result;if(!isObject(value))return value;var isArr=isArray(value);if(isArr){if(result=initCloneArray(value),!isDeep)return arrayCopy(value,result)}else{var tag=objToString.call(value),isFunc=tag==funcTag;if(tag!=objectTag&&tag!=argsTag&&(!isFunc||object))return cloneableTags[tag]?initCloneByTag(value,tag,isDeep):object?value:{};if(result=initCloneObject(isFunc?{}:value),!isDeep)return baseAssign(result,value)}stackA||(stackA=[]),stackB||(stackB=[]);for(var length=stackA.length;length--;)if(stackA[length]==value)return stackB[length];return stackA.push(value),stackB.push(result),(isArr?arrayEach:baseForOwn)(value,function(subValue,key){result[key]=baseClone(subValue,isDeep,customizer,key,value,stackA,stackB)}),result}function baseDelay(func,wait,args){if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);return setTimeout(function(){func.apply(undefined,args)},wait)}function baseDifference(array,values){var length=array?array.length:0,result=[];if(!length)return result;var index=-1,indexOf=getIndexOf(),isCommon=indexOf==baseIndexOf,cache=isCommon&&values.length>=200?createCache(values):null,valuesLength=values.length;cache&&(indexOf=cacheIndexOf,isCommon=!1,values=cache);outer:for(;++index<length;){var value=array[index];if(isCommon&&value===value){for(var valuesIndex=valuesLength;valuesIndex--;)if(values[valuesIndex]===value)continue outer;result.push(value)}else indexOf(values,value,0)<0&&result.push(value)}return result}function baseEvery(collection,predicate){var result=!0;return baseEach(collection,function(value,index,collection){return result=!!predicate(value,index,collection)}),result}function baseExtremum(collection,iteratee,comparator,exValue){var computed=exValue,result=computed;return baseEach(collection,function(value,index,collection){var current=+iteratee(value,index,collection);(comparator(current,computed)||current===exValue&&current===result)&&(computed=current,result=value)}),result}function baseFill(array,value,start,end){var length=array.length;for(start=null==start?0:+start||0,start<0&&(start=-start>length?0:length+start),end=end===undefined||end>length?length:+end||0,end<0&&(end+=length),length=start>end?0:end>>>0,start>>>=0;start<length;)array[start++]=value;return array}function baseFilter(collection,predicate){var result=[];return baseEach(collection,function(value,index,collection){predicate(value,index,collection)&&result.push(value)}),result}function baseFind(collection,predicate,eachFunc,retKey){var result;return eachFunc(collection,function(value,key,collection){if(predicate(value,key,collection))return result=retKey?key:value,!1}),result}function baseFlatten(array,isDeep,isStrict){for(var index=-1,length=array.length,resIndex=-1,result=[];++index<length;){var value=array[index];if(isObjectLike(value)&&isArrayLike(value)&&(isStrict||isArray(value)||isArguments(value))){isDeep&&(value=baseFlatten(value,isDeep,isStrict));for(var valIndex=-1,valLength=value.length;++valIndex<valLength;)result[++resIndex]=value[valIndex]}else isStrict||(result[++resIndex]=value)}return result}function baseForIn(object,iteratee){return baseFor(object,iteratee,keysIn)}function baseForOwn(object,iteratee){return baseFor(object,iteratee,keys)}function baseForOwnRight(object,iteratee){return baseForRight(object,iteratee,keys)}function baseFunctions(object,props){for(var index=-1,length=props.length,resIndex=-1,result=[];++index<length;){var key=props[index];isFunction(object[key])&&(result[++resIndex]=key)}return result}function baseGet(object,path,pathKey){if(null!=object){pathKey!==undefined&&pathKey in toObject(object)&&(path=[pathKey]);for(var index=0,length=path.length;null!=object&&index<length;)object=object[path[index++]];return index&&index==length?object:undefined}}function baseIsEqual(value,other,customizer,isLoose,stackA,stackB){return value===other||(null==value||null==other||!isObject(value)&&!isObjectLike(other)?value!==value&&other!==other:baseIsEqualDeep(value,other,baseIsEqual,customizer,isLoose,stackA,stackB))}function baseIsEqualDeep(object,other,equalFunc,customizer,isLoose,stackA,stackB){var objIsArr=isArray(object),othIsArr=isArray(other),objTag=arrayTag,othTag=arrayTag;objIsArr||(objTag=objToString.call(object),objTag==argsTag?objTag=objectTag:objTag!=objectTag&&(objIsArr=isTypedArray(object))),othIsArr||(othTag=objToString.call(other),othTag==argsTag?othTag=objectTag:othTag!=objectTag&&(othIsArr=isTypedArray(other)));var objIsObj=objTag==objectTag,othIsObj=othTag==objectTag,isSameTag=objTag==othTag;if(isSameTag&&!objIsArr&&!objIsObj)return equalByTag(object,other,objTag);if(!isLoose){var objIsWrapped=objIsObj&&hasOwnProperty.call(object,"__wrapped__"),othIsWrapped=othIsObj&&hasOwnProperty.call(other,"__wrapped__");if(objIsWrapped||othIsWrapped)return equalFunc(objIsWrapped?object.value():object,othIsWrapped?other.value():other,customizer,isLoose,stackA,stackB)}if(!isSameTag)return!1;stackA||(stackA=[]),stackB||(stackB=[]);for(var length=stackA.length;length--;)if(stackA[length]==object)return stackB[length]==other;stackA.push(object),stackB.push(other);var result=(objIsArr?equalArrays:equalObjects)(object,other,equalFunc,customizer,isLoose,stackA,stackB);return stackA.pop(),stackB.pop(),result}function baseIsMatch(object,matchData,customizer){var index=matchData.length,length=index,noCustomizer=!customizer;if(null==object)return!length;for(object=toObject(object);index--;){var data=matchData[index];if(noCustomizer&&data[2]?data[1]!==object[data[0]]:!(data[0]in object))return!1}for(;++index<length;){data=matchData[index];var key=data[0],objValue=object[key],srcValue=data[1];if(noCustomizer&&data[2]){if(objValue===undefined&&!(key in object))return!1}else{var result=customizer?customizer(objValue,srcValue,key):undefined;if(!(result===undefined?baseIsEqual(srcValue,objValue,customizer,!0):result))return!1}}return!0}function baseMap(collection,iteratee){var index=-1,result=isArrayLike(collection)?Array(collection.length):[];return baseEach(collection,function(value,key,collection){result[++index]=iteratee(value,key,collection)}),result}function baseMatches(source){var matchData=getMatchData(source);if(1==matchData.length&&matchData[0][2]){var key=matchData[0][0],value=matchData[0][1];return function(object){return null!=object&&(object[key]===value&&(value!==undefined||key in toObject(object)))}}return function(object){return baseIsMatch(object,matchData)}}function baseMatchesProperty(path,srcValue){var isArr=isArray(path),isCommon=isKey(path)&&isStrictComparable(srcValue),pathKey=path+"";return path=toPath(path),function(object){if(null==object)return!1;var key=pathKey;if(object=toObject(object),(isArr||!isCommon)&&!(key in object)){if(object=1==path.length?object:baseGet(object,baseSlice(path,0,-1)),null==object)return!1;key=last(path),object=toObject(object)}return object[key]===srcValue?srcValue!==undefined||key in object:baseIsEqual(srcValue,object[key],undefined,!0)}}function baseMerge(object,source,customizer,stackA,stackB){if(!isObject(object))return object;var isSrcArr=isArrayLike(source)&&(isArray(source)||isTypedArray(source)),props=isSrcArr?null:keys(source);return arrayEach(props||source,function(srcValue,key){if(props&&(key=srcValue,srcValue=source[key]),isObjectLike(srcValue))stackA||(stackA=[]),stackB||(stackB=[]),baseMergeDeep(object,source,key,baseMerge,customizer,stackA,stackB);else{var value=object[key],result=customizer?customizer(value,srcValue,key,object,source):undefined,isCommon=result===undefined;isCommon&&(result=srcValue),result===undefined&&(!isSrcArr||key in object)||!isCommon&&(result===result?result===value:value!==value)||(object[key]=result)}}),object}function baseMergeDeep(object,source,key,mergeFunc,customizer,stackA,stackB){for(var length=stackA.length,srcValue=source[key];length--;)if(stackA[length]==srcValue)return void(object[key]=stackB[length]);var value=object[key],result=customizer?customizer(value,srcValue,key,object,source):undefined,isCommon=result===undefined;isCommon&&(result=srcValue,isArrayLike(srcValue)&&(isArray(srcValue)||isTypedArray(srcValue))?result=isArray(value)?value:isArrayLike(value)?arrayCopy(value):[]:isPlainObject(srcValue)||isArguments(srcValue)?result=isArguments(value)?toPlainObject(value):isPlainObject(value)?value:{}:isCommon=!1),stackA.push(srcValue),stackB.push(result),isCommon?object[key]=mergeFunc(result,srcValue,customizer,stackA,stackB):(result===result?result!==value:value===value)&&(object[key]=result)}function baseProperty(key){return function(object){return null==object?undefined:object[key]}}function basePropertyDeep(path){var pathKey=path+"";return path=toPath(path),function(object){return baseGet(object,path,pathKey)}}function basePullAt(array,indexes){for(var length=array?indexes.length:0;length--;){var index=indexes[length];if(index!=previous&&isIndex(index)){var previous=index;splice.call(array,index,1)}}return array}function baseRandom(min,max){return min+floor(nativeRandom()*(max-min+1))}function baseReduce(collection,iteratee,accumulator,initFromCollection,eachFunc){return eachFunc(collection,function(value,index,collection){accumulator=initFromCollection?(initFromCollection=!1,value):iteratee(accumulator,value,index,collection)}),accumulator}function baseSlice(array,start,end){var index=-1,length=array.length;start=null==start?0:+start||0,start<0&&(start=-start>length?0:length+start),end=end===undefined||end>length?length:+end||0,end<0&&(end+=length),length=start>end?0:end-start>>>0,start>>>=0;for(var result=Array(length);++index<length;)result[index]=array[index+start];return result}function baseSome(collection,predicate){var result;return baseEach(collection,function(value,index,collection){return result=predicate(value,index,collection),!result}),!!result}function baseSortBy(array,comparer){var length=array.length;for(array.sort(comparer);length--;)array[length]=array[length].value;return array}function baseSortByOrder(collection,iteratees,orders){var callback=getCallback(),index=-1;iteratees=arrayMap(iteratees,function(iteratee){return callback(iteratee)});var result=baseMap(collection,function(value){var criteria=arrayMap(iteratees,function(iteratee){return iteratee(value)});return{criteria:criteria,index:++index,value:value}});return baseSortBy(result,function(object,other){return compareMultiple(object,other,orders)})}function baseSum(collection,iteratee){var result=0;return baseEach(collection,function(value,index,collection){result+=+iteratee(value,index,collection)||0}),result}function baseUniq(array,iteratee){var index=-1,indexOf=getIndexOf(),length=array.length,isCommon=indexOf==baseIndexOf,isLarge=isCommon&&length>=200,seen=isLarge?createCache():null,result=[];seen?(indexOf=cacheIndexOf,isCommon=!1):(isLarge=!1,seen=iteratee?[]:result);outer:for(;++index<length;){var value=array[index],computed=iteratee?iteratee(value,index,array):value;if(isCommon&&value===value){for(var seenIndex=seen.length;seenIndex--;)if(seen[seenIndex]===computed)continue outer;iteratee&&seen.push(computed),result.push(value)}else indexOf(seen,computed,0)<0&&((iteratee||isLarge)&&seen.push(computed),result.push(value))}return result}function baseValues(object,props){for(var index=-1,length=props.length,result=Array(length);++index<length;)result[index]=object[props[index]];return result}function baseWhile(array,predicate,isDrop,fromRight){for(var length=array.length,index=fromRight?length:-1;(fromRight?index--:++index<length)&&predicate(array[index],index,array););return isDrop?baseSlice(array,fromRight?0:index,fromRight?index+1:length):baseSlice(array,fromRight?index+1:0,fromRight?length:index)}function baseWrapperValue(value,actions){var result=value;result instanceof LazyWrapper&&(result=result.value());for(var index=-1,length=actions.length;++index<length;){var args=[result],action=actions[index];push.apply(args,action.args),result=action.func.apply(action.thisArg,args)}return result}function binaryIndex(array,value,retHighest){var low=0,high=array?array.length:low;if("number"==typeof value&&value===value&&high<=HALF_MAX_ARRAY_LENGTH){for(;low<high;){var mid=low+high>>>1,computed=array[mid];(retHighest?computed<=value:computed<value)&&null!==computed?low=mid+1:high=mid}return high}return binaryIndexBy(array,value,identity,retHighest)}function binaryIndexBy(array,value,iteratee,retHighest){value=iteratee(value);for(var low=0,high=array?array.length:0,valIsNaN=value!==value,valIsNull=null===value,valIsUndef=value===undefined;low<high;){var mid=floor((low+high)/2),computed=iteratee(array[mid]),isDef=computed!==undefined,isReflexive=computed===computed;if(valIsNaN)var setLow=isReflexive||retHighest;else setLow=valIsNull?isReflexive&&isDef&&(retHighest||null!=computed):valIsUndef?isReflexive&&(retHighest||isDef):null!=computed&&(retHighest?computed<=value:computed<value);
setLow?low=mid+1:high=mid}return nativeMin(high,MAX_ARRAY_INDEX)}function bindCallback(func,thisArg,argCount){if("function"!=typeof func)return identity;if(thisArg===undefined)return func;switch(argCount){case 1:return function(value){return func.call(thisArg,value)};case 3:return function(value,index,collection){return func.call(thisArg,value,index,collection)};case 4:return function(accumulator,value,index,collection){return func.call(thisArg,accumulator,value,index,collection)};case 5:return function(value,other,key,object,source){return func.call(thisArg,value,other,key,object,source)}}return function(){return func.apply(thisArg,arguments)}}function bufferClone(buffer){return bufferSlice.call(buffer,0)}function composeArgs(args,partials,holders){for(var holdersLength=holders.length,argsIndex=-1,argsLength=nativeMax(args.length-holdersLength,0),leftIndex=-1,leftLength=partials.length,result=Array(argsLength+leftLength);++leftIndex<leftLength;)result[leftIndex]=partials[leftIndex];for(;++argsIndex<holdersLength;)result[holders[argsIndex]]=args[argsIndex];for(;argsLength--;)result[leftIndex++]=args[argsIndex++];return result}function composeArgsRight(args,partials,holders){for(var holdersIndex=-1,holdersLength=holders.length,argsIndex=-1,argsLength=nativeMax(args.length-holdersLength,0),rightIndex=-1,rightLength=partials.length,result=Array(argsLength+rightLength);++argsIndex<argsLength;)result[argsIndex]=args[argsIndex];for(var offset=argsIndex;++rightIndex<rightLength;)result[offset+rightIndex]=partials[rightIndex];for(;++holdersIndex<holdersLength;)result[offset+holders[holdersIndex]]=args[argsIndex++];return result}function createAggregator(setter,initializer){return function(collection,iteratee,thisArg){var result=initializer?initializer():{};if(iteratee=getCallback(iteratee,thisArg,3),isArray(collection))for(var index=-1,length=collection.length;++index<length;){var value=collection[index];setter(result,value,iteratee(value,index,collection),collection)}else baseEach(collection,function(value,key,collection){setter(result,value,iteratee(value,key,collection),collection)});return result}}function createAssigner(assigner){return restParam(function(object,sources){var index=-1,length=null==object?0:sources.length,customizer=length>2?sources[length-2]:undefined,guard=length>2?sources[2]:undefined,thisArg=length>1?sources[length-1]:undefined;for("function"==typeof customizer?(customizer=bindCallback(customizer,thisArg,5),length-=2):(customizer="function"==typeof thisArg?thisArg:undefined,length-=customizer?1:0),guard&&isIterateeCall(sources[0],sources[1],guard)&&(customizer=length<3?undefined:customizer,length=1);++index<length;){var source=sources[index];source&&assigner(object,source,customizer)}return object})}function createBaseEach(eachFunc,fromRight){return function(collection,iteratee){var length=collection?getLength(collection):0;if(!isLength(length))return eachFunc(collection,iteratee);for(var index=fromRight?length:-1,iterable=toObject(collection);(fromRight?index--:++index<length)&&iteratee(iterable[index],index,iterable)!==!1;);return collection}}function createBaseFor(fromRight){return function(object,iteratee,keysFunc){for(var iterable=toObject(object),props=keysFunc(object),length=props.length,index=fromRight?length:-1;fromRight?index--:++index<length;){var key=props[index];if(iteratee(iterable[key],key,iterable)===!1)break}return object}}function createBindWrapper(func,thisArg){function wrapper(){var fn=this&&this!==root&&this instanceof wrapper?Ctor:func;return fn.apply(thisArg,arguments)}var Ctor=createCtorWrapper(func);return wrapper}function createCompounder(callback){return function(string){for(var index=-1,array=words(deburr(string)),length=array.length,result="";++index<length;)result=callback(result,array[index],index);return result}}function createCtorWrapper(Ctor){return function(){var args=arguments;switch(args.length){case 0:return new Ctor;case 1:return new Ctor(args[0]);case 2:return new Ctor(args[0],args[1]);case 3:return new Ctor(args[0],args[1],args[2]);case 4:return new Ctor(args[0],args[1],args[2],args[3]);case 5:return new Ctor(args[0],args[1],args[2],args[3],args[4])}var thisBinding=baseCreate(Ctor.prototype),result=Ctor.apply(thisBinding,args);return isObject(result)?result:thisBinding}}function createCurry(flag){function curryFunc(func,arity,guard){guard&&isIterateeCall(func,arity,guard)&&(arity=null);var result=createWrapper(func,flag,null,null,null,null,null,arity);return result.placeholder=curryFunc.placeholder,result}return curryFunc}function createExtremum(comparator,exValue){return function(collection,iteratee,thisArg){if(thisArg&&isIterateeCall(collection,iteratee,thisArg)&&(iteratee=null),iteratee=getCallback(iteratee,thisArg,3),1==iteratee.length){collection=toIterable(collection);var result=arrayExtremum(collection,iteratee,comparator,exValue);if(!collection.length||result!==exValue)return result}return baseExtremum(collection,iteratee,comparator,exValue)}}function createFind(eachFunc,fromRight){return function(collection,predicate,thisArg){if(predicate=getCallback(predicate,thisArg,3),isArray(collection)){var index=baseFindIndex(collection,predicate,fromRight);return index>-1?collection[index]:undefined}return baseFind(collection,predicate,eachFunc)}}function createFindIndex(fromRight){return function(array,predicate,thisArg){return array&&array.length?(predicate=getCallback(predicate,thisArg,3),baseFindIndex(array,predicate,fromRight)):-1}}function createFindKey(objectFunc){return function(object,predicate,thisArg){return predicate=getCallback(predicate,thisArg,3),baseFind(object,predicate,objectFunc,!0)}}function createFlow(fromRight){return function(){for(var wrapper,length=arguments.length,index=fromRight?length:-1,leftIndex=0,funcs=Array(length);fromRight?index--:++index<length;){var func=funcs[leftIndex++]=arguments[index];if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);!wrapper&&LodashWrapper.prototype.thru&&"wrapper"==getFuncName(func)&&(wrapper=new LodashWrapper([]))}for(index=wrapper?-1:length;++index<length;){func=funcs[index];var funcName=getFuncName(func),data="wrapper"==funcName?getData(func):null;wrapper=data&&isLaziable(data[0])&&data[1]==(ARY_FLAG|CURRY_FLAG|PARTIAL_FLAG|REARG_FLAG)&&!data[4].length&&1==data[9]?wrapper[getFuncName(data[0])].apply(wrapper,data[3]):1==func.length&&isLaziable(func)?wrapper[funcName]():wrapper.thru(func)}return function(){var args=arguments;if(wrapper&&1==args.length&&isArray(args[0]))return wrapper.plant(args[0]).value();for(var index=0,result=length?funcs[index].apply(this,args):args[0];++index<length;)result=funcs[index].call(this,result);return result}}}function createForEach(arrayFunc,eachFunc){return function(collection,iteratee,thisArg){return"function"==typeof iteratee&&thisArg===undefined&&isArray(collection)?arrayFunc(collection,iteratee):eachFunc(collection,bindCallback(iteratee,thisArg,3))}}function createForIn(objectFunc){return function(object,iteratee,thisArg){return"function"==typeof iteratee&&thisArg===undefined||(iteratee=bindCallback(iteratee,thisArg,3)),objectFunc(object,iteratee,keysIn)}}function createForOwn(objectFunc){return function(object,iteratee,thisArg){return"function"==typeof iteratee&&thisArg===undefined||(iteratee=bindCallback(iteratee,thisArg,3)),objectFunc(object,iteratee)}}function createObjectMapper(isMapKeys){return function(object,iteratee,thisArg){var result={};return iteratee=getCallback(iteratee,thisArg,3),baseForOwn(object,function(value,key,object){var mapped=iteratee(value,key,object);key=isMapKeys?mapped:key,value=isMapKeys?value:mapped,result[key]=value}),result}}function createPadDir(fromRight){return function(string,length,chars){return string=baseToString(string),(fromRight?string:"")+createPadding(string,length,chars)+(fromRight?"":string)}}function createPartial(flag){var partialFunc=restParam(function(func,partials){var holders=replaceHolders(partials,partialFunc.placeholder);return createWrapper(func,flag,null,partials,holders)});return partialFunc}function createReduce(arrayFunc,eachFunc){return function(collection,iteratee,accumulator,thisArg){var initFromArray=arguments.length<3;return"function"==typeof iteratee&&thisArg===undefined&&isArray(collection)?arrayFunc(collection,iteratee,accumulator,initFromArray):baseReduce(collection,getCallback(iteratee,thisArg,4),accumulator,initFromArray,eachFunc)}}function createHybridWrapper(func,bitmask,thisArg,partials,holders,partialsRight,holdersRight,argPos,ary,arity){function wrapper(){for(var length=arguments.length,index=length,args=Array(length);index--;)args[index]=arguments[index];if(partials&&(args=composeArgs(args,partials,holders)),partialsRight&&(args=composeArgsRight(args,partialsRight,holdersRight)),isCurry||isCurryRight){var placeholder=wrapper.placeholder,argsHolders=replaceHolders(args,placeholder);if(length-=argsHolders.length,length<arity){var newArgPos=argPos?arrayCopy(argPos):null,newArity=nativeMax(arity-length,0),newsHolders=isCurry?argsHolders:null,newHoldersRight=isCurry?null:argsHolders,newPartials=isCurry?args:null,newPartialsRight=isCurry?null:args;bitmask|=isCurry?PARTIAL_FLAG:PARTIAL_RIGHT_FLAG,bitmask&=~(isCurry?PARTIAL_RIGHT_FLAG:PARTIAL_FLAG),isCurryBound||(bitmask&=~(BIND_FLAG|BIND_KEY_FLAG));var newData=[func,bitmask,thisArg,newPartials,newsHolders,newPartialsRight,newHoldersRight,newArgPos,ary,newArity],result=createHybridWrapper.apply(undefined,newData);return isLaziable(func)&&setData(result,newData),result.placeholder=placeholder,result}}var thisBinding=isBind?thisArg:this,fn=isBindKey?thisBinding[func]:func;return argPos&&(args=reorder(args,argPos)),isAry&&ary<args.length&&(args.length=ary),this&&this!==root&&this instanceof wrapper&&(fn=Ctor||createCtorWrapper(func)),fn.apply(thisBinding,args)}var isAry=bitmask&ARY_FLAG,isBind=bitmask&BIND_FLAG,isBindKey=bitmask&BIND_KEY_FLAG,isCurry=bitmask&CURRY_FLAG,isCurryBound=bitmask&CURRY_BOUND_FLAG,isCurryRight=bitmask&CURRY_RIGHT_FLAG,Ctor=isBindKey?null:createCtorWrapper(func);return wrapper}function createPadding(string,length,chars){var strLength=string.length;if(length=+length,strLength>=length||!nativeIsFinite(length))return"";var padLength=length-strLength;return chars=null==chars?" ":chars+"",repeat(chars,ceil(padLength/chars.length)).slice(0,padLength)}function createPartialWrapper(func,bitmask,thisArg,partials){function wrapper(){for(var argsIndex=-1,argsLength=arguments.length,leftIndex=-1,leftLength=partials.length,args=Array(argsLength+leftLength);++leftIndex<leftLength;)args[leftIndex]=partials[leftIndex];for(;argsLength--;)args[leftIndex++]=arguments[++argsIndex];var fn=this&&this!==root&&this instanceof wrapper?Ctor:func;return fn.apply(isBind?thisArg:this,args)}var isBind=bitmask&BIND_FLAG,Ctor=createCtorWrapper(func);return wrapper}function createSortedIndex(retHighest){return function(array,value,iteratee,thisArg){var callback=getCallback(iteratee);return null==iteratee&&callback===baseCallback?binaryIndex(array,value,retHighest):binaryIndexBy(array,value,callback(iteratee,thisArg,1),retHighest)}}function createWrapper(func,bitmask,thisArg,partials,holders,argPos,ary,arity){var isBindKey=bitmask&BIND_KEY_FLAG;if(!isBindKey&&"function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);var length=partials?partials.length:0;if(length||(bitmask&=~(PARTIAL_FLAG|PARTIAL_RIGHT_FLAG),partials=holders=null),length-=holders?holders.length:0,bitmask&PARTIAL_RIGHT_FLAG){var partialsRight=partials,holdersRight=holders;partials=holders=null}var data=isBindKey?null:getData(func),newData=[func,bitmask,thisArg,partials,holders,partialsRight,holdersRight,argPos,ary,arity];if(data&&(mergeData(newData,data),bitmask=newData[1],arity=newData[9]),newData[9]=null==arity?isBindKey?0:func.length:nativeMax(arity-length,0)||0,bitmask==BIND_FLAG)var result=createBindWrapper(newData[0],newData[2]);else result=bitmask!=PARTIAL_FLAG&&bitmask!=(BIND_FLAG|PARTIAL_FLAG)||newData[4].length?createHybridWrapper.apply(undefined,newData):createPartialWrapper.apply(undefined,newData);var setter=data?baseSetData:setData;return setter(result,newData)}function equalArrays(array,other,equalFunc,customizer,isLoose,stackA,stackB){var index=-1,arrLength=array.length,othLength=other.length;if(arrLength!=othLength&&!(isLoose&&othLength>arrLength))return!1;for(;++index<arrLength;){var arrValue=array[index],othValue=other[index],result=customizer?customizer(isLoose?othValue:arrValue,isLoose?arrValue:othValue,index):undefined;if(result!==undefined){if(result)continue;return!1}if(isLoose){if(!arraySome(other,function(othValue){return arrValue===othValue||equalFunc(arrValue,othValue,customizer,isLoose,stackA,stackB)}))return!1}else if(arrValue!==othValue&&!equalFunc(arrValue,othValue,customizer,isLoose,stackA,stackB))return!1}return!0}function equalByTag(object,other,tag){switch(tag){case boolTag:case dateTag:return+object==+other;case errorTag:return object.name==other.name&&object.message==other.message;case numberTag:return object!=+object?other!=+other:object==+other;case regexpTag:case stringTag:return object==other+""}return!1}function equalObjects(object,other,equalFunc,customizer,isLoose,stackA,stackB){var objProps=keys(object),objLength=objProps.length,othProps=keys(other),othLength=othProps.length;if(objLength!=othLength&&!isLoose)return!1;for(var index=objLength;index--;){var key=objProps[index];if(!(isLoose?key in other:hasOwnProperty.call(other,key)))return!1}for(var skipCtor=isLoose;++index<objLength;){key=objProps[index];var objValue=object[key],othValue=other[key],result=customizer?customizer(isLoose?othValue:objValue,isLoose?objValue:othValue,key):undefined;if(!(result===undefined?equalFunc(objValue,othValue,customizer,isLoose,stackA,stackB):result))return!1;skipCtor||(skipCtor="constructor"==key)}if(!skipCtor){var objCtor=object.constructor,othCtor=other.constructor;if(objCtor!=othCtor&&"constructor"in object&&"constructor"in other&&!("function"==typeof objCtor&&objCtor instanceof objCtor&&"function"==typeof othCtor&&othCtor instanceof othCtor))return!1}return!0}function getCallback(func,thisArg,argCount){var result=lodash.callback||callback;return result=result===callback?baseCallback:result,argCount?result(func,thisArg,argCount):result}function getFuncName(func){for(var result=func.name,array=realNames[result],length=array?array.length:0;length--;){var data=array[length],otherFunc=data.func;if(null==otherFunc||otherFunc==func)return data.name}return result}function getIndexOf(collection,target,fromIndex){var result=lodash.indexOf||indexOf;return result=result===indexOf?baseIndexOf:result,collection?result(collection,target,fromIndex):result}function getMatchData(object){for(var result=pairs(object),length=result.length;length--;)result[length][2]=isStrictComparable(result[length][1]);return result}function getNative(object,key){var value=null==object?undefined:object[key];return isNative(value)?value:undefined}function getView(start,end,transforms){for(var index=-1,length=transforms?transforms.length:0;++index<length;){var data=transforms[index],size=data.size;switch(data.type){case"drop":start+=size;break;case"dropRight":end-=size;break;case"take":end=nativeMin(end,start+size);break;case"takeRight":start=nativeMax(start,end-size)}}return{start:start,end:end}}function initCloneArray(array){var length=array.length,result=new array.constructor(length);return length&&"string"==typeof array[0]&&hasOwnProperty.call(array,"index")&&(result.index=array.index,result.input=array.input),result}function initCloneObject(object){var Ctor=object.constructor;return"function"==typeof Ctor&&Ctor instanceof Ctor||(Ctor=Object),new Ctor}function initCloneByTag(object,tag,isDeep){var Ctor=object.constructor;switch(tag){case arrayBufferTag:return bufferClone(object);case boolTag:case dateTag:return new Ctor((+object));case float32Tag:case float64Tag:case int8Tag:case int16Tag:case int32Tag:case uint8Tag:case uint8ClampedTag:case uint16Tag:case uint32Tag:var buffer=object.buffer;return new Ctor(isDeep?bufferClone(buffer):buffer,object.byteOffset,object.length);case numberTag:case stringTag:return new Ctor(object);case regexpTag:var result=new Ctor(object.source,reFlags.exec(object));result.lastIndex=object.lastIndex}return result}function invokePath(object,path,args){null==object||isKey(path,object)||(path=toPath(path),object=1==path.length?object:baseGet(object,baseSlice(path,0,-1)),path=last(path));var func=null==object?object:object[path];return null==func?undefined:func.apply(object,args)}function isArrayLike(value){return null!=value&&isLength(getLength(value))}function isIndex(value,length){return value="number"==typeof value||reIsUint.test(value)?+value:-1,length=null==length?MAX_SAFE_INTEGER:length,value>-1&&value%1==0&&value<length}function isIterateeCall(value,index,object){if(!isObject(object))return!1;var type=typeof index;if("number"==type?isArrayLike(object)&&isIndex(index,object.length):"string"==type&&index in object){var other=object[index];return value===value?value===other:other!==other}return!1}function isKey(value,object){var type=typeof value;if("string"==type&&reIsPlainProp.test(value)||"number"==type)return!0;if(isArray(value))return!1;var result=!reIsDeepProp.test(value);return result||null!=object&&value in toObject(object)}function isLaziable(func){var funcName=getFuncName(func);if(!(funcName in LazyWrapper.prototype))return!1;var other=lodash[funcName];if(func===other)return!0;var data=getData(other);return!!data&&func===data[0]}function isLength(value){return"number"==typeof value&&value>-1&&value%1==0&&value<=MAX_SAFE_INTEGER}function isStrictComparable(value){return value===value&&!isObject(value)}function mergeData(data,source){var bitmask=data[1],srcBitmask=source[1],newBitmask=bitmask|srcBitmask,isCommon=newBitmask<ARY_FLAG,isCombo=srcBitmask==ARY_FLAG&&bitmask==CURRY_FLAG||srcBitmask==ARY_FLAG&&bitmask==REARG_FLAG&&data[7].length<=source[8]||srcBitmask==(ARY_FLAG|REARG_FLAG)&&bitmask==CURRY_FLAG;if(!isCommon&&!isCombo)return data;srcBitmask&BIND_FLAG&&(data[2]=source[2],newBitmask|=bitmask&BIND_FLAG?0:CURRY_BOUND_FLAG);var value=source[3];if(value){var partials=data[3];data[3]=partials?composeArgs(partials,value,source[4]):arrayCopy(value),data[4]=partials?replaceHolders(data[3],PLACEHOLDER):arrayCopy(source[4])}return value=source[5],value&&(partials=data[5],data[5]=partials?composeArgsRight(partials,value,source[6]):arrayCopy(value),data[6]=partials?replaceHolders(data[5],PLACEHOLDER):arrayCopy(source[6])),value=source[7],value&&(data[7]=arrayCopy(value)),srcBitmask&ARY_FLAG&&(data[8]=null==data[8]?source[8]:nativeMin(data[8],source[8])),null==data[9]&&(data[9]=source[9]),data[0]=source[0],data[1]=newBitmask,data}function pickByArray(object,props){object=toObject(object);for(var index=-1,length=props.length,result={};++index<length;){var key=props[index];key in object&&(result[key]=object[key])}return result}function pickByCallback(object,predicate){var result={};return baseForIn(object,function(value,key,object){predicate(value,key,object)&&(result[key]=value)}),result}function reorder(array,indexes){for(var arrLength=array.length,length=nativeMin(indexes.length,arrLength),oldArray=arrayCopy(array);length--;){var index=indexes[length];array[length]=isIndex(index,arrLength)?oldArray[index]:undefined}return array}function shimIsPlainObject(value){var Ctor;lodash.support;if(!isObjectLike(value)||objToString.call(value)!=objectTag||!hasOwnProperty.call(value,"constructor")&&(Ctor=value.constructor,"function"==typeof Ctor&&!(Ctor instanceof Ctor)))return!1;var result;return baseForIn(value,function(subValue,key){result=key}),result===undefined||hasOwnProperty.call(value,result)}function shimKeys(object){for(var props=keysIn(object),propsLength=props.length,length=propsLength&&object.length,allowIndexes=!!length&&isLength(length)&&(isArray(object)||isArguments(object)),index=-1,result=[];++index<propsLength;){var key=props[index];(allowIndexes&&isIndex(key,length)||hasOwnProperty.call(object,key))&&result.push(key)}return result}function toIterable(value){return null==value?[]:isArrayLike(value)?isObject(value)?value:Object(value):values(value)}function toObject(value){return isObject(value)?value:Object(value)}function toPath(value){if(isArray(value))return value;var result=[];return baseToString(value).replace(rePropName,function(match,number,quote,string){result.push(quote?string.replace(reEscapeChar,"$1"):number||match)}),result}function wrapperClone(wrapper){return wrapper instanceof LazyWrapper?wrapper.clone():new LodashWrapper(wrapper.__wrapped__,wrapper.__chain__,arrayCopy(wrapper.__actions__))}function chunk(array,size,guard){size=(guard?isIterateeCall(array,size,guard):null==size)?1:nativeMax(+size||1,1);for(var index=0,length=array?array.length:0,resIndex=-1,result=Array(ceil(length/size));index<length;)result[++resIndex]=baseSlice(array,index,index+=size);return result}function compact(array){for(var index=-1,length=array?array.length:0,resIndex=-1,result=[];++index<length;){var value=array[index];value&&(result[++resIndex]=value)}return result}function drop(array,n,guard){var length=array?array.length:0;return length?((guard?isIterateeCall(array,n,guard):null==n)&&(n=1),baseSlice(array,n<0?0:n)):[]}function dropRight(array,n,guard){var length=array?array.length:0;return length?((guard?isIterateeCall(array,n,guard):null==n)&&(n=1),n=length-(+n||0),baseSlice(array,0,n<0?0:n)):[]}function dropRightWhile(array,predicate,thisArg){return array&&array.length?baseWhile(array,getCallback(predicate,thisArg,3),!0,!0):[]}function dropWhile(array,predicate,thisArg){return array&&array.length?baseWhile(array,getCallback(predicate,thisArg,3),!0):[]}function fill(array,value,start,end){var length=array?array.length:0;return length?(start&&"number"!=typeof start&&isIterateeCall(array,value,start)&&(start=0,end=length),baseFill(array,value,start,end)):[]}function first(array){return array?array[0]:undefined}function flatten(array,isDeep,guard){var length=array?array.length:0;return guard&&isIterateeCall(array,isDeep,guard)&&(isDeep=!1),length?baseFlatten(array,isDeep):[]}function flattenDeep(array){var length=array?array.length:0;return length?baseFlatten(array,!0):[]}function indexOf(array,value,fromIndex){var length=array?array.length:0;if(!length)return-1;if("number"==typeof fromIndex)fromIndex=fromIndex<0?nativeMax(length+fromIndex,0):fromIndex;else if(fromIndex){var index=binaryIndex(array,value),other=array[index];return(value===value?value===other:other!==other)?index:-1}return baseIndexOf(array,value,fromIndex||0)}function initial(array){return dropRight(array,1)}function last(array){var length=array?array.length:0;return length?array[length-1]:undefined}function lastIndexOf(array,value,fromIndex){var length=array?array.length:0;if(!length)return-1;var index=length;if("number"==typeof fromIndex)index=(fromIndex<0?nativeMax(length+fromIndex,0):nativeMin(fromIndex||0,length-1))+1;else if(fromIndex){index=binaryIndex(array,value,!0)-1;var other=array[index];return(value===value?value===other:other!==other)?index:-1}if(value!==value)return indexOfNaN(array,index,!0);for(;index--;)if(array[index]===value)return index;return-1}function pull(){var args=arguments,array=args[0];if(!array||!array.length)return array;for(var index=0,indexOf=getIndexOf(),length=args.length;++index<length;)for(var fromIndex=0,value=args[index];(fromIndex=indexOf(array,value,fromIndex))>-1;)splice.call(array,fromIndex,1);return array}function remove(array,predicate,thisArg){var result=[];if(!array||!array.length)return result;var index=-1,indexes=[],length=array.length;for(predicate=getCallback(predicate,thisArg,3);++index<length;){var value=array[index];predicate(value,index,array)&&(result.push(value),indexes.push(index))}return basePullAt(array,indexes),result}function rest(array){return drop(array,1)}function slice(array,start,end){var length=array?array.length:0;return length?(end&&"number"!=typeof end&&isIterateeCall(array,start,end)&&(start=0,end=length),baseSlice(array,start,end)):[]}function take(array,n,guard){var length=array?array.length:0;return length?((guard?isIterateeCall(array,n,guard):null==n)&&(n=1),baseSlice(array,0,n<0?0:n)):[]}function takeRight(array,n,guard){var length=array?array.length:0;return length?((guard?isIterateeCall(array,n,guard):null==n)&&(n=1),n=length-(+n||0),baseSlice(array,n<0?0:n)):[]}function takeRightWhile(array,predicate,thisArg){return array&&array.length?baseWhile(array,getCallback(predicate,thisArg,3),!1,!0):[]}function takeWhile(array,predicate,thisArg){return array&&array.length?baseWhile(array,getCallback(predicate,thisArg,3)):[]}function uniq(array,isSorted,iteratee,thisArg){var length=array?array.length:0;if(!length)return[];null!=isSorted&&"boolean"!=typeof isSorted&&(thisArg=iteratee,iteratee=isIterateeCall(array,isSorted,thisArg)?null:isSorted,isSorted=!1);var callback=getCallback();return null==iteratee&&callback===baseCallback||(iteratee=callback(iteratee,thisArg,3)),isSorted&&getIndexOf()==baseIndexOf?sortedUniq(array,iteratee):baseUniq(array,iteratee)}function unzip(array){if(!array||!array.length)return[];var index=-1,length=0;array=arrayFilter(array,function(group){if(isArrayLike(group))return length=nativeMax(group.length,length),!0});for(var result=Array(length);++index<length;)result[index]=arrayMap(array,baseProperty(index));return result}function unzipWith(array,iteratee,thisArg){var length=array?array.length:0;if(!length)return[];var result=unzip(array);return null==iteratee?result:(iteratee=bindCallback(iteratee,thisArg,4),arrayMap(result,function(group){return arrayReduce(group,iteratee,undefined,!0)}))}function xor(){for(var index=-1,length=arguments.length;++index<length;){var array=arguments[index];if(isArrayLike(array))var result=result?baseDifference(result,array).concat(baseDifference(array,result)):array}return result?baseUniq(result):[]}function zipObject(props,values){var index=-1,length=props?props.length:0,result={};for(!length||values||isArray(props[0])||(values=[]);++index<length;){var key=props[index];values?result[key]=values[index]:key&&(result[key[0]]=key[1])}return result}function chain(value){var result=lodash(value);return result.__chain__=!0,result}function tap(value,interceptor,thisArg){return interceptor.call(thisArg,value),value}function thru(value,interceptor,thisArg){return interceptor.call(thisArg,value)}function wrapperChain(){return chain(this)}function wrapperCommit(){return new LodashWrapper(this.value(),this.__chain__)}function wrapperPlant(value){for(var result,parent=this;parent instanceof baseLodash;){var clone=wrapperClone(parent);result?previous.__wrapped__=clone:result=clone;var previous=clone;parent=parent.__wrapped__}return previous.__wrapped__=value,result}function wrapperReverse(){var value=this.__wrapped__;return value instanceof LazyWrapper?(this.__actions__.length&&(value=new LazyWrapper(this)),new LodashWrapper(value.reverse(),this.__chain__)):this.thru(function(value){return value.reverse()})}function wrapperToString(){return this.value()+""}function wrapperValue(){return baseWrapperValue(this.__wrapped__,this.__actions__)}function every(collection,predicate,thisArg){var func=isArray(collection)?arrayEvery:baseEvery;return thisArg&&isIterateeCall(collection,predicate,thisArg)&&(predicate=null),"function"==typeof predicate&&thisArg===undefined||(predicate=getCallback(predicate,thisArg,3)),func(collection,predicate)}function filter(collection,predicate,thisArg){var func=isArray(collection)?arrayFilter:baseFilter;return predicate=getCallback(predicate,thisArg,3),func(collection,predicate)}function findWhere(collection,source){return find(collection,baseMatches(source))}function includes(collection,target,fromIndex,guard){var length=collection?getLength(collection):0;return isLength(length)||(collection=values(collection),length=collection.length),!!length&&(fromIndex="number"!=typeof fromIndex||guard&&isIterateeCall(target,fromIndex,guard)?0:fromIndex<0?nativeMax(length+fromIndex,0):fromIndex||0,"string"==typeof collection||!isArray(collection)&&isString(collection)?fromIndex<length&&collection.indexOf(target,fromIndex)>-1:getIndexOf(collection,target,fromIndex)>-1)}function map(collection,iteratee,thisArg){var func=isArray(collection)?arrayMap:baseMap;return iteratee=getCallback(iteratee,thisArg,3),func(collection,iteratee)}function pluck(collection,path){return map(collection,property(path))}function reject(collection,predicate,thisArg){var func=isArray(collection)?arrayFilter:baseFilter;return predicate=getCallback(predicate,thisArg,3),func(collection,function(value,index,collection){return!predicate(value,index,collection)})}function sample(collection,n,guard){if(guard?isIterateeCall(collection,n,guard):null==n){collection=toIterable(collection);var length=collection.length;return length>0?collection[baseRandom(0,length-1)]:undefined}var index=-1,result=toArray(collection),length=result.length,lastIndex=length-1;for(n=nativeMin(n<0?0:+n||0,length);++index<n;){var rand=baseRandom(index,lastIndex),value=result[rand];result[rand]=result[index],result[index]=value}return result.length=n,result}function shuffle(collection){return sample(collection,POSITIVE_INFINITY)}function size(collection){var length=collection?getLength(collection):0;return isLength(length)?length:keys(collection).length}function some(collection,predicate,thisArg){var func=isArray(collection)?arraySome:baseSome;return thisArg&&isIterateeCall(collection,predicate,thisArg)&&(predicate=null),"function"==typeof predicate&&thisArg===undefined||(predicate=getCallback(predicate,thisArg,3)),func(collection,predicate)}function sortBy(collection,iteratee,thisArg){if(null==collection)return[];thisArg&&isIterateeCall(collection,iteratee,thisArg)&&(iteratee=null);var index=-1;iteratee=getCallback(iteratee,thisArg,3);var result=baseMap(collection,function(value,key,collection){return{criteria:iteratee(value,key,collection),index:++index,value:value}});return baseSortBy(result,compareAscending)}function sortByOrder(collection,iteratees,orders,guard){return null==collection?[]:(guard&&isIterateeCall(iteratees,orders,guard)&&(orders=null),isArray(iteratees)||(iteratees=null==iteratees?[]:[iteratees]),isArray(orders)||(orders=null==orders?[]:[orders]),baseSortByOrder(collection,iteratees,orders))}function where(collection,source){return filter(collection,baseMatches(source))}function after(n,func){if("function"!=typeof func){if("function"!=typeof n)throw new TypeError(FUNC_ERROR_TEXT);var temp=n;n=func,func=temp}return n=nativeIsFinite(n=+n)?n:0,function(){if(--n<1)return func.apply(this,arguments)}}function ary(func,n,guard){return guard&&isIterateeCall(func,n,guard)&&(n=null),n=func&&null==n?func.length:nativeMax(+n||0,0),createWrapper(func,ARY_FLAG,null,null,null,null,n)}function before(n,func){var result;if("function"!=typeof func){if("function"!=typeof n)throw new TypeError(FUNC_ERROR_TEXT);var temp=n;n=func,func=temp}return function(){return--n>0&&(result=func.apply(this,arguments)),n<=1&&(func=null),result}}function debounce(func,wait,options){function cancel(){timeoutId&&clearTimeout(timeoutId),maxTimeoutId&&clearTimeout(maxTimeoutId),maxTimeoutId=timeoutId=trailingCall=undefined}function delayed(){var remaining=wait-(now()-stamp);if(remaining<=0||remaining>wait){maxTimeoutId&&clearTimeout(maxTimeoutId);var isCalled=trailingCall;maxTimeoutId=timeoutId=trailingCall=undefined,isCalled&&(lastCalled=now(),result=func.apply(thisArg,args),timeoutId||maxTimeoutId||(args=thisArg=null))}else timeoutId=setTimeout(delayed,remaining)}function maxDelayed(){timeoutId&&clearTimeout(timeoutId),maxTimeoutId=timeoutId=trailingCall=undefined,(trailing||maxWait!==wait)&&(lastCalled=now(),result=func.apply(thisArg,args),timeoutId||maxTimeoutId||(args=thisArg=null))}function debounced(){if(args=arguments,stamp=now(),thisArg=this,trailingCall=trailing&&(timeoutId||!leading),maxWait===!1)var leadingCall=leading&&!timeoutId;else{
maxTimeoutId||leading||(lastCalled=stamp);var remaining=maxWait-(stamp-lastCalled),isCalled=remaining<=0||remaining>maxWait;isCalled?(maxTimeoutId&&(maxTimeoutId=clearTimeout(maxTimeoutId)),lastCalled=stamp,result=func.apply(thisArg,args)):maxTimeoutId||(maxTimeoutId=setTimeout(maxDelayed,remaining))}return isCalled&&timeoutId?timeoutId=clearTimeout(timeoutId):timeoutId||wait===maxWait||(timeoutId=setTimeout(delayed,wait)),leadingCall&&(isCalled=!0,result=func.apply(thisArg,args)),!isCalled||timeoutId||maxTimeoutId||(args=thisArg=null),result}var args,maxTimeoutId,result,stamp,thisArg,timeoutId,trailingCall,lastCalled=0,maxWait=!1,trailing=!0;if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);if(wait=wait<0?0:+wait||0,options===!0){var leading=!0;trailing=!1}else isObject(options)&&(leading=options.leading,maxWait="maxWait"in options&&nativeMax(+options.maxWait||0,wait),trailing="trailing"in options?options.trailing:trailing);return debounced.cancel=cancel,debounced}function memoize(func,resolver){if("function"!=typeof func||resolver&&"function"!=typeof resolver)throw new TypeError(FUNC_ERROR_TEXT);var memoized=function(){var args=arguments,key=resolver?resolver.apply(this,args):args[0],cache=memoized.cache;if(cache.has(key))return cache.get(key);var result=func.apply(this,args);return memoized.cache=cache.set(key,result),result};return memoized.cache=new memoize.Cache,memoized}function negate(predicate){if("function"!=typeof predicate)throw new TypeError(FUNC_ERROR_TEXT);return function(){return!predicate.apply(this,arguments)}}function once(func){return before(2,func)}function restParam(func,start){if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);return start=nativeMax(start===undefined?func.length-1:+start||0,0),function(){for(var args=arguments,index=-1,length=nativeMax(args.length-start,0),rest=Array(length);++index<length;)rest[index]=args[start+index];switch(start){case 0:return func.call(this,rest);case 1:return func.call(this,args[0],rest);case 2:return func.call(this,args[0],args[1],rest)}var otherArgs=Array(start+1);for(index=-1;++index<start;)otherArgs[index]=args[index];return otherArgs[start]=rest,func.apply(this,otherArgs)}}function spread(func){if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);return function(array){return func.apply(this,array)}}function throttle(func,wait,options){var leading=!0,trailing=!0;if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);return options===!1?leading=!1:isObject(options)&&(leading="leading"in options?!!options.leading:leading,trailing="trailing"in options?!!options.trailing:trailing),debounceOptions.leading=leading,debounceOptions.maxWait=+wait,debounceOptions.trailing=trailing,debounce(func,wait,debounceOptions)}function wrap(value,wrapper){return wrapper=null==wrapper?identity:wrapper,createWrapper(wrapper,PARTIAL_FLAG,null,[value],[])}function clone(value,isDeep,customizer,thisArg){return isDeep&&"boolean"!=typeof isDeep&&isIterateeCall(value,isDeep,customizer)?isDeep=!1:"function"==typeof isDeep&&(thisArg=customizer,customizer=isDeep,isDeep=!1),"function"==typeof customizer?baseClone(value,isDeep,bindCallback(customizer,thisArg,1)):baseClone(value,isDeep)}function cloneDeep(value,customizer,thisArg){return"function"==typeof customizer?baseClone(value,!0,bindCallback(customizer,thisArg,1)):baseClone(value,!0)}function gt(value,other){return value>other}function gte(value,other){return value>=other}function isArguments(value){return isObjectLike(value)&&isArrayLike(value)&&objToString.call(value)==argsTag}function isBoolean(value){return value===!0||value===!1||isObjectLike(value)&&objToString.call(value)==boolTag}function isDate(value){return isObjectLike(value)&&objToString.call(value)==dateTag}function isElement(value){return!!value&&1===value.nodeType&&isObjectLike(value)&&objToString.call(value).indexOf("Element")>-1}function isEmpty(value){return null==value||(isArrayLike(value)&&(isArray(value)||isString(value)||isArguments(value)||isObjectLike(value)&&isFunction(value.splice))?!value.length:!keys(value).length)}function isEqual(value,other,customizer,thisArg){customizer="function"==typeof customizer?bindCallback(customizer,thisArg,3):undefined;var result=customizer?customizer(value,other):undefined;return result===undefined?baseIsEqual(value,other,customizer):!!result}function isError(value){return isObjectLike(value)&&"string"==typeof value.message&&objToString.call(value)==errorTag}function isObject(value){var type=typeof value;return!!value&&("object"==type||"function"==type)}function isMatch(object,source,customizer,thisArg){return customizer="function"==typeof customizer?bindCallback(customizer,thisArg,3):undefined,baseIsMatch(object,getMatchData(source),customizer)}function isNaN(value){return isNumber(value)&&value!=+value}function isNative(value){return null!=value&&(objToString.call(value)==funcTag?reIsNative.test(fnToString.call(value)):isObjectLike(value)&&reIsHostCtor.test(value))}function isNull(value){return null===value}function isNumber(value){return"number"==typeof value||isObjectLike(value)&&objToString.call(value)==numberTag}function isRegExp(value){return isObjectLike(value)&&objToString.call(value)==regexpTag}function isString(value){return"string"==typeof value||isObjectLike(value)&&objToString.call(value)==stringTag}function isTypedArray(value){return isObjectLike(value)&&isLength(value.length)&&!!typedArrayTags[objToString.call(value)]}function isUndefined(value){return value===undefined}function lt(value,other){return value<other}function lte(value,other){return value<=other}function toArray(value){var length=value?getLength(value):0;return isLength(length)?length?arrayCopy(value):[]:values(value)}function toPlainObject(value){return baseCopy(value,keysIn(value))}function create(prototype,properties,guard){var result=baseCreate(prototype);return guard&&isIterateeCall(prototype,properties,guard)&&(properties=null),properties?baseAssign(result,properties):result}function functions(object){return baseFunctions(object,keysIn(object))}function get(object,path,defaultValue){var result=null==object?undefined:baseGet(object,toPath(path),path+"");return result===undefined?defaultValue:result}function has(object,path){if(null==object)return!1;var result=hasOwnProperty.call(object,path);if(!result&&!isKey(path)){if(path=toPath(path),object=1==path.length?object:baseGet(object,baseSlice(path,0,-1)),null==object)return!1;path=last(path),result=hasOwnProperty.call(object,path)}return result||isLength(object.length)&&isIndex(path,object.length)&&(isArray(object)||isArguments(object))}function invert(object,multiValue,guard){guard&&isIterateeCall(object,multiValue,guard)&&(multiValue=null);for(var index=-1,props=keys(object),length=props.length,result={};++index<length;){var key=props[index],value=object[key];multiValue?hasOwnProperty.call(result,value)?result[value].push(key):result[value]=[key]:result[value]=key}return result}function keysIn(object){if(null==object)return[];isObject(object)||(object=Object(object));var length=object.length;length=length&&isLength(length)&&(isArray(object)||isArguments(object))&&length||0;for(var Ctor=object.constructor,index=-1,isProto="function"==typeof Ctor&&Ctor.prototype===object,result=Array(length),skipIndexes=length>0;++index<length;)result[index]=index+"";for(var key in object)skipIndexes&&isIndex(key,length)||"constructor"==key&&(isProto||!hasOwnProperty.call(object,key))||result.push(key);return result}function pairs(object){object=toObject(object);for(var index=-1,props=keys(object),length=props.length,result=Array(length);++index<length;){var key=props[index];result[index]=[key,object[key]]}return result}function result(object,path,defaultValue){var result=null==object?undefined:object[path];return result===undefined&&(null==object||isKey(path,object)||(path=toPath(path),object=1==path.length?object:baseGet(object,baseSlice(path,0,-1)),result=null==object?undefined:object[last(path)]),result=result===undefined?defaultValue:result),isFunction(result)?result.call(object):result}function set(object,path,value){if(null==object)return object;var pathKey=path+"";path=null!=object[pathKey]||isKey(path,object)?[pathKey]:toPath(path);for(var index=-1,length=path.length,lastIndex=length-1,nested=object;null!=nested&&++index<length;){var key=path[index];isObject(nested)&&(index==lastIndex?nested[key]=value:null==nested[key]&&(nested[key]=isIndex(path[index+1])?[]:{})),nested=nested[key]}return object}function transform(object,iteratee,accumulator,thisArg){var isArr=isArray(object)||isTypedArray(object);if(iteratee=getCallback(iteratee,thisArg,4),null==accumulator)if(isArr||isObject(object)){var Ctor=object.constructor;accumulator=isArr?isArray(object)?new Ctor:[]:baseCreate(isFunction(Ctor)?Ctor.prototype:null)}else accumulator={};return(isArr?arrayEach:baseForOwn)(object,function(value,index,object){return iteratee(accumulator,value,index,object)}),accumulator}function values(object){return baseValues(object,keys(object))}function valuesIn(object){return baseValues(object,keysIn(object))}function inRange(value,start,end){return start=+start||0,"undefined"==typeof end?(end=start,start=0):end=+end||0,value>=nativeMin(start,end)&&value<nativeMax(start,end)}function random(min,max,floating){floating&&isIterateeCall(min,max,floating)&&(max=floating=null);var noMin=null==min,noMax=null==max;if(null==floating&&(noMax&&"boolean"==typeof min?(floating=min,min=1):"boolean"==typeof max&&(floating=max,noMax=!0)),noMin&&noMax&&(max=1,noMax=!1),min=+min||0,noMax?(max=min,min=0):max=+max||0,floating||min%1||max%1){var rand=nativeRandom();return nativeMin(min+rand*(max-min+parseFloat("1e-"+((rand+"").length-1))),max)}return baseRandom(min,max)}function capitalize(string){return string=baseToString(string),string&&string.charAt(0).toUpperCase()+string.slice(1)}function deburr(string){return string=baseToString(string),string&&string.replace(reLatin1,deburrLetter).replace(reComboMark,"")}function endsWith(string,target,position){string=baseToString(string),target+="";var length=string.length;return position=position===undefined?length:nativeMin(position<0?0:+position||0,length),position-=target.length,position>=0&&string.indexOf(target,position)==position}function escape(string){return string=baseToString(string),string&&reHasUnescapedHtml.test(string)?string.replace(reUnescapedHtml,escapeHtmlChar):string}function escapeRegExp(string){return string=baseToString(string),string&&reHasRegExpChars.test(string)?string.replace(reRegExpChars,"\\$&"):string}function pad(string,length,chars){string=baseToString(string),length=+length;var strLength=string.length;if(strLength>=length||!nativeIsFinite(length))return string;var mid=(length-strLength)/2,leftLength=floor(mid),rightLength=ceil(mid);return chars=createPadding("",rightLength,chars),chars.slice(0,leftLength)+string+chars}function parseInt(string,radix,guard){return guard&&isIterateeCall(string,radix,guard)&&(radix=0),nativeParseInt(string,radix)}function repeat(string,n){var result="";if(string=baseToString(string),n=+n,n<1||!string||!nativeIsFinite(n))return result;do n%2&&(result+=string),n=floor(n/2),string+=string;while(n);return result}function startsWith(string,target,position){return string=baseToString(string),position=null==position?0:nativeMin(position<0?0:+position||0,string.length),string.lastIndexOf(target,position)==position}function template(string,options,otherOptions){var settings=lodash.templateSettings;otherOptions&&isIterateeCall(string,options,otherOptions)&&(options=otherOptions=null),string=baseToString(string),options=assignWith(baseAssign({},otherOptions||options),settings,assignOwnDefaults);var isEscaping,isEvaluating,imports=assignWith(baseAssign({},options.imports),settings.imports,assignOwnDefaults),importsKeys=keys(imports),importsValues=baseValues(imports,importsKeys),index=0,interpolate=options.interpolate||reNoMatch,source="__p += '",reDelimiters=RegExp((options.escape||reNoMatch).source+"|"+interpolate.source+"|"+(interpolate===reInterpolate?reEsTemplate:reNoMatch).source+"|"+(options.evaluate||reNoMatch).source+"|$","g"),sourceURL="//# sourceURL="+("sourceURL"in options?options.sourceURL:"lodash.templateSources["+ ++templateCounter+"]")+"\n";string.replace(reDelimiters,function(match,escapeValue,interpolateValue,esTemplateValue,evaluateValue,offset){return interpolateValue||(interpolateValue=esTemplateValue),source+=string.slice(index,offset).replace(reUnescapedString,escapeStringChar),escapeValue&&(isEscaping=!0,source+="' +\n__e("+escapeValue+") +\n'"),evaluateValue&&(isEvaluating=!0,source+="';\n"+evaluateValue+";\n__p += '"),interpolateValue&&(source+="' +\n((__t = ("+interpolateValue+")) == null ? '' : __t) +\n'"),index=offset+match.length,match}),source+="';\n";var variable=options.variable;variable||(source="with (obj) {\n"+source+"\n}\n"),source=(isEvaluating?source.replace(reEmptyStringLeading,""):source).replace(reEmptyStringMiddle,"$1").replace(reEmptyStringTrailing,"$1;"),source="function("+(variable||"obj")+") {\n"+(variable?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(isEscaping?", __e = _.escape":"")+(isEvaluating?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+source+"return __p\n}";var result=attempt(function(){return Function(importsKeys,sourceURL+"return "+source).apply(undefined,importsValues)});if(result.source=source,isError(result))throw result;return result}function trim(string,chars,guard){var value=string;return(string=baseToString(string))?(guard?isIterateeCall(value,chars,guard):null==chars)?string.slice(trimmedLeftIndex(string),trimmedRightIndex(string)+1):(chars+="",string.slice(charsLeftIndex(string,chars),charsRightIndex(string,chars)+1)):string}function trimLeft(string,chars,guard){var value=string;return string=baseToString(string),string?(guard?isIterateeCall(value,chars,guard):null==chars)?string.slice(trimmedLeftIndex(string)):string.slice(charsLeftIndex(string,chars+"")):string}function trimRight(string,chars,guard){var value=string;return string=baseToString(string),string?(guard?isIterateeCall(value,chars,guard):null==chars)?string.slice(0,trimmedRightIndex(string)+1):string.slice(0,charsRightIndex(string,chars+"")+1):string}function trunc(string,options,guard){guard&&isIterateeCall(string,options,guard)&&(options=null);var length=DEFAULT_TRUNC_LENGTH,omission=DEFAULT_TRUNC_OMISSION;if(null!=options)if(isObject(options)){var separator="separator"in options?options.separator:separator;length="length"in options?+options.length||0:length,omission="omission"in options?baseToString(options.omission):omission}else length=+options||0;if(string=baseToString(string),length>=string.length)return string;var end=length-omission.length;if(end<1)return omission;var result=string.slice(0,end);if(null==separator)return result+omission;if(isRegExp(separator)){if(string.slice(end).search(separator)){var match,newEnd,substring=string.slice(0,end);for(separator.global||(separator=RegExp(separator.source,(reFlags.exec(separator)||"")+"g")),separator.lastIndex=0;match=separator.exec(substring);)newEnd=match.index;result=result.slice(0,null==newEnd?end:newEnd)}}else if(string.indexOf(separator,end)!=end){var index=result.lastIndexOf(separator);index>-1&&(result=result.slice(0,index))}return result+omission}function unescape(string){return string=baseToString(string),string&&reHasEscapedHtml.test(string)?string.replace(reEscapedHtml,unescapeHtmlChar):string}function words(string,pattern,guard){return guard&&isIterateeCall(string,pattern,guard)&&(pattern=null),string=baseToString(string),string.match(pattern||reWords)||[]}function callback(func,thisArg,guard){return guard&&isIterateeCall(func,thisArg,guard)&&(thisArg=null),isObjectLike(func)?matches(func):baseCallback(func,thisArg)}function constant(value){return function(){return value}}function identity(value){return value}function matches(source){return baseMatches(baseClone(source,!0))}function matchesProperty(path,srcValue){return baseMatchesProperty(path,baseClone(srcValue,!0))}function mixin(object,source,options){if(null==options){var isObj=isObject(source),props=isObj?keys(source):null,methodNames=props&&props.length?baseFunctions(source,props):null;(methodNames?methodNames.length:isObj)||(methodNames=!1,options=source,source=object,object=this)}methodNames||(methodNames=baseFunctions(source,keys(source)));var chain=!0,index=-1,isFunc=isFunction(object),length=methodNames.length;options===!1?chain=!1:isObject(options)&&"chain"in options&&(chain=options.chain);for(;++index<length;){var methodName=methodNames[index],func=source[methodName];object[methodName]=func,isFunc&&(object.prototype[methodName]=function(func){return function(){var chainAll=this.__chain__;if(chain||chainAll){var result=object(this.__wrapped__),actions=result.__actions__=arrayCopy(this.__actions__);return actions.push({func:func,args:arguments,thisArg:object}),result.__chain__=chainAll,result}var args=[this.value()];return push.apply(args,arguments),func.apply(object,args)}}(func))}return object}function noConflict(){return context._=oldDash,this}function noop(){}function property(path){return isKey(path)?baseProperty(path):basePropertyDeep(path)}function propertyOf(object){return function(path){return baseGet(object,toPath(path),path+"")}}function range(start,end,step){step&&isIterateeCall(start,end,step)&&(end=step=null),start=+start||0,step=null==step?1:+step||0,null==end?(end=start,start=0):end=+end||0;for(var index=-1,length=nativeMax(ceil((end-start)/(step||1)),0),result=Array(length);++index<length;)result[index]=start,start+=step;return result}function times(n,iteratee,thisArg){if(n=floor(n),n<1||!nativeIsFinite(n))return[];var index=-1,result=Array(nativeMin(n,MAX_ARRAY_LENGTH));for(iteratee=bindCallback(iteratee,thisArg,1);++index<n;)index<MAX_ARRAY_LENGTH?result[index]=iteratee(index):iteratee(index);return result}function uniqueId(prefix){var id=++idCounter;return baseToString(prefix)+id}function add(augend,addend){return(+augend||0)+(+addend||0)}function sum(collection,iteratee,thisArg){thisArg&&isIterateeCall(collection,iteratee,thisArg)&&(iteratee=null);var callback=getCallback(),noIteratee=null==iteratee;return noIteratee&&callback===baseCallback||(noIteratee=!1,iteratee=callback(iteratee,thisArg,3)),noIteratee?arraySum(isArray(collection)?collection:toIterable(collection)):baseSum(collection,iteratee)}context=context?_.defaults(root.Object(),context,_.pick(root,contextProps)):root;var Array=context.Array,Date=context.Date,Error=context.Error,Function=context.Function,Math=context.Math,Number=context.Number,Object=context.Object,RegExp=context.RegExp,String=context.String,TypeError=context.TypeError,arrayProto=Array.prototype,objectProto=Object.prototype,stringProto=String.prototype,document=(document=context.window)?document.document:null,fnToString=Function.prototype.toString,hasOwnProperty=objectProto.hasOwnProperty,idCounter=0,objToString=objectProto.toString,oldDash=context._,reIsNative=RegExp("^"+escapeRegExp(fnToString.call(hasOwnProperty)).replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ArrayBuffer=getNative(context,"ArrayBuffer"),bufferSlice=getNative(ArrayBuffer&&new ArrayBuffer(0),"slice"),ceil=Math.ceil,clearTimeout=context.clearTimeout,floor=Math.floor,getPrototypeOf=getNative(Object,"getPrototypeOf"),parseFloat=context.parseFloat,push=arrayProto.push,Set=getNative(context,"Set"),setTimeout=context.setTimeout,splice=arrayProto.splice,Uint8Array=getNative(context,"Uint8Array"),WeakMap=getNative(context,"WeakMap"),Float64Array=function(){try{var func=getNative(context,"Float64Array"),result=new func(new ArrayBuffer(10),0,1)&&func}catch(e){}return result||null}(),nativeCreate=getNative(Object,"create"),nativeIsArray=getNative(Array,"isArray"),nativeIsFinite=context.isFinite,nativeKeys=getNative(Object,"keys"),nativeMax=Math.max,nativeMin=Math.min,nativeNow=getNative(Date,"now"),nativeNumIsFinite=getNative(Number,"isFinite"),nativeParseInt=context.parseInt,nativeRandom=Math.random,NEGATIVE_INFINITY=Number.NEGATIVE_INFINITY,POSITIVE_INFINITY=Number.POSITIVE_INFINITY,MAX_ARRAY_LENGTH=4294967295,MAX_ARRAY_INDEX=MAX_ARRAY_LENGTH-1,HALF_MAX_ARRAY_LENGTH=MAX_ARRAY_LENGTH>>>1,FLOAT64_BYTES_PER_ELEMENT=Float64Array?Float64Array.BYTES_PER_ELEMENT:0,MAX_SAFE_INTEGER=9007199254740991,metaMap=WeakMap&&new WeakMap,realNames={},support=lodash.support={};!function(x){var Ctor=function(){this.x=x},props=[];Ctor.prototype={valueOf:x,y:x};for(var key in new Ctor)props.push(key);try{support.dom=11===document.createDocumentFragment().nodeType}catch(e){support.dom=!1}}(1,0),lodash.templateSettings={escape:reEscape,evaluate:reEvaluate,interpolate:reInterpolate,variable:"",imports:{_:lodash}};var baseCreate=function(){function object(){}return function(prototype){if(isObject(prototype)){object.prototype=prototype;var result=new object;object.prototype=null}return result||{}}}(),baseEach=createBaseEach(baseForOwn),baseEachRight=createBaseEach(baseForOwnRight,!0),baseFor=createBaseFor(),baseForRight=createBaseFor(!0),baseSetData=metaMap?function(func,data){return metaMap.set(func,data),func}:identity;bufferSlice||(bufferClone=ArrayBuffer&&Uint8Array?function(buffer){var byteLength=buffer.byteLength,floatLength=Float64Array?floor(byteLength/FLOAT64_BYTES_PER_ELEMENT):0,offset=floatLength*FLOAT64_BYTES_PER_ELEMENT,result=new ArrayBuffer(byteLength);if(floatLength){var view=new Float64Array(result,0,floatLength);view.set(new Float64Array(buffer,0,floatLength))}return byteLength!=offset&&(view=new Uint8Array(result,offset),view.set(new Uint8Array(buffer,offset))),result}:constant(null));var createCache=nativeCreate&&Set?function(values){return new SetCache(values)}:constant(null),getData=metaMap?function(func){return metaMap.get(func)}:noop,getLength=baseProperty("length"),setData=function(){var count=0,lastCalled=0;return function(key,value){var stamp=now(),remaining=HOT_SPAN-(stamp-lastCalled);if(lastCalled=stamp,remaining>0){if(++count>=HOT_COUNT)return key}else count=0;return baseSetData(key,value)}}(),difference=restParam(function(array,values){return isArrayLike(array)?baseDifference(array,baseFlatten(values,!1,!0)):[]}),findIndex=createFindIndex(),findLastIndex=createFindIndex(!0),intersection=restParam(function(arrays){for(var othLength=arrays.length,othIndex=othLength,caches=Array(length),indexOf=getIndexOf(),isCommon=indexOf==baseIndexOf,result=[];othIndex--;){var value=arrays[othIndex]=isArrayLike(value=arrays[othIndex])?value:[];caches[othIndex]=isCommon&&value.length>=120?createCache(othIndex&&value):null}var array=arrays[0],index=-1,length=array?array.length:0,seen=caches[0];outer:for(;++index<length;)if(value=array[index],(seen?cacheIndexOf(seen,value):indexOf(result,value,0))<0){for(var othIndex=othLength;--othIndex;){var cache=caches[othIndex];if((cache?cacheIndexOf(cache,value):indexOf(arrays[othIndex],value,0))<0)continue outer}seen&&seen.push(value),result.push(value)}return result}),pullAt=restParam(function(array,indexes){indexes=baseFlatten(indexes);var result=baseAt(array,indexes);return basePullAt(array,indexes.sort(baseCompareAscending)),result}),sortedIndex=createSortedIndex(),sortedLastIndex=createSortedIndex(!0),union=restParam(function(arrays){return baseUniq(baseFlatten(arrays,!1,!0))}),without=restParam(function(array,values){return isArrayLike(array)?baseDifference(array,values):[]}),zip=restParam(unzip),zipWith=restParam(function(arrays){var length=arrays.length,iteratee=length>2?arrays[length-2]:undefined,thisArg=length>1?arrays[length-1]:undefined;return length>2&&"function"==typeof iteratee?length-=2:(iteratee=length>1&&"function"==typeof thisArg?(--length,thisArg):undefined,thisArg=undefined),arrays.length=length,unzipWith(arrays,iteratee,thisArg)}),at=restParam(function(collection,props){return baseAt(collection,baseFlatten(props))}),countBy=createAggregator(function(result,value,key){hasOwnProperty.call(result,key)?++result[key]:result[key]=1}),find=createFind(baseEach),findLast=createFind(baseEachRight,!0),forEach=createForEach(arrayEach,baseEach),forEachRight=createForEach(arrayEachRight,baseEachRight),groupBy=createAggregator(function(result,value,key){hasOwnProperty.call(result,key)?result[key].push(value):result[key]=[value]}),indexBy=createAggregator(function(result,value,key){result[key]=value}),invoke=restParam(function(collection,path,args){var index=-1,isFunc="function"==typeof path,isProp=isKey(path),result=isArrayLike(collection)?Array(collection.length):[];return baseEach(collection,function(value){var func=isFunc?path:isProp&&null!=value?value[path]:null;result[++index]=func?func.apply(value,args):invokePath(value,path,args)}),result}),partition=createAggregator(function(result,value,key){result[key?0:1].push(value)},function(){return[[],[]]}),reduce=createReduce(arrayReduce,baseEach),reduceRight=createReduce(arrayReduceRight,baseEachRight),sortByAll=restParam(function(collection,iteratees){if(null==collection)return[];var guard=iteratees[2];return guard&&isIterateeCall(iteratees[0],iteratees[1],guard)&&(iteratees.length=1),baseSortByOrder(collection,baseFlatten(iteratees),[])}),now=nativeNow||function(){return(new Date).getTime()},bind=restParam(function(func,thisArg,partials){var bitmask=BIND_FLAG;if(partials.length){var holders=replaceHolders(partials,bind.placeholder);bitmask|=PARTIAL_FLAG}return createWrapper(func,bitmask,thisArg,partials,holders)}),bindAll=restParam(function(object,methodNames){methodNames=methodNames.length?baseFlatten(methodNames):functions(object);for(var index=-1,length=methodNames.length;++index<length;){var key=methodNames[index];object[key]=createWrapper(object[key],BIND_FLAG,object)}return object}),bindKey=restParam(function(object,key,partials){var bitmask=BIND_FLAG|BIND_KEY_FLAG;if(partials.length){var holders=replaceHolders(partials,bindKey.placeholder);bitmask|=PARTIAL_FLAG}return createWrapper(key,bitmask,object,partials,holders)}),curry=createCurry(CURRY_FLAG),curryRight=createCurry(CURRY_RIGHT_FLAG),defer=restParam(function(func,args){return baseDelay(func,1,args)}),delay=restParam(function(func,wait,args){return baseDelay(func,wait,args)}),flow=createFlow(),flowRight=createFlow(!0),partial=createPartial(PARTIAL_FLAG),partialRight=createPartial(PARTIAL_RIGHT_FLAG),rearg=restParam(function(func,indexes){return createWrapper(func,REARG_FLAG,null,null,null,baseFlatten(indexes))}),isArray=nativeIsArray||function(value){return isObjectLike(value)&&isLength(value.length)&&objToString.call(value)==arrayTag};support.dom||(isElement=function(value){return!!value&&1===value.nodeType&&isObjectLike(value)&&!isPlainObject(value)});var isFinite=nativeNumIsFinite||function(value){return"number"==typeof value&&nativeIsFinite(value)},isFunction=baseIsFunction(/x/)||Uint8Array&&!baseIsFunction(Uint8Array)?function(value){return objToString.call(value)==funcTag}:baseIsFunction,isPlainObject=getPrototypeOf?function(value){if(!value||objToString.call(value)!=objectTag)return!1;var valueOf=getNative(value,"valueOf"),objProto=valueOf&&(objProto=getPrototypeOf(valueOf))&&getPrototypeOf(objProto);return objProto?value==objProto||getPrototypeOf(value)==objProto:shimIsPlainObject(value)}:shimIsPlainObject,assign=createAssigner(function(object,source,customizer){return customizer?assignWith(object,source,customizer):baseAssign(object,source)}),defaults=restParam(function(args){var object=args[0];return null==object?object:(args.push(assignDefaults),assign.apply(undefined,args))}),findKey=createFindKey(baseForOwn),findLastKey=createFindKey(baseForOwnRight),forIn=createForIn(baseFor),forInRight=createForIn(baseForRight),forOwn=createForOwn(baseForOwn),forOwnRight=createForOwn(baseForOwnRight),keys=nativeKeys?function(object){var Ctor=null==object?null:object.constructor;return"function"==typeof Ctor&&Ctor.prototype===object||"function"!=typeof object&&isArrayLike(object)?shimKeys(object):isObject(object)?nativeKeys(object):[]}:shimKeys,mapKeys=createObjectMapper(!0),mapValues=createObjectMapper(),merge=createAssigner(baseMerge),omit=restParam(function(object,props){if(null==object)return{};if("function"!=typeof props[0]){var props=arrayMap(baseFlatten(props),String);return pickByArray(object,baseDifference(keysIn(object),props))}var predicate=bindCallback(props[0],props[1],3);return pickByCallback(object,function(value,key,object){return!predicate(value,key,object)})}),pick=restParam(function(object,props){return null==object?{}:"function"==typeof props[0]?pickByCallback(object,bindCallback(props[0],props[1],3)):pickByArray(object,baseFlatten(props))}),camelCase=createCompounder(function(result,word,index){return word=word.toLowerCase(),result+(index?word.charAt(0).toUpperCase()+word.slice(1):word)}),kebabCase=createCompounder(function(result,word,index){return result+(index?"-":"")+word.toLowerCase()}),padLeft=createPadDir(),padRight=createPadDir(!0);8!=nativeParseInt(whitespace+"08")&&(parseInt=function(string,radix,guard){return(guard?isIterateeCall(string,radix,guard):null==radix)?radix=0:radix&&(radix=+radix),string=trim(string),nativeParseInt(string,radix||(reHasHexPrefix.test(string)?16:10))});var snakeCase=createCompounder(function(result,word,index){return result+(index?"_":"")+word.toLowerCase()}),startCase=createCompounder(function(result,word,index){return result+(index?" ":"")+(word.charAt(0).toUpperCase()+word.slice(1))}),attempt=restParam(function(func,args){try{return func.apply(undefined,args)}catch(e){return isError(e)?e:new Error(e)}}),method=restParam(function(path,args){return function(object){return invokePath(object,path,args)}}),methodOf=restParam(function(object,args){return function(path){return invokePath(object,path,args)}}),max=createExtremum(gt,NEGATIVE_INFINITY),min=createExtremum(lt,POSITIVE_INFINITY);return lodash.prototype=baseLodash.prototype,LodashWrapper.prototype=baseCreate(baseLodash.prototype),LodashWrapper.prototype.constructor=LodashWrapper,LazyWrapper.prototype=baseCreate(baseLodash.prototype),LazyWrapper.prototype.constructor=LazyWrapper,MapCache.prototype["delete"]=mapDelete,MapCache.prototype.get=mapGet,MapCache.prototype.has=mapHas,MapCache.prototype.set=mapSet,SetCache.prototype.push=cachePush,memoize.Cache=MapCache,lodash.after=after,lodash.ary=ary,lodash.assign=assign,lodash.at=at,lodash.before=before,lodash.bind=bind,lodash.bindAll=bindAll,lodash.bindKey=bindKey,lodash.callback=callback,lodash.chain=chain,lodash.chunk=chunk,lodash.compact=compact,lodash.constant=constant,lodash.countBy=countBy,lodash.create=create,lodash.curry=curry,lodash.curryRight=curryRight,lodash.debounce=debounce,lodash.defaults=defaults,lodash.defer=defer,lodash.delay=delay,lodash.difference=difference,lodash.drop=drop,lodash.dropRight=dropRight,lodash.dropRightWhile=dropRightWhile,lodash.dropWhile=dropWhile,lodash.fill=fill,lodash.filter=filter,lodash.flatten=flatten,lodash.flattenDeep=flattenDeep,lodash.flow=flow,lodash.flowRight=flowRight,lodash.forEach=forEach,lodash.forEachRight=forEachRight,lodash.forIn=forIn,lodash.forInRight=forInRight,lodash.forOwn=forOwn,lodash.forOwnRight=forOwnRight,lodash.functions=functions,lodash.groupBy=groupBy,lodash.indexBy=indexBy,lodash.initial=initial,lodash.intersection=intersection,lodash.invert=invert,lodash.invoke=invoke,lodash.keys=keys,lodash.keysIn=keysIn,lodash.map=map,lodash.mapKeys=mapKeys,lodash.mapValues=mapValues,lodash.matches=matches,lodash.matchesProperty=matchesProperty,lodash.memoize=memoize,lodash.merge=merge,lodash.method=method,lodash.methodOf=methodOf,lodash.mixin=mixin,lodash.negate=negate,lodash.omit=omit,lodash.once=once,lodash.pairs=pairs,lodash.partial=partial,lodash.partialRight=partialRight,lodash.partition=partition,lodash.pick=pick,lodash.pluck=pluck,lodash.property=property,lodash.propertyOf=propertyOf,lodash.pull=pull,lodash.pullAt=pullAt,lodash.range=range,lodash.rearg=rearg,lodash.reject=reject,
lodash.remove=remove,lodash.rest=rest,lodash.restParam=restParam,lodash.set=set,lodash.shuffle=shuffle,lodash.slice=slice,lodash.sortBy=sortBy,lodash.sortByAll=sortByAll,lodash.sortByOrder=sortByOrder,lodash.spread=spread,lodash.take=take,lodash.takeRight=takeRight,lodash.takeRightWhile=takeRightWhile,lodash.takeWhile=takeWhile,lodash.tap=tap,lodash.throttle=throttle,lodash.thru=thru,lodash.times=times,lodash.toArray=toArray,lodash.toPlainObject=toPlainObject,lodash.transform=transform,lodash.union=union,lodash.uniq=uniq,lodash.unzip=unzip,lodash.unzipWith=unzipWith,lodash.values=values,lodash.valuesIn=valuesIn,lodash.where=where,lodash.without=without,lodash.wrap=wrap,lodash.xor=xor,lodash.zip=zip,lodash.zipObject=zipObject,lodash.zipWith=zipWith,lodash.backflow=flowRight,lodash.collect=map,lodash.compose=flowRight,lodash.each=forEach,lodash.eachRight=forEachRight,lodash.extend=assign,lodash.iteratee=callback,lodash.methods=functions,lodash.object=zipObject,lodash.select=filter,lodash.tail=rest,lodash.unique=uniq,mixin(lodash,lodash),lodash.add=add,lodash.attempt=attempt,lodash.camelCase=camelCase,lodash.capitalize=capitalize,lodash.clone=clone,lodash.cloneDeep=cloneDeep,lodash.deburr=deburr,lodash.endsWith=endsWith,lodash.escape=escape,lodash.escapeRegExp=escapeRegExp,lodash.every=every,lodash.find=find,lodash.findIndex=findIndex,lodash.findKey=findKey,lodash.findLast=findLast,lodash.findLastIndex=findLastIndex,lodash.findLastKey=findLastKey,lodash.findWhere=findWhere,lodash.first=first,lodash.get=get,lodash.gt=gt,lodash.gte=gte,lodash.has=has,lodash.identity=identity,lodash.includes=includes,lodash.indexOf=indexOf,lodash.inRange=inRange,lodash.isArguments=isArguments,lodash.isArray=isArray,lodash.isBoolean=isBoolean,lodash.isDate=isDate,lodash.isElement=isElement,lodash.isEmpty=isEmpty,lodash.isEqual=isEqual,lodash.isError=isError,lodash.isFinite=isFinite,lodash.isFunction=isFunction,lodash.isMatch=isMatch,lodash.isNaN=isNaN,lodash.isNative=isNative,lodash.isNull=isNull,lodash.isNumber=isNumber,lodash.isObject=isObject,lodash.isPlainObject=isPlainObject,lodash.isRegExp=isRegExp,lodash.isString=isString,lodash.isTypedArray=isTypedArray,lodash.isUndefined=isUndefined,lodash.kebabCase=kebabCase,lodash.last=last,lodash.lastIndexOf=lastIndexOf,lodash.lt=lt,lodash.lte=lte,lodash.max=max,lodash.min=min,lodash.noConflict=noConflict,lodash.noop=noop,lodash.now=now,lodash.pad=pad,lodash.padLeft=padLeft,lodash.padRight=padRight,lodash.parseInt=parseInt,lodash.random=random,lodash.reduce=reduce,lodash.reduceRight=reduceRight,lodash.repeat=repeat,lodash.result=result,lodash.runInContext=runInContext,lodash.size=size,lodash.snakeCase=snakeCase,lodash.some=some,lodash.sortedIndex=sortedIndex,lodash.sortedLastIndex=sortedLastIndex,lodash.startCase=startCase,lodash.startsWith=startsWith,lodash.sum=sum,lodash.template=template,lodash.trim=trim,lodash.trimLeft=trimLeft,lodash.trimRight=trimRight,lodash.trunc=trunc,lodash.unescape=unescape,lodash.uniqueId=uniqueId,lodash.words=words,lodash.all=every,lodash.any=some,lodash.contains=includes,lodash.eq=isEqual,lodash.detect=find,lodash.foldl=reduce,lodash.foldr=reduceRight,lodash.head=first,lodash.include=includes,lodash.inject=reduce,mixin(lodash,function(){var source={};return baseForOwn(lodash,function(func,methodName){lodash.prototype[methodName]||(source[methodName]=func)}),source}(),!1),lodash.sample=sample,lodash.prototype.sample=function(n){return this.__chain__||null!=n?this.thru(function(value){return sample(value,n)}):sample(this.value())},lodash.VERSION=VERSION,arrayEach(["bind","bindKey","curry","curryRight","partial","partialRight"],function(methodName){lodash[methodName].placeholder=lodash}),arrayEach(["dropWhile","filter","map","takeWhile"],function(methodName,type){var isFilter=type!=LAZY_MAP_FLAG,isDropWhile=type==LAZY_DROP_WHILE_FLAG;LazyWrapper.prototype[methodName]=function(iteratee,thisArg){var filtered=this.__filtered__,result=filtered&&isDropWhile?new LazyWrapper(this):this.clone(),iteratees=result.__iteratees__||(result.__iteratees__=[]);return iteratees.push({done:!1,count:0,index:0,iteratee:getCallback(iteratee,thisArg,1),limit:-1,type:type}),result.__filtered__=filtered||isFilter,result}}),arrayEach(["drop","take"],function(methodName,index){var whileName=methodName+"While";LazyWrapper.prototype[methodName]=function(n){var filtered=this.__filtered__,result=filtered&&!index?this.dropWhile():this.clone();if(n=null==n?1:nativeMax(floor(n)||0,0),filtered)index?result.__takeCount__=nativeMin(result.__takeCount__,n):last(result.__iteratees__).limit=n;else{var views=result.__views__||(result.__views__=[]);views.push({size:n,type:methodName+(result.__dir__<0?"Right":"")})}return result},LazyWrapper.prototype[methodName+"Right"]=function(n){return this.reverse()[methodName](n).reverse()},LazyWrapper.prototype[methodName+"RightWhile"]=function(predicate,thisArg){return this.reverse()[whileName](predicate,thisArg).reverse()}}),arrayEach(["first","last"],function(methodName,index){var takeName="take"+(index?"Right":"");LazyWrapper.prototype[methodName]=function(){return this[takeName](1).value()[0]}}),arrayEach(["initial","rest"],function(methodName,index){var dropName="drop"+(index?"":"Right");LazyWrapper.prototype[methodName]=function(){return this[dropName](1)}}),arrayEach(["pluck","where"],function(methodName,index){var operationName=index?"filter":"map",createCallback=index?baseMatches:property;LazyWrapper.prototype[methodName]=function(value){return this[operationName](createCallback(value))}}),LazyWrapper.prototype.compact=function(){return this.filter(identity)},LazyWrapper.prototype.reject=function(predicate,thisArg){return predicate=getCallback(predicate,thisArg,1),this.filter(function(value){return!predicate(value)})},LazyWrapper.prototype.slice=function(start,end){start=null==start?0:+start||0;var result=this;return start<0?result=this.takeRight(-start):start&&(result=this.drop(start)),end!==undefined&&(end=+end||0,result=end<0?result.dropRight(-end):result.take(end-start)),result},LazyWrapper.prototype.toArray=function(){return this.drop(0)},baseForOwn(LazyWrapper.prototype,function(func,methodName){var lodashFunc=lodash[methodName];if(lodashFunc){var checkIteratee=/^(?:filter|map|reject)|While$/.test(methodName),retUnwrapped=/^(?:first|last)$/.test(methodName);lodash.prototype[methodName]=function(){var args=arguments,chainAll=this.__chain__,value=this.__wrapped__,isHybrid=!!this.__actions__.length,isLazy=value instanceof LazyWrapper,iteratee=args[0],useLazy=isLazy||isArray(value);useLazy&&checkIteratee&&"function"==typeof iteratee&&1!=iteratee.length&&(isLazy=useLazy=!1);var onlyLazy=isLazy&&!isHybrid;if(retUnwrapped&&!chainAll)return onlyLazy?func.call(value):lodashFunc.call(lodash,this.value());var interceptor=function(value){var otherArgs=[value];return push.apply(otherArgs,args),lodashFunc.apply(lodash,otherArgs)};if(useLazy){var wrapper=onlyLazy?value:new LazyWrapper(this),result=func.apply(wrapper,args);if(!retUnwrapped&&(isHybrid||result.__actions__)){var actions=result.__actions__||(result.__actions__=[]);actions.push({func:thru,args:[interceptor],thisArg:lodash})}return new LodashWrapper(result,chainAll)}return this.thru(interceptor)}}}),arrayEach(["concat","join","pop","push","replace","shift","sort","splice","split","unshift"],function(methodName){var func=(/^(?:replace|split)$/.test(methodName)?stringProto:arrayProto)[methodName],chainName=/^(?:push|sort|unshift)$/.test(methodName)?"tap":"thru",retUnwrapped=/^(?:join|pop|replace|shift)$/.test(methodName);lodash.prototype[methodName]=function(){var args=arguments;return retUnwrapped&&!this.__chain__?func.apply(this.value(),args):this[chainName](function(value){return func.apply(value,args)})}}),baseForOwn(LazyWrapper.prototype,function(func,methodName){var lodashFunc=lodash[methodName];if(lodashFunc){var key=lodashFunc.name,names=realNames[key]||(realNames[key]=[]);names.push({name:methodName,func:lodashFunc})}}),realNames[createHybridWrapper(null,BIND_KEY_FLAG).name]=[{name:"wrapper",func:null}],LazyWrapper.prototype.clone=lazyClone,LazyWrapper.prototype.reverse=lazyReverse,LazyWrapper.prototype.value=lazyValue,lodash.prototype.chain=wrapperChain,lodash.prototype.commit=wrapperCommit,lodash.prototype.plant=wrapperPlant,lodash.prototype.reverse=wrapperReverse,lodash.prototype.toString=wrapperToString,lodash.prototype.run=lodash.prototype.toJSON=lodash.prototype.valueOf=lodash.prototype.value=wrapperValue,lodash.prototype.collect=lodash.prototype.map,lodash.prototype.head=lodash.prototype.first,lodash.prototype.select=lodash.prototype.filter,lodash.prototype.tail=lodash.prototype.rest,lodash}var undefined,VERSION="3.9.3",BIND_FLAG=1,BIND_KEY_FLAG=2,CURRY_BOUND_FLAG=4,CURRY_FLAG=8,CURRY_RIGHT_FLAG=16,PARTIAL_FLAG=32,PARTIAL_RIGHT_FLAG=64,ARY_FLAG=128,REARG_FLAG=256,DEFAULT_TRUNC_LENGTH=30,DEFAULT_TRUNC_OMISSION="...",HOT_COUNT=150,HOT_SPAN=16,LAZY_DROP_WHILE_FLAG=0,LAZY_FILTER_FLAG=1,LAZY_MAP_FLAG=2,FUNC_ERROR_TEXT="Expected a function",PLACEHOLDER="__lodash_placeholder__",argsTag="[object Arguments]",arrayTag="[object Array]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag="[object Function]",mapTag="[object Map]",numberTag="[object Number]",objectTag="[object Object]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",weakMapTag="[object WeakMap]",arrayBufferTag="[object ArrayBuffer]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",reEmptyStringLeading=/\b__p \+= '';/g,reEmptyStringMiddle=/\b(__p \+=) '' \+/g,reEmptyStringTrailing=/(__e\(.*?\)|\b__t\)) \+\n'';/g,reEscapedHtml=/&(?:amp|lt|gt|quot|#39|#96);/g,reUnescapedHtml=/[&<>"'`]/g,reHasEscapedHtml=RegExp(reEscapedHtml.source),reHasUnescapedHtml=RegExp(reUnescapedHtml.source),reEscape=/<%-([\s\S]+?)%>/g,reEvaluate=/<%([\s\S]+?)%>/g,reInterpolate=/<%=([\s\S]+?)%>/g,reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/,rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,reRegExpChars=/[.*+?^${}()|[\]\/\\]/g,reHasRegExpChars=RegExp(reRegExpChars.source),reComboMark=/[\u0300-\u036f\ufe20-\ufe23]/g,reEscapeChar=/\\(\\)?/g,reEsTemplate=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,reFlags=/\w*$/,reHasHexPrefix=/^0[xX]/,reIsHostCtor=/^\[object .+?Constructor\]$/,reIsUint=/^\d+$/,reLatin1=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,reNoMatch=/($^)/,reUnescapedString=/['\n\r\u2028\u2029\\]/g,reWords=function(){var upper="[A-Z\\xc0-\\xd6\\xd8-\\xde]",lower="[a-z\\xdf-\\xf6\\xf8-\\xff]+";return RegExp(upper+"+(?="+upper+lower+")|"+upper+"?"+lower+"|"+upper+"+|[0-9]+","g")}(),whitespace=" \t\x0B\f\ufeff\n\r\u2028\u2029",contextProps=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","document","isFinite","parseFloat","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","window"],templateCounter=-1,typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=!0,typedArrayTags[argsTag]=typedArrayTags[arrayTag]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag]=typedArrayTags[mapTag]=typedArrayTags[numberTag]=typedArrayTags[objectTag]=typedArrayTags[regexpTag]=typedArrayTags[setTag]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag]=!1;var cloneableTags={};cloneableTags[argsTag]=cloneableTags[arrayTag]=cloneableTags[arrayBufferTag]=cloneableTags[boolTag]=cloneableTags[dateTag]=cloneableTags[float32Tag]=cloneableTags[float64Tag]=cloneableTags[int8Tag]=cloneableTags[int16Tag]=cloneableTags[int32Tag]=cloneableTags[numberTag]=cloneableTags[objectTag]=cloneableTags[regexpTag]=cloneableTags[stringTag]=cloneableTags[uint8Tag]=cloneableTags[uint8ClampedTag]=cloneableTags[uint16Tag]=cloneableTags[uint32Tag]=!0,cloneableTags[errorTag]=cloneableTags[funcTag]=cloneableTags[mapTag]=cloneableTags[setTag]=cloneableTags[weakMapTag]=!1;var debounceOptions={leading:!1,maxWait:0,trailing:!1},deburredLetters={"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss"},htmlEscapes={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},htmlUnescapes={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},objectTypes={"function":!0,object:!0},stringEscapes={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},freeExports=objectTypes[typeof exports]&&exports&&!exports.nodeType&&exports,freeModule=objectTypes[typeof module]&&module&&!module.nodeType&&module,freeGlobal=freeExports&&freeModule&&"object"==typeof global&&global&&global.Object&&global,freeSelf=objectTypes[typeof self]&&self&&self.Object&&self,freeWindow=objectTypes[typeof window]&&window&&window.Object&&window,moduleExports=freeModule&&freeModule.exports===freeExports&&freeExports,root=freeGlobal||freeWindow!==(this&&this.window)&&freeWindow||freeSelf||this,_=runInContext();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(root._=_,define(function(){return _})):freeExports&&freeModule?moduleExports?(freeModule.exports=_)._=_:freeExports._=_:root._=_}.call(this),function(window){function isArraylike(obj){var length=obj.length,type=$.type(obj);return"function"!==type&&!$.isWindow(obj)&&(!(1!==obj.nodeType||!length)||("array"===type||0===length||"number"==typeof length&&length>0&&length-1 in obj))}if(!window.jQuery){var $=function(selector,context){return new $.fn.init(selector,context)};$.isWindow=function(obj){return null!=obj&&obj==obj.window},$.type=function(obj){return null==obj?obj+"":"object"==typeof obj||"function"==typeof obj?class2type[toString.call(obj)]||"object":typeof obj},$.isArray=Array.isArray||function(obj){return"array"===$.type(obj)},$.isPlainObject=function(obj){var key;if(!obj||"object"!==$.type(obj)||obj.nodeType||$.isWindow(obj))return!1;try{if(obj.constructor&&!hasOwn.call(obj,"constructor")&&!hasOwn.call(obj.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}for(key in obj);return void 0===key||hasOwn.call(obj,key)},$.each=function(obj,callback,args){var value,i=0,length=obj.length,isArray=isArraylike(obj);if(args){if(isArray)for(;i<length&&(value=callback.apply(obj[i],args),value!==!1);i++);else for(i in obj)if(value=callback.apply(obj[i],args),value===!1)break}else if(isArray)for(;i<length&&(value=callback.call(obj[i],i,obj[i]),value!==!1);i++);else for(i in obj)if(value=callback.call(obj[i],i,obj[i]),value===!1)break;return obj},$.data=function(node,key,value){if(void 0===value){var id=node[$.expando],store=id&&cache[id];if(void 0===key)return store;if(store&&key in store)return store[key]}else if(void 0!==key){var id=node[$.expando]||(node[$.expando]=++$.uuid);return cache[id]=cache[id]||{},cache[id][key]=value,value}},$.removeData=function(node,keys){var id=node[$.expando],store=id&&cache[id];store&&$.each(keys,function(_,key){delete store[key]})},$.extend=function(){var src,copyIsArray,copy,name,options,clone,target=arguments[0]||{},i=1,length=arguments.length,deep=!1;for("boolean"==typeof target&&(deep=target,target=arguments[i]||{},i++),"object"!=typeof target&&"function"!==$.type(target)&&(target={}),i===length&&(target=this,i--);i<length;i++)if(null!=(options=arguments[i]))for(name in options)src=target[name],copy=options[name],target!==copy&&(deep&&copy&&($.isPlainObject(copy)||(copyIsArray=$.isArray(copy)))?(copyIsArray?(copyIsArray=!1,clone=src&&$.isArray(src)?src:[]):clone=src&&$.isPlainObject(src)?src:{},target[name]=$.extend(deep,clone,copy)):void 0!==copy&&(target[name]=copy));return target},$.queue=function(elem,type,data){function $makeArray(arr,results){var ret=results||[];return null!=arr&&(isArraylike(Object(arr))?!function(first,second){for(var len=+second.length,j=0,i=first.length;j<len;)first[i++]=second[j++];if(len!==len)for(;void 0!==second[j];)first[i++]=second[j++];return first.length=i,first}(ret,"string"==typeof arr?[arr]:arr):[].push.call(ret,arr)),ret}if(elem){type=(type||"fx")+"queue";var q=$.data(elem,type);return data?(!q||$.isArray(data)?q=$.data(elem,type,$makeArray(data)):q.push(data),q):q||[]}},$.dequeue=function(elems,type){$.each(elems.nodeType?[elems]:elems,function(i,elem){type=type||"fx";var queue=$.queue(elem,type),fn=queue.shift();"inprogress"===fn&&(fn=queue.shift()),fn&&("fx"===type&&queue.unshift("inprogress"),fn.call(elem,function(){$.dequeue(elem,type)}))})},$.fn=$.prototype={init:function(selector){if(selector.nodeType)return this[0]=selector,this;throw new Error("Not a DOM node.")},offset:function(){var box=this[0].getBoundingClientRect?this[0].getBoundingClientRect():{top:0,left:0};return{top:box.top+(window.pageYOffset||document.scrollTop||0)-(document.clientTop||0),left:box.left+(window.pageXOffset||document.scrollLeft||0)-(document.clientLeft||0)}},position:function(){function offsetParent(){for(var offsetParent=this.offsetParent||document;offsetParent&&"html"===!offsetParent.nodeType.toLowerCase&&"static"===offsetParent.style.position;)offsetParent=offsetParent.offsetParent;return offsetParent||document}var elem=this[0],offsetParent=offsetParent.apply(elem),offset=this.offset(),parentOffset=/^(?:body|html)$/i.test(offsetParent.nodeName)?{top:0,left:0}:$(offsetParent).offset();return offset.top-=parseFloat(elem.style.marginTop)||0,offset.left-=parseFloat(elem.style.marginLeft)||0,offsetParent.style&&(parentOffset.top+=parseFloat(offsetParent.style.borderTopWidth)||0,parentOffset.left+=parseFloat(offsetParent.style.borderLeftWidth)||0),{top:offset.top-parentOffset.top,left:offset.left-parentOffset.left}}};var cache={};$.expando="velocity"+(new Date).getTime(),$.uuid=0;for(var class2type={},hasOwn=class2type.hasOwnProperty,toString=class2type.toString,types="Boolean Number String Function Array Date RegExp Object Error".split(" "),i=0;i<types.length;i++)class2type["[object "+types[i]+"]"]=types[i].toLowerCase();$.fn.init.prototype=$.fn,window.Velocity={Utilities:$}}}(window),function(factory){"object"==typeof module&&"object"==typeof module.exports?module.exports=factory():"function"==typeof define&&define.amd?define(factory):factory()}(function(){return function(global,window,document,undefined){function compactSparseArray(array){for(var index=-1,length=array?array.length:0,result=[];++index<length;){var value=array[index];value&&result.push(value)}return result}function sanitizeElements(elements){return Type.isWrapped(elements)?elements=[].slice.call(elements):Type.isNode(elements)&&(elements=[elements]),elements}function Data(element){var response=$.data(element,"velocity");return null===response?undefined:response}function generateStep(steps){return function(p){return Math.round(p*steps)*(1/steps)}}function generateBezier(mX1,mY1,mX2,mY2){function A(aA1,aA2){return 1-3*aA2+3*aA1}function B(aA1,aA2){return 3*aA2-6*aA1}function C(aA1){return 3*aA1}function calcBezier(aT,aA1,aA2){return((A(aA1,aA2)*aT+B(aA1,aA2))*aT+C(aA1))*aT}function getSlope(aT,aA1,aA2){return 3*A(aA1,aA2)*aT*aT+2*B(aA1,aA2)*aT+C(aA1)}function newtonRaphsonIterate(aX,aGuessT){for(var i=0;i<NEWTON_ITERATIONS;++i){var currentSlope=getSlope(aGuessT,mX1,mX2);if(0===currentSlope)return aGuessT;var currentX=calcBezier(aGuessT,mX1,mX2)-aX;aGuessT-=currentX/currentSlope}return aGuessT}function calcSampleValues(){for(var i=0;i<kSplineTableSize;++i)mSampleValues[i]=calcBezier(i*kSampleStepSize,mX1,mX2)}function binarySubdivide(aX,aA,aB){var currentX,currentT,i=0;do currentT=aA+(aB-aA)/2,currentX=calcBezier(currentT,mX1,mX2)-aX,currentX>0?aB=currentT:aA=currentT;while(Math.abs(currentX)>SUBDIVISION_PRECISION&&++i<SUBDIVISION_MAX_ITERATIONS);return currentT}function getTForX(aX){for(var intervalStart=0,currentSample=1,lastSample=kSplineTableSize-1;currentSample!=lastSample&&mSampleValues[currentSample]<=aX;++currentSample)intervalStart+=kSampleStepSize;--currentSample;var dist=(aX-mSampleValues[currentSample])/(mSampleValues[currentSample+1]-mSampleValues[currentSample]),guessForT=intervalStart+dist*kSampleStepSize,initialSlope=getSlope(guessForT,mX1,mX2);return initialSlope>=NEWTON_MIN_SLOPE?newtonRaphsonIterate(aX,guessForT):0==initialSlope?guessForT:binarySubdivide(aX,intervalStart,intervalStart+kSampleStepSize)}function precompute(){_precomputed=!0,mX1==mY1&&mX2==mY2||calcSampleValues()}var NEWTON_ITERATIONS=4,NEWTON_MIN_SLOPE=.001,SUBDIVISION_PRECISION=1e-7,SUBDIVISION_MAX_ITERATIONS=10,kSplineTableSize=11,kSampleStepSize=1/(kSplineTableSize-1),float32ArraySupported="Float32Array"in window;if(4!==arguments.length)return!1;for(var i=0;i<4;++i)if("number"!=typeof arguments[i]||isNaN(arguments[i])||!isFinite(arguments[i]))return!1;mX1=Math.min(mX1,1),mX2=Math.min(mX2,1),mX1=Math.max(mX1,0),mX2=Math.max(mX2,0);var mSampleValues=float32ArraySupported?new Float32Array(kSplineTableSize):new Array(kSplineTableSize),_precomputed=!1,f=function(aX){return _precomputed||precompute(),mX1===mY1&&mX2===mY2?aX:0===aX?0:1===aX?1:calcBezier(getTForX(aX),mY1,mY2)};f.getControlPoints=function(){return[{x:mX1,y:mY1},{x:mX2,y:mY2}]};var str="generateBezier("+[mX1,mY1,mX2,mY2]+")";return f.toString=function(){return str},f}function getEasing(value,duration){var easing=value;return Type.isString(value)?Velocity.Easings[value]||(easing=!1):easing=Type.isArray(value)&&1===value.length?generateStep.apply(null,value):Type.isArray(value)&&2===value.length?generateSpringRK4.apply(null,value.concat([duration])):!(!Type.isArray(value)||4!==value.length)&&generateBezier.apply(null,value),easing===!1&&(easing=Velocity.Easings[Velocity.defaults.easing]?Velocity.defaults.easing:EASING_DEFAULT),easing}function tick(timestamp){if(timestamp){var timeCurrent=(new Date).getTime(),callsLength=Velocity.State.calls.length;callsLength>1e4&&(Velocity.State.calls=compactSparseArray(Velocity.State.calls));for(var i=0;i<callsLength;i++)if(Velocity.State.calls[i]){var callContainer=Velocity.State.calls[i],call=callContainer[0],opts=callContainer[2],timeStart=callContainer[3],firstTick=!!timeStart,tweenDummyValue=null;timeStart||(timeStart=Velocity.State.calls[i][3]=timeCurrent-16);for(var percentComplete=Math.min((timeCurrent-timeStart)/opts.duration,1),j=0,callLength=call.length;j<callLength;j++){var tweensContainer=call[j],element=tweensContainer.element;if(Data(element)){var transformPropertyExists=!1;if(opts.display!==undefined&&null!==opts.display&&"none"!==opts.display){if("flex"===opts.display){var flexValues=["-webkit-box","-moz-box","-ms-flexbox","-webkit-flex"];$.each(flexValues,function(i,flexValue){CSS.setPropertyValue(element,"display",flexValue)})}CSS.setPropertyValue(element,"display",opts.display)}opts.visibility!==undefined&&"hidden"!==opts.visibility&&CSS.setPropertyValue(element,"visibility",opts.visibility);for(var property in tweensContainer)if("element"!==property){var currentValue,tween=tweensContainer[property],easing=Type.isString(tween.easing)?Velocity.Easings[tween.easing]:tween.easing;if(1===percentComplete)currentValue=tween.endValue;else{var tweenDelta=tween.endValue-tween.startValue;if(currentValue=tween.startValue+tweenDelta*easing(percentComplete,opts,tweenDelta),!firstTick&&currentValue===tween.currentValue)continue}if(tween.currentValue=currentValue,"tween"===property)tweenDummyValue=currentValue;else{if(CSS.Hooks.registered[property]){var hookRoot=CSS.Hooks.getRoot(property),rootPropertyValueCache=Data(element).rootPropertyValueCache[hookRoot];rootPropertyValueCache&&(tween.rootPropertyValue=rootPropertyValueCache)}var adjustedSetData=CSS.setPropertyValue(element,property,tween.currentValue+(0===parseFloat(currentValue)?"":tween.unitType),tween.rootPropertyValue,tween.scrollData);CSS.Hooks.registered[property]&&(CSS.Normalizations.registered[hookRoot]?Data(element).rootPropertyValueCache[hookRoot]=CSS.Normalizations.registered[hookRoot]("extract",null,adjustedSetData[1]):Data(element).rootPropertyValueCache[hookRoot]=adjustedSetData[1]),"transform"===adjustedSetData[0]&&(transformPropertyExists=!0)}}opts.mobileHA&&Data(element).transformCache.translate3d===undefined&&(Data(element).transformCache.translate3d="(0px, 0px, 0px)",transformPropertyExists=!0),transformPropertyExists&&CSS.flushTransformCache(element)}}opts.display!==undefined&&"none"!==opts.display&&(Velocity.State.calls[i][2].display=!1),opts.visibility!==undefined&&"hidden"!==opts.visibility&&(Velocity.State.calls[i][2].visibility=!1),opts.progress&&opts.progress.call(callContainer[1],callContainer[1],percentComplete,Math.max(0,timeStart+opts.duration-timeCurrent),timeStart,tweenDummyValue),1===percentComplete&&completeCall(i)}}Velocity.State.isTicking&&ticker(tick)}function completeCall(callIndex,isStopped){if(!Velocity.State.calls[callIndex])return!1;for(var call=Velocity.State.calls[callIndex][0],elements=Velocity.State.calls[callIndex][1],opts=Velocity.State.calls[callIndex][2],resolver=Velocity.State.calls[callIndex][4],remainingCallsExist=!1,i=0,callLength=call.length;i<callLength;i++){var element=call[i].element;if(isStopped||opts.loop||("none"===opts.display&&CSS.setPropertyValue(element,"display",opts.display),"hidden"===opts.visibility&&CSS.setPropertyValue(element,"visibility",opts.visibility)),opts.loop!==!0&&($.queue(element)[1]===undefined||!/\.velocityQueueEntryFlag/i.test($.queue(element)[1]))&&Data(element)){Data(element).isAnimating=!1,Data(element).rootPropertyValueCache={};var transformHAPropertyExists=!1;$.each(CSS.Lists.transforms3D,function(i,transformName){var defaultValue=/^scale/.test(transformName)?1:0,currentValue=Data(element).transformCache[transformName];Data(element).transformCache[transformName]!==undefined&&new RegExp("^\\("+defaultValue+"[^.]").test(currentValue)&&(transformHAPropertyExists=!0,delete Data(element).transformCache[transformName])}),opts.mobileHA&&(transformHAPropertyExists=!0,delete Data(element).transformCache.translate3d),transformHAPropertyExists&&CSS.flushTransformCache(element),CSS.Values.removeClass(element,"velocity-animating")}if(!isStopped&&opts.complete&&!opts.loop&&i===callLength-1)try{opts.complete.call(elements,elements)}catch(error){setTimeout(function(){throw error},1)}resolver&&opts.loop!==!0&&resolver(elements),Data(element)&&opts.loop===!0&&!isStopped&&($.each(Data(element).tweensContainer,function(propertyName,tweenContainer){/^rotate/.test(propertyName)&&360===parseFloat(tweenContainer.endValue)&&(tweenContainer.endValue=0,tweenContainer.startValue=360),/^backgroundPosition/.test(propertyName)&&100===parseFloat(tweenContainer.endValue)&&"%"===tweenContainer.unitType&&(tweenContainer.endValue=0,tweenContainer.startValue=100)}),Velocity(element,"reverse",{loop:!0,delay:opts.delay})),opts.queue!==!1&&$.dequeue(element,opts.queue)}Velocity.State.calls[callIndex]=!1;for(var j=0,callsLength=Velocity.State.calls.length;j<callsLength;j++)if(Velocity.State.calls[j]!==!1){remainingCallsExist=!0;break}remainingCallsExist===!1&&(Velocity.State.isTicking=!1,delete Velocity.State.calls,Velocity.State.calls=[])}var $,IE=function(){if(document.documentMode)return document.documentMode;for(var i=7;i>4;i--){var div=document.createElement("div");if(div.innerHTML="<!--[if IE "+i+"]><span></span><![endif]-->",div.getElementsByTagName("span").length)return div=null,i}return undefined}(),rAFShim=function(){var timeLast=0;return window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(callback){var timeDelta,timeCurrent=(new Date).getTime();return timeDelta=Math.max(0,16-(timeCurrent-timeLast)),timeLast=timeCurrent+timeDelta,setTimeout(function(){callback(timeCurrent+timeDelta)},timeDelta)}}(),Type={isString:function(variable){return"string"==typeof variable},isArray:Array.isArray||function(variable){return"[object Array]"===Object.prototype.toString.call(variable)},isFunction:function(variable){return"[object Function]"===Object.prototype.toString.call(variable)},isNode:function(variable){return variable&&variable.nodeType},isNodeList:function(variable){return"object"==typeof variable&&/^\[object (HTMLCollection|NodeList|Object)\]$/.test(Object.prototype.toString.call(variable))&&variable.length!==undefined&&(0===variable.length||"object"==typeof variable[0]&&variable[0].nodeType>0)},isWrapped:function(variable){return variable&&(variable.jquery||window.Zepto&&window.Zepto.zepto.isZ(variable))},isSVG:function(variable){return window.SVGElement&&variable instanceof window.SVGElement},isEmptyObject:function(variable){for(var name in variable)return!1;return!0}},isJQuery=!1;if(global.fn&&global.fn.jquery?($=global,isJQuery=!0):$=window.Velocity.Utilities,IE<=8&&!isJQuery)throw new Error("Velocity: IE8 and below require jQuery to be loaded before Velocity.");if(IE<=7)return void(jQuery.fn.velocity=jQuery.fn.animate);var DURATION_DEFAULT=400,EASING_DEFAULT="swing",Velocity={State:{isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),isAndroid:/Android/i.test(navigator.userAgent),isGingerbread:/Android 2\.3\.[3-7]/i.test(navigator.userAgent),isChrome:window.chrome,isFirefox:/Firefox/i.test(navigator.userAgent),prefixElement:document.createElement("div"),prefixMatches:{},scrollAnchor:null,scrollPropertyLeft:null,scrollPropertyTop:null,isTicking:!1,calls:[]},CSS:{},Utilities:$,Redirects:{},Easings:{},Promise:window.Promise,defaults:{queue:"",duration:DURATION_DEFAULT,easing:EASING_DEFAULT,begin:undefined,complete:undefined,progress:undefined,display:undefined,visibility:undefined,loop:!1,delay:!1,mobileHA:!0,_cacheValues:!0},init:function(element){$.data(element,"velocity",{isSVG:Type.isSVG(element),isAnimating:!1,computedStyle:null,tweensContainer:null,rootPropertyValueCache:{},transformCache:{}})},hook:null,mock:!1,version:{major:1,minor:2,patch:2},debug:!1};window.pageYOffset!==undefined?(Velocity.State.scrollAnchor=window,Velocity.State.scrollPropertyLeft="pageXOffset",Velocity.State.scrollPropertyTop="pageYOffset"):(Velocity.State.scrollAnchor=document.documentElement||document.body.parentNode||document.body,Velocity.State.scrollPropertyLeft="scrollLeft",Velocity.State.scrollPropertyTop="scrollTop");var generateSpringRK4=function(){function springAccelerationForState(state){return-state.tension*state.x-state.friction*state.v}function springEvaluateStateWithDerivative(initialState,dt,derivative){var state={x:initialState.x+derivative.dx*dt,v:initialState.v+derivative.dv*dt,tension:initialState.tension,friction:initialState.friction};return{dx:state.v,dv:springAccelerationForState(state)}}function springIntegrateState(state,dt){var a={dx:state.v,dv:springAccelerationForState(state)},b=springEvaluateStateWithDerivative(state,.5*dt,a),c=springEvaluateStateWithDerivative(state,.5*dt,b),d=springEvaluateStateWithDerivative(state,dt,c),dxdt=1/6*(a.dx+2*(b.dx+c.dx)+d.dx),dvdt=1/6*(a.dv+2*(b.dv+c.dv)+d.dv);return state.x=state.x+dxdt*dt,state.v=state.v+dvdt*dt,state}return function springRK4Factory(tension,friction,duration){var have_duration,dt,last_state,initState={x:-1,v:0,tension:null,friction:null},path=[0],time_lapsed=0,tolerance=1e-4,DT=.016;
for(tension=parseFloat(tension)||500,friction=parseFloat(friction)||20,duration=duration||null,initState.tension=tension,initState.friction=friction,have_duration=null!==duration,have_duration?(time_lapsed=springRK4Factory(tension,friction),dt=time_lapsed/duration*DT):dt=DT;;)if(last_state=springIntegrateState(last_state||initState,dt),path.push(1+last_state.x),time_lapsed+=16,!(Math.abs(last_state.x)>tolerance&&Math.abs(last_state.v)>tolerance))break;return have_duration?function(percentComplete){return path[percentComplete*(path.length-1)|0]}:time_lapsed}}();Velocity.Easings={linear:function(p){return p},swing:function(p){return.5-Math.cos(p*Math.PI)/2},spring:function(p){return 1-Math.cos(4.5*p*Math.PI)*Math.exp(6*-p)}},$.each([["ease",[.25,.1,.25,1]],["ease-in",[.42,0,1,1]],["ease-out",[0,0,.58,1]],["ease-in-out",[.42,0,.58,1]],["easeInSine",[.47,0,.745,.715]],["easeOutSine",[.39,.575,.565,1]],["easeInOutSine",[.445,.05,.55,.95]],["easeInQuad",[.55,.085,.68,.53]],["easeOutQuad",[.25,.46,.45,.94]],["easeInOutQuad",[.455,.03,.515,.955]],["easeInCubic",[.55,.055,.675,.19]],["easeOutCubic",[.215,.61,.355,1]],["easeInOutCubic",[.645,.045,.355,1]],["easeInQuart",[.895,.03,.685,.22]],["easeOutQuart",[.165,.84,.44,1]],["easeInOutQuart",[.77,0,.175,1]],["easeInQuint",[.755,.05,.855,.06]],["easeOutQuint",[.23,1,.32,1]],["easeInOutQuint",[.86,0,.07,1]],["easeInExpo",[.95,.05,.795,.035]],["easeOutExpo",[.19,1,.22,1]],["easeInOutExpo",[1,0,0,1]],["easeInCirc",[.6,.04,.98,.335]],["easeOutCirc",[.075,.82,.165,1]],["easeInOutCirc",[.785,.135,.15,.86]]],function(i,easingArray){Velocity.Easings[easingArray[0]]=generateBezier.apply(null,easingArray[1])});var CSS=Velocity.CSS={RegEx:{isHex:/^#([A-f\d]{3}){1,2}$/i,valueUnwrap:/^[A-z]+\((.*)\)$/i,wrappedValueAlreadyExtracted:/[0-9.]+ [0-9.]+ [0-9.]+( [0-9.]+)?/,valueSplit:/([A-z]+\(.+\))|(([A-z0-9#-.]+?)(?=\s|$))/gi},Lists:{colors:["fill","stroke","stopColor","color","backgroundColor","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","outlineColor"],transformsBase:["translateX","translateY","scale","scaleX","scaleY","skewX","skewY","rotateZ"],transforms3D:["transformPerspective","translateZ","scaleZ","rotateX","rotateY"]},Hooks:{templates:{textShadow:["Color X Y Blur","black 0px 0px 0px"],boxShadow:["Color X Y Blur Spread","black 0px 0px 0px 0px"],clip:["Top Right Bottom Left","0px 0px 0px 0px"],backgroundPosition:["X Y","0% 0%"],transformOrigin:["X Y Z","50% 50% 0px"],perspectiveOrigin:["X Y","50% 50%"]},registered:{},register:function(){for(var i=0;i<CSS.Lists.colors.length;i++){var rgbComponents="color"===CSS.Lists.colors[i]?"0 0 0 1":"255 255 255 1";CSS.Hooks.templates[CSS.Lists.colors[i]]=["Red Green Blue Alpha",rgbComponents]}var rootProperty,hookTemplate,hookNames;if(IE)for(rootProperty in CSS.Hooks.templates){hookTemplate=CSS.Hooks.templates[rootProperty],hookNames=hookTemplate[0].split(" ");var defaultValues=hookTemplate[1].match(CSS.RegEx.valueSplit);"Color"===hookNames[0]&&(hookNames.push(hookNames.shift()),defaultValues.push(defaultValues.shift()),CSS.Hooks.templates[rootProperty]=[hookNames.join(" "),defaultValues.join(" ")])}for(rootProperty in CSS.Hooks.templates){hookTemplate=CSS.Hooks.templates[rootProperty],hookNames=hookTemplate[0].split(" ");for(var i in hookNames){var fullHookName=rootProperty+hookNames[i],hookPosition=i;CSS.Hooks.registered[fullHookName]=[rootProperty,hookPosition]}}},getRoot:function(property){var hookData=CSS.Hooks.registered[property];return hookData?hookData[0]:property},cleanRootPropertyValue:function(rootProperty,rootPropertyValue){return CSS.RegEx.valueUnwrap.test(rootPropertyValue)&&(rootPropertyValue=rootPropertyValue.match(CSS.RegEx.valueUnwrap)[1]),CSS.Values.isCSSNullValue(rootPropertyValue)&&(rootPropertyValue=CSS.Hooks.templates[rootProperty][1]),rootPropertyValue},extractValue:function(fullHookName,rootPropertyValue){var hookData=CSS.Hooks.registered[fullHookName];if(hookData){var hookRoot=hookData[0],hookPosition=hookData[1];return rootPropertyValue=CSS.Hooks.cleanRootPropertyValue(hookRoot,rootPropertyValue),rootPropertyValue.toString().match(CSS.RegEx.valueSplit)[hookPosition]}return rootPropertyValue},injectValue:function(fullHookName,hookValue,rootPropertyValue){var hookData=CSS.Hooks.registered[fullHookName];if(hookData){var rootPropertyValueParts,rootPropertyValueUpdated,hookRoot=hookData[0],hookPosition=hookData[1];return rootPropertyValue=CSS.Hooks.cleanRootPropertyValue(hookRoot,rootPropertyValue),rootPropertyValueParts=rootPropertyValue.toString().match(CSS.RegEx.valueSplit),rootPropertyValueParts[hookPosition]=hookValue,rootPropertyValueUpdated=rootPropertyValueParts.join(" ")}return rootPropertyValue}},Normalizations:{registered:{clip:function(type,element,propertyValue){switch(type){case"name":return"clip";case"extract":var extracted;return CSS.RegEx.wrappedValueAlreadyExtracted.test(propertyValue)?extracted=propertyValue:(extracted=propertyValue.toString().match(CSS.RegEx.valueUnwrap),extracted=extracted?extracted[1].replace(/,(\s+)?/g," "):propertyValue),extracted;case"inject":return"rect("+propertyValue+")"}},blur:function(type,element,propertyValue){switch(type){case"name":return Velocity.State.isFirefox?"filter":"-webkit-filter";case"extract":var extracted=parseFloat(propertyValue);if(!extracted&&0!==extracted){var blurComponent=propertyValue.toString().match(/blur\(([0-9]+[A-z]+)\)/i);extracted=blurComponent?blurComponent[1]:0}return extracted;case"inject":return parseFloat(propertyValue)?"blur("+propertyValue+")":"none"}},opacity:function(type,element,propertyValue){if(IE<=8)switch(type){case"name":return"filter";case"extract":var extracted=propertyValue.toString().match(/alpha\(opacity=(.*)\)/i);return propertyValue=extracted?extracted[1]/100:1;case"inject":return element.style.zoom=1,parseFloat(propertyValue)>=1?"":"alpha(opacity="+parseInt(100*parseFloat(propertyValue),10)+")"}else switch(type){case"name":return"opacity";case"extract":return propertyValue;case"inject":return propertyValue}}},register:function(){IE<=9||Velocity.State.isGingerbread||(CSS.Lists.transformsBase=CSS.Lists.transformsBase.concat(CSS.Lists.transforms3D));for(var i=0;i<CSS.Lists.transformsBase.length;i++)!function(){var transformName=CSS.Lists.transformsBase[i];CSS.Normalizations.registered[transformName]=function(type,element,propertyValue){switch(type){case"name":return"transform";case"extract":return Data(element)===undefined||Data(element).transformCache[transformName]===undefined?/^scale/i.test(transformName)?1:0:Data(element).transformCache[transformName].replace(/[()]/g,"");case"inject":var invalid=!1;switch(transformName.substr(0,transformName.length-1)){case"translate":invalid=!/(%|px|em|rem|vw|vh|\d)$/i.test(propertyValue);break;case"scal":case"scale":Velocity.State.isAndroid&&Data(element).transformCache[transformName]===undefined&&propertyValue<1&&(propertyValue=1),invalid=!/(\d)$/i.test(propertyValue);break;case"skew":invalid=!/(deg|\d)$/i.test(propertyValue);break;case"rotate":invalid=!/(deg|\d)$/i.test(propertyValue)}return invalid||(Data(element).transformCache[transformName]="("+propertyValue+")"),Data(element).transformCache[transformName]}}}();for(var i=0;i<CSS.Lists.colors.length;i++)!function(){var colorName=CSS.Lists.colors[i];CSS.Normalizations.registered[colorName]=function(type,element,propertyValue){switch(type){case"name":return colorName;case"extract":var extracted;if(CSS.RegEx.wrappedValueAlreadyExtracted.test(propertyValue))extracted=propertyValue;else{var converted,colorNames={black:"rgb(0, 0, 0)",blue:"rgb(0, 0, 255)",gray:"rgb(128, 128, 128)",green:"rgb(0, 128, 0)",red:"rgb(255, 0, 0)",white:"rgb(255, 255, 255)"};/^[A-z]+$/i.test(propertyValue)?converted=colorNames[propertyValue]!==undefined?colorNames[propertyValue]:colorNames.black:CSS.RegEx.isHex.test(propertyValue)?converted="rgb("+CSS.Values.hexToRgb(propertyValue).join(" ")+")":/^rgba?\(/i.test(propertyValue)||(converted=colorNames.black),extracted=(converted||propertyValue).toString().match(CSS.RegEx.valueUnwrap)[1].replace(/,(\s+)?/g," ")}return IE<=8||3!==extracted.split(" ").length||(extracted+=" 1"),extracted;case"inject":return IE<=8?4===propertyValue.split(" ").length&&(propertyValue=propertyValue.split(/\s+/).slice(0,3).join(" ")):3===propertyValue.split(" ").length&&(propertyValue+=" 1"),(IE<=8?"rgb":"rgba")+"("+propertyValue.replace(/\s+/g,",").replace(/\.(\d)+(?=,)/g,"")+")"}}}()}},Names:{camelCase:function(property){return property.replace(/-(\w)/g,function(match,subMatch){return subMatch.toUpperCase()})},SVGAttribute:function(property){var SVGAttributes="width|height|x|y|cx|cy|r|rx|ry|x1|x2|y1|y2";return(IE||Velocity.State.isAndroid&&!Velocity.State.isChrome)&&(SVGAttributes+="|transform"),new RegExp("^("+SVGAttributes+")$","i").test(property)},prefixCheck:function(property){if(Velocity.State.prefixMatches[property])return[Velocity.State.prefixMatches[property],!0];for(var vendors=["","Webkit","Moz","ms","O"],i=0,vendorsLength=vendors.length;i<vendorsLength;i++){var propertyPrefixed;if(propertyPrefixed=0===i?property:vendors[i]+property.replace(/^\w/,function(match){return match.toUpperCase()}),Type.isString(Velocity.State.prefixElement.style[propertyPrefixed]))return Velocity.State.prefixMatches[property]=propertyPrefixed,[propertyPrefixed,!0]}return[property,!1]}},Values:{hexToRgb:function(hex){var rgbParts,shortformRegex=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,longformRegex=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i;return hex=hex.replace(shortformRegex,function(m,r,g,b){return r+r+g+g+b+b}),rgbParts=longformRegex.exec(hex),rgbParts?[parseInt(rgbParts[1],16),parseInt(rgbParts[2],16),parseInt(rgbParts[3],16)]:[0,0,0]},isCSSNullValue:function(value){return 0==value||/^(none|auto|transparent|(rgba\(0, ?0, ?0, ?0\)))$/i.test(value)},getUnitType:function(property){return/^(rotate|skew)/i.test(property)?"deg":/(^(scale|scaleX|scaleY|scaleZ|alpha|flexGrow|flexHeight|zIndex|fontWeight)$)|((opacity|red|green|blue|alpha)$)/i.test(property)?"":"px"},getDisplayType:function(element){var tagName=element&&element.tagName.toString().toLowerCase();return/^(b|big|i|small|tt|abbr|acronym|cite|code|dfn|em|kbd|strong|samp|var|a|bdo|br|img|map|object|q|script|span|sub|sup|button|input|label|select|textarea)$/i.test(tagName)?"inline":/^(li)$/i.test(tagName)?"list-item":/^(tr)$/i.test(tagName)?"table-row":/^(table)$/i.test(tagName)?"table":/^(tbody)$/i.test(tagName)?"table-row-group":"block"},addClass:function(element,className){element.classList?element.classList.add(className):element.className+=(element.className.length?" ":"")+className},removeClass:function(element,className){element.classList?element.classList.remove(className):element.className=element.className.toString().replace(new RegExp("(^|\\s)"+className.split(" ").join("|")+"(\\s|$)","gi")," ")}},getPropertyValue:function(element,property,rootPropertyValue,forceStyleLookup){function computePropertyValue(element,property){function revertDisplay(){toggleDisplay&&CSS.setPropertyValue(element,"display","none")}var computedValue=0;if(IE<=8)computedValue=$.css(element,property);else{var toggleDisplay=!1;if(/^(width|height)$/.test(property)&&0===CSS.getPropertyValue(element,"display")&&(toggleDisplay=!0,CSS.setPropertyValue(element,"display",CSS.Values.getDisplayType(element))),!forceStyleLookup){if("height"===property&&"border-box"!==CSS.getPropertyValue(element,"boxSizing").toString().toLowerCase()){var contentBoxHeight=element.offsetHeight-(parseFloat(CSS.getPropertyValue(element,"borderTopWidth"))||0)-(parseFloat(CSS.getPropertyValue(element,"borderBottomWidth"))||0)-(parseFloat(CSS.getPropertyValue(element,"paddingTop"))||0)-(parseFloat(CSS.getPropertyValue(element,"paddingBottom"))||0);return revertDisplay(),contentBoxHeight}if("width"===property&&"border-box"!==CSS.getPropertyValue(element,"boxSizing").toString().toLowerCase()){var contentBoxWidth=element.offsetWidth-(parseFloat(CSS.getPropertyValue(element,"borderLeftWidth"))||0)-(parseFloat(CSS.getPropertyValue(element,"borderRightWidth"))||0)-(parseFloat(CSS.getPropertyValue(element,"paddingLeft"))||0)-(parseFloat(CSS.getPropertyValue(element,"paddingRight"))||0);return revertDisplay(),contentBoxWidth}}var computedStyle;computedStyle=Data(element)===undefined?window.getComputedStyle(element,null):Data(element).computedStyle?Data(element).computedStyle:Data(element).computedStyle=window.getComputedStyle(element,null),"borderColor"===property&&(property="borderTopColor"),computedValue=9===IE&&"filter"===property?computedStyle.getPropertyValue(property):computedStyle[property],""!==computedValue&&null!==computedValue||(computedValue=element.style[property]),revertDisplay()}if("auto"===computedValue&&/^(top|right|bottom|left)$/i.test(property)){var position=computePropertyValue(element,"position");("fixed"===position||"absolute"===position&&/top|left/i.test(property))&&(computedValue=$(element).position()[property]+"px")}return computedValue}var propertyValue;if(CSS.Hooks.registered[property]){var hook=property,hookRoot=CSS.Hooks.getRoot(hook);rootPropertyValue===undefined&&(rootPropertyValue=CSS.getPropertyValue(element,CSS.Names.prefixCheck(hookRoot)[0])),CSS.Normalizations.registered[hookRoot]&&(rootPropertyValue=CSS.Normalizations.registered[hookRoot]("extract",element,rootPropertyValue)),propertyValue=CSS.Hooks.extractValue(hook,rootPropertyValue)}else if(CSS.Normalizations.registered[property]){var normalizedPropertyName,normalizedPropertyValue;normalizedPropertyName=CSS.Normalizations.registered[property]("name",element),"transform"!==normalizedPropertyName&&(normalizedPropertyValue=computePropertyValue(element,CSS.Names.prefixCheck(normalizedPropertyName)[0]),CSS.Values.isCSSNullValue(normalizedPropertyValue)&&CSS.Hooks.templates[property]&&(normalizedPropertyValue=CSS.Hooks.templates[property][1])),propertyValue=CSS.Normalizations.registered[property]("extract",element,normalizedPropertyValue)}if(!/^[\d-]/.test(propertyValue))if(Data(element)&&Data(element).isSVG&&CSS.Names.SVGAttribute(property))if(/^(height|width)$/i.test(property))try{propertyValue=element.getBBox()[property]}catch(error){propertyValue=0}else propertyValue=element.getAttribute(property);else propertyValue=computePropertyValue(element,CSS.Names.prefixCheck(property)[0]);return CSS.Values.isCSSNullValue(propertyValue)&&(propertyValue=0),Velocity.debug>=2&&console.log("Get "+property+": "+propertyValue),propertyValue},setPropertyValue:function(element,property,propertyValue,rootPropertyValue,scrollData){var propertyName=property;if("scroll"===property)scrollData.container?scrollData.container["scroll"+scrollData.direction]=propertyValue:"Left"===scrollData.direction?window.scrollTo(propertyValue,scrollData.alternateValue):window.scrollTo(scrollData.alternateValue,propertyValue);else if(CSS.Normalizations.registered[property]&&"transform"===CSS.Normalizations.registered[property]("name",element))CSS.Normalizations.registered[property]("inject",element,propertyValue),propertyName="transform",propertyValue=Data(element).transformCache[property];else{if(CSS.Hooks.registered[property]){var hookName=property,hookRoot=CSS.Hooks.getRoot(property);rootPropertyValue=rootPropertyValue||CSS.getPropertyValue(element,hookRoot),propertyValue=CSS.Hooks.injectValue(hookName,propertyValue,rootPropertyValue),property=hookRoot}if(CSS.Normalizations.registered[property]&&(propertyValue=CSS.Normalizations.registered[property]("inject",element,propertyValue),property=CSS.Normalizations.registered[property]("name",element)),propertyName=CSS.Names.prefixCheck(property)[0],IE<=8)try{element.style[propertyName]=propertyValue}catch(error){Velocity.debug&&console.log("Browser does not support ["+propertyValue+"] for ["+propertyName+"]")}else Data(element)&&Data(element).isSVG&&CSS.Names.SVGAttribute(property)?element.setAttribute(property,propertyValue):element.style[propertyName]=propertyValue;Velocity.debug>=2&&console.log("Set "+property+" ("+propertyName+"): "+propertyValue)}return[propertyName,propertyValue]},flushTransformCache:function(element){function getTransformFloat(transformProperty){return parseFloat(CSS.getPropertyValue(element,transformProperty))}var transformString="";if((IE||Velocity.State.isAndroid&&!Velocity.State.isChrome)&&Data(element).isSVG){var SVGTransforms={translate:[getTransformFloat("translateX"),getTransformFloat("translateY")],skewX:[getTransformFloat("skewX")],skewY:[getTransformFloat("skewY")],scale:1!==getTransformFloat("scale")?[getTransformFloat("scale"),getTransformFloat("scale")]:[getTransformFloat("scaleX"),getTransformFloat("scaleY")],rotate:[getTransformFloat("rotateZ"),0,0]};$.each(Data(element).transformCache,function(transformName){/^translate/i.test(transformName)?transformName="translate":/^scale/i.test(transformName)?transformName="scale":/^rotate/i.test(transformName)&&(transformName="rotate"),SVGTransforms[transformName]&&(transformString+=transformName+"("+SVGTransforms[transformName].join(" ")+") ",delete SVGTransforms[transformName])})}else{var transformValue,perspective;$.each(Data(element).transformCache,function(transformName){return transformValue=Data(element).transformCache[transformName],"transformPerspective"===transformName?(perspective=transformValue,!0):(9===IE&&"rotateZ"===transformName&&(transformName="rotate"),void(transformString+=transformName+transformValue+" "))}),perspective&&(transformString="perspective"+perspective+" "+transformString)}CSS.setPropertyValue(element,"transform",transformString)}};CSS.Hooks.register(),CSS.Normalizations.register(),Velocity.hook=function(elements,arg2,arg3){var value=undefined;return elements=sanitizeElements(elements),$.each(elements,function(i,element){if(Data(element)===undefined&&Velocity.init(element),arg3===undefined)value===undefined&&(value=Velocity.CSS.getPropertyValue(element,arg2));else{var adjustedSet=Velocity.CSS.setPropertyValue(element,arg2,arg3);"transform"===adjustedSet[0]&&Velocity.CSS.flushTransformCache(element),value=adjustedSet}}),value};var animate=function(){function getChain(){return isUtility?promiseData.promise||null:elementsWrapped}function processElement(){function buildQueue(next){function parsePropertyValue(valueData,skipResolvingEasing){var endValue=undefined,easing=undefined,startValue=undefined;return Type.isArray(valueData)?(endValue=valueData[0],!Type.isArray(valueData[1])&&/^[\d-]/.test(valueData[1])||Type.isFunction(valueData[1])||CSS.RegEx.isHex.test(valueData[1])?startValue=valueData[1]:(Type.isString(valueData[1])&&!CSS.RegEx.isHex.test(valueData[1])||Type.isArray(valueData[1]))&&(easing=skipResolvingEasing?valueData[1]:getEasing(valueData[1],opts.duration),valueData[2]!==undefined&&(startValue=valueData[2]))):endValue=valueData,skipResolvingEasing||(easing=easing||opts.easing),Type.isFunction(endValue)&&(endValue=endValue.call(element,elementsIndex,elementsLength)),Type.isFunction(startValue)&&(startValue=startValue.call(element,elementsIndex,elementsLength)),[endValue||0,easing,startValue]}function separateValue(property,value){var unitType,numericValue;return numericValue=(value||"0").toString().toLowerCase().replace(/[%A-z]+$/,function(match){return unitType=match,""}),unitType||(unitType=CSS.Values.getUnitType(property)),[numericValue,unitType]}function calculateUnitRatios(){var sameRatioIndicators={myParent:element.parentNode||document.body,position:CSS.getPropertyValue(element,"position"),fontSize:CSS.getPropertyValue(element,"fontSize")},samePercentRatio=sameRatioIndicators.position===callUnitConversionData.lastPosition&&sameRatioIndicators.myParent===callUnitConversionData.lastParent,sameEmRatio=sameRatioIndicators.fontSize===callUnitConversionData.lastFontSize;callUnitConversionData.lastParent=sameRatioIndicators.myParent,callUnitConversionData.lastPosition=sameRatioIndicators.position,callUnitConversionData.lastFontSize=sameRatioIndicators.fontSize;var measurement=100,unitRatios={};if(sameEmRatio&&samePercentRatio)unitRatios.emToPx=callUnitConversionData.lastEmToPx,unitRatios.percentToPxWidth=callUnitConversionData.lastPercentToPxWidth,unitRatios.percentToPxHeight=callUnitConversionData.lastPercentToPxHeight;else{var dummy=Data(element).isSVG?document.createElementNS("http://www.w3.org/2000/svg","rect"):document.createElement("div");Velocity.init(dummy),sameRatioIndicators.myParent.appendChild(dummy),$.each(["overflow","overflowX","overflowY"],function(i,property){Velocity.CSS.setPropertyValue(dummy,property,"hidden")}),Velocity.CSS.setPropertyValue(dummy,"position",sameRatioIndicators.position),Velocity.CSS.setPropertyValue(dummy,"fontSize",sameRatioIndicators.fontSize),Velocity.CSS.setPropertyValue(dummy,"boxSizing","content-box"),$.each(["minWidth","maxWidth","width","minHeight","maxHeight","height"],function(i,property){Velocity.CSS.setPropertyValue(dummy,property,measurement+"%")}),Velocity.CSS.setPropertyValue(dummy,"paddingLeft",measurement+"em"),unitRatios.percentToPxWidth=callUnitConversionData.lastPercentToPxWidth=(parseFloat(CSS.getPropertyValue(dummy,"width",null,!0))||1)/measurement,unitRatios.percentToPxHeight=callUnitConversionData.lastPercentToPxHeight=(parseFloat(CSS.getPropertyValue(dummy,"height",null,!0))||1)/measurement,unitRatios.emToPx=callUnitConversionData.lastEmToPx=(parseFloat(CSS.getPropertyValue(dummy,"paddingLeft"))||1)/measurement,sameRatioIndicators.myParent.removeChild(dummy)}return null===callUnitConversionData.remToPx&&(callUnitConversionData.remToPx=parseFloat(CSS.getPropertyValue(document.body,"fontSize"))||16),null===callUnitConversionData.vwToPx&&(callUnitConversionData.vwToPx=parseFloat(window.innerWidth)/100,callUnitConversionData.vhToPx=parseFloat(window.innerHeight)/100),unitRatios.remToPx=callUnitConversionData.remToPx,unitRatios.vwToPx=callUnitConversionData.vwToPx,unitRatios.vhToPx=callUnitConversionData.vhToPx,Velocity.debug>=1&&console.log("Unit ratios: "+JSON.stringify(unitRatios),element),unitRatios}if(opts.begin&&0===elementsIndex)try{opts.begin.call(elements,elements)}catch(error){setTimeout(function(){throw error},1)}if("scroll"===action){var scrollPositionCurrent,scrollPositionCurrentAlternate,scrollPositionEnd,scrollDirection=/^x$/i.test(opts.axis)?"Left":"Top",scrollOffset=parseFloat(opts.offset)||0;opts.container?Type.isWrapped(opts.container)||Type.isNode(opts.container)?(opts.container=opts.container[0]||opts.container,scrollPositionCurrent=opts.container["scroll"+scrollDirection],scrollPositionEnd=scrollPositionCurrent+$(element).position()[scrollDirection.toLowerCase()]+scrollOffset):opts.container=null:(scrollPositionCurrent=Velocity.State.scrollAnchor[Velocity.State["scrollProperty"+scrollDirection]],scrollPositionCurrentAlternate=Velocity.State.scrollAnchor[Velocity.State["scrollProperty"+("Left"===scrollDirection?"Top":"Left")]],scrollPositionEnd=$(element).offset()[scrollDirection.toLowerCase()]+scrollOffset),tweensContainer={scroll:{rootPropertyValue:!1,startValue:scrollPositionCurrent,currentValue:scrollPositionCurrent,endValue:scrollPositionEnd,unitType:"",easing:opts.easing,scrollData:{container:opts.container,direction:scrollDirection,alternateValue:scrollPositionCurrentAlternate}},element:element},Velocity.debug&&console.log("tweensContainer (scroll): ",tweensContainer.scroll,element)}else if("reverse"===action){if(!Data(element).tweensContainer)return void $.dequeue(element,opts.queue);"none"===Data(element).opts.display&&(Data(element).opts.display="auto"),"hidden"===Data(element).opts.visibility&&(Data(element).opts.visibility="visible"),Data(element).opts.loop=!1,Data(element).opts.begin=null,Data(element).opts.complete=null,options.easing||delete opts.easing,options.duration||delete opts.duration,opts=$.extend({},Data(element).opts,opts);var lastTweensContainer=$.extend(!0,{},Data(element).tweensContainer);for(var lastTween in lastTweensContainer)if("element"!==lastTween){var lastStartValue=lastTweensContainer[lastTween].startValue;lastTweensContainer[lastTween].startValue=lastTweensContainer[lastTween].currentValue=lastTweensContainer[lastTween].endValue,lastTweensContainer[lastTween].endValue=lastStartValue,Type.isEmptyObject(options)||(lastTweensContainer[lastTween].easing=opts.easing),Velocity.debug&&console.log("reverse tweensContainer ("+lastTween+"): "+JSON.stringify(lastTweensContainer[lastTween]),element)}tweensContainer=lastTweensContainer}else if("start"===action){var lastTweensContainer;Data(element).tweensContainer&&Data(element).isAnimating===!0&&(lastTweensContainer=Data(element).tweensContainer),$.each(propertiesMap,function(property,value){if(RegExp("^"+CSS.Lists.colors.join("$|^")+"$").test(property)){var valueData=parsePropertyValue(value,!0),endValue=valueData[0],easing=valueData[1],startValue=valueData[2];if(CSS.RegEx.isHex.test(endValue)){for(var colorComponents=["Red","Green","Blue"],endValueRGB=CSS.Values.hexToRgb(endValue),startValueRGB=startValue?CSS.Values.hexToRgb(startValue):undefined,i=0;i<colorComponents.length;i++){var dataArray=[endValueRGB[i]];easing&&dataArray.push(easing),startValueRGB!==undefined&&dataArray.push(startValueRGB[i]),propertiesMap[property+colorComponents[i]]=dataArray}delete propertiesMap[property]}}});for(var property in propertiesMap){var valueData=parsePropertyValue(propertiesMap[property]),endValue=valueData[0],easing=valueData[1],startValue=valueData[2];property=CSS.Names.camelCase(property);var rootProperty=CSS.Hooks.getRoot(property),rootPropertyValue=!1;if(Data(element).isSVG||"tween"===rootProperty||CSS.Names.prefixCheck(rootProperty)[1]!==!1||CSS.Normalizations.registered[rootProperty]!==undefined){(opts.display!==undefined&&null!==opts.display&&"none"!==opts.display||opts.visibility!==undefined&&"hidden"!==opts.visibility)&&/opacity|filter/.test(property)&&!startValue&&0!==endValue&&(startValue=0),opts._cacheValues&&lastTweensContainer&&lastTweensContainer[property]?(startValue===undefined&&(startValue=lastTweensContainer[property].endValue+lastTweensContainer[property].unitType),rootPropertyValue=Data(element).rootPropertyValueCache[rootProperty]):CSS.Hooks.registered[property]?startValue===undefined?(rootPropertyValue=CSS.getPropertyValue(element,rootProperty),startValue=CSS.getPropertyValue(element,property,rootPropertyValue)):rootPropertyValue=CSS.Hooks.templates[rootProperty][1]:startValue===undefined&&(startValue=CSS.getPropertyValue(element,property));var separatedValue,endValueUnitType,startValueUnitType,operator=!1;if(separatedValue=separateValue(property,startValue),startValue=separatedValue[0],startValueUnitType=separatedValue[1],separatedValue=separateValue(property,endValue),endValue=separatedValue[0].replace(/^([+-\/*])=/,function(match,subMatch){return operator=subMatch,""}),endValueUnitType=separatedValue[1],startValue=parseFloat(startValue)||0,endValue=parseFloat(endValue)||0,"%"===endValueUnitType&&(/^(fontSize|lineHeight)$/.test(property)?(endValue/=100,endValueUnitType="em"):/^scale/.test(property)?(endValue/=100,endValueUnitType=""):/(Red|Green|Blue)$/i.test(property)&&(endValue=endValue/100*255,endValueUnitType="")),/[\/*]/.test(operator))endValueUnitType=startValueUnitType;else if(startValueUnitType!==endValueUnitType&&0!==startValue)if(0===endValue)endValueUnitType=startValueUnitType;else{elementUnitConversionData=elementUnitConversionData||calculateUnitRatios();var axis=/margin|padding|left|right|width|text|word|letter/i.test(property)||/X$/.test(property)||"x"===property?"x":"y";switch(startValueUnitType){case"%":startValue*="x"===axis?elementUnitConversionData.percentToPxWidth:elementUnitConversionData.percentToPxHeight;break;case"px":break;default:startValue*=elementUnitConversionData[startValueUnitType+"ToPx"]}switch(endValueUnitType){case"%":startValue*=1/("x"===axis?elementUnitConversionData.percentToPxWidth:elementUnitConversionData.percentToPxHeight);break;case"px":break;default:startValue*=1/elementUnitConversionData[endValueUnitType+"ToPx"]}}switch(operator){case"+":endValue=startValue+endValue;break;case"-":endValue=startValue-endValue;break;case"*":endValue=startValue*endValue;break;case"/":endValue=startValue/endValue}tweensContainer[property]={rootPropertyValue:rootPropertyValue,startValue:startValue,currentValue:startValue,endValue:endValue,unitType:endValueUnitType,easing:easing},Velocity.debug&&console.log("tweensContainer ("+property+"): "+JSON.stringify(tweensContainer[property]),element)}else Velocity.debug&&console.log("Skipping ["+rootProperty+"] due to a lack of browser support.")}tweensContainer.element=element}tweensContainer.element&&(CSS.Values.addClass(element,"velocity-animating"),call.push(tweensContainer),""===opts.queue&&(Data(element).tweensContainer=tweensContainer,Data(element).opts=opts),Data(element).isAnimating=!0,elementsIndex===elementsLength-1?(Velocity.State.calls.push([call,elements,opts,null,promiseData.resolver]),Velocity.State.isTicking===!1&&(Velocity.State.isTicking=!0,tick())):elementsIndex++)}var elementUnitConversionData,element=this,opts=$.extend({},Velocity.defaults,options),tweensContainer={};switch(Data(element)===undefined&&Velocity.init(element),parseFloat(opts.delay)&&opts.queue!==!1&&$.queue(element,opts.queue,function(next){Velocity.velocityQueueEntryFlag=!0,Data(element).delayTimer={setTimeout:setTimeout(next,parseFloat(opts.delay)),next:next}}),opts.duration.toString().toLowerCase()){case"fast":opts.duration=200;break;case"normal":opts.duration=DURATION_DEFAULT;break;case"slow":opts.duration=600;break;default:opts.duration=parseFloat(opts.duration)||1}Velocity.mock!==!1&&(Velocity.mock===!0?opts.duration=opts.delay=1:(opts.duration*=parseFloat(Velocity.mock)||1,opts.delay*=parseFloat(Velocity.mock)||1)),opts.easing=getEasing(opts.easing,opts.duration),opts.begin&&!Type.isFunction(opts.begin)&&(opts.begin=null),opts.progress&&!Type.isFunction(opts.progress)&&(opts.progress=null),opts.complete&&!Type.isFunction(opts.complete)&&(opts.complete=null),opts.display!==undefined&&null!==opts.display&&(opts.display=opts.display.toString().toLowerCase(),"auto"===opts.display&&(opts.display=Velocity.CSS.Values.getDisplayType(element))),opts.visibility!==undefined&&null!==opts.visibility&&(opts.visibility=opts.visibility.toString().toLowerCase()),opts.mobileHA=opts.mobileHA&&Velocity.State.isMobile&&!Velocity.State.isGingerbread,opts.queue===!1?opts.delay?setTimeout(buildQueue,opts.delay):buildQueue():$.queue(element,opts.queue,function(next,clearQueue){return clearQueue===!0?(promiseData.promise&&promiseData.resolver(elements),!0):(Velocity.velocityQueueEntryFlag=!0,void buildQueue(next))}),""!==opts.queue&&"fx"!==opts.queue||"inprogress"===$.queue(element)[0]||$.dequeue(element)}var isUtility,elementsWrapped,argumentIndex,elements,propertiesMap,options,syntacticSugar=arguments[0]&&(arguments[0].p||$.isPlainObject(arguments[0].properties)&&!arguments[0].properties.names||Type.isString(arguments[0].properties));if(Type.isWrapped(this)?(isUtility=!1,argumentIndex=0,elements=this,elementsWrapped=this):(isUtility=!0,argumentIndex=1,elements=syntacticSugar?arguments[0].elements||arguments[0].e:arguments[0]),elements=sanitizeElements(elements)){syntacticSugar?(propertiesMap=arguments[0].properties||arguments[0].p,options=arguments[0].options||arguments[0].o):(propertiesMap=arguments[argumentIndex],options=arguments[argumentIndex+1]);var elementsLength=elements.length,elementsIndex=0;if(!/^(stop|finish)$/i.test(propertiesMap)&&!$.isPlainObject(options)){var startingArgumentPosition=argumentIndex+1;options={};for(var i=startingArgumentPosition;i<arguments.length;i++)Type.isArray(arguments[i])||!/^(fast|normal|slow)$/i.test(arguments[i])&&!/^\d/.test(arguments[i])?Type.isString(arguments[i])||Type.isArray(arguments[i])?options.easing=arguments[i]:Type.isFunction(arguments[i])&&(options.complete=arguments[i]):options.duration=arguments[i]}var promiseData={promise:null,resolver:null,rejecter:null};isUtility&&Velocity.Promise&&(promiseData.promise=new Velocity.Promise(function(resolve,reject){
promiseData.resolver=resolve,promiseData.rejecter=reject}));var action;switch(propertiesMap){case"scroll":action="scroll";break;case"reverse":action="reverse";break;case"finish":case"stop":$.each(elements,function(i,element){Data(element)&&Data(element).delayTimer&&(clearTimeout(Data(element).delayTimer.setTimeout),Data(element).delayTimer.next&&Data(element).delayTimer.next(),delete Data(element).delayTimer)});var callsToStop=[];return $.each(Velocity.State.calls,function(i,activeCall){activeCall&&$.each(activeCall[1],function(k,activeElement){var queueName=options===undefined?"":options;return queueName!==!0&&activeCall[2].queue!==queueName&&(options!==undefined||activeCall[2].queue!==!1)||void $.each(elements,function(l,element){element===activeElement&&((options===!0||Type.isString(options))&&($.each($.queue(element,Type.isString(options)?options:""),function(_,item){Type.isFunction(item)&&item(null,!0)}),$.queue(element,Type.isString(options)?options:"",[])),"stop"===propertiesMap?(Data(element)&&Data(element).tweensContainer&&queueName!==!1&&$.each(Data(element).tweensContainer,function(m,activeTween){activeTween.endValue=activeTween.currentValue}),callsToStop.push(i)):"finish"===propertiesMap&&(activeCall[2].duration=1))})})}),"stop"===propertiesMap&&($.each(callsToStop,function(i,j){completeCall(j,!0)}),promiseData.promise&&promiseData.resolver(elements)),getChain();default:if(!$.isPlainObject(propertiesMap)||Type.isEmptyObject(propertiesMap)){if(Type.isString(propertiesMap)&&Velocity.Redirects[propertiesMap]){var opts=$.extend({},options),durationOriginal=opts.duration,delayOriginal=opts.delay||0;return opts.backwards===!0&&(elements=$.extend(!0,[],elements).reverse()),$.each(elements,function(elementIndex,element){parseFloat(opts.stagger)?opts.delay=delayOriginal+parseFloat(opts.stagger)*elementIndex:Type.isFunction(opts.stagger)&&(opts.delay=delayOriginal+opts.stagger.call(element,elementIndex,elementsLength)),opts.drag&&(opts.duration=parseFloat(durationOriginal)||(/^(callout|transition)/.test(propertiesMap)?1e3:DURATION_DEFAULT),opts.duration=Math.max(opts.duration*(opts.backwards?1-elementIndex/elementsLength:(elementIndex+1)/elementsLength),.75*opts.duration,200)),Velocity.Redirects[propertiesMap].call(element,element,opts||{},elementIndex,elementsLength,elements,promiseData.promise?promiseData:undefined)}),getChain()}var abortError="Velocity: First argument ("+propertiesMap+") was not a property map, a known action, or a registered redirect. Aborting.";return promiseData.promise?promiseData.rejecter(new Error(abortError)):console.log(abortError),getChain()}action="start"}var callUnitConversionData={lastParent:null,lastPosition:null,lastFontSize:null,lastPercentToPxWidth:null,lastPercentToPxHeight:null,lastEmToPx:null,remToPx:null,vwToPx:null,vhToPx:null},call=[];$.each(elements,function(i,element){Type.isNode(element)&&processElement.call(element)});var reverseCallsCount,opts=$.extend({},Velocity.defaults,options);if(opts.loop=parseInt(opts.loop),reverseCallsCount=2*opts.loop-1,opts.loop)for(var x=0;x<reverseCallsCount;x++){var reverseOptions={delay:opts.delay,progress:opts.progress};x===reverseCallsCount-1&&(reverseOptions.display=opts.display,reverseOptions.visibility=opts.visibility,reverseOptions.complete=opts.complete),animate(elements,"reverse",reverseOptions)}return getChain()}};Velocity=$.extend(animate,Velocity),Velocity.animate=animate;var ticker=window.requestAnimationFrame||rAFShim;return Velocity.State.isMobile||document.hidden===undefined||document.addEventListener("visibilitychange",function(){document.hidden?(ticker=function(callback){return setTimeout(function(){callback(!0)},16)},tick()):ticker=window.requestAnimationFrame||rAFShim}),global.Velocity=Velocity,global!==window&&(global.fn.velocity=animate,global.fn.velocity.defaults=Velocity.defaults),$.each(["Down","Up"],function(i,direction){Velocity.Redirects["slide"+direction]=function(element,options,elementsIndex,elementsSize,elements,promiseData){var opts=$.extend({},options),begin=opts.begin,complete=opts.complete,computedValues={height:"",marginTop:"",marginBottom:"",paddingTop:"",paddingBottom:""},inlineValues={};opts.display===undefined&&(opts.display="Down"===direction?"inline"===Velocity.CSS.Values.getDisplayType(element)?"inline-block":"block":"none"),opts.begin=function(){begin&&begin.call(elements,elements);for(var property in computedValues){inlineValues[property]=element.style[property];var propertyValue=Velocity.CSS.getPropertyValue(element,property);computedValues[property]="Down"===direction?[propertyValue,0]:[0,propertyValue]}inlineValues.overflow=element.style.overflow,element.style.overflow="hidden"},opts.complete=function(){for(var property in inlineValues)element.style[property]=inlineValues[property];complete&&complete.call(elements,elements),promiseData&&promiseData.resolver(elements)},Velocity(element,computedValues,opts)}}),$.each(["In","Out"],function(i,direction){Velocity.Redirects["fade"+direction]=function(element,options,elementsIndex,elementsSize,elements,promiseData){var opts=$.extend({},options),propertiesMap={opacity:"In"===direction?1:0},originalComplete=opts.complete;elementsIndex!==elementsSize-1?opts.complete=opts.begin=null:opts.complete=function(){originalComplete&&originalComplete.call(elements,elements),promiseData&&promiseData.resolver(elements)},opts.display===undefined&&(opts.display="In"===direction?"auto":"none"),Velocity(this,propertiesMap,opts)}}),Velocity}(window.jQuery||window.Zepto||window,window,document)}),function(factory){"function"==typeof require&&"object"==typeof exports?module.exports=factory():"function"==typeof define&&define.amd?define(["velocity"],factory):factory()}(function(){return function(global,window,document,undefined){function greaterSemver(primary,secondary){var versionInts=[];return!(!primary||!secondary)&&($.each([primary,secondary],function(i,versionObject){var versionIntsComponents=[];$.each(versionObject,function(component,value){for(;value.toString().length<5;)value="0"+value;versionIntsComponents.push(value)}),versionInts.push(versionIntsComponents.join(""))}),parseFloat(versionInts[0])>parseFloat(versionInts[1]))}if(!global.Velocity||!global.Velocity.Utilities)return void(window.console&&console.log("Velocity UI Pack: Velocity must be loaded first. Aborting."));var Velocity=global.Velocity,$=Velocity.Utilities,velocityVersion=Velocity.version,requiredVersion={major:1,minor:1,patch:0};if(greaterSemver(requiredVersion,velocityVersion)){var abortError="Velocity UI Pack: You need to update Velocity (jquery.velocity.js) to a newer version. Visit http://github.com/julianshapiro/velocity.";throw alert(abortError),new Error(abortError)}Velocity.RegisterEffect=Velocity.RegisterUI=function(effectName,properties){function animateParentHeight(elements,direction,totalDuration,stagger){var parentNode,totalHeightDelta=0;$.each(elements.nodeType?[elements]:elements,function(i,element){stagger&&(totalDuration+=i*stagger),parentNode=element.parentNode,$.each(["height","paddingTop","paddingBottom","marginTop","marginBottom"],function(i,property){totalHeightDelta+=parseFloat(Velocity.CSS.getPropertyValue(element,property))})}),Velocity.animate(parentNode,{height:("In"===direction?"+":"-")+"="+totalHeightDelta},{queue:!1,easing:"ease-in-out",duration:totalDuration*("In"===direction?.6:1)})}return Velocity.Redirects[effectName]=function(element,redirectOptions,elementsIndex,elementsSize,elements,promiseData){function injectFinalCallbacks(){redirectOptions.display!==undefined&&"none"!==redirectOptions.display||!/Out$/.test(effectName)||$.each(elements.nodeType?[elements]:elements,function(i,element){Velocity.CSS.setPropertyValue(element,"display","none")}),redirectOptions.complete&&redirectOptions.complete.call(elements,elements),promiseData&&promiseData.resolver(elements||element)}var finalElement=elementsIndex===elementsSize-1;"function"==typeof properties.defaultDuration?properties.defaultDuration=properties.defaultDuration.call(elements,elements):properties.defaultDuration=parseFloat(properties.defaultDuration);for(var callIndex=0;callIndex<properties.calls.length;callIndex++){var call=properties.calls[callIndex],propertyMap=call[0],redirectDuration=redirectOptions.duration||properties.defaultDuration||1e3,durationPercentage=call[1],callOptions=call[2]||{},opts={};if(opts.duration=redirectDuration*(durationPercentage||1),opts.queue=redirectOptions.queue||"",opts.easing=callOptions.easing||"ease",opts.delay=parseFloat(callOptions.delay)||0,opts._cacheValues=callOptions._cacheValues||!0,0===callIndex){if(opts.delay+=parseFloat(redirectOptions.delay)||0,0===elementsIndex&&(opts.begin=function(){redirectOptions.begin&&redirectOptions.begin.call(elements,elements);var direction=effectName.match(/(In|Out)$/);direction&&"In"===direction[0]&&propertyMap.opacity!==undefined&&$.each(elements.nodeType?[elements]:elements,function(i,element){Velocity.CSS.setPropertyValue(element,"opacity",0)}),redirectOptions.animateParentHeight&&direction&&animateParentHeight(elements,direction[0],redirectDuration+opts.delay,redirectOptions.stagger)}),null!==redirectOptions.display)if(redirectOptions.display!==undefined&&"none"!==redirectOptions.display)opts.display=redirectOptions.display;else if(/In$/.test(effectName)){var defaultDisplay=Velocity.CSS.Values.getDisplayType(element);opts.display="inline"===defaultDisplay?"inline-block":defaultDisplay}redirectOptions.visibility&&"hidden"!==redirectOptions.visibility&&(opts.visibility=redirectOptions.visibility)}callIndex===properties.calls.length-1&&(opts.complete=function(){if(properties.reset){for(var resetProperty in properties.reset){var resetValue=properties.reset[resetProperty];Velocity.CSS.Hooks.registered[resetProperty]!==undefined||"string"!=typeof resetValue&&"number"!=typeof resetValue||(properties.reset[resetProperty]=[properties.reset[resetProperty],properties.reset[resetProperty]])}var resetOptions={duration:0,queue:!1};finalElement&&(resetOptions.complete=injectFinalCallbacks),Velocity.animate(element,properties.reset,resetOptions)}else finalElement&&injectFinalCallbacks()},"hidden"===redirectOptions.visibility&&(opts.visibility=redirectOptions.visibility)),Velocity.animate(element,propertyMap,opts)}},Velocity},Velocity.RegisterEffect.packagedEffects={"callout.bounce":{defaultDuration:550,calls:[[{translateY:-30},.25],[{translateY:0},.125],[{translateY:-15},.125],[{translateY:0},.25]]},"callout.shake":{defaultDuration:800,calls:[[{translateX:-11},.125],[{translateX:11},.125],[{translateX:-11},.125],[{translateX:11},.125],[{translateX:-11},.125],[{translateX:11},.125],[{translateX:-11},.125],[{translateX:0},.125]]},"callout.flash":{defaultDuration:1100,calls:[[{opacity:[0,"easeInOutQuad",1]},.25],[{opacity:[1,"easeInOutQuad"]},.25],[{opacity:[0,"easeInOutQuad"]},.25],[{opacity:[1,"easeInOutQuad"]},.25]]},"callout.pulse":{defaultDuration:825,calls:[[{scaleX:1.1,scaleY:1.1},.5,{easing:"easeInExpo"}],[{scaleX:1,scaleY:1},.5]]},"callout.swing":{defaultDuration:950,calls:[[{rotateZ:15},.2],[{rotateZ:-10},.2],[{rotateZ:5},.2],[{rotateZ:-5},.2],[{rotateZ:0},.2]]},"callout.tada":{defaultDuration:1e3,calls:[[{scaleX:.9,scaleY:.9,rotateZ:-3},.1],[{scaleX:1.1,scaleY:1.1,rotateZ:3},.1],[{scaleX:1.1,scaleY:1.1,rotateZ:-3},.1],["reverse",.125],["reverse",.125],["reverse",.125],["reverse",.125],["reverse",.125],[{scaleX:1,scaleY:1,rotateZ:0},.2]]},"transition.fadeIn":{defaultDuration:500,calls:[[{opacity:[1,0]}]]},"transition.fadeOut":{defaultDuration:500,calls:[[{opacity:[0,1]}]]},"transition.flipXIn":{defaultDuration:700,calls:[[{opacity:[1,0],transformPerspective:[800,800],rotateY:[0,-55]}]],reset:{transformPerspective:0}},"transition.flipXOut":{defaultDuration:700,calls:[[{opacity:[0,1],transformPerspective:[800,800],rotateY:55}]],reset:{transformPerspective:0,rotateY:0}},"transition.flipYIn":{defaultDuration:800,calls:[[{opacity:[1,0],transformPerspective:[800,800],rotateX:[0,-45]}]],reset:{transformPerspective:0}},"transition.flipYOut":{defaultDuration:800,calls:[[{opacity:[0,1],transformPerspective:[800,800],rotateX:25}]],reset:{transformPerspective:0,rotateX:0}},"transition.flipBounceXIn":{defaultDuration:900,calls:[[{opacity:[.725,0],transformPerspective:[400,400],rotateY:[-10,90]},.5],[{opacity:.8,rotateY:10},.25],[{opacity:1,rotateY:0},.25]],reset:{transformPerspective:0}},"transition.flipBounceXOut":{defaultDuration:800,calls:[[{opacity:[.9,1],transformPerspective:[400,400],rotateY:-10},.5],[{opacity:0,rotateY:90},.5]],reset:{transformPerspective:0,rotateY:0}},"transition.flipBounceYIn":{defaultDuration:850,calls:[[{opacity:[.725,0],transformPerspective:[400,400],rotateX:[-10,90]},.5],[{opacity:.8,rotateX:10},.25],[{opacity:1,rotateX:0},.25]],reset:{transformPerspective:0}},"transition.flipBounceYOut":{defaultDuration:800,calls:[[{opacity:[.9,1],transformPerspective:[400,400],rotateX:-15},.5],[{opacity:0,rotateX:90},.5]],reset:{transformPerspective:0,rotateX:0}},"transition.swoopIn":{defaultDuration:850,calls:[[{opacity:[1,0],transformOriginX:["100%","50%"],transformOriginY:["100%","100%"],scaleX:[1,0],scaleY:[1,0],translateX:[0,-700],translateZ:0}]],reset:{transformOriginX:"50%",transformOriginY:"50%"}},"transition.swoopOut":{defaultDuration:850,calls:[[{opacity:[0,1],transformOriginX:["50%","100%"],transformOriginY:["100%","100%"],scaleX:0,scaleY:0,translateX:-700,translateZ:0}]],reset:{transformOriginX:"50%",transformOriginY:"50%",scaleX:1,scaleY:1,translateX:0}},"transition.whirlIn":{defaultDuration:850,calls:[[{opacity:[1,0],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:[1,0],scaleY:[1,0],rotateY:[0,160]},1,{easing:"easeInOutSine"}]]},"transition.whirlOut":{defaultDuration:750,calls:[[{opacity:[0,"easeInOutQuint",1],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:0,scaleY:0,rotateY:160},1,{easing:"swing"}]],reset:{scaleX:1,scaleY:1,rotateY:0}},"transition.shrinkIn":{defaultDuration:750,calls:[[{opacity:[1,0],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:[1,1.5],scaleY:[1,1.5],translateZ:0}]]},"transition.shrinkOut":{defaultDuration:600,calls:[[{opacity:[0,1],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:1.3,scaleY:1.3,translateZ:0}]],reset:{scaleX:1,scaleY:1}},"transition.expandIn":{defaultDuration:700,calls:[[{opacity:[1,0],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:[1,.625],scaleY:[1,.625],translateZ:0}]]},"transition.expandOut":{defaultDuration:700,calls:[[{opacity:[0,1],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:.5,scaleY:.5,translateZ:0}]],reset:{scaleX:1,scaleY:1}},"transition.bounceIn":{defaultDuration:800,calls:[[{opacity:[1,0],scaleX:[1.05,.3],scaleY:[1.05,.3]},.4],[{scaleX:.9,scaleY:.9,translateZ:0},.2],[{scaleX:1,scaleY:1},.5]]},"transition.bounceOut":{defaultDuration:800,calls:[[{scaleX:.95,scaleY:.95},.35],[{scaleX:1.1,scaleY:1.1,translateZ:0},.35],[{opacity:[0,1],scaleX:.3,scaleY:.3},.3]],reset:{scaleX:1,scaleY:1}},"transition.bounceUpIn":{defaultDuration:800,calls:[[{opacity:[1,0],translateY:[-30,1e3]},.6,{easing:"easeOutCirc"}],[{translateY:10},.2],[{translateY:0},.2]]},"transition.bounceUpOut":{defaultDuration:1e3,calls:[[{translateY:20},.2],[{opacity:[0,"easeInCirc",1],translateY:-1e3},.8]],reset:{translateY:0}},"transition.bounceDownIn":{defaultDuration:800,calls:[[{opacity:[1,0],translateY:[30,-1e3]},.6,{easing:"easeOutCirc"}],[{translateY:-10},.2],[{translateY:0},.2]]},"transition.bounceDownOut":{defaultDuration:1e3,calls:[[{translateY:-20},.2],[{opacity:[0,"easeInCirc",1],translateY:1e3},.8]],reset:{translateY:0}},"transition.bounceLeftIn":{defaultDuration:750,calls:[[{opacity:[1,0],translateX:[30,-1250]},.6,{easing:"easeOutCirc"}],[{translateX:-10},.2],[{translateX:0},.2]]},"transition.bounceLeftOut":{defaultDuration:750,calls:[[{translateX:30},.2],[{opacity:[0,"easeInCirc",1],translateX:-1250},.8]],reset:{translateX:0}},"transition.bounceRightIn":{defaultDuration:750,calls:[[{opacity:[1,0],translateX:[-30,1250]},.6,{easing:"easeOutCirc"}],[{translateX:10},.2],[{translateX:0},.2]]},"transition.bounceRightOut":{defaultDuration:750,calls:[[{translateX:-30},.2],[{opacity:[0,"easeInCirc",1],translateX:1250},.8]],reset:{translateX:0}},"transition.slideUpIn":{defaultDuration:900,calls:[[{opacity:[1,0],translateY:[0,20],translateZ:0}]]},"transition.slideUpOut":{defaultDuration:900,calls:[[{opacity:[0,1],translateY:-20,translateZ:0}]],reset:{translateY:0}},"transition.slideDownIn":{defaultDuration:900,calls:[[{opacity:[1,0],translateY:[0,-20],translateZ:0}]]},"transition.slideDownOut":{defaultDuration:900,calls:[[{opacity:[0,1],translateY:20,translateZ:0}]],reset:{translateY:0}},"transition.slideLeftIn":{defaultDuration:1e3,calls:[[{opacity:[1,0],translateX:[0,-20],translateZ:0}]]},"transition.slideLeftOut":{defaultDuration:1050,calls:[[{opacity:[0,1],translateX:-20,translateZ:0}]],reset:{translateX:0}},"transition.slideRightIn":{defaultDuration:1e3,calls:[[{opacity:[1,0],translateX:[0,20],translateZ:0}]]},"transition.slideRightOut":{defaultDuration:1050,calls:[[{opacity:[0,1],translateX:20,translateZ:0}]],reset:{translateX:0}},"transition.slideUpBigIn":{defaultDuration:850,calls:[[{opacity:[1,0],translateY:[0,75],translateZ:0}]]},"transition.slideUpBigOut":{defaultDuration:800,calls:[[{opacity:[0,1],translateY:-75,translateZ:0}]],reset:{translateY:0}},"transition.slideDownBigIn":{defaultDuration:850,calls:[[{opacity:[1,0],translateY:[0,-75],translateZ:0}]]},"transition.slideDownBigOut":{defaultDuration:800,calls:[[{opacity:[0,1],translateY:75,translateZ:0}]],reset:{translateY:0}},"transition.slideLeftBigIn":{defaultDuration:800,calls:[[{opacity:[1,0],translateX:[0,-75],translateZ:0}]]},"transition.slideLeftBigOut":{defaultDuration:750,calls:[[{opacity:[0,1],translateX:-75,translateZ:0}]],reset:{translateX:0}},"transition.slideRightBigIn":{defaultDuration:800,calls:[[{opacity:[1,0],translateX:[0,75],translateZ:0}]]},"transition.slideRightBigOut":{defaultDuration:750,calls:[[{opacity:[0,1],translateX:75,translateZ:0}]],reset:{translateX:0}},"transition.perspectiveUpIn":{defaultDuration:800,calls:[[{opacity:[1,0],transformPerspective:[800,800],transformOriginX:[0,0],transformOriginY:["100%","100%"],rotateX:[0,-180]}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%"}},"transition.perspectiveUpOut":{defaultDuration:850,calls:[[{opacity:[0,1],transformPerspective:[800,800],transformOriginX:[0,0],transformOriginY:["100%","100%"],rotateX:-180}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%",rotateX:0}},"transition.perspectiveDownIn":{defaultDuration:800,calls:[[{opacity:[1,0],transformPerspective:[800,800],transformOriginX:[0,0],transformOriginY:[0,0],rotateX:[0,180]}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%"}},"transition.perspectiveDownOut":{defaultDuration:850,calls:[[{opacity:[0,1],transformPerspective:[800,800],transformOriginX:[0,0],transformOriginY:[0,0],rotateX:180}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%",rotateX:0}},"transition.perspectiveLeftIn":{defaultDuration:950,calls:[[{opacity:[1,0],transformPerspective:[2e3,2e3],transformOriginX:[0,0],transformOriginY:[0,0],rotateY:[0,-180]}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%"}},"transition.perspectiveLeftOut":{defaultDuration:950,calls:[[{opacity:[0,1],transformPerspective:[2e3,2e3],transformOriginX:[0,0],transformOriginY:[0,0],rotateY:-180}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%",rotateY:0}},"transition.perspectiveRightIn":{defaultDuration:950,calls:[[{opacity:[1,0],transformPerspective:[2e3,2e3],transformOriginX:["100%","100%"],transformOriginY:[0,0],rotateY:[0,180]}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%"}},"transition.perspectiveRightOut":{defaultDuration:950,calls:[[{opacity:[0,1],transformPerspective:[2e3,2e3],transformOriginX:["100%","100%"],transformOriginY:[0,0],rotateY:180}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%",rotateY:0}}};for(var effectName in Velocity.RegisterEffect.packagedEffects)Velocity.RegisterEffect(effectName,Velocity.RegisterEffect.packagedEffects[effectName]);Velocity.RunSequence=function(originalSequence){var sequence=$.extend(!0,[],originalSequence);sequence.length>1&&($.each(sequence.reverse(),function(i,currentCall){var nextCall=sequence[i+1];if(nextCall){var currentCallOptions=currentCall.o||currentCall.options,nextCallOptions=nextCall.o||nextCall.options,timing=currentCallOptions&&currentCallOptions.sequenceQueue===!1?"begin":"complete",callbackOriginal=nextCallOptions&&nextCallOptions[timing],options={};options[timing]=function(){var nextCallElements=nextCall.e||nextCall.elements,elements=nextCallElements.nodeType?[nextCallElements]:nextCallElements;callbackOriginal&&callbackOriginal.call(elements,elements),Velocity(currentCall)},nextCall.o?nextCall.o=$.extend({},nextCallOptions,options):nextCall.options=$.extend({},nextCallOptions,options)}}),sequence.reverse()),Velocity(sequence[0])}}(window.jQuery||window.Zepto||window,window,document)}),angular.module("lumx.utils",["lumx.utils.transclude","lumx.utils.transclude-replace"]),angular.module("lumx",["lumx.utils","lumx.ripple","lumx.notification","lumx.dropdown","lumx.text-field","lumx.dialog","lumx.select","lumx.scrollbar","lumx.thumbnail","lumx.tabs","lumx.tooltip","lumx.file-input","lumx.progress","lumx.search-filter","lumx.date-picker"]),angular.module("lumx.utils.transclude-replace",[]).directive("ngTranscludeReplace",["$log",function($log){return{terminal:!0,restrict:"EA",link:function($scope,$element,$attr,ctrl,transclude){return transclude?void transclude(function(clone){clone.length?$element.replaceWith(clone):$element.remove()}):void $log.error("orphan","Illegal use of ngTranscludeReplace directive in the template! No parent directive that requires a transclusion found. ")}}}]),angular.module("lumx.utils.transclude",[]).config(["$provide",function($provide){$provide.decorator("ngTranscludeDirective",["$delegate",function($delegate){return $delegate.shift(),$delegate}])}]).directive("ngTransclude",function(){return{restrict:"EAC",link:function(scope,element,attrs,ctrl,transclude){var iScopeType=attrs.ngTransclude||"sibling";switch(iScopeType){case"sibling":transclude(function(clone){element.empty(),element.append(clone)});break;case"parent":transclude(scope,function(clone){element.empty(),element.append(clone)});break;case"child":var iChildScope=scope.$new();transclude(iChildScope,function(clone){element.empty(),element.append(clone),element.on("$destroy",function(){iChildScope.$destroy()})});break;default:var count=parseInt(iScopeType);if(!isNaN(count)){for(var toClone=scope,idx=0;idx<count&&toClone.$parent;idx++)toClone=toClone.$parent;transclude(toClone,function(clone){element.empty(),element.append(clone)})}}}}}),angular.module("lumx.date-picker",[]).controller("lxDatePickerController",["$scope","$timeout","$window",function($scope,$timeout,$window){function generateCalendar(){var days=[],previousDay=angular.copy($scope.activeDate).date(0),firstDayOfMonth=angular.copy($scope.activeDate).date(1),lastDayOfMonth=angular.copy(firstDayOfMonth).endOf("month"),maxDays=angular.copy(lastDayOfMonth).date();$scope.emptyFirstDays=[];for(var i=0===firstDayOfMonth.day()?6:firstDayOfMonth.day()-1;i>0;i--)$scope.emptyFirstDays.push({});for(var j=0;j<maxDays;j++){var date=angular.copy(previousDay.add(1,"days"));date.selected=angular.isDefined($scope.selected.model)&&date.isSame($scope.selected.date,"day"),date.today=date.isSame(moment(),"day"),days.push(date)}$scope.emptyLastDays=[];for(var k=7-(0===lastDayOfMonth.day()?7:lastDayOfMonth.day());k>0;k--)$scope.emptyLastDays.push({});$scope.days=days}var activeLocale,$datePicker,$datePickerFilter,$datePickerContainer,self=this;this.init=function(element,locale){$datePicker=element.find(".lx-date-picker"),$datePickerContainer=element,self.build(locale,!1)},this.build=function(locale,isNewModel){if(locale!==activeLocale||isNewModel){activeLocale=locale,moment.locale(activeLocale),angular.isDefined($scope.model)?($scope.selected={model:moment($scope.model).format("LL"),date:$scope.model},$scope.activeDate=moment($scope.model)):($scope.selected={model:void 0,date:new Date},$scope.activeDate=moment()),$scope.moment=moment,$scope.days=[],$scope.daysOfWeek=[moment.weekdaysMin(1),moment.weekdaysMin(2),moment.weekdaysMin(3),moment.weekdaysMin(4),moment.weekdaysMin(5),moment.weekdaysMin(6),moment.weekdaysMin(0)],$scope.years=[];for(var y=moment().year()-100;y<=moment().year()+100;y++)$scope.years.push(y);generateCalendar()}},$scope.previousMonth=function(){$scope.activeDate=$scope.activeDate.subtract(1,"month"),generateCalendar()},$scope.nextMonth=function(){$scope.activeDate=$scope.activeDate.add(1,"month"),generateCalendar()},$scope.select=function(day){$scope.selected={model:day.format("LL"),date:day.toDate()},$scope.model=day.toDate(),generateCalendar()},$scope.selectYear=function(year){$scope.yearSelection=!1,$scope.selected.model=moment($scope.selected.date).year(year).format("LL"),$scope.selected.date=moment($scope.selected.date).year(year).toDate(),$scope.model=moment($scope.selected.date).toDate(),$scope.activeDate=$scope.activeDate.add(year-$scope.activeDate.year(),"year"),generateCalendar()},$scope.openPicker=function(){$scope.yearSelection=!1,$datePickerFilter=angular.element("<div/>",{"class":"lx-date-filter"}),$datePickerFilter.appendTo("body").bind("click",function(){$scope.closePicker()}),$datePicker.appendTo("body").show(),$timeout(function(){$datePickerFilter.addClass("lx-date-filter--is-shown"),$datePicker.addClass("lx-date-picker--is-shown")},100)},$scope.closePicker=function(){$datePickerFilter.removeClass("lx-date-filter--is-shown"),$datePicker.removeClass("lx-date-picker--is-shown"),$timeout(function(){$datePickerFilter.remove(),$datePicker.hide().appendTo($datePickerContainer)},600)},$scope.displayYearSelection=function(){var calendarHeight=angular.element(".lx-date-picker__calendar").outerHeight(),$yearSelector=angular.element(".lx-date-picker__year-selector");$yearSelector.css({height:calendarHeight}),$scope.yearSelection=!0,$timeout(function(){var $activeYear=angular.element(".lx-date-picker__year--is-active");$yearSelector.scrollTop($yearSelector.scrollTop()+$activeYear.position().top-$yearSelector.height()/2+$activeYear.height()/2)})}}]).directive("lxDatePicker",function(){return{restrict:"AE",controller:"lxDatePickerController",scope:{model:"=",label:"@",fixedLabel:"&",icon:"@"},templateUrl:"date-picker.html",link:function(scope,element,attrs,ctrl){function checkLocale(locale){return locale?locale:(null!==navigator.language?navigator.language:navigator.browserLanguage).split("_")[0].split("-")[0]||"en"}ctrl.init(element,checkLocale(attrs.locale)),attrs.$observe("locale",function(){ctrl.build(checkLocale(attrs.locale),!1)}),scope.$watch("model",function(){ctrl.build(checkLocale(attrs.locale),!0)})}}}),angular.module("lumx.dialog",[]).service("LxDialogService",["$timeout","$interval","$window",function($timeout,$interval,$window){function checkDialogHeight(dialogId){var dialogMargin=60,dialog=scopeMap[dialogId].element,dialogHeader=dialog.find(".dialog__header"),dialogContent=dialog.find(".dialog__content"),dialogActions=dialog.find(".dialog__actions"),dialogScrollable=angular.element("<div/>",{"class":"dialog__scrollable"}),HeightToCheck=dialogMargin+dialogHeader.outerHeight()+dialogContent.outerHeight()+dialogActions.outerHeight();HeightToCheck>=$window.innerHeight?(dialog.addClass("dialog--is-fixed"),0===dialog.find(".dialog__scrollable").length&&(dialogScrollable.css({top:dialogHeader.outerHeight(),bottom:dialogActions.outerHeight()}),dialogContent.wrap(dialogScrollable))):(dialog.removeClass("dialog--is-fixed"),dialog.find(".dialog__scrollable").length>0&&dialogContent.unwrap())}var dialogInterval,dialogFilter,dialogHeight,activeDialogId,self=this,scopeMap={};this.registerScope=function(dialogId,dialogScope){scopeMap[dialogId]=dialogScope},this.open=function(dialogId){activeDialogId=dialogId,dialogFilter=angular.element("<div/>",{"class":"dialog-filter"}),dialogFilter.appendTo("body").bind("click",function(){self.close(dialogId)}),scopeMap[dialogId].element.appendTo("body").show(),$timeout(function(){scopeMap[dialogId].isOpened=!0,dialogFilter.addClass("dialog-filter--is-shown"),scopeMap[dialogId].element.addClass("dialog--is-shown")},100),dialogInterval=$interval(function(){scopeMap[dialogId].element.outerHeight()!==dialogHeight&&(checkDialogHeight(dialogId),dialogHeight=scopeMap[dialogId].element.outerHeight())},500)},this.close=function(dialogId){activeDialogId=void 0,$interval.cancel(dialogInterval),dialogFilter.removeClass("dialog-filter--is-shown"),scopeMap[dialogId].element.removeClass("dialog--is-shown"),scopeMap[dialogId].onclose(),$timeout(function(){dialogFilter.remove(),scopeMap[dialogId].element.hide().removeClass("dialog--is-fixed").appendTo(scopeMap[dialogId].parent),scopeMap[dialogId].isOpened=!1,dialogHeight=void 0,scopeMap[dialogId].$destroy()},600)},angular.element($window).bind("resize",function(){angular.isDefined(activeDialogId)&&checkDialogHeight(activeDialogId)})}]).controller("LxDialogController",["$scope","LxDialogService",function($scope,LxDialogService){this.init=function(element,id){$scope.isOpened=!1,$scope.element=element,$scope.parent=element.parent(),LxDialogService.registerScope(id,$scope)}}]).directive("lxDialog",function(){return{restrict:"E",controller:"LxDialogController",scope:{onclose:"&"},template:'<div><div ng-if="isOpened" ng-transclude="2"></div></div>',replace:!0,transclude:!0,link:function(scope,element,attrs,ctrl){attrs.$observe("id",function(newId){newId&&ctrl.init(element,newId)})}}}).directive("lxDialogClose",["LxDialogService",function(LxDialogService){return{restrict:"A",link:function(scope,element){element.bind("click",function(){LxDialogService.close(element.parents(".dialog").attr("id"))})}}}]),angular.module("lumx.dropdown",[]).service("LxDropdownService",["$document",function($document){function open(dropdownScope){openScope||$document.bind("click",closeDropdown),openScope&&openScope!==dropdownScope&&(openScope.isOpened=!1),openScope=dropdownScope}function close(dropdownScope){openScope===dropdownScope&&(openScope=null,$document.unbind("click",closeDropdown))}function closeDropdown(){openScope&&openScope.$apply(function(){openScope.isOpened=!1})}var openScope=null;return{open:open,close:close}}]).controller("LxDropdownController",["$scope","$timeout","$window","LxDropdownService",function($scope,$timeout,$window,LxDropdownService){function linkList(){$scope.isDropped=!1,closeDropdownMenu()}function unlinkList(){$scope.isDropped=!0,dropdownMenu.appendTo("body"),$timeout(function(){setDropdownMenuCss(),openDropdownMenu()})}function fromTop(toTop){return angular.isUndefined($scope.overToggle)&&angular.isDefined($scope.fromTop)?"true"===$scope.fromTop:"true"===$scope.overToggle?!toTop:toTop}function setDropdownMenuCss(){var dropdownMenuWidth=dropdownMenu.outerWidth();dropdownMenuHeight=dropdownMenu.outerHeight();var height,bottomOffset,topOffset,origin={x:dropdown.offset().left,y:dropdown.offset().top+dropdown.outerHeight()},width=dropdownMenuWidth;angular.isDefined($scope.width)&&(width="full"===$scope.width?dropdown.outerWidth():dropdown.outerWidth()+parseInt($scope.width)),"right"===$scope.position?origin.x=$window.innerWidth-(dropdown.offset().left+dropdown.outerWidth()):"center"===$scope.position&&(origin.x=dropdown.offset().left+(dropdown.outerWidth()-width)/2),origin.y+dropdownMenuHeight>=$window.innerHeight&&origin.y-dropdownMenuHeight>0?(bottomOffset=fromTop(!0)?dropdown.outerHeight():0,bottomOffset&&origin.y-bottomOffset-dropdownMenuHeight<=0&&(height=origin.y-bottomOffset-8),dropdownMenu.css({left:"right"!==$scope.position?origin.x:void 0,
right:"right"===$scope.position?origin.x:void 0,bottom:$window.innerHeight-origin.y+bottomOffset,width:width,height:height})):origin.y+dropdownMenuHeight<$window.innerHeight?(topOffset=fromTop(!1)?-dropdown.outerHeight():0,dropdownMenu.css({left:"right"!==$scope.position?origin.x:void 0,right:"right"===$scope.position?origin.x:void 0,top:origin.y+topOffset,width:width})):origin.y>$window.innerHeight/2?(bottomOffset=fromTop(!0)?dropdown.outerHeight():0,height=origin.y-8,dropdownMenu.css({left:"right"!==$scope.position?origin.x:void 0,right:"right"===$scope.position?origin.x:void 0,bottom:$window.innerHeight-origin.y+bottomOffset,width:width,height:height-bottomOffset})):(topOffset=fromTop(!1)?-dropdown.outerHeight():0,height=$window.innerHeight-origin.y-8,dropdownMenu.css({left:"right"!==$scope.position?origin.x:void 0,right:"right"===$scope.position?origin.x:void 0,top:origin.y+topOffset,width:width,height:height-topOffset}))}function openDropdownMenu(){var width=dropdownMenu.outerWidth(),height=dropdownMenu.outerHeight();dropdownMenu.css({width:0,height:0,opacity:1}),dropdownMenu.find(".dropdown-dropdownMenu__content").css({width:width,height:height}),dropdownMenu.velocity({width:width},{duration:200,easing:"easeOutQuint",queue:!1}),dropdownMenu.velocity({height:height},{duration:500,easing:"easeOutQuint",queue:!1,complete:function(){height===dropdownMenuHeight?dropdownMenu.css({height:"auto"}):dropdownMenu.css({overflow:"auto"}),angular.isDefined($scope.width)||dropdownMenu.css({width:"auto"}),dropdownMenu.find(".dropdown-menu__content").removeAttr("style")}}),dropdown.addClass("dropdown--is-active")}function closeDropdownMenu(){dropdownMenu.velocity({width:0,height:0},{duration:200,easing:"easeOutQuint",complete:function(){dropdownMenu.appendTo(dropdown).removeAttr("style"),dropdown.removeClass("dropdown--is-active")}})}var dropdown,dropdownMenu,dropdownMenuHeight;$scope.isOpened=!1,$scope.isDropped=!1,this.registerDropdown=function(element){dropdown=element,$scope.position=angular.isDefined($scope.position)?$scope.position:"left"},this.registerDropdownMenu=function(element){dropdownMenu=element},this.toggle=function(){$scope.isOpened=!$scope.isOpened},$scope.$watch("isOpened",function(isOpened){isOpened?(unlinkList(),LxDropdownService.open($scope)):(linkList(),LxDropdownService.close($scope))}),angular.element($window).bind("resize, scroll",function(){$scope.isDropped&&setDropdownMenuCss()}),$scope.$on("$locationChangeSuccess",function(){$scope.isOpened=!1}),$scope.$on("$destroy",function(){dropdownMenu.remove(),LxDropdownService.close($scope)})}]).directive("lxDropdown",function(){return{restrict:"E",controller:"LxDropdownController",templateUrl:"dropdown.html",transclude:!0,replace:!0,scope:{position:"@",width:"@",fromTop:"@",overToggle:"@"},link:function(scope,element,attrs,ctrl){ctrl.registerDropdown(element)}}}).directive("lxDropdownToggle",function(){return{restrict:"A",require:"^lxDropdown",templateUrl:"dropdown-toggle.html",replace:!0,transclude:!0,link:function(scope,element,attrs,ctrl){element.bind("click",function(event){event.stopPropagation(),scope.$apply(function(){ctrl.toggle()})})}}}).directive("lxDropdownMenu",function(){return{restrict:"E",require:"^lxDropdown",templateUrl:"dropdown-menu.html",transclude:!0,replace:!0,link:function(scope,element,attrs,ctrl){ctrl.registerDropdownMenu(element),element.on("click",function(event){event.stopPropagation(),scope.$apply(function(){ctrl.toggle()})})}}}).directive("lxDropdownFilter",["$timeout",function($timeout){return{restrict:"A",link:function(scope,element){element.bind("click",function(event){event.stopPropagation()}),$timeout(function(){element.find("input").focus()},200)}}}]),angular.module("lumx.file-input",[]).directive("lxFileInput",["$timeout",function($timeout){return{restrict:"E",scope:{label:"@",value:"=",change:"&"},templateUrl:"file-input.html",replace:!0,link:function(scope,element){function setFileName(val){val&&($fileName.text(val.replace(/C:\\fakepath\\/i,"")),element.addClass("input-file--is-active"))}var $input=element.find("input"),$fileName=element.find(".input-file__filename");$input.addClass("input-file__input").on("change",function(){$timeout(function(){setFileName($input.val()),element.addClass("input-file--is-focused")}),angular.isDefined(scope.change)&&scope.change({e:$input[0].files[0],newValue:$input.val(),oldValue:$fileName.text()})}).on("blur",function(){element.removeClass("input-file--is-focused")}),scope.$watch("value",function(value){setFileName(value)})}}}]),angular.module("lumx.notification",[]).service("LxNotificationService",["$injector","$rootScope","$timeout",function($injector,$rootScope,$timeout){function getElementHeight(elem){return parseFloat(window.getComputedStyle(elem,null).height)}function moveNotificationUp(){var newNotifIndex=notificationList.length-1;notificationList[newNotifIndex].height=getElementHeight(notificationList[newNotifIndex].elem[0]);for(var upOffset=0,idx=newNotifIndex;idx>=0;idx--)notificationList.length>1&&idx!==newNotifIndex&&(upOffset=24+notificationList[newNotifIndex].height,notificationList[idx].margin+=upOffset,notificationList[idx].elem.css("marginBottom",notificationList[idx].margin+"px"))}function deleteNotification(notification){for(var notifIndex=notificationList.indexOf(notification),dnOffset=24+notificationList[notifIndex].height,idx=0;idx<notifIndex;idx++)notificationList.length>1&&(notificationList[idx].margin-=dnOffset,notificationList[idx].elem.css("marginBottom",notificationList[idx].margin+"px"));notification.elem.remove(),notificationList.splice(notifIndex,1)}function notify(text,icon,sticky,color){var notificationTimeout,notification=angular.element("<div/>",{"class":"notification"}),notificationText=angular.element("<span/>",{"class":"notification__content",text:text});if(angular.isDefined(icon)){var notificationIcon=angular.element("<i/>",{"class":"notification__icon mdi mdi-"+icon});notification.addClass("notification--has-icon").append(notificationIcon)}angular.isDefined(color)&&notification.addClass("notification--"+color),notification.append(notificationText).appendTo("body");var data={elem:notification,margin:0};notificationList.push(data),moveNotificationUp(),notification.bind("click",function(){deleteNotification(data),angular.isDefined(notificationTimeout)&&$timeout.cancel(notificationTimeout)}),!angular.isUndefined(sticky)&&sticky||(notificationTimeout=$timeout(function(){deleteNotification(data)},6e3))}function success(text,sticky){notify(text,"check",sticky,"green")}function error(text,sticky){notify(text,"alert-circle",sticky,"red")}function warning(text,sticky){notify(text,"alert",sticky,"orange")}function info(text,sticky){notify(text,"information-outline",sticky,"blue")}function buildDialogHeader(title){var dialogHeader=angular.element("<div/>",{"class":"dialog__header p++ fs-title",text:title});return dialogHeader}function buildDialogContent(text){var dialogContent=angular.element("<div/>",{"class":"dialog__content p++ pt0 tc-black-2",text:text});return dialogContent}function buildDialogActions(buttons,callback){var $compile=$injector.get("$compile"),dialogActions=angular.element("<div/>",{"class":"dialog__actions"}),dialogLastBtn=angular.element("<button/>",{"class":"btn btn--m btn--blue btn--flat",text:buttons.ok});if(angular.isDefined(buttons.cancel)){var dialogFirstBtn=angular.element("<button/>",{"class":"btn btn--m btn--red btn--flat",text:buttons.cancel});dialogFirstBtn.attr("lx-ripple",""),$compile(dialogFirstBtn)($rootScope),dialogActions.append(dialogFirstBtn),dialogFirstBtn.bind("click",function(){callback(!1),closeDialog()})}return dialogLastBtn.attr("lx-ripple",""),$compile(dialogLastBtn)($rootScope),dialogActions.append(dialogLastBtn),dialogLastBtn.bind("click",function(){callback(!0),closeDialog()}),dialogActions}function confirm(title,text,buttons,callback){dialogFilter=angular.element("<div/>",{"class":"dialog-filter"}),dialog=angular.element("<div/>",{"class":"dialog dialog--alert"});var dialogHeader=buildDialogHeader(title),dialogContent=buildDialogContent(text),dialogActions=buildDialogActions(buttons,callback);dialogFilter.appendTo("body"),dialog.append(dialogHeader).append(dialogContent).append(dialogActions).appendTo("body").show(),$timeout(function(){dialogFilter.addClass("dialog-filter--is-shown"),dialog.addClass("dialog--is-shown")},100)}function alert(title,text,button,callback){dialogFilter=angular.element("<div/>",{"class":"dialog-filter"}),dialog=angular.element("<div/>",{"class":"dialog dialog--alert"});var dialogHeader=buildDialogHeader(title),dialogContent=buildDialogContent(text),dialogActions=buildDialogActions({ok:button},callback);dialogFilter.appendTo("body"),dialog.append(dialogHeader).append(dialogContent).append(dialogActions).appendTo("body").show(),$timeout(function(){dialogFilter.addClass("dialog-filter--is-shown"),dialog.addClass("dialog--is-shown")},100)}function closeDialog(){dialogFilter.removeClass("dialog-filter--is-shown"),dialog.removeClass("dialog--is-shown"),$timeout(function(){dialogFilter.remove(),dialog.remove()},600)}var dialogFilter,dialog,notificationList=[];return{alert:alert,confirm:confirm,error:error,info:info,notify:notify,success:success,warning:warning}}]),angular.module("lumx.progress",[]).service("LxProgressService",["$timeout","$interval",function($timeout,$interval){function init(){progressCircular=document.createElement("div"),progressCircular.setAttribute("class","progress-circular"),progressCircularSvg=document.createElementNS("http://www.w3.org/2000/svg","svg"),progressCircularSvg.setAttribute("class","progress-circular__svg"),progressCircularPath=document.createElementNS("http://www.w3.org/2000/svg","circle"),progressCircularPath.setAttribute("class","progress-circular__path"),progressCircularPath.setAttribute("cx","50"),progressCircularPath.setAttribute("cy","50"),progressCircularPath.setAttribute("r","20"),progressCircularPath.setAttribute("fill","none"),progressCircularPath.setAttribute("stroke-miterlimit","10"),progressCircularSvg.appendChild(progressCircularPath),progressCircular.appendChild(progressCircularSvg),progressLinear=angular.element("<div/>",{"class":"progress-linear"}),progressLinearBackground=angular.element("<div/>",{"class":"progress-linear__background"}),progressLinearFirstBar=angular.element("<div/>",{"class":"progress-linear__bar progress-linear__bar--first"}),progressLinearSecondBar=angular.element("<div/>",{"class":"progress-linear__bar progress-linear__bar--second"}),progressLinear.append(progressLinearBackground).append(progressLinearFirstBar).append(progressLinearSecondBar)}function showCircular(color,container){progressCircularIsShown||showCircularProgress(color,container)}function hideCircular(){progressCircularIsShown&&hideCircularProgress()}function showCircularProgress(color,container){progressCircularIsShown=!0,progressCircularPath.setAttribute("stroke",color),angular.isDefined(container)?document.querySelector(container).appendChild(progressCircular):document.getElementsByTagName("body")[0].appendChild(progressCircular),$timeout(function(){progressCircular.setAttribute("class","progress-circular progress-circular--is-shown")})}function hideCircularProgress(){progressCircular.setAttribute("class","progress-circular"),$timeout(function(){progressCircular.remove(),progressCircularIsShown=!1},400)}function showLinear(color,container){progressLinearIsShown||showLinearProgress(color,container)}function hideLinear(){progressLinearIsShown&&hideLinearProgress()}function showLinearProgress(color,container){progressLinearIsShown=!0,progressLinearBackground.css({backgroundColor:color}),progressLinearFirstBar.css({backgroundColor:color}),progressLinearSecondBar.css({backgroundColor:color}),angular.isDefined(container)?progressLinear.appendTo(container):progressLinear.appendTo("body"),$timeout(function(){progressLinear.addClass("progress-linear--is-shown")})}function hideLinearProgress(){progressLinear.removeClass("progress-linear--is-shown"),$timeout(function(){progressLinear.remove(),progressLinearIsShown=!1},400)}var progressCircular,progressCircularSvg,progressCircularPath,progressLinear,progressLinearBackground,progressLinearFirstBar,progressLinearSecondBar,progressCircularIsShown=!1,progressLinearIsShown=!1;return init(),{circular:{show:showCircular,hide:hideCircular},linear:{show:showLinear,hide:hideLinear}}}]).directive("lxProgress",function(){return{restrict:"E",scope:{type:"@",color:"@"},templateUrl:"progress.html"}}),angular.module("lumx.ripple",[]).directive("lxRipple",["$timeout",function($timeout){return{restrict:"A",link:function(scope,element,attrs){var timeout;element.css({position:"relative",overflow:"hidden"}).bind("mousedown",function(e){var ripple;if(0===element.find(".ripple").length?(ripple=angular.element("<span/>",{"class":"ripple"}),attrs.lxRipple&&ripple.addClass("bgc-"+attrs.lxRipple),element.prepend(ripple)):ripple=element.find(".ripple"),ripple.removeClass("ripple--is-animated"),!ripple.height()&&!ripple.width()){var diameter=Math.max(element.outerWidth(),element.outerHeight());ripple.css({height:diameter,width:diameter})}var x=e.pageX-element.offset().left-ripple.width()/2,y=e.pageY-element.offset().top-ripple.height()/2;ripple.css({top:y+"px",left:x+"px"}).addClass("ripple--is-animated"),timeout=$timeout(function(){ripple.removeClass("ripple--is-animated")},651)}),scope.$on("$destroy",function(){$timeout.cancel(timeout)})}}}]),angular.module("lumx.scrollbar",[]).service("LxScrollbarService",["$window","$timeout",function($window,$timeout){function update(){angular.element($window).trigger("resize")}function setScrollPercent(id,newVal){angular.isDefined(id)&&""!==id&&$timeout(function(){scopeMap[id]=newVal})}function getScrollPercent(id){return scopeMap[id]}var scopeMap={};return{update:update,setScrollPercent:setScrollPercent,getScrollPercent:getScrollPercent}}]).controller("LxScrollbarController",["$scope","$window","LxScrollbarService",function($scope,$window,LxScrollbarService){function initScrollbar(){scrollbarContainerHeight=scrollbarContainer.outerHeight(),scrollbarContentHeight=scrollbarContent.outerHeight(),scrollBottom=scrollbarContentHeight-scrollbarContainerHeight,scrollbarContentHeight<=scrollbarContainerHeight?scrollbarYAxis.hide():(scrollbarYAxis.show(),updatePosition(0,0),scrollbarYAxis.css({height:scrollbarContainerHeight}),scrollbarYAxisHandle.css({height:scrollbarContainerHeight/scrollbarContentHeight*100+"%"}))}function updateScroll(handlePosition,scrollPosition){scrollPosition>=0&&scrollPosition<=scrollBottom?updatePosition(handlePosition,scrollPosition):scrollPosition<0?updatePosition(0,0):updatePosition(scrollbarContainerHeight-scrollbarYAxisHandle.outerHeight(),scrollBottom)}function updatePosition(handlePosition,scrollPosition){scrollbarYAxisHandle.css({top:handlePosition}),scrollbarYAxis.css({top:scrollPosition}),scrollbarContainer.scrollTop(scrollPosition),angular.isDefined(scrollbarId)&&LxScrollbarService.setScrollPercent(scrollbarId,scrollPosition/scrollBottom*100)}var mousePosition,scrollbarId,scrollbarContainer,scrollbarContainerHeight,scrollbarContent,scrollbarContentHeight,scrollbarYAxis,scrollbarYAxisHandle,scrollbarYAxisHandlePosition,scrollBottom;this.setElementId=function(id){scrollbarId=id},this.init=function(element){scrollbarContainer=element,scrollbarContainer.addClass("scrollbar-container").wrapInner('<div class="scrollbar-content"></div>'),scrollbarContent=scrollbarContainer.find(".scrollbar-content"),scrollbarYAxis=angular.element("<div/>",{"class":"scrollbar-y-axis"}),scrollbarYAxisHandle=angular.element("<div/>",{"class":"scrollbar-y-axis__handle"}),scrollbarYAxis.append(scrollbarYAxisHandle).prependTo(scrollbarContainer),scrollbarYAxisHandle.bind("mousedown",function(){var handlePosition,scrollPercent,scrollPosition;angular.element($window).bind("mousemove",function(event){$window.innerWidth>=1024&&(event.preventDefault(),scrollbarYAxis.addClass("scrollbar-y-axis--is-dragging"),angular.isUndefined(mousePosition)&&(mousePosition=event.pageY),angular.isUndefined(scrollbarYAxisHandlePosition)&&(scrollbarYAxisHandlePosition=scrollbarYAxisHandle.position().top),handlePosition=event.pageY-mousePosition+scrollbarYAxisHandlePosition,scrollPercent=handlePosition/(scrollbarContainerHeight-scrollbarYAxisHandle.outerHeight()),scrollPosition=scrollBottom*scrollPercent,updateScroll(handlePosition,scrollPosition))})}),angular.element($window).bind("mouseup",function(){$window.innerWidth>=1024&&(scrollbarYAxis.removeClass("scrollbar-y-axis--is-dragging"),mousePosition=void 0,scrollbarYAxisHandlePosition=void 0,angular.element($window).unbind("mousemove"))}),scrollbarContainer.bind("mousewheel",function(event){if($window.innerWidth>=1024){event.preventDefault();var scrollPercent=scrollbarContainer.scrollTop()/scrollBottom,scrollPosition=(scrollbarContainerHeight-scrollbarYAxisHandle.outerHeight())*scrollPercent;updateScroll(scrollPosition,scrollbarContainer.scrollTop()+event.originalEvent.wheelDelta*-1)}}),$scope.$watch(function(){return scrollbarContainer.outerHeight()||scrollbarContent.outerHeight()},function(newValue){angular.isNumber(newValue)&&$window.innerWidth>=1024&&initScrollbar()})},angular.element($window).bind("resize",function(){$window.innerWidth<1024?scrollbarYAxis.hide():initScrollbar()})}]).directive("lxScrollbar",function(){return{restrict:"AE",controller:"LxScrollbarController",link:function(scope,element,attrs,ctrl){ctrl.init(element),attrs.$observe("id",function(id){angular.isDefined(id)&&ctrl.setElementId(id)})}}}),angular.module("lumx.search-filter",[]).directive("lxSearchFilter",["$timeout",function($timeout){return{restrict:"E",templateUrl:"search-filter.html",scope:{model:"=?",theme:"@",placeholder:"@"},link:function(scope,element,attrs){var $input=element.find(".search-filter__input"),$label=element.find(".search-filter__label"),$searchFilter=element.find(".search-filter"),$searchFilterContainer=element.find(".search-filter__container");scope.closed=angular.isDefined(attrs.closed),angular.isUndefined(scope.theme)&&(scope.theme="light"),attrs.$observe("filterWidth",function(filterWidth){$searchFilterContainer.css({width:filterWidth})}),$input.on("blur",function(){angular.isDefined(attrs.closed)&&!$input.val()&&$searchFilter.velocity({width:40},{duration:400,easing:"easeOutQuint",queue:!1})}),$label.on("click",function(){angular.isDefined(attrs.closed)?($searchFilter.velocity({width:attrs.filterWidth?attrs.filterWidth:240},{duration:400,easing:"easeOutQuint",queue:!1}),$timeout(function(){$input.focus()},401)):$input.focus()}),scope.clear=function(){scope.model=void 0,$input.focus()}}}}]),angular.module("lumx.select",[]).controller("LxSelectController",["$scope","$compile","$filter","$interpolate","$sce","$timeout",function($scope,$compile,$filter,$interpolate,$sce,$timeout){function arrayObjectIndexOf(arr,obj){for(var i=0;i<arr.length;i++)if(angular.equals(arr[i],obj))return i;return-1}function select(choice){newSelection=!1,$scope.multiple?arrayObjectIndexOf($scope.data.selected,choice)===-1&&$scope.data.selected.push(choice):$scope.data.selected=[choice]}function unselect(element,event){if(newSelection=!1,$scope.allowClear||$scope.multiple){angular.isDefined(event)&&!$scope.multiple&&event.stopPropagation();var index=arrayObjectIndexOf($scope.data.selected,element);index!==-1&&$scope.data.selected.splice(index,1)}}function toggle(choice,event){angular.isDefined(event)&&$scope.multiple&&event.stopPropagation(),$scope.multiple&&isSelected(choice)?unselect(choice):select(choice)}function isSelected(choice){return angular.isDefined($scope.data.selected)&&arrayObjectIndexOf($scope.data.selected,choice)!==-1}function hasNoResults(){return angular.isUndefined($scope.choices())||0===$filter("filter")($scope.choices(),$scope.data.filter).length}function filterNeeded(){return angular.isDefined($scope.minLength)&&angular.isDefined($scope.data.filter)&&$scope.data.filter.length<$scope.minLength}function isHelperVisible(){return"true"!==$scope.loading&&(filterNeeded()||hasNoResults()&&!filterNeeded())}function isChoicesVisible(){return"true"!==$scope.loading&&!hasNoResults()&&!filterNeeded()}function isChoicesArray(){return angular.isArray($scope.choices())}function trust(data){return $sce.trustAsHtml(data)}function getSelectedElements(){return angular.isDefined($scope.data.selected)?$scope.data.selected:[]}function getSelectedTemplate(){return $sce.trustAsHtml($scope.data.selectedTemplate)}function convertValue(newValue,conversion,callback){var convertedData=$scope.multiple?[]:void 0,loading=[];if(!newValue||$scope.multiple&&0===newValue.length)return void callback(convertedData);if($scope.data.loading=!0,$scope.multiple)if(angular.isDefined(conversion)){var callbackCalled=!1,convertionCallback=function(idx){return function(data){$timeout(function(){void 0!==data&&convertedData.splice(idx,0,data),loading.splice(loading.indexOf(idx),1),0!==loading.length||callbackCalled||(callbackCalled=!0,$scope.data.loading=!1,callback(convertedData))})}};for(var idx in newValue)loading.push(idx),conversion(newValue[idx],convertionCallback(idx))}else callback(newValue);else angular.isDefined(conversion)?($scope.data.loading=!0,conversion(newValue,function(data){$scope.data.loading=!1,callback(data)})):callback(newValue)}var newModel=!1,newSelection=!0;$scope.data={filter:"",selected:[],loading:!1},this.registerTransclude=function(transclude){$scope.data.selectedTransclude=transclude},this.getScope=function(){return $scope},$scope.$watch("ngModel.$modelValue",function(newValue){return newModel?void(newModel=!1):void convertValue(newValue,$scope.modelToSelection,function(newConvertedValue){newSelection=!0;var value=void 0!==newConvertedValue?angular.copy(newConvertedValue):[];$scope.multiple||(value=void 0!==newConvertedValue?[angular.copy(newConvertedValue)]:[]),$scope.data.selected=value})}),$scope.$watch("data.selected",function(newValue){if(angular.isDefined(newValue)&&angular.isDefined($scope.data.selectedTransclude)){var newScope=$scope.$new();$scope.data.selectedTemplate="",angular.forEach(newValue,function(selectedElement){newScope.$selected=selectedElement,$scope.data.selectedTransclude(newScope,function(clone){var div=angular.element("<div/>"),element=$compile(clone)(newScope),content=$interpolate(clone.html())(newScope);element.html(content),div.append(element),$scope.multiple&&div.find("span").addClass("lx-select__tag"),$scope.data.selectedTemplate+=div.html()})})}if(newSelection)return void(newSelection=!1);var data=newValue;$scope.multiple||(data=newValue?newValue[0]:void 0),convertValue(data,$scope.selectionToModel,function(newConvertedValue){newModel=!0,$scope.change&&$scope.change({newValue:angular.copy(newConvertedValue),oldValue:angular.copy($scope.ngModel.$modelValue)}),$scope.ngModel.$setViewValue(angular.copy(newConvertedValue))})},!0),$scope.$watch("data.filter",function(newValue,oldValue){(angular.isUndefined($scope.minLength)||newValue&&$scope.minLength<=newValue.length)&&$scope.filter&&$scope.filter(newValue,oldValue)}),$scope.select=select,$scope.unselect=unselect,$scope.toggle=toggle,$scope.isChoicesVisible=isChoicesVisible,$scope.isHelperVisible=isHelperVisible,$scope.isSelected=isSelected,$scope.filterNeeded=filterNeeded,$scope.getSelectedElements=getSelectedElements,$scope.getSelectedTemplate=getSelectedTemplate,$scope.hasNoResults=hasNoResults,$scope.isChoicesArray=isChoicesArray,$scope.trust=trust}]).directive("lxSelect",function(){return{restrict:"AE",controller:"LxSelectController",require:"?ngModel",scope:!0,templateUrl:"select.html",transclude:!0,replace:!0,link:function(scope,element,attrs,ngModel){scope.multiple=angular.isDefined(attrs.multiple),scope.floatingLabel=angular.isDefined(attrs.floatingLabel),scope.tree=angular.isDefined(attrs.tree),scope.ngModel=ngModel,scope.placeholder="",scope.loading="",scope.minLength=0,scope.allowClear="",scope.choices=function(){return[]},scope.change=void 0,scope.filter=void 0,scope.selectionToModel=void 0,scope.modelToSelection=void 0,attrs.$observe("placeholder",function(newValue){scope.placeholder=newValue}),attrs.$observe("loading",function(newValue){scope.loading=newValue}),attrs.$observe("minLength",function(newValue){scope.minLength=newValue}),attrs.$observe("allowClear",function(newValue){scope.allowClear=newValue}),attrs.$observe("choices",function(newValue){scope.choices=function(){return scope.$eval(newValue)}}),attrs.$observe("change",function(newValue){scope.change=function(newData,oldData){return scope.$eval(newValue,{newValue:newData,oldValue:oldData})}}),attrs.$observe("filter",function(newValue){scope.filter=function(newFilter,oldFilter){return scope.$eval(newValue,{newValue:newFilter,oldValue:oldFilter})}});var selectionToModel=function(newValue){scope.selectionToModel=function(selection,callback){return scope.$eval(newValue,{data:selection,callback:callback})}};angular.isDefined(attrs.selectionToModel)&&selectionToModel(attrs.selectionToModel),attrs.$observe("selectionToModel",selectionToModel);var modelToSelection=function(newValue){scope.modelToSelection=function(model,callback){return scope.$eval(newValue,{data:model,callback:callback})}};angular.isDefined(attrs.modelToSelection)&&modelToSelection(attrs.modelToSelection),attrs.$observe("modelToSelection",modelToSelection)}}}).directive("lxSelectSelected",function(){return{restrict:"E",require:"^lxSelect",templateUrl:"select-selected.html",transclude:!0,link:function(scope,element,attrs,ctrl,transclude){ctrl.registerTransclude(transclude)}}}).directive("lxSelectChoices",function(){return{restrict:"E",require:"^lxSelect",templateUrl:"select-choices.html",transclude:!0}}),angular.module("lumx.tabs",[]).controller("LxTabsController",["$scope","$sce","$timeout","$window",function($scope,$sce,$timeout,$window){function getTabs(){return tabs}function setActiveTab(index){$timeout(function(){$scope.activeTab=index})}function setLinksColor(newTab){links.find(".tabs-link").removeClass("tc-"+$scope.indicator),links.find(".tabs-link").eq(newTab).addClass("tc-"+$scope.indicator)}function setIndicatorPosition(oldTab){var direction;direction=$scope.activeTab>oldTab?"right":"left";var tabsWidth=links.outerWidth(),activeTab=links.find(".tabs-link").eq($scope.activeTab),activeTabWidth=activeTab.outerWidth(),indicatorLeft=activeTab.position().left,indicatorRight=tabsWidth-(indicatorLeft+activeTabWidth);if(angular.isUndefined(oldTab))indicator.css({left:indicatorLeft,right:indicatorRight});else{var animationProperties={duration:200,easing:"easeOutQuint"};"left"===direction?(indicator.velocity({left:indicatorLeft},animationProperties),indicator.velocity({right:indicatorRight},animationProperties)):(indicator.velocity({right:indicatorRight},animationProperties),indicator.velocity({left:indicatorLeft},animationProperties))}}var links,indicator,tabs=[];$scope.activeTab=angular.isUndefined($scope.activeTab)?0:$scope.activeTab,this.init=function(element){links=element.find(".tabs__links"),indicator=element.find(".tabs__indicator")},this.getScope=function(){return $scope},this.addTab=function(tabScope){return tabs.push(tabScope),$timeout(function(){setIndicatorPosition()}),tabs.length-1},this.removeTab=function(tabScope){var idx=tabs.indexOf(tabScope);if(idx!==-1){for(var tabIdx=idx+1;tabIdx<tabs.length;++tabIdx)--tabs[tabIdx].index;if(tabs.splice(idx,1),idx===$scope.activeTab)$scope.activeTab=0,$timeout(function(){setIndicatorPosition(idx)});else if(idx<$scope.activeTab){var old=$scope.activeTab;$scope.activeTab=old-1,$timeout(function(){setIndicatorPosition(old)})}else $timeout(function(){setIndicatorPosition()})}},$scope.$watch("activeTab",function(newIndex,oldIndex){newIndex!==oldIndex&&$timeout(function(){setLinksColor(newIndex),setIndicatorPosition(oldIndex)})}),angular.element($window).bind("resize",function(){setIndicatorPosition()}),$scope.getTabs=getTabs,$scope.setActiveTab=setActiveTab}]).directive("lxTabs",function(){return{restrict:"E",controller:"LxTabsController",templateUrl:"tabs.html",transclude:!0,replace:!0,scope:{activeTab:"=?",linksTc:"@",linksBgc:"@",indicator:"@",noDivider:"@",zDepth:"@",layout:"@"},link:function(scope,element,attrs,ctrl){ctrl.init(element),angular.isUndefined(scope.linksTc)&&(scope.linksTc="dark"),angular.isUndefined(scope.linksBgc)&&(scope.linksBgc="white"),angular.isUndefined(scope.indicator)&&(scope.indicator="blue-500"),angular.isUndefined(scope.zDepth)&&(scope.zDepth="0"),angular.isUndefined(scope.layout)&&(scope.layout="full")}}}).directive("lxTab",function(){return{require:"^lxTabs",restrict:"E",scope:{heading:"@",icon:"@"},templateUrl:"tab.html",transclude:!0,replace:!0,link:function(scope,element,attrs,ctrl){scope.data=ctrl.getScope(),scope.index=ctrl.addTab(scope),scope.$on("$destroy",function(scope){ctrl.removeTab(scope.currentScope)})}}}).directive("lxTabLink",function(){return{require:"^lxTabs",restrict:"A",link:function(scope,element){scope.activeTab===element.parent().index()&&element.addClass("tc-"+scope.indicator),element.on("mouseenter",function(){scope.activeTab!==element.parent().index()&&element.addClass("tc-"+scope.indicator)}).on("mouseleave",function(){scope.activeTab!==element.parent().index()&&element.removeClass("tc-"+scope.indicator)})}}}),angular.module("lumx.text-field",[]).filter("unsafe",["$sce",function($sce){return $sce.trustAsHtml}]).directive("lxTextField",["$timeout",function($timeout){return{restrict:"E",scope:{label:"@",disabled:"&",error:"&",valid:"&",fixedLabel:"&",icon:"@",theme:"@"},templateUrl:"text-field.html",replace:!0,transclude:!0,link:function(scope,element,attrs,ctrl,transclude){function focusUpdate(){scope.data.focused=!0,scope.$apply()}function blurUpdate(){scope.data.focused=!1,scope.$apply()}function modelUpdate(){scope.data.model=modelController.$modelValue||$field.val()}function valueUpdate(){modelUpdate(),scope.$apply()}function updateTextareaHeight(){$timeout(function(){$field.removeAttr("style").css({height:$field[0].scrollHeight+"px"})})}angular.isUndefined(scope.theme)&&(scope.theme="light");var modelController,$field;scope.data={focused:!1,model:void 0},transclude(function(){$field=element.find("textarea"),$field[0]?(updateTextareaHeight(),$field.on("cut paste drop keydown",function(){updateTextareaHeight()})):$field=element.find("input"),$field.addClass("text-field__input"),$field.on("focus",focusUpdate),$field.on("blur",blurUpdate),$field.on("propertychange change click keyup input paste",valueUpdate),modelController=$field.data("$ngModelController"),scope.$watch(function(){return modelController.$modelValue},modelUpdate)})}}}]),angular.module("lumx.thumbnail",[]).controller("LxThumbnailController",["$scope",function($scope){function addImage(){var imageSizeWidthRatio=$scope.thumbnailWidth/$scope.originalWidth,imageSizeWidth=$scope.thumbnailWidth,imageSizeHeight=$scope.originalHeight*imageSizeWidthRatio;if(imageSizeHeight<$scope.thumbnailHeight){var resizeFactor=$scope.thumbnailHeight/imageSizeHeight;imageSizeHeight=$scope.thumbnailHeight,imageSizeWidth=resizeFactor*imageSizeWidth}$scope.element.css({background:"url("+$scope.thumbnailSrc+") no-repeat","background-position":"center","background-size":imageSizeWidth+"px "+imageSizeHeight+"px",overflow:"hidden"})}this.init=function(element){$scope.element=element},this.prepareImage=function(){$scope.isLoading=!0;var img=new Image;img.src=$scope.thumbnailSrc,$scope.element.css({width:$scope.thumbnailWidth+"px",height:$scope.thumbnailHeight+"px"}),img.onload=function(){$scope.originalWidth=img.width,$scope.originalHeight=img.height,addImage(),$scope.isLoading=!1}}}]).directive("lxThumbnail",function(){return{restrict:"E",template:'<div class="thumbnail" ng-class="{ \'thumbnail--is-loading\': isLoading }"></div>',replace:!0,controller:"LxThumbnailController",scope:{thumbnailSrc:"@",thumbnailWidth:"@",thumbnailHeight:"@"},link:function(scope,element,attrs,ctrl){ctrl.init(element),attrs.$observe("thumbnailSrc",function(){
attrs.thumbnailSrc&&ctrl.prepareImage()}),attrs.$observe("thumbnailWidth",function(){attrs.thumbnailWidth&&ctrl.prepareImage()}),attrs.$observe("thumbnailHeight",function(){attrs.thumbnailHeight&&ctrl.prepareImage()})}}}),angular.module("lumx.tooltip",[]).controller("LxTooltipController",["$scope","$timeout",function($scope,$timeout){var tooltip,tooltipContent,tooltipPosition,tooltipColor,tooltipLabel,tooltipBackground,tooltipTrigger,self=this;this.init=function(element,attrs){tooltipTrigger=element,tooltipContent=attrs.lxTooltip,tooltipPosition=angular.isDefined(attrs.tooltipPosition)?attrs.tooltipPosition:"top",tooltipColor=angular.isDefined(attrs.tooltipColor)?attrs.tooltipColor:"black",tooltip=angular.element("<div/>",{"class":"tooltip tooltip--"+tooltipPosition+" tooltip--"+tooltipColor}),tooltipBackground=angular.element("<div/>",{"class":"tooltip__background"}),tooltipLabel=angular.element("<span/>",{"class":"tooltip__label",text:tooltipContent}),tooltipTrigger.bind("mouseenter",function(){self.showTooltip()}),tooltipTrigger.bind("mouseleave",function(){self.hideTooltip()})},this.showTooltip=function(){var width=tooltipTrigger.outerWidth(),height=tooltipTrigger.outerHeight(),top=tooltipTrigger.offset().top,left=tooltipTrigger.offset().left;tooltip.append(tooltipBackground).append(tooltipLabel).appendTo("body"),"top"===tooltipPosition?tooltip.css({left:left-tooltip.outerWidth()/2+width/2,top:top-tooltip.outerHeight()}):"bottom"===tooltipPosition?tooltip.css({left:left-tooltip.outerWidth()/2+width/2,top:top+height}):"left"===tooltipPosition?tooltip.css({left:left-tooltip.outerWidth(),top:top+height/2-tooltip.outerHeight()/2}):"right"===tooltipPosition&&tooltip.css({left:left+width,top:top+height/2-tooltip.outerHeight()/2}),tooltip.addClass("tooltip--is-active")},this.hideTooltip=function(){tooltip.removeClass("tooltip--is-active"),$timeout(function(){tooltip.remove()},200)},$scope.$on("$destroy",function(scope){tooltip.remove()})}]).directive("lxTooltip",function(){return{restrict:"A",controller:"LxTooltipController",link:function(scope,element,attrs,ctrl){attrs.$observe("lxTooltip",function(){attrs.lxTooltip&&ctrl.init(element,attrs)})}}}),angular.module("lumx.dropdown").run(["$templateCache",function(a){a.put("dropdown.html",'<div class="dropdown" ng-transclude="parent"></div>\n'),a.put("dropdown-toggle.html",'<div ng-transclude="1"></div>\n'),a.put("dropdown-menu.html",'<div class="dropdown-menu dropdown-menu--{{ position }}" ng-class="{ \'dropdown__menu--is-dropped\': isDropped }">\n    <div class="dropdown-menu__content" ng-transclude="2" ng-if="isDropped"></div>\n</div>\n')}]),angular.module("lumx.file-input").run(["$templateCache",function(a){a.put("file-input.html",'<div class="input-file">\n    <span class="input-file__label" ng-bind-html="label"></span>\n    <span class="input-file__filename"></span>\n    <input type="file">\n</div>\n')}]),angular.module("lumx.text-field").run(["$templateCache",function(a){a.put("text-field.html","<div class=\"text-field text-field--{{ theme }}-theme\"\n     ng-class=\"{ 'text-field--is-valid': valid(),\n                 'text-field--has-error': error(),\n                 'text-field--is-disabled': disabled(),\n                 'text-field--fixed-label': fixedLabel(),\n                 'text-field--is-active': data.model || data.focused,\n                 'text-field--is-focused': data.focused,\n                 'text-field--label-hidden': fixedLabel() && data.model,\n                 'text-field--with-icon': icon && fixedLabel() }\">\n"+'    <label class="text-field__label" ng-bind-html="label | unsafe"></label>\n\n    <div class="text-field__icon" ng-if="icon && fixedLabel() ">\n        <i class="mdi mdi-{{ icon }}"></i>\n    </div>\n\n    <div ng-transclude="1"></div>\n</div>\n')}]),angular.module("lumx.search-filter").run(["$templateCache",function(a){a.put("search-filter.html",'<div class="search-filter search-filter--{{ theme }}-theme"\n     ng-class="{ \'search-filter--is-focused\': model,\n                 \'search-filter--is-closed\': closed }">\n    <div class="search-filter__container">\n        <label class="search-filter__label"><i class="mdi mdi-magnify"></i></label>\n        <input type="text" class="search-filter__input" placeholder="{{ placeholder }}" ng-model="model">\n        <span class="search-filter__cancel" ng-click="clear()"><i class="mdi mdi-close-circle"></i></span>\n    </div>\n</div>')}]),angular.module("lumx.select").run(["$templateCache",function(a){a.put("select.html",'<div class="lx-select"\n     ng-class="{ \'lx-select--is-unique\': !multiple,\n                 \'lx-select--is-multiple\': multiple }">\n    <lx-dropdown width="32" over-toggle="true">\n        <div ng-transclude="parent"></div>\n    </lx-dropdown>\n</div>\n'),a.put("select-selected.html",'<div lx-dropdown-toggle>\n    <span class="lx-select__floating-label" ng-if="getSelectedElements().length !== 0 && floatingLabel" ng-bind-html="trust(placeholder)"></span>\n\n    <div class="lx-select__selected"\n         ng-class="{ \'lx-select__selected--is-unique\': !multiple,\n                     \'lx-select__selected--is-multiple\': multiple && getSelectedElements().length > 0,\n                     \'lx-select__selected--placeholder\': getSelectedElements().length === 0 }"\n         lx-ripple>\n        <span ng-if="getSelectedElements().length === 0" ng-bind-html="trust(placeholder)"></span>\n\n        <!-- ng-repeat is used to manage the initialization of the $select even for non-multiple selects -->\n        <div ng-repeat="$selected in getSelectedElements()" ng-if="!multiple">\n            <i class="lx-select__close mdi mdi-close-circle" ng-click="unselect($selected, $event)" ng-if="allowClear"></i>\n            <span ng-transclude="child"></span>\n        </div>\n\n        <div ng-if="multiple">\n            <div class="lx-select__tag" ng-repeat="$selected in getSelectedElements()">\n                <span ng-transclude="child"></span>\n            </div>\n        </div>\n    </div>\n</div>\n'),a.put("select-choices.html",'<lx-dropdown-menu class="lx-select__choices">\n    <ul ng-if="!tree">\n        <li ng-if="getSelectedElements().length > 0">\n            <div class="lx-select__chosen"\n                 ng-class="{ \'lx-select__chosen--is-multiple\': multiple }"\n                 ng-bind-html="getSelectedTemplate()"></div>\n        </li>\n\n        <li>\n            <div class="lx-select__filter dropdown-filter">\n                <lx-search-filter model="data.filter" filter-width="100%" lx-dropdown-filter></lx-search-filter>\n            </div>\n        </li>\n\n        <li class="lx-select__help" ng-if="isHelperVisible()">\n            <span ng-if="filterNeeded()">Type minimum {{ minLength }} to search</span>\n            <span ng-if="hasNoResults() && !filterNeeded()">No results!</span>\n        </li>\n\n        <li ng-repeat="$choice in choices() | filter:data.filter" ng-if="isChoicesVisible() && isChoicesArray()">\n            <a class="lx-select__choice dropdown-link"\n               ng-class="{ \'lx-select__choice--is-multiple\': multiple,\n                           \'lx-select__choice--is-selected\': isSelected($choice) }"\n               ng-click="toggle($choice, $event)"\n               ng-transclude="child"></a>\n        </li>\n\n        <li ng-repeat-start="($subheader, children) in choices()" ng-if="isChoicesVisible() && !isChoicesArray()">\n            <span class="dropdown-link dropdown-link--is-header" ng-bind-html="trust($subheader)"></span>\n        </li>\n\n        <li ng-repeat-end ng-repeat="$choice in children | filter:data.filter" ng-if="isChoicesVisible() && !isChoicesArray()">\n            <a class="lx-select__choice dropdown-link"\n               ng-class="{ \'lx-select__choice--is-multiple\': multiple,\n                           \'lx-select__choice--is-selected\': isSelected($choice) }"\n               ng-click="toggle($choice, $event)"\n               ng-transclude="child"></a>\n        </li>\n\n        <li class="lx-select__loader" ng-if="loading === \'true\'">\n            <i class="mdi mdi-reload"></i>\n        </li>\n    </ul>\n</lx-dropdown-menu>\n')}]),angular.module("lumx.tabs").run(["$templateCache",function(a){a.put("tabs.html",'<div class="tabs tabs--theme-{{ linksTc }} tabs--layout-{{ layout }}"\n     ng-class="{ \'tabs--no-divider\': noDivider }">\n    <ul class="tabs__links bgc-{{ linksBgc }} z-depth{{ zDepth }}">\n        <li ng-repeat="tab in getTabs()">\n            <a lx-tab-link\n               class="tabs-link"\n               ng-class="{ \'tabs-link--is-active\': $index === activeTab }"\n               ng-click="setActiveTab($index)"\n               lx-ripple="{{ indicator }}">\n               <span ng-if="tab.icon !== undefined"><i class="mdi mdi-{{ tab.icon }}"></i></span>\n               <span ng-if="tab.icon === undefined">{{ tab.heading }}</i></span>\n            </a>\n        </li>\n    </ul>\n\n    <div class="tabs__panes" ng-transclude="1"></div>\n\n    <div class="tabs__indicator bgc-{{ indicator }}"></div>\n</div>\n'),a.put("tab.html",'<div class="tabs-pane" ng-if="index === data.activeTab" ng-transclude="2"></div>\n')}]),angular.module("lumx.date-picker").run(["$templateCache",function(a){a.put("date-picker.html",'<div class="lx-date" ng-class="{ \'lx-date--fixed-label\': fixedLabel(),\n                                 \'lx-date--with-icon\': icon && fixedLabel() }">\n\n    <div class="text-field__icon" ng-if="icon && fixedLabel() ">\n        <i class="mdi mdi-{{ icon }}"></i>\n    </div>\n\n    <!-- Date picker input -->\n    <lx-text-field class="lx-date-input" label="{{ label }}" ng-click="openPicker()">\n        <input type="text" ng-model="selected.model" ng-disabled="true">\n    </lx-text-field>\n\n    <!-- Date picker -->\n    <div class="lx-date-picker">\n        <!-- Current day of week -->\n        <div class="lx-date-picker__current-day-of-week">\n            <span>{{ moment(selected.date).format(\'dddd\') }}</span>\n        </div>\n\n        <!-- Current date -->\n        <div class="lx-date-picker__current-date">\n            <span ng-class="{ \'tc-white-1\': !yearSelection, \'tc-white-3\': yearSelection }">{{ moment(selected.date).format(\'MMM\') }}</span>\n            <strong ng-class="{ \'tc-white-1\': !yearSelection, \'tc-white-3\': yearSelection }">{{ moment(selected.date).format(\'DD\') }}</strong>\n            <a ng-class="{ \'tc-white-3\': !yearSelection, \'tc-white-1\': yearSelection }" ng-click="displayYearSelection()">{{ moment(selected.date).format(\'YYYY\') }}</a>\n        </div>\n\n        <!-- Calendar -->\n        <div class="lx-date-picker__calendar" ng-if="!yearSelection">\n            <div class="lx-date-picker__nav">\n                <button class="btn btn--xs btn--teal btn--icon" lx-ripple ng-click="previousMonth()">\n                    <i class="mdi mdi-chevron-left"></i>\n                </button>\n\n                <span>{{ activeDate.format(\'MMMM YYYY\') }}</span>\n\n                <button class="btn btn--xs btn--teal btn--icon" lx-ripple ng-click="nextMonth()">\n                    <i class="mdi mdi-chevron-right"></i>\n                </button>\n            </div>\n\n            <div class="lx-date-picker__days-of-week">\n                <span ng-repeat="day in daysOfWeek">{{ day }}</span>\n            </div>\n\n            <div class="lx-date-picker__days">\n                <span class="lx-date-picker__day lx-date-picker__day--is-empty"\n                      ng-repeat="x in emptyFirstDays">&nbsp;</span><!--\n\n             --><div class="lx-date-picker__day"\n                     ng-class="{ \'lx-date-picker__day--is-selected\': day.selected,\n                                 \'lx-date-picker__day--is-today\': day.today }"\n                     ng-repeat="day in days">\n                    <a ng-click="select(day)">{{ day ? day.format(\'D\') : \'\' }}</a>\n                </div><!--\n\n             --><span class="lx-date-picker__day lx-date-picker__day--is-empty"\n                      ng-repeat="x in emptyLastDays">&nbsp;</span>\n            </div>\n        </div>\n\n        <!-- Year selection -->\n        <div class="lx-date-picker__year-selector" ng-show="yearSelection">\n            <a class="lx-date-picker__year"\n                 ng-class="{ \'lx-date-picker__year--is-active\': year == activeDate.format(\'YYYY\') }"\n                 ng-repeat="year in years"\n                 ng-click="selectYear(year)"\n                 ng-if="yearSelection">\n                <span>{{ year }}</span>\n            </a>\n        </div>\n\n        <!-- Actions -->\n        <div class="lx-date-picker__actions">\n            <button class="btn btn--m btn--teal btn--flat" lx-ripple ng-click="closePicker()">Ok</button>\n        </div>\n    </div>\n</div>')}]),angular.module("lumx.progress").run(["$templateCache",function(a){a.put("progress.html",'<div class="progress-circular-container" ng-if="type === \'circular\'">\n    <div class="progress-circular progress-circular--is-small progress-circular--is-shown">\n        <svg class="progress-circular__svg">\n            <circle class="progress-circular__path" cx="50" cy="50" r="20" fill="none" stroke-miterlimit="10" stroke="{{ color }}"></circle>\n        </svg>\n    </div>\n</div>')}]),function(window,undefined){"use strict";var _zcSwfVersion,_currentElement,_copyTarget,_window=window,_document=_window.document,_navigator=_window.navigator,_setTimeout=_window.setTimeout,_clearTimeout=_window.clearTimeout,_setInterval=_window.setInterval,_clearInterval=_window.clearInterval,_getComputedStyle=_window.getComputedStyle,_encodeURIComponent=_window.encodeURIComponent,_ActiveXObject=_window.ActiveXObject,_Error=_window.Error,_parseInt=_window.Number.parseInt||_window.parseInt,_parseFloat=_window.Number.parseFloat||_window.parseFloat,_isNaN=_window.Number.isNaN||_window.isNaN,_now=_window.Date.now,_keys=_window.Object.keys,_defineProperty=_window.Object.defineProperty,_hasOwn=_window.Object.prototype.hasOwnProperty,_slice=_window.Array.prototype.slice,_unwrap=function(){var unwrapper=function(el){return el};if("function"==typeof _window.wrap&&"function"==typeof _window.unwrap)try{var div=_document.createElement("div"),unwrappedDiv=_window.unwrap(div);1===div.nodeType&&unwrappedDiv&&1===unwrappedDiv.nodeType&&(unwrapper=_window.unwrap)}catch(e){}return unwrapper}(),_args=function(argumentsObj){return _slice.call(argumentsObj,0)},_extend=function(){var i,len,arg,prop,src,copy,args=_args(arguments),target=args[0]||{};for(i=1,len=args.length;i<len;i++)if(null!=(arg=args[i]))for(prop in arg)_hasOwn.call(arg,prop)&&(src=target[prop],copy=arg[prop],target!==copy&&copy!==undefined&&(target[prop]=copy));return target},_deepCopy=function(source){var copy,i,len,prop;if("object"!=typeof source||null==source||"number"==typeof source.nodeType)copy=source;else if("number"==typeof source.length)for(copy=[],i=0,len=source.length;i<len;i++)_hasOwn.call(source,i)&&(copy[i]=_deepCopy(source[i]));else{copy={};for(prop in source)_hasOwn.call(source,prop)&&(copy[prop]=_deepCopy(source[prop]))}return copy},_pick=function(obj,keys){for(var newObj={},i=0,len=keys.length;i<len;i++)keys[i]in obj&&(newObj[keys[i]]=obj[keys[i]]);return newObj},_omit=function(obj,keys){var newObj={};for(var prop in obj)keys.indexOf(prop)===-1&&(newObj[prop]=obj[prop]);return newObj},_deleteOwnProperties=function(obj){if(obj)for(var prop in obj)_hasOwn.call(obj,prop)&&delete obj[prop];return obj},_containedBy=function(el,ancestorEl){if(el&&1===el.nodeType&&el.ownerDocument&&ancestorEl&&(1===ancestorEl.nodeType&&ancestorEl.ownerDocument&&ancestorEl.ownerDocument===el.ownerDocument||9===ancestorEl.nodeType&&!ancestorEl.ownerDocument&&ancestorEl===el.ownerDocument))do{if(el===ancestorEl)return!0;el=el.parentNode}while(el);return!1},_getDirPathOfUrl=function(url){var dir;return"string"==typeof url&&url&&(dir=url.split("#")[0].split("?")[0],dir=url.slice(0,url.lastIndexOf("/")+1)),dir},_getCurrentScriptUrlFromErrorStack=function(stack){var url,matches;return"string"==typeof stack&&stack&&(matches=stack.match(/^(?:|[^:@]*@|.+\)@(?=http[s]?|file)|.+?\s+(?: at |@)(?:[^:\(]+ )*[\(]?)((?:http[s]?|file):\/\/[\/]?.+?\/[^:\)]*?)(?::\d+)(?::\d+)?/),matches&&matches[1]?url=matches[1]:(matches=stack.match(/\)@((?:http[s]?|file):\/\/[\/]?.+?\/[^:\)]*?)(?::\d+)(?::\d+)?/),matches&&matches[1]&&(url=matches[1]))),url},_getCurrentScriptUrlFromError=function(){var url,err;try{throw new _Error}catch(e){err=e}return err&&(url=err.sourceURL||err.fileName||_getCurrentScriptUrlFromErrorStack(err.stack)),url},_getCurrentScriptUrl=function(){var jsPath,scripts,i;if(_document.currentScript&&(jsPath=_document.currentScript.src))return jsPath;if(scripts=_document.getElementsByTagName("script"),1===scripts.length)return scripts[0].src||undefined;if("readyState"in scripts[0])for(i=scripts.length;i--;)if("interactive"===scripts[i].readyState&&(jsPath=scripts[i].src))return jsPath;return"loading"===_document.readyState&&(jsPath=scripts[scripts.length-1].src)?jsPath:(jsPath=_getCurrentScriptUrlFromError())?jsPath:undefined},_getUnanimousScriptParentDir=function(){var i,jsDir,jsPath,scripts=_document.getElementsByTagName("script");for(i=scripts.length;i--;){if(!(jsPath=scripts[i].src)){jsDir=null;break}if(jsPath=_getDirPathOfUrl(jsPath),null==jsDir)jsDir=jsPath;else if(jsDir!==jsPath){jsDir=null;break}}return jsDir||undefined},_getDefaultSwfPath=function(){var jsDir=_getDirPathOfUrl(_getCurrentScriptUrl())||_getUnanimousScriptParentDir()||"";return jsDir+"ZeroClipboard.swf"},_pageIsFramed=function(){return null==window.opener&&(!!window.top&&window!=window.top||!!window.parent&&window!=window.parent)}(),_flashState={bridge:null,version:"0.0.0",pluginType:"unknown",disabled:null,outdated:null,sandboxed:null,unavailable:null,degraded:null,deactivated:null,overdue:null,ready:null},_minimumFlashVersion="11.0.0",_handlers={},_clipData={},_clipDataFormatMap=null,_flashCheckTimeout=0,_swfFallbackCheckInterval=0,_eventMessages={ready:"Flash communication is established",error:{"flash-disabled":"Flash is disabled or not installed. May also be attempting to run Flash in a sandboxed iframe, which is impossible.","flash-outdated":"Flash is too outdated to support ZeroClipboard","flash-sandboxed":"Attempting to run Flash in a sandboxed iframe, which is impossible","flash-unavailable":"Flash is unable to communicate bidirectionally with JavaScript","flash-degraded":"Flash is unable to preserve data fidelity when communicating with JavaScript","flash-deactivated":"Flash is too outdated for your browser and/or is configured as click-to-activate.\nThis may also mean that the ZeroClipboard SWF object could not be loaded, so please check your `swfPath` configuration and/or network connectivity.\nMay also be attempting to run Flash in a sandboxed iframe, which is impossible.","flash-overdue":"Flash communication was established but NOT within the acceptable time limit","version-mismatch":"ZeroClipboard JS version number does not match ZeroClipboard SWF version number","clipboard-error":"At least one error was thrown while ZeroClipboard was attempting to inject your data into the clipboard","config-mismatch":"ZeroClipboard configuration does not match Flash's reality","swf-not-found":"The ZeroClipboard SWF object could not be loaded, so please check your `swfPath` configuration and/or network connectivity"}},_errorsThatOnlyOccurAfterFlashLoads=["flash-unavailable","flash-degraded","flash-overdue","version-mismatch","config-mismatch","clipboard-error"],_flashStateErrorNames=["flash-disabled","flash-outdated","flash-sandboxed","flash-unavailable","flash-degraded","flash-deactivated","flash-overdue"],_flashStateErrorNameMatchingRegex=new RegExp("^flash-("+_flashStateErrorNames.map(function(errorName){return errorName.replace(/^flash-/,"")}).join("|")+")$"),_flashStateEnabledErrorNameMatchingRegex=new RegExp("^flash-("+_flashStateErrorNames.slice(1).map(function(errorName){return errorName.replace(/^flash-/,"")}).join("|")+")$"),_globalConfig={swfPath:_getDefaultSwfPath(),trustedDomains:window.location.host?[window.location.host]:[],cacheBust:!0,forceEnhancedClipboard:!1,flashLoadTimeout:3e4,autoActivate:!0,bubbleEvents:!0,containerId:"global-zeroclipboard-html-bridge",containerClass:"global-zeroclipboard-container",swfObjectId:"global-zeroclipboard-flash-bridge",hoverClass:"zeroclipboard-is-hover",activeClass:"zeroclipboard-is-active",forceHandCursor:!1,title:null,zIndex:999999999},_config=function(options){if("object"==typeof options&&null!==options)for(var prop in options)if(_hasOwn.call(options,prop))if(/^(?:forceHandCursor|title|zIndex|bubbleEvents)$/.test(prop))_globalConfig[prop]=options[prop];else if(null==_flashState.bridge)if("containerId"===prop||"swfObjectId"===prop){if(!_isValidHtml4Id(options[prop]))throw new Error("The specified `"+prop+"` value is not valid as an HTML4 Element ID");_globalConfig[prop]=options[prop]}else _globalConfig[prop]=options[prop];{if("string"!=typeof options||!options)return _deepCopy(_globalConfig);if(_hasOwn.call(_globalConfig,options))return _globalConfig[options]}},_state=function(){return _detectSandbox(),{browser:_pick(_navigator,["userAgent","platform","appName"]),flash:_omit(_flashState,["bridge"]),zeroclipboard:{version:ZeroClipboard.version,config:ZeroClipboard.config()}}},_isFlashUnusable=function(){return!!(_flashState.disabled||_flashState.outdated||_flashState.sandboxed||_flashState.unavailable||_flashState.degraded||_flashState.deactivated)},_on=function(eventType,listener){var i,len,events,added={};if("string"==typeof eventType&&eventType)events=eventType.toLowerCase().split(/\s+/);else if("object"==typeof eventType&&eventType&&"undefined"==typeof listener)for(i in eventType)_hasOwn.call(eventType,i)&&"string"==typeof i&&i&&"function"==typeof eventType[i]&&ZeroClipboard.on(i,eventType[i]);if(events&&events.length){for(i=0,len=events.length;i<len;i++)eventType=events[i].replace(/^on/,""),added[eventType]=!0,_handlers[eventType]||(_handlers[eventType]=[]),_handlers[eventType].push(listener);if(added.ready&&_flashState.ready&&ZeroClipboard.emit({type:"ready"}),added.error){for(i=0,len=_flashStateErrorNames.length;i<len;i++)if(_flashState[_flashStateErrorNames[i].replace(/^flash-/,"")]===!0){ZeroClipboard.emit({type:"error",name:_flashStateErrorNames[i]});break}_zcSwfVersion!==undefined&&ZeroClipboard.version!==_zcSwfVersion&&ZeroClipboard.emit({type:"error",name:"version-mismatch",jsVersion:ZeroClipboard.version,swfVersion:_zcSwfVersion})}}return ZeroClipboard},_off=function(eventType,listener){var i,len,foundIndex,events,perEventHandlers;if(0===arguments.length)events=_keys(_handlers);else if("string"==typeof eventType&&eventType)events=eventType.split(/\s+/);else if("object"==typeof eventType&&eventType&&"undefined"==typeof listener)for(i in eventType)_hasOwn.call(eventType,i)&&"string"==typeof i&&i&&"function"==typeof eventType[i]&&ZeroClipboard.off(i,eventType[i]);if(events&&events.length)for(i=0,len=events.length;i<len;i++)if(eventType=events[i].toLowerCase().replace(/^on/,""),perEventHandlers=_handlers[eventType],perEventHandlers&&perEventHandlers.length)if(listener)for(foundIndex=perEventHandlers.indexOf(listener);foundIndex!==-1;)perEventHandlers.splice(foundIndex,1),foundIndex=perEventHandlers.indexOf(listener,foundIndex);else perEventHandlers.length=0;return ZeroClipboard},_listeners=function(eventType){var copy;return copy="string"==typeof eventType&&eventType?_deepCopy(_handlers[eventType])||null:_deepCopy(_handlers)},_emit=function(event){var eventCopy,returnVal,tmp;if(event=_createEvent(event),event&&!_preprocessEvent(event))return"ready"===event.type&&_flashState.overdue===!0?ZeroClipboard.emit({type:"error",name:"flash-overdue"}):(eventCopy=_extend({},event),_dispatchCallbacks.call(this,eventCopy),"copy"===event.type&&(tmp=_mapClipDataToFlash(_clipData),returnVal=tmp.data,_clipDataFormatMap=tmp.formatMap),returnVal)},_create=function(){var previousState=_flashState.sandboxed;if(_detectSandbox(),"boolean"!=typeof _flashState.ready&&(_flashState.ready=!1),_flashState.sandboxed!==previousState&&_flashState.sandboxed===!0)_flashState.ready=!1,ZeroClipboard.emit({type:"error",name:"flash-sandboxed"});else if(!ZeroClipboard.isFlashUnusable()&&null===_flashState.bridge){var maxWait=_globalConfig.flashLoadTimeout;"number"==typeof maxWait&&maxWait>=0&&(_flashCheckTimeout=_setTimeout(function(){"boolean"!=typeof _flashState.deactivated&&(_flashState.deactivated=!0),_flashState.deactivated===!0&&ZeroClipboard.emit({type:"error",name:"flash-deactivated"})},maxWait)),_flashState.overdue=!1,_embedSwf()}},_destroy=function(){ZeroClipboard.clearData(),ZeroClipboard.blur(),ZeroClipboard.emit("destroy"),_unembedSwf(),ZeroClipboard.off()},_setData=function(format,data){var dataObj;if("object"==typeof format&&format&&"undefined"==typeof data)dataObj=format,ZeroClipboard.clearData();else{if("string"!=typeof format||!format)return;dataObj={},dataObj[format]=data}for(var dataFormat in dataObj)"string"==typeof dataFormat&&dataFormat&&_hasOwn.call(dataObj,dataFormat)&&"string"==typeof dataObj[dataFormat]&&dataObj[dataFormat]&&(_clipData[dataFormat]=dataObj[dataFormat])},_clearData=function(format){"undefined"==typeof format?(_deleteOwnProperties(_clipData),_clipDataFormatMap=null):"string"==typeof format&&_hasOwn.call(_clipData,format)&&delete _clipData[format]},_getData=function(format){return"undefined"==typeof format?_deepCopy(_clipData):"string"==typeof format&&_hasOwn.call(_clipData,format)?_clipData[format]:void 0},_focus=function(element){if(element&&1===element.nodeType){_currentElement&&(_removeClass(_currentElement,_globalConfig.activeClass),_currentElement!==element&&_removeClass(_currentElement,_globalConfig.hoverClass)),_currentElement=element,_addClass(element,_globalConfig.hoverClass);var newTitle=element.getAttribute("title")||_globalConfig.title;if("string"==typeof newTitle&&newTitle){var htmlBridge=_getHtmlBridge(_flashState.bridge);htmlBridge&&htmlBridge.setAttribute("title",newTitle)}var useHandCursor=_globalConfig.forceHandCursor===!0||"pointer"===_getStyle(element,"cursor");_setHandCursor(useHandCursor),_reposition()}},_blur=function(){var htmlBridge=_getHtmlBridge(_flashState.bridge);htmlBridge&&(htmlBridge.removeAttribute("title"),htmlBridge.style.left="0px",htmlBridge.style.top="-9999px",htmlBridge.style.width="1px",htmlBridge.style.height="1px"),_currentElement&&(_removeClass(_currentElement,_globalConfig.hoverClass),_removeClass(_currentElement,_globalConfig.activeClass),_currentElement=null)},_activeElement=function(){return _currentElement||null},_isValidHtml4Id=function(id){return"string"==typeof id&&id&&/^[A-Za-z][A-Za-z0-9_:\-\.]*$/.test(id)},_createEvent=function(event){var eventType;if("string"==typeof event&&event?(eventType=event,event={}):"object"==typeof event&&event&&"string"==typeof event.type&&event.type&&(eventType=event.type),eventType){eventType=eventType.toLowerCase(),!event.target&&(/^(copy|aftercopy|_click)$/.test(eventType)||"error"===eventType&&"clipboard-error"===event.name)&&(event.target=_copyTarget),_extend(event,{type:eventType,target:event.target||_currentElement||null,relatedTarget:event.relatedTarget||null,currentTarget:_flashState&&_flashState.bridge||null,timeStamp:event.timeStamp||_now()||null});var msg=_eventMessages[event.type];return"error"===event.type&&event.name&&msg&&(msg=msg[event.name]),msg&&(event.message=msg),"ready"===event.type&&_extend(event,{target:null,version:_flashState.version}),"error"===event.type&&(_flashStateErrorNameMatchingRegex.test(event.name)&&_extend(event,{target:null,minimumVersion:_minimumFlashVersion}),_flashStateEnabledErrorNameMatchingRegex.test(event.name)&&_extend(event,{version:_flashState.version})),"copy"===event.type&&(event.clipboardData={setData:ZeroClipboard.setData,clearData:ZeroClipboard.clearData}),"aftercopy"===event.type&&(event=_mapClipResultsFromFlash(event,_clipDataFormatMap)),event.target&&!event.relatedTarget&&(event.relatedTarget=_getRelatedTarget(event.target)),_addMouseData(event)}},_getRelatedTarget=function(targetEl){var relatedTargetId=targetEl&&targetEl.getAttribute&&targetEl.getAttribute("data-clipboard-target");return relatedTargetId?_document.getElementById(relatedTargetId):null},_addMouseData=function(event){if(event&&/^_(?:click|mouse(?:over|out|down|up|move))$/.test(event.type)){var srcElement=event.target,fromElement="_mouseover"===event.type&&event.relatedTarget?event.relatedTarget:undefined,toElement="_mouseout"===event.type&&event.relatedTarget?event.relatedTarget:undefined,pos=_getElementPosition(srcElement),screenLeft=_window.screenLeft||_window.screenX||0,screenTop=_window.screenTop||_window.screenY||0,scrollLeft=_document.body.scrollLeft+_document.documentElement.scrollLeft,scrollTop=_document.body.scrollTop+_document.documentElement.scrollTop,pageX=pos.left+("number"==typeof event._stageX?event._stageX:0),pageY=pos.top+("number"==typeof event._stageY?event._stageY:0),clientX=pageX-scrollLeft,clientY=pageY-scrollTop,screenX=screenLeft+clientX,screenY=screenTop+clientY,moveX="number"==typeof event.movementX?event.movementX:0,moveY="number"==typeof event.movementY?event.movementY:0;delete event._stageX,delete event._stageY,_extend(event,{srcElement:srcElement,fromElement:fromElement,toElement:toElement,screenX:screenX,screenY:screenY,pageX:pageX,pageY:pageY,clientX:clientX,clientY:clientY,x:clientX,y:clientY,movementX:moveX,movementY:moveY,offsetX:0,offsetY:0,layerX:0,layerY:0})}return event},_shouldPerformAsync=function(event){var eventType=event&&"string"==typeof event.type&&event.type||"";return!/^(?:(?:before)?copy|destroy)$/.test(eventType)},_dispatchCallback=function(func,context,args,async){async?_setTimeout(function(){func.apply(context,args)},0):func.apply(context,args)},_dispatchCallbacks=function(event){if("object"==typeof event&&event&&event.type){var async=_shouldPerformAsync(event),wildcardTypeHandlers=_handlers["*"]||[],specificTypeHandlers=_handlers[event.type]||[],handlers=wildcardTypeHandlers.concat(specificTypeHandlers);if(handlers&&handlers.length){var i,len,func,context,eventCopy,originalContext=this;for(i=0,len=handlers.length;i<len;i++)func=handlers[i],context=originalContext,"string"==typeof func&&"function"==typeof _window[func]&&(func=_window[func]),"object"==typeof func&&func&&"function"==typeof func.handleEvent&&(context=func,func=func.handleEvent),"function"==typeof func&&(eventCopy=_extend({},event),_dispatchCallback(func,context,[eventCopy],async))}return this}},_getSandboxStatusFromErrorEvent=function(event){var isSandboxed=null;return(_pageIsFramed===!1||event&&"error"===event.type&&event.name&&_errorsThatOnlyOccurAfterFlashLoads.indexOf(event.name)!==-1)&&(isSandboxed=!1),isSandboxed},_preprocessEvent=function(event){var element=event.target||_currentElement||null,sourceIsSwf="swf"===event._source;switch(delete event._source,event.type){case"error":var isSandboxed="flash-sandboxed"===event.name||_getSandboxStatusFromErrorEvent(event);"boolean"==typeof isSandboxed&&(_flashState.sandboxed=isSandboxed),_flashStateErrorNames.indexOf(event.name)!==-1?_extend(_flashState,{disabled:"flash-disabled"===event.name,outdated:"flash-outdated"===event.name,unavailable:"flash-unavailable"===event.name,degraded:"flash-degraded"===event.name,deactivated:"flash-deactivated"===event.name,overdue:"flash-overdue"===event.name,ready:!1}):"version-mismatch"===event.name&&(_zcSwfVersion=event.swfVersion,_extend(_flashState,{disabled:!1,outdated:!1,unavailable:!1,degraded:!1,deactivated:!1,overdue:!1,ready:!1})),_clearTimeoutsAndPolling();break;case"ready":_zcSwfVersion=event.swfVersion;var wasDeactivated=_flashState.deactivated===!0;_extend(_flashState,{disabled:!1,outdated:!1,sandboxed:!1,unavailable:!1,degraded:!1,deactivated:!1,overdue:wasDeactivated,ready:!wasDeactivated}),_clearTimeoutsAndPolling();break;case"beforecopy":_copyTarget=element;
break;case"copy":var textContent,htmlContent,targetEl=event.relatedTarget;!_clipData["text/html"]&&!_clipData["text/plain"]&&targetEl&&(htmlContent=targetEl.value||targetEl.outerHTML||targetEl.innerHTML)&&(textContent=targetEl.value||targetEl.textContent||targetEl.innerText)?(event.clipboardData.clearData(),event.clipboardData.setData("text/plain",textContent),htmlContent!==textContent&&event.clipboardData.setData("text/html",htmlContent)):!_clipData["text/plain"]&&event.target&&(textContent=event.target.getAttribute("data-clipboard-text"))&&(event.clipboardData.clearData(),event.clipboardData.setData("text/plain",textContent));break;case"aftercopy":_queueEmitClipboardErrors(event),ZeroClipboard.clearData(),element&&element!==_safeActiveElement()&&element.focus&&element.focus();break;case"_mouseover":ZeroClipboard.focus(element),_globalConfig.bubbleEvents===!0&&sourceIsSwf&&(element&&element!==event.relatedTarget&&!_containedBy(event.relatedTarget,element)&&_fireMouseEvent(_extend({},event,{type:"mouseenter",bubbles:!1,cancelable:!1})),_fireMouseEvent(_extend({},event,{type:"mouseover"})));break;case"_mouseout":ZeroClipboard.blur(),_globalConfig.bubbleEvents===!0&&sourceIsSwf&&(element&&element!==event.relatedTarget&&!_containedBy(event.relatedTarget,element)&&_fireMouseEvent(_extend({},event,{type:"mouseleave",bubbles:!1,cancelable:!1})),_fireMouseEvent(_extend({},event,{type:"mouseout"})));break;case"_mousedown":_addClass(element,_globalConfig.activeClass),_globalConfig.bubbleEvents===!0&&sourceIsSwf&&_fireMouseEvent(_extend({},event,{type:event.type.slice(1)}));break;case"_mouseup":_removeClass(element,_globalConfig.activeClass),_globalConfig.bubbleEvents===!0&&sourceIsSwf&&_fireMouseEvent(_extend({},event,{type:event.type.slice(1)}));break;case"_click":_copyTarget=null,_globalConfig.bubbleEvents===!0&&sourceIsSwf&&_fireMouseEvent(_extend({},event,{type:event.type.slice(1)}));break;case"_mousemove":_globalConfig.bubbleEvents===!0&&sourceIsSwf&&_fireMouseEvent(_extend({},event,{type:event.type.slice(1)}))}if(/^_(?:click|mouse(?:over|out|down|up|move))$/.test(event.type))return!0},_queueEmitClipboardErrors=function(aftercopyEvent){if(aftercopyEvent.errors&&aftercopyEvent.errors.length>0){var errorEvent=_deepCopy(aftercopyEvent);_extend(errorEvent,{type:"error",name:"clipboard-error"}),delete errorEvent.success,_setTimeout(function(){ZeroClipboard.emit(errorEvent)},0)}},_fireMouseEvent=function(event){if(event&&"string"==typeof event.type&&event){var e,target=event.target||null,doc=target&&target.ownerDocument||_document,defaults={view:doc.defaultView||_window,canBubble:!0,cancelable:!0,detail:"click"===event.type?1:0,button:"number"==typeof event.which?event.which-1:"number"==typeof event.button?event.button:doc.createEvent?0:1},args=_extend(defaults,event);target&&doc.createEvent&&target.dispatchEvent&&(args=[args.type,args.canBubble,args.cancelable,args.view,args.detail,args.screenX,args.screenY,args.clientX,args.clientY,args.ctrlKey,args.altKey,args.shiftKey,args.metaKey,args.button,args.relatedTarget],e=doc.createEvent("MouseEvents"),e.initMouseEvent&&(e.initMouseEvent.apply(e,args),e._source="js",target.dispatchEvent(e)))}},_watchForSwfFallbackContent=function(){var maxWait=_globalConfig.flashLoadTimeout;if("number"==typeof maxWait&&maxWait>=0){var pollWait=Math.min(1e3,maxWait/10),fallbackContentId=_globalConfig.swfObjectId+"_fallbackContent";_swfFallbackCheckInterval=_setInterval(function(){var el=_document.getElementById(fallbackContentId);_isElementVisible(el)&&(_clearTimeoutsAndPolling(),_flashState.deactivated=null,ZeroClipboard.emit({type:"error",name:"swf-not-found"}))},pollWait)}},_createHtmlBridge=function(){var container=_document.createElement("div");return container.id=_globalConfig.containerId,container.className=_globalConfig.containerClass,container.style.position="absolute",container.style.left="0px",container.style.top="-9999px",container.style.width="1px",container.style.height="1px",container.style.zIndex=""+_getSafeZIndex(_globalConfig.zIndex),container},_getHtmlBridge=function(flashBridge){for(var htmlBridge=flashBridge&&flashBridge.parentNode;htmlBridge&&"OBJECT"===htmlBridge.nodeName&&htmlBridge.parentNode;)htmlBridge=htmlBridge.parentNode;return htmlBridge||null},_embedSwf=function(){var len,flashBridge=_flashState.bridge,container=_getHtmlBridge(flashBridge);if(!flashBridge){var allowScriptAccess=_determineScriptAccess(_window.location.host,_globalConfig),allowNetworking="never"===allowScriptAccess?"none":"all",flashvars=_vars(_extend({jsVersion:ZeroClipboard.version},_globalConfig)),swfUrl=_globalConfig.swfPath+_cacheBust(_globalConfig.swfPath,_globalConfig);container=_createHtmlBridge();var divToBeReplaced=_document.createElement("div");container.appendChild(divToBeReplaced),_document.body.appendChild(container);var tmpDiv=_document.createElement("div"),usingActiveX="activex"===_flashState.pluginType;tmpDiv.innerHTML='<object id="'+_globalConfig.swfObjectId+'" name="'+_globalConfig.swfObjectId+'" width="100%" height="100%" '+(usingActiveX?'classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000"':'type="application/x-shockwave-flash" data="'+swfUrl+'"')+">"+(usingActiveX?'<param name="movie" value="'+swfUrl+'"/>':"")+'<param name="allowScriptAccess" value="'+allowScriptAccess+'"/><param name="allowNetworking" value="'+allowNetworking+'"/><param name="menu" value="false"/><param name="wmode" value="transparent"/><param name="flashvars" value="'+flashvars+'"/><div id="'+_globalConfig.swfObjectId+'_fallbackContent">&nbsp;</div></object>',flashBridge=tmpDiv.firstChild,tmpDiv=null,_unwrap(flashBridge).ZeroClipboard=ZeroClipboard,container.replaceChild(flashBridge,divToBeReplaced),_watchForSwfFallbackContent()}return flashBridge||(flashBridge=_document[_globalConfig.swfObjectId],flashBridge&&(len=flashBridge.length)&&(flashBridge=flashBridge[len-1]),!flashBridge&&container&&(flashBridge=container.firstChild)),_flashState.bridge=flashBridge||null,flashBridge},_unembedSwf=function(){var flashBridge=_flashState.bridge;if(flashBridge){var htmlBridge=_getHtmlBridge(flashBridge);htmlBridge&&("activex"===_flashState.pluginType&&"readyState"in flashBridge?(flashBridge.style.display="none",function removeSwfFromIE(){if(4===flashBridge.readyState){for(var prop in flashBridge)"function"==typeof flashBridge[prop]&&(flashBridge[prop]=null);flashBridge.parentNode&&flashBridge.parentNode.removeChild(flashBridge),htmlBridge.parentNode&&htmlBridge.parentNode.removeChild(htmlBridge)}else _setTimeout(removeSwfFromIE,10)}()):(flashBridge.parentNode&&flashBridge.parentNode.removeChild(flashBridge),htmlBridge.parentNode&&htmlBridge.parentNode.removeChild(htmlBridge))),_clearTimeoutsAndPolling(),_flashState.ready=null,_flashState.bridge=null,_flashState.deactivated=null,_zcSwfVersion=undefined}},_mapClipDataToFlash=function(clipData){var newClipData={},formatMap={};if("object"==typeof clipData&&clipData){for(var dataFormat in clipData)if(dataFormat&&_hasOwn.call(clipData,dataFormat)&&"string"==typeof clipData[dataFormat]&&clipData[dataFormat])switch(dataFormat.toLowerCase()){case"text/plain":case"text":case"air:text":case"flash:text":newClipData.text=clipData[dataFormat],formatMap.text=dataFormat;break;case"text/html":case"html":case"air:html":case"flash:html":newClipData.html=clipData[dataFormat],formatMap.html=dataFormat;break;case"application/rtf":case"text/rtf":case"rtf":case"richtext":case"air:rtf":case"flash:rtf":newClipData.rtf=clipData[dataFormat],formatMap.rtf=dataFormat}return{data:newClipData,formatMap:formatMap}}},_mapClipResultsFromFlash=function(clipResults,formatMap){if("object"!=typeof clipResults||!clipResults||"object"!=typeof formatMap||!formatMap)return clipResults;var newResults={};for(var prop in clipResults)if(_hasOwn.call(clipResults,prop))if("errors"===prop){newResults[prop]=clipResults[prop]?clipResults[prop].slice():[];for(var i=0,len=newResults[prop].length;i<len;i++)newResults[prop][i].format=formatMap[newResults[prop][i].format]}else if("success"!==prop&&"data"!==prop)newResults[prop]=clipResults[prop];else{newResults[prop]={};var tmpHash=clipResults[prop];for(var dataFormat in tmpHash)dataFormat&&_hasOwn.call(tmpHash,dataFormat)&&_hasOwn.call(formatMap,dataFormat)&&(newResults[prop][formatMap[dataFormat]]=tmpHash[dataFormat])}return newResults},_cacheBust=function(path,options){var cacheBust=null==options||options&&options.cacheBust===!0;return cacheBust?(path.indexOf("?")===-1?"?":"&")+"noCache="+_now():""},_vars=function(options){var i,len,domain,domains,str="",trustedOriginsExpanded=[];if(options.trustedDomains&&("string"==typeof options.trustedDomains?domains=[options.trustedDomains]:"object"==typeof options.trustedDomains&&"length"in options.trustedDomains&&(domains=options.trustedDomains)),domains&&domains.length)for(i=0,len=domains.length;i<len;i++)if(_hasOwn.call(domains,i)&&domains[i]&&"string"==typeof domains[i]){if(domain=_extractDomain(domains[i]),!domain)continue;if("*"===domain){trustedOriginsExpanded.length=0,trustedOriginsExpanded.push(domain);break}trustedOriginsExpanded.push.apply(trustedOriginsExpanded,[domain,"//"+domain,_window.location.protocol+"//"+domain])}return trustedOriginsExpanded.length&&(str+="trustedOrigins="+_encodeURIComponent(trustedOriginsExpanded.join(","))),options.forceEnhancedClipboard===!0&&(str+=(str?"&":"")+"forceEnhancedClipboard=true"),"string"==typeof options.swfObjectId&&options.swfObjectId&&(str+=(str?"&":"")+"swfObjectId="+_encodeURIComponent(options.swfObjectId)),"string"==typeof options.jsVersion&&options.jsVersion&&(str+=(str?"&":"")+"jsVersion="+_encodeURIComponent(options.jsVersion)),str},_extractDomain=function(originOrUrl){if(null==originOrUrl||""===originOrUrl)return null;if(originOrUrl=originOrUrl.replace(/^\s+|\s+$/g,""),""===originOrUrl)return null;var protocolIndex=originOrUrl.indexOf("//");originOrUrl=protocolIndex===-1?originOrUrl:originOrUrl.slice(protocolIndex+2);var pathIndex=originOrUrl.indexOf("/");return originOrUrl=pathIndex===-1?originOrUrl:protocolIndex===-1||0===pathIndex?null:originOrUrl.slice(0,pathIndex),originOrUrl&&".swf"===originOrUrl.slice(-4).toLowerCase()?null:originOrUrl||null},_determineScriptAccess=function(){var _extractAllDomains=function(origins){var i,len,tmp,resultsArray=[];if("string"==typeof origins&&(origins=[origins]),"object"!=typeof origins||!origins||"number"!=typeof origins.length)return resultsArray;for(i=0,len=origins.length;i<len;i++)if(_hasOwn.call(origins,i)&&(tmp=_extractDomain(origins[i]))){if("*"===tmp){resultsArray.length=0,resultsArray.push("*");break}resultsArray.indexOf(tmp)===-1&&resultsArray.push(tmp)}return resultsArray};return function(currentDomain,configOptions){var swfDomain=_extractDomain(configOptions.swfPath);null===swfDomain&&(swfDomain=currentDomain);var trustedDomains=_extractAllDomains(configOptions.trustedDomains),len=trustedDomains.length;if(len>0){if(1===len&&"*"===trustedDomains[0])return"always";if(trustedDomains.indexOf(currentDomain)!==-1)return 1===len&&currentDomain===swfDomain?"sameDomain":"always"}return"never"}}(),_safeActiveElement=function(){try{return _document.activeElement}catch(err){return null}},_addClass=function(element,value){var c,cl,className,classNames=[];if("string"==typeof value&&value&&(classNames=value.split(/\s+/)),element&&1===element.nodeType&&classNames.length>0)if(element.classList)for(c=0,cl=classNames.length;c<cl;c++)element.classList.add(classNames[c]);else if(element.hasOwnProperty("className")){for(className=" "+element.className+" ",c=0,cl=classNames.length;c<cl;c++)className.indexOf(" "+classNames[c]+" ")===-1&&(className+=classNames[c]+" ");element.className=className.replace(/^\s+|\s+$/g,"")}return element},_removeClass=function(element,value){var c,cl,className,classNames=[];if("string"==typeof value&&value&&(classNames=value.split(/\s+/)),element&&1===element.nodeType&&classNames.length>0)if(element.classList&&element.classList.length>0)for(c=0,cl=classNames.length;c<cl;c++)element.classList.remove(classNames[c]);else if(element.className){for(className=(" "+element.className+" ").replace(/[\r\n\t]/g," "),c=0,cl=classNames.length;c<cl;c++)className=className.replace(" "+classNames[c]+" "," ");element.className=className.replace(/^\s+|\s+$/g,"")}return element},_getStyle=function(el,prop){var value=_getComputedStyle(el,null).getPropertyValue(prop);return"cursor"!==prop||value&&"auto"!==value||"A"!==el.nodeName?value:"pointer"},_getElementPosition=function(el){var pos={left:0,top:0,width:0,height:0};if(el.getBoundingClientRect){var elRect=el.getBoundingClientRect(),pageXOffset=_window.pageXOffset,pageYOffset=_window.pageYOffset,leftBorderWidth=_document.documentElement.clientLeft||0,topBorderWidth=_document.documentElement.clientTop||0,leftBodyOffset=0,topBodyOffset=0;if("relative"===_getStyle(_document.body,"position")){var bodyRect=_document.body.getBoundingClientRect(),htmlRect=_document.documentElement.getBoundingClientRect();leftBodyOffset=bodyRect.left-htmlRect.left||0,topBodyOffset=bodyRect.top-htmlRect.top||0}pos.left=elRect.left+pageXOffset-leftBorderWidth-leftBodyOffset,pos.top=elRect.top+pageYOffset-topBorderWidth-topBodyOffset,pos.width="width"in elRect?elRect.width:elRect.right-elRect.left,pos.height="height"in elRect?elRect.height:elRect.bottom-elRect.top}return pos},_isElementVisible=function(el){if(!el)return!1;var styles=_getComputedStyle(el,null),hasCssHeight=_parseFloat(styles.height)>0,hasCssWidth=_parseFloat(styles.width)>0,hasCssTop=_parseFloat(styles.top)>=0,hasCssLeft=_parseFloat(styles.left)>=0,cssKnows=hasCssHeight&&hasCssWidth&&hasCssTop&&hasCssLeft,rect=cssKnows?null:_getElementPosition(el),isVisible="none"!==styles.display&&"collapse"!==styles.visibility&&(cssKnows||!!rect&&(hasCssHeight||rect.height>0)&&(hasCssWidth||rect.width>0)&&(hasCssTop||rect.top>=0)&&(hasCssLeft||rect.left>=0));return isVisible},_clearTimeoutsAndPolling=function(){_clearTimeout(_flashCheckTimeout),_flashCheckTimeout=0,_clearInterval(_swfFallbackCheckInterval),_swfFallbackCheckInterval=0},_reposition=function(){var htmlBridge;if(_currentElement&&(htmlBridge=_getHtmlBridge(_flashState.bridge))){var pos=_getElementPosition(_currentElement);_extend(htmlBridge.style,{width:pos.width+"px",height:pos.height+"px",top:pos.top+"px",left:pos.left+"px",zIndex:""+_getSafeZIndex(_globalConfig.zIndex)})}},_setHandCursor=function(enabled){_flashState.ready===!0&&(_flashState.bridge&&"function"==typeof _flashState.bridge.setHandCursor?_flashState.bridge.setHandCursor(enabled):_flashState.ready=!1)},_getSafeZIndex=function(val){if(/^(?:auto|inherit)$/.test(val))return val;var zIndex;return"number"!=typeof val||_isNaN(val)?"string"==typeof val&&(zIndex=_getSafeZIndex(_parseInt(val,10))):zIndex=val,"number"==typeof zIndex?zIndex:"auto"},_detectSandbox=function(doNotReassessFlashSupport){var effectiveScriptOrigin,frame,frameError,previousState=_flashState.sandboxed,isSandboxed=null;if(doNotReassessFlashSupport=doNotReassessFlashSupport===!0,_pageIsFramed===!1)isSandboxed=!1;else{try{frame=window.frameElement||null}catch(e){frameError={name:e.name,message:e.message}}if(frame&&1===frame.nodeType&&"IFRAME"===frame.nodeName)try{isSandboxed=frame.hasAttribute("sandbox")}catch(e){isSandboxed=null}else{try{effectiveScriptOrigin=document.domain||null}catch(e){effectiveScriptOrigin=null}(null===effectiveScriptOrigin||frameError&&"SecurityError"===frameError.name&&/(^|[\s\(\[@])sandbox(es|ed|ing|[\s\.,!\)\]@]|$)/.test(frameError.message.toLowerCase()))&&(isSandboxed=!0)}}return _flashState.sandboxed=isSandboxed,previousState===isSandboxed||doNotReassessFlashSupport||_detectFlashSupport(_ActiveXObject),isSandboxed},_detectFlashSupport=function(ActiveXObject){function parseFlashVersion(desc){var matches=desc.match(/[\d]+/g);return matches.length=3,matches.join(".")}function isPepperFlash(flashPlayerFileName){return!!flashPlayerFileName&&(flashPlayerFileName=flashPlayerFileName.toLowerCase())&&(/^(pepflashplayer\.dll|libpepflashplayer\.so|pepperflashplayer\.plugin)$/.test(flashPlayerFileName)||"chrome.plugin"===flashPlayerFileName.slice(-13))}function inspectPlugin(plugin){plugin&&(hasFlash=!0,plugin.version&&(flashVersion=parseFlashVersion(plugin.version)),!flashVersion&&plugin.description&&(flashVersion=parseFlashVersion(plugin.description)),plugin.filename&&(isPPAPI=isPepperFlash(plugin.filename)))}var plugin,ax,mimeType,hasFlash=!1,isActiveX=!1,isPPAPI=!1,flashVersion="";if(_navigator.plugins&&_navigator.plugins.length)plugin=_navigator.plugins["Shockwave Flash"],inspectPlugin(plugin),_navigator.plugins["Shockwave Flash 2.0"]&&(hasFlash=!0,flashVersion="2.0.0.11");else if(_navigator.mimeTypes&&_navigator.mimeTypes.length)mimeType=_navigator.mimeTypes["application/x-shockwave-flash"],plugin=mimeType&&mimeType.enabledPlugin,inspectPlugin(plugin);else if("undefined"!=typeof ActiveXObject){isActiveX=!0;try{ax=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7"),hasFlash=!0,flashVersion=parseFlashVersion(ax.GetVariable("$version"))}catch(e1){try{ax=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6"),hasFlash=!0,flashVersion="6.0.21"}catch(e2){try{ax=new ActiveXObject("ShockwaveFlash.ShockwaveFlash"),hasFlash=!0,flashVersion=parseFlashVersion(ax.GetVariable("$version"))}catch(e3){isActiveX=!1}}}}_flashState.disabled=hasFlash!==!0,_flashState.outdated=flashVersion&&_parseFloat(flashVersion)<_parseFloat(_minimumFlashVersion),_flashState.version=flashVersion||"0.0.0",_flashState.pluginType=isPPAPI?"pepper":isActiveX?"activex":hasFlash?"netscape":"unknown"};_detectFlashSupport(_ActiveXObject),_detectSandbox(!0);var ZeroClipboard=function(){return this instanceof ZeroClipboard?void("function"==typeof ZeroClipboard._createClient&&ZeroClipboard._createClient.apply(this,_args(arguments))):new ZeroClipboard};_defineProperty(ZeroClipboard,"version",{value:"2.2.0",writable:!1,configurable:!0,enumerable:!0}),ZeroClipboard.config=function(){return _config.apply(this,_args(arguments))},ZeroClipboard.state=function(){return _state.apply(this,_args(arguments))},ZeroClipboard.isFlashUnusable=function(){return _isFlashUnusable.apply(this,_args(arguments))},ZeroClipboard.on=function(){return _on.apply(this,_args(arguments))},ZeroClipboard.off=function(){return _off.apply(this,_args(arguments))},ZeroClipboard.handlers=function(){return _listeners.apply(this,_args(arguments))},ZeroClipboard.emit=function(){return _emit.apply(this,_args(arguments))},ZeroClipboard.create=function(){return _create.apply(this,_args(arguments))},ZeroClipboard.destroy=function(){return _destroy.apply(this,_args(arguments))},ZeroClipboard.setData=function(){return _setData.apply(this,_args(arguments))},ZeroClipboard.clearData=function(){return _clearData.apply(this,_args(arguments))},ZeroClipboard.getData=function(){return _getData.apply(this,_args(arguments))},ZeroClipboard.focus=ZeroClipboard.activate=function(){return _focus.apply(this,_args(arguments))},ZeroClipboard.blur=ZeroClipboard.deactivate=function(){return _blur.apply(this,_args(arguments))},ZeroClipboard.activeElement=function(){return _activeElement.apply(this,_args(arguments))};var _clientIdCounter=0,_clientMeta={},_elementIdCounter=0,_elementMeta={},_mouseHandlers={};_extend(_globalConfig,{autoActivate:!0});var _clientConstructor=function(elements){var client=this;client.id=""+_clientIdCounter++,_clientMeta[client.id]={instance:client,elements:[],handlers:{}},elements&&client.clip(elements),ZeroClipboard.on("*",function(event){return client.emit(event)}),ZeroClipboard.on("destroy",function(){client.destroy()}),ZeroClipboard.create()},_clientOn=function(eventType,listener){var i,len,events,added={},meta=_clientMeta[this.id],handlers=meta&&meta.handlers;if(!meta)throw new Error("Attempted to add new listener(s) to a destroyed ZeroClipboard client instance");if("string"==typeof eventType&&eventType)events=eventType.toLowerCase().split(/\s+/);else if("object"==typeof eventType&&eventType&&"undefined"==typeof listener)for(i in eventType)_hasOwn.call(eventType,i)&&"string"==typeof i&&i&&"function"==typeof eventType[i]&&this.on(i,eventType[i]);if(events&&events.length){for(i=0,len=events.length;i<len;i++)eventType=events[i].replace(/^on/,""),added[eventType]=!0,handlers[eventType]||(handlers[eventType]=[]),handlers[eventType].push(listener);if(added.ready&&_flashState.ready&&this.emit({type:"ready",client:this}),added.error){for(i=0,len=_flashStateErrorNames.length;i<len;i++)if(_flashState[_flashStateErrorNames[i].replace(/^flash-/,"")]){this.emit({type:"error",name:_flashStateErrorNames[i],client:this});break}_zcSwfVersion!==undefined&&ZeroClipboard.version!==_zcSwfVersion&&this.emit({type:"error",name:"version-mismatch",jsVersion:ZeroClipboard.version,swfVersion:_zcSwfVersion})}}return this},_clientOff=function(eventType,listener){var i,len,foundIndex,events,perEventHandlers,meta=_clientMeta[this.id],handlers=meta&&meta.handlers;if(!handlers)return this;if(0===arguments.length)events=_keys(handlers);else if("string"==typeof eventType&&eventType)events=eventType.split(/\s+/);else if("object"==typeof eventType&&eventType&&"undefined"==typeof listener)for(i in eventType)_hasOwn.call(eventType,i)&&"string"==typeof i&&i&&"function"==typeof eventType[i]&&this.off(i,eventType[i]);if(events&&events.length)for(i=0,len=events.length;i<len;i++)if(eventType=events[i].toLowerCase().replace(/^on/,""),perEventHandlers=handlers[eventType],perEventHandlers&&perEventHandlers.length)if(listener)for(foundIndex=perEventHandlers.indexOf(listener);foundIndex!==-1;)perEventHandlers.splice(foundIndex,1),foundIndex=perEventHandlers.indexOf(listener,foundIndex);else perEventHandlers.length=0;return this},_clientListeners=function(eventType){var copy=null,handlers=_clientMeta[this.id]&&_clientMeta[this.id].handlers;return handlers&&(copy="string"==typeof eventType&&eventType?handlers[eventType]?handlers[eventType].slice(0):[]:_deepCopy(handlers)),copy},_clientEmit=function(event){if(_clientShouldEmit.call(this,event)){"object"==typeof event&&event&&"string"==typeof event.type&&event.type&&(event=_extend({},event));var eventCopy=_extend({},_createEvent(event),{client:this});_clientDispatchCallbacks.call(this,eventCopy)}return this},_clientClip=function(elements){if(!_clientMeta[this.id])throw new Error("Attempted to clip element(s) to a destroyed ZeroClipboard client instance");elements=_prepClip(elements);for(var i=0;i<elements.length;i++)if(_hasOwn.call(elements,i)&&elements[i]&&1===elements[i].nodeType){elements[i].zcClippingId?_elementMeta[elements[i].zcClippingId].indexOf(this.id)===-1&&_elementMeta[elements[i].zcClippingId].push(this.id):(elements[i].zcClippingId="zcClippingId_"+_elementIdCounter++,_elementMeta[elements[i].zcClippingId]=[this.id],_globalConfig.autoActivate===!0&&_addMouseHandlers(elements[i]));var clippedElements=_clientMeta[this.id]&&_clientMeta[this.id].elements;clippedElements.indexOf(elements[i])===-1&&clippedElements.push(elements[i])}return this},_clientUnclip=function(elements){var meta=_clientMeta[this.id];if(!meta)return this;var arrayIndex,clippedElements=meta.elements;elements="undefined"==typeof elements?clippedElements.slice(0):_prepClip(elements);for(var i=elements.length;i--;)if(_hasOwn.call(elements,i)&&elements[i]&&1===elements[i].nodeType){for(arrayIndex=0;(arrayIndex=clippedElements.indexOf(elements[i],arrayIndex))!==-1;)clippedElements.splice(arrayIndex,1);var clientIds=_elementMeta[elements[i].zcClippingId];if(clientIds){for(arrayIndex=0;(arrayIndex=clientIds.indexOf(this.id,arrayIndex))!==-1;)clientIds.splice(arrayIndex,1);0===clientIds.length&&(_globalConfig.autoActivate===!0&&_removeMouseHandlers(elements[i]),delete elements[i].zcClippingId)}}return this},_clientElements=function(){var meta=_clientMeta[this.id];return meta&&meta.elements?meta.elements.slice(0):[]},_clientDestroy=function(){_clientMeta[this.id]&&(this.unclip(),this.off(),delete _clientMeta[this.id])},_clientShouldEmit=function(event){if(!event||!event.type)return!1;if(event.client&&event.client!==this)return!1;var meta=_clientMeta[this.id],clippedEls=meta&&meta.elements,hasClippedEls=!!clippedEls&&clippedEls.length>0,goodTarget=!event.target||hasClippedEls&&clippedEls.indexOf(event.target)!==-1,goodRelTarget=event.relatedTarget&&hasClippedEls&&clippedEls.indexOf(event.relatedTarget)!==-1,goodClient=event.client&&event.client===this;return!(!meta||!(goodTarget||goodRelTarget||goodClient))},_clientDispatchCallbacks=function(event){var meta=_clientMeta[this.id];if("object"==typeof event&&event&&event.type&&meta){var async=_shouldPerformAsync(event),wildcardTypeHandlers=meta&&meta.handlers["*"]||[],specificTypeHandlers=meta&&meta.handlers[event.type]||[],handlers=wildcardTypeHandlers.concat(specificTypeHandlers);if(handlers&&handlers.length){var i,len,func,context,eventCopy,originalContext=this;for(i=0,len=handlers.length;i<len;i++)func=handlers[i],context=originalContext,"string"==typeof func&&"function"==typeof _window[func]&&(func=_window[func]),"object"==typeof func&&func&&"function"==typeof func.handleEvent&&(context=func,func=func.handleEvent),"function"==typeof func&&(eventCopy=_extend({},event),_dispatchCallback(func,context,[eventCopy],async))}}},_prepClip=function(elements){return"string"==typeof elements&&(elements=[]),"number"!=typeof elements.length?[elements]:elements},_addMouseHandlers=function(element){if(element&&1===element.nodeType){var _suppressMouseEvents=function(event){(event||(event=_window.event))&&("js"!==event._source&&(event.stopImmediatePropagation(),event.preventDefault()),delete event._source)},_elementMouseOver=function(event){(event||(event=_window.event))&&(_suppressMouseEvents(event),ZeroClipboard.focus(element))};element.addEventListener("mouseover",_elementMouseOver,!1),element.addEventListener("mouseout",_suppressMouseEvents,!1),element.addEventListener("mouseenter",_suppressMouseEvents,!1),element.addEventListener("mouseleave",_suppressMouseEvents,!1),element.addEventListener("mousemove",_suppressMouseEvents,!1),_mouseHandlers[element.zcClippingId]={mouseover:_elementMouseOver,mouseout:_suppressMouseEvents,mouseenter:_suppressMouseEvents,mouseleave:_suppressMouseEvents,mousemove:_suppressMouseEvents}}},_removeMouseHandlers=function(element){if(element&&1===element.nodeType){var mouseHandlers=_mouseHandlers[element.zcClippingId];if("object"==typeof mouseHandlers&&mouseHandlers){for(var key,val,mouseEvents=["move","leave","enter","out","over"],i=0,len=mouseEvents.length;i<len;i++)key="mouse"+mouseEvents[i],val=mouseHandlers[key],"function"==typeof val&&element.removeEventListener(key,val,!1);delete _mouseHandlers[element.zcClippingId]}}};ZeroClipboard._createClient=function(){_clientConstructor.apply(this,_args(arguments))},ZeroClipboard.prototype.on=function(){return _clientOn.apply(this,_args(arguments))},ZeroClipboard.prototype.off=function(){return _clientOff.apply(this,_args(arguments))},ZeroClipboard.prototype.handlers=function(){return _clientListeners.apply(this,_args(arguments))},ZeroClipboard.prototype.emit=function(){return _clientEmit.apply(this,_args(arguments))},ZeroClipboard.prototype.clip=function(){return _clientClip.apply(this,_args(arguments))},ZeroClipboard.prototype.unclip=function(){return _clientUnclip.apply(this,_args(arguments))},ZeroClipboard.prototype.elements=function(){return _clientElements.apply(this,_args(arguments))},ZeroClipboard.prototype.destroy=function(){return _clientDestroy.apply(this,_args(arguments))},ZeroClipboard.prototype.setText=function(text){if(!_clientMeta[this.id])throw new Error("Attempted to set pending clipboard data from a destroyed ZeroClipboard client instance");return ZeroClipboard.setData("text/plain",text),this},ZeroClipboard.prototype.setHtml=function(html){if(!_clientMeta[this.id])throw new Error("Attempted to set pending clipboard data from a destroyed ZeroClipboard client instance");return ZeroClipboard.setData("text/html",html),this},ZeroClipboard.prototype.setRichText=function(richText){if(!_clientMeta[this.id])throw new Error("Attempted to set pending clipboard data from a destroyed ZeroClipboard client instance");return ZeroClipboard.setData("application/rtf",richText),this},ZeroClipboard.prototype.setData=function(){if(!_clientMeta[this.id])throw new Error("Attempted to set pending clipboard data from a destroyed ZeroClipboard client instance");return ZeroClipboard.setData.apply(this,_args(arguments)),this},ZeroClipboard.prototype.clearData=function(){if(!_clientMeta[this.id])throw new Error("Attempted to clear pending clipboard data from a destroyed ZeroClipboard client instance");return ZeroClipboard.clearData.apply(this,_args(arguments)),this},ZeroClipboard.prototype.getData=function(){if(!_clientMeta[this.id])throw new Error("Attempted to get pending clipboard data from a destroyed ZeroClipboard client instance");return ZeroClipboard.getData.apply(this,_args(arguments))},"function"==typeof define&&define.amd?define(function(){return ZeroClipboard}):"object"==typeof module&&module&&"object"==typeof module.exports&&module.exports?module.exports=ZeroClipboard:window.ZeroClipboard=ZeroClipboard}(function(){return this||window}()),function(window,angular,undefined){"use strict";angular.module("ngClipboard",[]).provider("ngClip",function(){var self=this;return this.path="//cdnjs.cloudflare.com/ajax/libs/zeroclipboard/2.1.6/ZeroClipboard.swf",{setPath:function(newPath){self.path=newPath},setConfig:function(config){self.config=config},$get:function(){return{path:self.path,config:self.config}}}}).run(["ngClip",function(ngClip){var config={swfPath:ngClip.path,trustedDomains:["*"],allowScriptAccess:"always",forceHandCursor:!0};ZeroClipboard.config(angular.extend(config,ngClip.config||{}))}]).directive("clipCopy",["ngClip",function(ngClip){return{scope:{clipCopy:"&",clipClick:"&",clipClickFallback:"&"},restrict:"A",link:function(scope,element,attrs){if(ZeroClipboard.isFlashUnusable())return void element.bind("click",function($event){scope.$apply(scope.clipClickFallback({$event:$event,copy:scope.$eval(scope.clipCopy)}))});var client=new ZeroClipboard(element);""===attrs.clipCopy&&(scope.clipCopy=function(scope){return element[0].previousElementSibling.innerText}),client.on("ready",function(readyEvent){client.on("copy",function(event){var clipboard=event.clipboardData;clipboard.setData(attrs.clipCopyMimeType||"text/plain",scope.$eval(scope.clipCopy))}),client.on("aftercopy",function(event){angular.isDefined(attrs.clipClick)&&scope.$apply(scope.clipClick)}),scope.$on("$destroy",function(){client.destroy()})})}}}])}(window,window.angular),!window.XMLHttpRequest||window.FileAPI&&FileAPI.shouldLoad||(window.XMLHttpRequest.prototype.setRequestHeader=function(orig){return function(header,value){if("__setXHR_"===header){var val=value(this);val instanceof Function&&val(this)}else orig.apply(this,arguments)}}(window.XMLHttpRequest.prototype.setRequestHeader));var ngFileUpload=angular.module("ngFileUpload",[]);ngFileUpload.version="5.0.9",ngFileUpload.service("Upload",["$http","$q","$timeout",function($http,$q,$timeout){function sendHttp(config){config.method=config.method||"POST",config.headers=config.headers||{};var deferred=$q.defer(),promise=deferred.promise;return config.headers.__setXHR_=function(){return function(xhr){xhr&&(config.__XHR=xhr,config.xhrFn&&config.xhrFn(xhr),xhr.upload.addEventListener("progress",function(e){e.config=config,deferred.notify?deferred.notify(e):promise.progressFunc&&$timeout(function(){promise.progressFunc(e)})},!1),xhr.upload.addEventListener("load",function(e){e.lengthComputable&&(e.config=config,deferred.notify?deferred.notify(e):promise.progressFunc&&$timeout(function(){promise.progressFunc(e)}))},!1))}},$http(config).then(function(r){deferred.resolve(r)},function(e){deferred.reject(e)},function(n){deferred.notify(n)}),promise.success=function(fn){return promise.then(function(response){fn(response.data,response.status,response.headers,config)}),promise},promise.error=function(fn){return promise.then(null,function(response){
fn(response.data,response.status,response.headers,config)}),promise},promise.progress=function(fn){return promise.progressFunc=fn,promise.then(null,null,function(update){fn(update)}),promise},promise.abort=function(){return config.__XHR&&$timeout(function(){config.__XHR.abort()}),promise},promise.xhr=function(fn){return config.xhrFn=function(origXhrFn){return function(){origXhrFn&&origXhrFn.apply(promise,arguments),fn.apply(promise,arguments)}}(config.xhrFn),promise},promise}this.upload=function(config){function addFieldToFormData(formData,val,key){if(void 0!==val)if(angular.isDate(val)&&(val=val.toISOString()),angular.isString(val))formData.append(key,val);else if("form"===config.sendFieldsAs)if(angular.isObject(val))for(var k in val)val.hasOwnProperty(k)&&addFieldToFormData(formData,val[k],key+"["+k+"]");else formData.append(key,val);else val=angular.isString(val)?val:JSON.stringify(val),"json-blob"===config.sendFieldsAs?formData.append(key,new Blob([val],{type:"application/json"})):formData.append(key,val)}return config.headers=config.headers||{},config.headers["Content-Type"]=void 0,config.transformRequest=config.transformRequest?angular.isArray(config.transformRequest)?config.transformRequest:[config.transformRequest]:[],config.transformRequest.push(function(data){var key,formData=new FormData,allFields={};for(key in config.fields)config.fields.hasOwnProperty(key)&&(allFields[key]=config.fields[key]);data&&(allFields.data=data);for(key in allFields)if(allFields.hasOwnProperty(key)){var val=allFields[key];config.formDataAppender?config.formDataAppender(formData,key,val):addFieldToFormData(formData,val,key)}if(null!=config.file){var fileFormName=config.fileFormDataName||"file";if(angular.isArray(config.file))for(var isFileFormNameString=angular.isString(fileFormName),i=0;i<config.file.length;i++)formData.append(isFileFormNameString?fileFormName:fileFormName[i],config.file[i],config.fileName&&config.fileName[i]||config.file[i].name);else formData.append(fileFormName,config.file,config.fileName||config.file.name)}return formData}),sendHttp(config)},this.http=function(config){return config.transformRequest=config.transformRequest||function(data){return window.ArrayBuffer&&data instanceof window.ArrayBuffer||data instanceof Blob?data:$http.defaults.transformRequest[0](arguments)},sendHttp(config)}}]),function(){function linkFileSelect(scope,elem,attr,ngModel,$parse,$timeout,$compile){function isInputTypeFile(){return"input"===elem[0].tagName.toLowerCase()&&attr.type&&"file"===attr.type.toLowerCase()}function changeFn(evt){if(!isUpdating){isUpdating=!0;try{for(var fileList=evt.__files_||evt.target&&evt.target.files,files=[],rejFiles=[],i=0;i<fileList.length;i++){var file=fileList.item(i);validate(scope,$parse,attr,file,evt)?files.push(file):rejFiles.push(file)}updateModel($parse,$timeout,scope,ngModel,attr,attr.ngfChange||attr.ngfSelect,files,rejFiles,evt),0===files.length&&(evt.target.value=files)}finally{isUpdating=!1}}}function bindAttrToFileInput(fileElem){attr.ngfMultiple&&fileElem.attr("multiple",$parse(attr.ngfMultiple)(scope)),attr.ngfCapture&&fileElem.attr("capture",$parse(attr.ngfCapture)(scope)),attr.accept&&fileElem.attr("accept",attr.accept);for(var i=0;i<elem[0].attributes.length;i++){var attribute=elem[0].attributes[i];(isInputTypeFile()&&"type"!==attribute.name||"type"!==attribute.name&&"class"!==attribute.name&&"id"!==attribute.name&&"style"!==attribute.name)&&fileElem.attr(attribute.name,attribute.value)}}function createFileInput(evt,resetOnClick){if(!resetOnClick&&(evt||isInputTypeFile()))return elem.$$ngfRefElem||elem;var fileElem=angular.element('<input type="file">');return bindAttrToFileInput(fileElem),isInputTypeFile()?(elem.replaceWith(fileElem),elem=fileElem,fileElem.attr("__ngf_gen__",!0),$compile(elem)(scope)):(fileElem.css("visibility","hidden").css("position","absolute").css("overflow","hidden").css("width","0px").css("height","0px").css("z-index","-100000").css("border","none").css("margin","0px").css("padding","0px").attr("tabindex","-1"),elem.$$ngfRefElem&&elem.$$ngfRefElem.remove(),elem.$$ngfRefElem=fileElem,document.body.appendChild(fileElem[0])),fileElem}function resetModel(evt){updateModel($parse,$timeout,scope,ngModel,attr,attr.ngfChange||attr.ngfSelect,[],[],evt,!0)}function clickHandler(evt){function clickAndAssign(evt){evt&&fileElem[0].click(),!isInputTypeFile()&&evt||elem.bind("click touchend",clickHandler)}if(elem.attr("disabled")||disabled)return!1;null!=evt&&(evt.preventDefault(),evt.stopPropagation());var resetOnClick=$parse(attr.ngfResetOnClick)(scope)!==!1,fileElem=createFileInput(evt,resetOnClick);return fileElem&&(evt&&!resetOnClick||fileElem.bind("change",changeFn),evt&&resetOnClick&&$parse(attr.ngfResetModelOnClick)(scope)!==!1&&resetModel(evt),shouldClickLater(navigator.userAgent)?setTimeout(function(){clickAndAssign(evt)},0):clickAndAssign(evt)),!1}if(!elem.attr("__ngf_gen__")){scope.$on("$destroy",function(){elem.$$ngfRefElem&&elem.$$ngfRefElem.remove()});var disabled=!1;attr.ngfSelect.search(/\W+$files\W+/)===-1&&scope.$watch(attr.ngfSelect,function(val){disabled=val===!1});var isUpdating=!1;window.FileAPI&&window.FileAPI.ngfFixIE?window.FileAPI.ngfFixIE(elem,createFileInput,bindAttrToFileInput,changeFn):clickHandler()}}function shouldClickLater(ua){var m=ua.match(/Android[^\d]*(\d+)\.(\d+)/);return m&&m.length>2?parseInt(m[1])<4||4===parseInt(m[1])&&parseInt(m[2])<4:/.*Windows.*Safari.*/.test(ua)}ngFileUpload.directive("ngfSelect",["$parse","$timeout","$compile",function($parse,$timeout,$compile){return{restrict:"AEC",require:"?ngModel",link:function(scope,elem,attr,ngModel){linkFileSelect(scope,elem,attr,ngModel,$parse,$timeout,$compile)}}}]),ngFileUpload.validate=function(scope,$parse,attr,file,evt){function globStringToRegex(str){if(str.length>2&&"/"===str[0]&&"/"===str[str.length-1])return str.substring(1,str.length-1);var split=str.split(","),result="";if(split.length>1)for(var i=0;i<split.length;i++)result+="("+globStringToRegex(split[i])+")",i<split.length-1&&(result+="|");else 0===str.indexOf(".")&&(str="*"+str),result="^"+str.replace(new RegExp("[.\\\\+*?\\[\\^\\]$(){}=!<>|:\\-]","g"),"\\$&")+"$",result=result.replace(/\\\*/g,".*").replace(/\\\?/g,".");return result}var accept=$parse(attr.ngfAccept)(scope,{$file:file,$event:evt}),fileSizeMax=$parse(attr.ngfMaxSize)(scope,{$file:file,$event:evt})||9007199254740991,fileSizeMin=$parse(attr.ngfMinSize)(scope,{$file:file,$event:evt})||-1;if(null!=accept&&angular.isString(accept)){var regexp=new RegExp(globStringToRegex(accept),"gi");accept=null!=file.type&&regexp.test(file.type.toLowerCase())||null!=file.name&&regexp.test(file.name.toLowerCase())}return(null==accept||accept)&&(null==file.size||file.size<fileSizeMax&&file.size>fileSizeMin)},ngFileUpload.updateModel=function($parse,$timeout,scope,ngModel,attr,fileChange,files,rejFiles,evt,noDelay){function update(){if($parse(attr.ngfKeep)(scope)===!0){var prevFiles=(ngModel.$modelValue||[]).slice(0);if(files&&files.length)if($parse(attr.ngfKeepDistinct)(scope)===!0){for(var len=prevFiles.length,i=0;i<files.length;i++){for(var j=0;j<len&&files[i].name!==prevFiles[j].name;j++);j===len&&prevFiles.push(files[i])}files=prevFiles}else files=prevFiles.concat(files);else files=prevFiles}ngModel&&($parse(attr.ngModel).assign(scope,files),$timeout(function(){ngModel&&ngModel.$setViewValue(null!=files&&0===files.length?null:files)})),attr.ngModelRejected&&$parse(attr.ngModelRejected).assign(scope,rejFiles),fileChange&&$parse(fileChange)(scope,{$files:files,$rejectedFiles:rejFiles,$event:evt})}noDelay?update():$timeout(function(){update()})};var validate=ngFileUpload.validate,updateModel=ngFileUpload.updateModel}(),function(){function linkDrop(scope,elem,attr,ngModel,$parse,$timeout,$location){function calculateDragOverClass(scope,attr,evt){var accepted=!0,items=evt.dataTransfer.items;if(null!=items)for(var i=0;i<items.length&&accepted;i++)accepted=accepted&&("file"===items[i].kind||""===items[i].kind)&&validate(scope,$parse,attr,items[i],evt);var clazz=$parse(attr.ngfDragOverClass)(scope,{$event:evt});return clazz&&(clazz.delay&&(dragOverDelay=clazz.delay),clazz.accept&&(clazz=accepted?clazz.accept:clazz.reject)),clazz||attr.ngfDragOverClass||"dragover"}function extractFiles(evt,callback,allowDir,multiple){function addFile(file){validate(scope,$parse,attr,file,evt)?files.push(file):rejFiles.push(file)}function traverseFileTree(files,entry,path){if(null!=entry)if(entry.isDirectory){var filePath=(path||"")+entry.name;addFile({name:entry.name,type:"directory",path:filePath});var dirReader=entry.createReader(),entries=[];processing++;var readEntries=function(){dirReader.readEntries(function(results){try{if(results.length)entries=entries.concat(Array.prototype.slice.call(results||[],0)),readEntries();else{for(var i=0;i<entries.length;i++)traverseFileTree(files,entries[i],(path?path:"")+entry.name+"/");processing--}}catch(e){processing--,console.error(e)}},function(){processing--})};readEntries()}else processing++,entry.file(function(file){try{processing--,file.path=(path?path:"")+file.name,addFile(file)}catch(e){processing--,console.error(e)}},function(){processing--})}var files=[],rejFiles=[],items=evt.dataTransfer.items,processing=0;if(items&&items.length>0&&"file"!==$location.protocol())for(var i=0;i<items.length;i++){if(items[i].webkitGetAsEntry&&items[i].webkitGetAsEntry()&&items[i].webkitGetAsEntry().isDirectory){var entry=items[i].webkitGetAsEntry();if(entry.isDirectory&&!allowDir)continue;null!=entry&&traverseFileTree(files,entry)}else{var f=items[i].getAsFile();null!=f&&addFile(f)}if(!multiple&&files.length>0)break}else{var fileList=evt.dataTransfer.files;if(null!=fileList)for(var j=0;j<fileList.length&&(addFile(fileList.item(j)),multiple||!(files.length>0));j++);}var delays=0;!function waitForProcess(delay){$timeout(function(){if(processing)10*delays++<2e4&&waitForProcess(10);else{if(!multiple&&files.length>1){for(i=0;"directory"===files[i].type;)i++;files=[files[i]]}callback(files,rejFiles)}},delay||0)}()}var available=dropAvailable();if(attr.dropAvailable&&$timeout(function(){scope[attr.dropAvailable]?scope[attr.dropAvailable].value=available:scope[attr.dropAvailable]=available}),!available)return void($parse(attr.ngfHideOnDropNotAvailable)(scope)===!0&&elem.css("display","none"));var disabled=!1;attr.ngfDrop.search(/\W+$files\W+/)===-1&&scope.$watch(attr.ngfDrop,function(val){disabled=val===!1});var actualDragOverClass,leaveTimeout=null,stopPropagation=$parse(attr.ngfStopPropagation),dragOverDelay=1;elem[0].addEventListener("dragover",function(evt){if(!elem.attr("disabled")&&!disabled){if(evt.preventDefault(),stopPropagation(scope)&&evt.stopPropagation(),navigator.userAgent.indexOf("Chrome")>-1){var b=evt.dataTransfer.effectAllowed;evt.dataTransfer.dropEffect="move"===b||"linkMove"===b?"move":"copy"}$timeout.cancel(leaveTimeout),scope.actualDragOverClass||(actualDragOverClass=calculateDragOverClass(scope,attr,evt)),elem.addClass(actualDragOverClass)}},!1),elem[0].addEventListener("dragenter",function(evt){elem.attr("disabled")||disabled||(evt.preventDefault(),stopPropagation(scope)&&evt.stopPropagation())},!1),elem[0].addEventListener("dragleave",function(){elem.attr("disabled")||disabled||(leaveTimeout=$timeout(function(){elem.removeClass(actualDragOverClass),actualDragOverClass=null},dragOverDelay||1))},!1),elem[0].addEventListener("drop",function(evt){elem.attr("disabled")||disabled||(evt.preventDefault(),stopPropagation(scope)&&evt.stopPropagation(),elem.removeClass(actualDragOverClass),actualDragOverClass=null,extractFiles(evt,function(files,rejFiles){updateModel($parse,$timeout,scope,ngModel,attr,attr.ngfChange||attr.ngfDrop,files,rejFiles,evt)},$parse(attr.ngfAllowDir)(scope)!==!1,attr.multiple||$parse(attr.ngfMultiple)(scope)))},!1)}function dropAvailable(){var div=document.createElement("div");return"draggable"in div&&"ondrop"in div}var validate=ngFileUpload.validate,updateModel=ngFileUpload.updateModel;ngFileUpload.directive("ngfDrop",["$parse","$timeout","$location",function($parse,$timeout,$location){return{restrict:"AEC",require:"?ngModel",link:function(scope,elem,attr,ngModel){linkDrop(scope,elem,attr,ngModel,$parse,$timeout,$location)}}}]),ngFileUpload.directive("ngfNoFileDrop",function(){return function(scope,elem){dropAvailable()&&elem.css("display","none")}}),ngFileUpload.directive("ngfDropAvailable",["$parse","$timeout",function($parse,$timeout){return function(scope,elem,attr){if(dropAvailable()){var fn=$parse(attr.ngfDropAvailable);$timeout(function(){fn(scope),fn.assign&&fn.assign(scope,!0)})}}}]),ngFileUpload.directive("ngfSrc",["$parse","$timeout",function($parse,$timeout){return{restrict:"AE",link:function(scope,elem,attr){window.FileReader&&scope.$watch(attr.ngfSrc,function(file){file&&validate(scope,$parse,attr,file,null)&&(!window.FileAPI||navigator.userAgent.indexOf("MSIE 8")===-1||file.size<2e4)&&(!window.FileAPI||navigator.userAgent.indexOf("MSIE 9")===-1||file.size<4e6)?$timeout(function(){var URL=window.URL||window.webkitURL;if(URL&&URL.createObjectURL)elem.attr("src",URL.createObjectURL(file));else{var fileReader=new FileReader;fileReader.readAsDataURL(file),fileReader.onload=function(e){$timeout(function(){elem.attr("src",e.target.result)})}}}):elem.attr("src",attr.ngfDefaultSrc||"")})}}}])}(),function(window,document,undefined){"use strict";function Flow(opts){if(this.support=!("undefined"==typeof File||"undefined"==typeof Blob||"undefined"==typeof FileList||!Blob.prototype.slice&&!Blob.prototype.webkitSlice&&!Blob.prototype.mozSlice),this.support){this.supportDirectory=/WebKit/.test(window.navigator.userAgent),this.files=[],this.defaults={chunkSize:1048576,forceChunkSize:!1,simultaneousUploads:3,singleFile:!1,fileParameterName:"file",progressCallbacksInterval:500,speedSmoothingFactor:.1,query:{},headers:{},withCredentials:!1,preprocess:null,method:"multipart",testMethod:"GET",uploadMethod:"POST",prioritizeFirstAndLastChunk:!1,target:"/",testChunks:!0,generateUniqueIdentifier:null,maxChunkRetries:0,chunkRetryInterval:null,permanentErrors:[404,415,500,501],successStatuses:[200,201,202],onDropStopPropagation:!1},this.opts={},this.events={};var $=this;this.onDrop=function(event){$.opts.onDropStopPropagation&&event.stopPropagation(),event.preventDefault();var dataTransfer=event.dataTransfer;dataTransfer.items&&dataTransfer.items[0]&&dataTransfer.items[0].webkitGetAsEntry?$.webkitReadDataTransfer(event):$.addFiles(dataTransfer.files,event)},this.preventEvent=function(event){event.preventDefault()},this.opts=Flow.extend({},this.defaults,opts||{})}}function FlowFile(flowObj,file){this.flowObj=flowObj,this.file=file,this.name=file.fileName||file.name,this.size=file.size,this.relativePath=file.relativePath||file.webkitRelativePath||this.name,this.uniqueIdentifier=flowObj.generateUniqueIdentifier(file),this.chunks=[],this.paused=!1,this.error=!1,this.averageSpeed=0,this.currentSpeed=0,this._lastProgressCallback=Date.now(),this._prevUploadedSize=0,this._prevProgress=0,this.bootstrap()}function FlowChunk(flowObj,fileObj,offset){this.flowObj=flowObj,this.fileObj=fileObj,this.fileObjSize=fileObj.size,this.offset=offset,this.tested=!1,this.retries=0,this.pendingRetry=!1,this.preprocessState=0,this.loaded=0,this.total=0;var chunkSize=this.flowObj.opts.chunkSize;this.startByte=this.offset*chunkSize,this.endByte=Math.min(this.fileObjSize,(this.offset+1)*chunkSize),this.xhr=null,this.fileObjSize-this.endByte<chunkSize&&!this.flowObj.opts.forceChunkSize&&(this.endByte=this.fileObjSize);var $=this;this.event=function(event,args){args=Array.prototype.slice.call(arguments),args.unshift($),$.fileObj.chunkEvent.apply($.fileObj,args)},this.progressHandler=function(event){event.lengthComputable&&($.loaded=event.loaded,$.total=event.total),$.event("progress",event)},this.testHandler=function(event){var status=$.status(!0);"error"===status?($.event(status,$.message()),$.flowObj.uploadNextChunk()):"success"===status?($.tested=!0,$.event(status,$.message()),$.flowObj.uploadNextChunk()):$.fileObj.paused||($.tested=!0,$.send())},this.doneHandler=function(event){var status=$.status();if("success"===status||"error"===status)$.event(status,$.message()),$.flowObj.uploadNextChunk();else{$.event("retry",$.message()),$.pendingRetry=!0,$.abort(),$.retries++;var retryInterval=$.flowObj.opts.chunkRetryInterval;null!==retryInterval?setTimeout(function(){$.send()},retryInterval):$.send()}}}function arrayRemove(array,value){var index=array.indexOf(value);index>-1&&array.splice(index,1)}function evalOpts(data,args){return"function"==typeof data&&(args=Array.prototype.slice.call(arguments),data=data.apply(null,args.slice(1))),data}function async(fn,context){setTimeout(fn.bind(context),0)}function extend(dst,src){return each(arguments,function(obj){obj!==dst&&each(obj,function(value,key){dst[key]=value})}),dst}function each(obj,callback,context){if(obj){var key;if("undefined"!=typeof obj.length){for(key=0;key<obj.length;key++)if(callback.call(context,obj[key],key)===!1)return}else for(key in obj)if(obj.hasOwnProperty(key)&&callback.call(context,obj[key],key)===!1)return}}var ie10plus=window.navigator.msPointerEnabled;Flow.prototype={on:function(event,callback){event=event.toLowerCase(),this.events.hasOwnProperty(event)||(this.events[event]=[]),this.events[event].push(callback)},off:function(event,fn){event!==undefined?(event=event.toLowerCase(),fn!==undefined?this.events.hasOwnProperty(event)&&arrayRemove(this.events[event],fn):delete this.events[event]):this.events={}},fire:function(event,args){args=Array.prototype.slice.call(arguments),event=event.toLowerCase();var preventDefault=!1;return this.events.hasOwnProperty(event)&&each(this.events[event],function(callback){preventDefault=callback.apply(this,args.slice(1))===!1||preventDefault},this),"catchall"!=event&&(args.unshift("catchAll"),preventDefault=this.fire.apply(this,args)===!1||preventDefault),!preventDefault},webkitReadDataTransfer:function(event){function readSuccess(entries){queue+=entries.length,each(entries,function(entry){if(entry.isFile){var fullPath=entry.fullPath;entry.file(function(file){fileReadSuccess(file,fullPath)},readError)}else entry.isDirectory&&entry.createReader().readEntries(readSuccess,readError)}),decrement()}function fileReadSuccess(file,fullPath){file.relativePath=fullPath.substring(1),files.push(file),decrement()}function readError(fileError){throw fileError}function decrement(){0==--queue&&$.addFiles(files,event)}var $=this,queue=event.dataTransfer.items.length,files=[];each(event.dataTransfer.items,function(item){var entry=item.webkitGetAsEntry();return entry?void(entry.isFile?fileReadSuccess(item.getAsFile(),entry.fullPath):entry.createReader().readEntries(readSuccess,readError)):void decrement()})},generateUniqueIdentifier:function(file){var custom=this.opts.generateUniqueIdentifier;if("function"==typeof custom)return custom(file);var relativePath=file.relativePath||file.webkitRelativePath||file.fileName||file.name;return file.size+"-"+relativePath.replace(/[^0-9a-zA-Z_-]/gim,"")},uploadNextChunk:function(preventEvents){var found=!1;if(this.opts.prioritizeFirstAndLastChunk&&(each(this.files,function(file){return!file.paused&&file.chunks.length&&"pending"===file.chunks[0].status()&&0===file.chunks[0].preprocessState?(file.chunks[0].send(),found=!0,!1):!file.paused&&file.chunks.length>1&&"pending"===file.chunks[file.chunks.length-1].status()&&0===file.chunks[0].preprocessState?(file.chunks[file.chunks.length-1].send(),found=!0,!1):void 0}),found))return found;if(each(this.files,function(file){if(file.paused||each(file.chunks,function(chunk){if("pending"===chunk.status()&&0===chunk.preprocessState)return chunk.send(),found=!0,!1}),found)return!1}),found)return!0;var outstanding=!1;return each(this.files,function(file){if(!file.isComplete())return outstanding=!0,!1}),outstanding||preventEvents||async(function(){this.fire("complete")},this),!1},assignBrowse:function(domNodes,isDirectory,singleFile,attributes){"undefined"==typeof domNodes.length&&(domNodes=[domNodes]),each(domNodes,function(domNode){var input;"INPUT"===domNode.tagName&&"file"===domNode.type?input=domNode:(input=document.createElement("input"),input.setAttribute("type","file"),extend(input.style,{visibility:"hidden",position:"absolute"}),domNode.appendChild(input),domNode.addEventListener("click",function(){input.click()},!1)),this.opts.singleFile||singleFile||input.setAttribute("multiple","multiple"),isDirectory&&input.setAttribute("webkitdirectory","webkitdirectory"),each(attributes,function(value,key){input.setAttribute(key,value)});var $=this;input.addEventListener("change",function(e){$.addFiles(e.target.files,e),e.target.value=""},!1)},this)},assignDrop:function(domNodes){"undefined"==typeof domNodes.length&&(domNodes=[domNodes]),each(domNodes,function(domNode){domNode.addEventListener("dragover",this.preventEvent,!1),domNode.addEventListener("dragenter",this.preventEvent,!1),domNode.addEventListener("drop",this.onDrop,!1)},this)},unAssignDrop:function(domNodes){"undefined"==typeof domNodes.length&&(domNodes=[domNodes]),each(domNodes,function(domNode){domNode.removeEventListener("dragover",this.preventEvent),domNode.removeEventListener("dragenter",this.preventEvent),domNode.removeEventListener("drop",this.onDrop)},this)},isUploading:function(){var uploading=!1;return each(this.files,function(file){if(file.isUploading())return uploading=!0,!1}),uploading},_shouldUploadNext:function(){var num=0,should=!0,simultaneousUploads=this.opts.simultaneousUploads;return each(this.files,function(file){each(file.chunks,function(chunk){if("uploading"===chunk.status()&&(num++,num>=simultaneousUploads))return should=!1,!1})}),should&&num},upload:function(){var ret=this._shouldUploadNext();if(ret!==!1){this.fire("uploadStart");for(var started=!1,num=1;num<=this.opts.simultaneousUploads-ret;num++)started=this.uploadNextChunk(!0)||started;started||async(function(){this.fire("complete")},this)}},resume:function(){each(this.files,function(file){file.resume()})},pause:function(){each(this.files,function(file){file.pause()})},cancel:function(){for(var i=this.files.length-1;i>=0;i--)this.files[i].cancel()},progress:function(){var totalDone=0,totalSize=0;return each(this.files,function(file){totalDone+=file.progress()*file.size,totalSize+=file.size}),totalSize>0?totalDone/totalSize:0},addFile:function(file,event){this.addFiles([file],event)},addFiles:function(fileList,event){var files=[];each(fileList,function(file){if((!ie10plus||ie10plus&&file.size>0)&&(file.size%4096!==0||"."!==file.name&&"."!==file.fileName)&&!this.getFromUniqueIdentifier(this.generateUniqueIdentifier(file))){var f=new FlowFile(this,file);this.fire("fileAdded",f,event)&&files.push(f)}},this),this.fire("filesAdded",files,event)&&each(files,function(file){this.opts.singleFile&&this.files.length>0&&this.removeFile(this.files[0]),this.files.push(file)},this),this.fire("filesSubmitted",files,event)},removeFile:function(file){for(var i=this.files.length-1;i>=0;i--)this.files[i]===file&&(this.files.splice(i,1),file.abort())},getFromUniqueIdentifier:function(uniqueIdentifier){var ret=!1;return each(this.files,function(file){file.uniqueIdentifier===uniqueIdentifier&&(ret=file)}),ret},getSize:function(){var totalSize=0;return each(this.files,function(file){totalSize+=file.size}),totalSize},sizeUploaded:function(){var size=0;return each(this.files,function(file){size+=file.sizeUploaded()}),size},timeRemaining:function(){var sizeDelta=0,averageSpeed=0;return each(this.files,function(file){file.paused||file.error||(sizeDelta+=file.size-file.sizeUploaded(),averageSpeed+=file.averageSpeed)}),sizeDelta&&!averageSpeed?Number.POSITIVE_INFINITY:sizeDelta||averageSpeed?Math.floor(sizeDelta/averageSpeed):0}},FlowFile.prototype={measureSpeed:function(){var timeSpan=Date.now()-this._lastProgressCallback;if(timeSpan){var smoothingFactor=this.flowObj.opts.speedSmoothingFactor,uploaded=this.sizeUploaded();this.currentSpeed=Math.max((uploaded-this._prevUploadedSize)/timeSpan*1e3,0),this.averageSpeed=smoothingFactor*this.currentSpeed+(1-smoothingFactor)*this.averageSpeed,this._prevUploadedSize=uploaded}},chunkEvent:function(chunk,event,message){switch(event){case"progress":if(Date.now()-this._lastProgressCallback<this.flowObj.opts.progressCallbacksInterval)break;this.measureSpeed(),this.flowObj.fire("fileProgress",this,chunk),this.flowObj.fire("progress"),this._lastProgressCallback=Date.now();break;case"error":this.error=!0,this.abort(!0),this.flowObj.fire("fileError",this,message,chunk),this.flowObj.fire("error",message,this,chunk);break;case"success":if(this.error)return;this.measureSpeed(),this.flowObj.fire("fileProgress",this,chunk),this.flowObj.fire("progress"),this._lastProgressCallback=Date.now(),this.isComplete()&&(this.currentSpeed=0,this.averageSpeed=0,this.flowObj.fire("fileSuccess",this,message,chunk));break;case"retry":this.flowObj.fire("fileRetry",this,chunk)}},pause:function(){this.paused=!0,this.abort()},resume:function(){this.paused=!1,this.flowObj.upload()},abort:function(reset){this.currentSpeed=0,this.averageSpeed=0;var chunks=this.chunks;reset&&(this.chunks=[]),each(chunks,function(c){"uploading"===c.status()&&(c.abort(),this.flowObj.uploadNextChunk())},this)},cancel:function(){this.flowObj.removeFile(this)},retry:function(){this.bootstrap(),this.flowObj.upload()},bootstrap:function(){this.abort(!0),this.error=!1,this._prevProgress=0;for(var round=this.flowObj.opts.forceChunkSize?Math.ceil:Math.floor,chunks=Math.max(round(this.file.size/this.flowObj.opts.chunkSize),1),offset=0;offset<chunks;offset++)this.chunks.push(new FlowChunk(this.flowObj,this,offset))},progress:function(){if(this.error)return 1;if(1===this.chunks.length)return this._prevProgress=Math.max(this._prevProgress,this.chunks[0].progress()),this._prevProgress;var bytesLoaded=0;each(this.chunks,function(c){bytesLoaded+=c.progress()*(c.endByte-c.startByte)});var percent=bytesLoaded/this.size;return this._prevProgress=Math.max(this._prevProgress,percent>.9999?1:percent),this._prevProgress},isUploading:function(){var uploading=!1;return each(this.chunks,function(chunk){if("uploading"===chunk.status())return uploading=!0,!1}),uploading},isComplete:function(){var outstanding=!1;return each(this.chunks,function(chunk){var status=chunk.status();if("pending"===status||"uploading"===status||1===chunk.preprocessState)return outstanding=!0,!1}),!outstanding},sizeUploaded:function(){var size=0;return each(this.chunks,function(chunk){size+=chunk.sizeUploaded()}),size},timeRemaining:function(){if(this.paused||this.error)return 0;var delta=this.size-this.sizeUploaded();return delta&&!this.averageSpeed?Number.POSITIVE_INFINITY:delta||this.averageSpeed?Math.floor(delta/this.averageSpeed):0},getType:function(){return this.file.type&&this.file.type.split("/")[1]},getExtension:function(){return this.name.substr((~-this.name.lastIndexOf(".")>>>0)+2).toLowerCase()}},FlowChunk.prototype={getParams:function(){return{flowChunkNumber:this.offset+1,flowChunkSize:this.flowObj.opts.chunkSize,flowCurrentChunkSize:this.endByte-this.startByte,flowTotalSize:this.fileObjSize,flowIdentifier:this.fileObj.uniqueIdentifier,flowFilename:this.fileObj.name,flowRelativePath:this.fileObj.relativePath,flowTotalChunks:this.fileObj.chunks.length}},getTarget:function(target,params){return target+=target.indexOf("?")<0?"?":"&",target+params.join("&")},test:function(){this.xhr=new XMLHttpRequest,this.xhr.addEventListener("load",this.testHandler,!1),this.xhr.addEventListener("error",this.testHandler,!1);var testMethod=evalOpts(this.flowObj.opts.testMethod,this.fileObj,this),data=this.prepareXhrRequest(testMethod,!0);this.xhr.send(data)},preprocessFinished:function(){this.preprocessState=2,this.send()},send:function(){var preprocess=this.flowObj.opts.preprocess;if("function"==typeof preprocess)switch(this.preprocessState){case 0:return this.preprocessState=1,void preprocess(this);case 1:return}if(this.flowObj.opts.testChunks&&!this.tested)return void this.test();this.loaded=0,this.total=0,this.pendingRetry=!1;var func=this.fileObj.file.slice?"slice":this.fileObj.file.mozSlice?"mozSlice":this.fileObj.file.webkitSlice?"webkitSlice":"slice",bytes=this.fileObj.file[func](this.startByte,this.endByte,this.fileObj.file.type);this.xhr=new XMLHttpRequest,this.xhr.upload.addEventListener("progress",this.progressHandler,!1),this.xhr.addEventListener("load",this.doneHandler,!1),this.xhr.addEventListener("error",this.doneHandler,!1);var uploadMethod=evalOpts(this.flowObj.opts.uploadMethod,this.fileObj,this),data=this.prepareXhrRequest(uploadMethod,!1,this.flowObj.opts.method,bytes);this.xhr.send(data)},abort:function(){var xhr=this.xhr;this.xhr=null,xhr&&xhr.abort()},status:function(isTest){return this.pendingRetry||1===this.preprocessState?"uploading":this.xhr?this.xhr.readyState<4?"uploading":this.flowObj.opts.successStatuses.indexOf(this.xhr.status)>-1?"success":this.flowObj.opts.permanentErrors.indexOf(this.xhr.status)>-1||!isTest&&this.retries>=this.flowObj.opts.maxChunkRetries?"error":(this.abort(),"pending"):"pending"},message:function(){return this.xhr?this.xhr.responseText:""},progress:function(){if(this.pendingRetry)return 0;var s=this.status();return"success"===s||"error"===s?1:"pending"===s?0:this.total>0?this.loaded/this.total:0},sizeUploaded:function(){var size=this.endByte-this.startByte;return"success"!==this.status()&&(size=this.progress()*size),size},prepareXhrRequest:function(method,isTest,paramsMethod,blob){var query=evalOpts(this.flowObj.opts.query,this.fileObj,this,isTest);query=extend(this.getParams(),query);var target=evalOpts(this.flowObj.opts.target,this.fileObj,this,isTest),data=null;if("GET"===method||"octet"===paramsMethod){var params=[];each(query,function(v,k){params.push([encodeURIComponent(k),encodeURIComponent(v)].join("="))}),target=this.getTarget(target,params),data=blob||null}else data=new FormData,each(query,function(v,k){data.append(k,v)}),data.append(this.flowObj.opts.fileParameterName,blob,this.fileObj.file.name);return this.xhr.open(method,target,!0),this.xhr.withCredentials=this.flowObj.opts.withCredentials,each(evalOpts(this.flowObj.opts.headers,this.fileObj,this,isTest),function(v,k){this.xhr.setRequestHeader(k,v)},this),data}},Flow.evalOpts=evalOpts,Flow.extend=extend,Flow.each=each,Flow.FlowFile=FlowFile,Flow.FlowChunk=FlowChunk,Flow.version="2.9.0","object"==typeof module&&module&&"object"==typeof module.exports?module.exports=Flow:(window.Flow=Flow,"function"==typeof define&&define.amd&&define("flow",[],function(){return Flow}))}(window,document),angular.module("flow.provider",[]).provider("flowFactory",function(){"use strict";this.defaults={},this.factory=function(options){return new Flow(options)},this.events=[],this.on=function(event,callback){this.events.push([event,callback])},this.$get=function(){var fn=this.factory,defaults=this.defaults,events=this.events;return{create:function(opts){var flow=fn(angular.extend({},defaults,opts));return angular.forEach(events,function(event){flow.on(event[0],event[1])}),flow}}}}),angular.module("flow.init",["flow.provider"]).controller("flowCtrl",["$scope","$attrs","$parse","flowFactory",function($scope,$attrs,$parse,flowFactory){var options=angular.extend({},$scope.$eval($attrs.flowInit)),flow=$scope.$eval($attrs.flowObject)||flowFactory.create(options),catchAllHandler=function(eventName){var args=Array.prototype.slice.call(arguments);args.shift();var event=$scope.$broadcast.apply($scope,["flow::"+eventName,flow].concat(args));if({progress:1,filesSubmitted:1,fileSuccess:1,fileError:1,complete:1}[eventName]&&$scope.$apply(),event.defaultPrevented)return!1};flow.on("catchAll",catchAllHandler),$scope.$on("$destroy",function(){flow.off("catchAll",catchAllHandler)}),$scope.$flow=flow,$attrs.hasOwnProperty("flowName")&&($parse($attrs.flowName).assign($scope,flow),$scope.$on("$destroy",function(){$parse($attrs.flowName).assign($scope)}))}]).directive("flowInit",[function(){
return{scope:!0,controller:"flowCtrl"}}]),angular.module("flow.btn",["flow.init"]).directive("flowBtn",[function(){return{restrict:"EA",scope:!1,require:"^flowInit",link:function(scope,element,attrs){var isDirectory=attrs.hasOwnProperty("flowDirectory"),isSingleFile=attrs.hasOwnProperty("flowSingleFile"),inputAttrs=attrs.hasOwnProperty("flowAttrs")&&scope.$eval(attrs.flowAttrs);scope.$flow.assignBrowse(element,isDirectory,isSingleFile,inputAttrs)}}}]),angular.module("flow.dragEvents",["flow.init"]).directive("flowPreventDrop",function(){return{scope:!1,link:function(scope,element,attrs){element.bind("drop dragover",function(event){event.preventDefault()})}}}).directive("flowDragEnter",["$timeout",function($timeout){return{scope:!1,link:function(scope,element,attrs){function isFileDrag(dragEvent){var fileDrag=!1,dataTransfer=dragEvent.dataTransfer||dragEvent.originalEvent.dataTransfer;return angular.forEach(dataTransfer&&dataTransfer.types,function(val){"Files"===val&&(fileDrag=!0)}),fileDrag}var promise,enter=!1;element.bind("dragover",function(event){isFileDrag(event)&&(enter||(scope.$apply(attrs.flowDragEnter),enter=!0),$timeout.cancel(promise),event.preventDefault())}),element.bind("dragleave drop",function(event){$timeout.cancel(promise),promise=$timeout(function(){scope.$eval(attrs.flowDragLeave),promise=null,enter=!1},100)})}}}]),angular.module("flow.drop",["flow.init"]).directive("flowDrop",function(){return{scope:!1,require:"^flowInit",link:function(scope,element,attrs){function assignDrop(){scope.$flow.assignDrop(element)}function unAssignDrop(){scope.$flow.unAssignDrop(element)}attrs.flowDropEnabled?scope.$watch(attrs.flowDropEnabled,function(value){value?assignDrop():unAssignDrop()}):assignDrop()}}}),!function(angular){"use strict";function capitaliseFirstLetter(string){return string.charAt(0).toUpperCase()+string.slice(1)}var module=angular.module("flow.events",["flow.init"]),events={fileSuccess:["$file","$message"],fileProgress:["$file"],fileAdded:["$file","$event"],filesAdded:["$files","$event"],filesSubmitted:["$files","$event"],fileRetry:["$file"],fileError:["$file","$message"],uploadStart:[],complete:[],progress:[],error:["$message","$file"]};angular.forEach(events,function(eventArgs,eventName){var name="flow"+capitaliseFirstLetter(eventName);"flowUploadStart"==name&&(name="flowUploadStarted"),module.directive(name,[function(){return{require:"^flowInit",controller:["$scope","$attrs",function($scope,$attrs){$scope.$on("flow::"+eventName,function(){var funcArgs=Array.prototype.slice.call(arguments),event=funcArgs.shift();if($scope.$flow===funcArgs.shift()){var args={};angular.forEach(eventArgs,function(value,key){args[value]=funcArgs[key]}),$scope.$eval($attrs[name],args)===!1&&event.preventDefault()}})}]}}])})}(angular),angular.module("flow.img",["flow.init"]).directive("flowImg",[function(){return{scope:!1,require:"^flowInit",link:function(scope,element,attrs){var file=attrs.flowImg;scope.$watch(file,function(file){if(file){var fileReader=new FileReader;fileReader.readAsDataURL(file.file),fileReader.onload=function(event){scope.$apply(function(){attrs.$set("src",event.target.result)})}}})}}}]),angular.module("flow.transfers",["flow.init"]).directive("flowTransfers",[function(){return{scope:!0,require:"^flowInit",link:function(scope){scope.transfers=scope.$flow.files}}}]),angular.module("flow",["flow.provider","flow.init","flow.events","flow.btn","flow.drop","flow.transfers","flow.img","flow.dragEvents"]),!function(e){if("object"==typeof exports)module.exports=e();else if("function"==typeof define&&define.amd)define(e);else{var f;"undefined"!=typeof window?f=window:"undefined"!=typeof global?f=global:"undefined"!=typeof self&&(f=self),f.s=e()}}(function(){return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error("Cannot find module '"+o+"'")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(_dereq_,module,exports){var trim=_dereq_("./trim"),decap=_dereq_("./decapitalize");module.exports=function(str,decapitalize){return str=trim(str).replace(/[-_\s]+(.)?/g,function(match,c){return c?c.toUpperCase():""}),decapitalize===!0?decap(str):str}},{"./decapitalize":9,"./trim":61}],2:[function(_dereq_,module,exports){var makeString=_dereq_("./helper/makeString");module.exports=function(str,lowercaseRest){str=makeString(str);var remainingChars=lowercaseRest?str.slice(1).toLowerCase():str.slice(1);return str.charAt(0).toUpperCase()+remainingChars}},{"./helper/makeString":20}],3:[function(_dereq_,module,exports){var makeString=_dereq_("./helper/makeString");module.exports=function(str){return makeString(str).split("")}},{"./helper/makeString":20}],4:[function(_dereq_,module,exports){module.exports=function(str,step){return null==str?[]:(str=String(str),step=~~step,step>0?str.match(new RegExp(".{1,"+step+"}","g")):[str])}},{}],5:[function(_dereq_,module,exports){var capitalize=_dereq_("./capitalize"),camelize=_dereq_("./camelize"),makeString=_dereq_("./helper/makeString");module.exports=function(str){return str=makeString(str),capitalize(camelize(str.replace(/[\W_]/g," ")).replace(/\s/g,""))}},{"./camelize":1,"./capitalize":2,"./helper/makeString":20}],6:[function(_dereq_,module,exports){var trim=_dereq_("./trim");module.exports=function(str){return trim(str).replace(/\s+/g," ")}},{"./trim":61}],7:[function(_dereq_,module,exports){var makeString=_dereq_("./helper/makeString");module.exports=function(str,substr){return str=makeString(str),substr=makeString(substr),0===str.length||0===substr.length?0:str.split(substr).length-1}},{"./helper/makeString":20}],8:[function(_dereq_,module,exports){var trim=_dereq_("./trim");module.exports=function(str){return trim(str).replace(/([A-Z])/g,"-$1").replace(/[-_\s]+/g,"-").toLowerCase()}},{"./trim":61}],9:[function(_dereq_,module,exports){var makeString=_dereq_("./helper/makeString");module.exports=function(str){return str=makeString(str),str.charAt(0).toLowerCase()+str.slice(1)}},{"./helper/makeString":20}],10:[function(_dereq_,module,exports){function getIndent(str){for(var matches=str.match(/^[\s\\t]*/gm),indent=matches[0].length,i=1;i<matches.length;i++)indent=Math.min(matches[i].length,indent);return indent}var makeString=_dereq_("./helper/makeString");module.exports=function(str,pattern){str=makeString(str);var reg,indent=getIndent(str);return 0===indent?str:(reg="string"==typeof pattern?new RegExp("^"+pattern,"gm"):new RegExp("^[ \\t]{"+indent+"}","gm"),str.replace(reg,""))}},{"./helper/makeString":20}],11:[function(_dereq_,module,exports){var makeString=_dereq_("./helper/makeString"),toPositive=_dereq_("./helper/toPositive");module.exports=function(str,ends,position){return str=makeString(str),ends=""+ends,position="undefined"==typeof position?str.length-ends.length:Math.min(toPositive(position),str.length)-ends.length,position>=0&&str.indexOf(ends,position)===position}},{"./helper/makeString":20,"./helper/toPositive":22}],12:[function(_dereq_,module,exports){var makeString=_dereq_("./helper/makeString"),escapeChars=_dereq_("./helper/escapeChars"),regexString="[";for(var key in escapeChars)regexString+=key;regexString+="]";var regex=new RegExp(regexString,"g");module.exports=function(str){return makeString(str).replace(regex,function(m){return"&"+escapeChars[m]+";"})}},{"./helper/escapeChars":17,"./helper/makeString":20}],13:[function(_dereq_,module,exports){module.exports=function(){var result={};for(var prop in this)this.hasOwnProperty(prop)&&!prop.match(/^(?:include|contains|reverse|join)$/)&&(result[prop]=this[prop]);return result}},{}],14:[function(_dereq_,module,exports){"use strict";function s(value){return this instanceof s?void(this._wrapped=value):new s(value)}function fn2method(key,fn){"function"==typeof fn&&(s.prototype[key]=function(){var args=[this._wrapped].concat(Array.prototype.slice.call(arguments)),res=fn.apply(null,args);return"string"==typeof res?new s(res):res})}function prototype2method(methodName){fn2method(methodName,function(context){var args=Array.prototype.slice.call(arguments,1);return String.prototype[methodName].apply(context,args)})}s.VERSION="3.1.1",s.isBlank=_dereq_("./isBlank"),s.stripTags=_dereq_("./stripTags"),s.capitalize=_dereq_("./capitalize"),s.decapitalize=_dereq_("./decapitalize"),s.chop=_dereq_("./chop"),s.trim=_dereq_("./trim"),s.clean=_dereq_("./clean"),s.count=_dereq_("./count"),s.chars=_dereq_("./chars"),s.swapCase=_dereq_("./swapCase"),s.escapeHTML=_dereq_("./escapeHTML"),s.unescapeHTML=_dereq_("./unescapeHTML"),s.splice=_dereq_("./splice"),s.insert=_dereq_("./insert"),s.replaceAll=_dereq_("./replaceAll"),s.include=_dereq_("./include"),s.join=_dereq_("./join"),s.lines=_dereq_("./lines"),s.dedent=_dereq_("./dedent"),s.reverse=_dereq_("./reverse"),s.startsWith=_dereq_("./startsWith"),s.endsWith=_dereq_("./endsWith"),s.pred=_dereq_("./pred"),s.succ=_dereq_("./succ"),s.titleize=_dereq_("./titleize"),s.camelize=_dereq_("./camelize"),s.underscored=_dereq_("./underscored"),s.dasherize=_dereq_("./dasherize"),s.classify=_dereq_("./classify"),s.humanize=_dereq_("./humanize"),s.ltrim=_dereq_("./ltrim"),s.rtrim=_dereq_("./rtrim"),s.truncate=_dereq_("./truncate"),s.prune=_dereq_("./prune"),s.words=_dereq_("./words"),s.pad=_dereq_("./pad"),s.lpad=_dereq_("./lpad"),s.rpad=_dereq_("./rpad"),s.lrpad=_dereq_("./lrpad"),s.sprintf=_dereq_("./sprintf"),s.vsprintf=_dereq_("./vsprintf"),s.toNumber=_dereq_("./toNumber"),s.numberFormat=_dereq_("./numberFormat"),s.strRight=_dereq_("./strRight"),s.strRightBack=_dereq_("./strRightBack"),s.strLeft=_dereq_("./strLeft"),s.strLeftBack=_dereq_("./strLeftBack"),s.toSentence=_dereq_("./toSentence"),s.toSentenceSerial=_dereq_("./toSentenceSerial"),s.slugify=_dereq_("./slugify"),s.surround=_dereq_("./surround"),s.quote=_dereq_("./quote"),s.unquote=_dereq_("./unquote"),s.repeat=_dereq_("./repeat"),s.naturalCmp=_dereq_("./naturalCmp"),s.levenshtein=_dereq_("./levenshtein"),s.toBoolean=_dereq_("./toBoolean"),s.exports=_dereq_("./exports"),s.escapeRegExp=_dereq_("./helper/escapeRegExp"),s.strip=s.trim,s.lstrip=s.ltrim,s.rstrip=s.rtrim,s.center=s.lrpad,s.rjust=s.lpad,s.ljust=s.rpad,s.contains=s.include,s.q=s.quote,s.toBool=s.toBoolean,s.camelcase=s.camelize,s.prototype={value:function(){return this._wrapped}};for(var key in s)fn2method(key,s[key]);fn2method("tap",function(string,fn){return fn(string)});var prototypeMethods=["toUpperCase","toLowerCase","split","replace","slice","substring","substr","concat"];for(var key in prototypeMethods)prototype2method(prototypeMethods[key]);module.exports=s},{"./camelize":1,"./capitalize":2,"./chars":3,"./chop":4,"./classify":5,"./clean":6,"./count":7,"./dasherize":8,"./decapitalize":9,"./dedent":10,"./endsWith":11,"./escapeHTML":12,"./exports":13,"./helper/escapeRegExp":18,"./humanize":23,"./include":24,"./insert":25,"./isBlank":26,"./join":27,"./levenshtein":28,"./lines":29,"./lpad":30,"./lrpad":31,"./ltrim":32,"./naturalCmp":33,"./numberFormat":34,"./pad":35,"./pred":36,"./prune":37,"./quote":38,"./repeat":39,"./replaceAll":40,"./reverse":41,"./rpad":42,"./rtrim":43,"./slugify":44,"./splice":45,"./sprintf":46,"./startsWith":47,"./strLeft":48,"./strLeftBack":49,"./strRight":50,"./strRightBack":51,"./stripTags":52,"./succ":53,"./surround":54,"./swapCase":55,"./titleize":56,"./toBoolean":57,"./toNumber":58,"./toSentence":59,"./toSentenceSerial":60,"./trim":61,"./truncate":62,"./underscored":63,"./unescapeHTML":64,"./unquote":65,"./vsprintf":66,"./words":67}],15:[function(_dereq_,module,exports){var makeString=_dereq_("./makeString");module.exports=function(str,direction){return str=makeString(str),0===str.length?"":str.slice(0,-1)+String.fromCharCode(str.charCodeAt(str.length-1)+direction)}},{"./makeString":20}],16:[function(_dereq_,module,exports){var escapeRegExp=_dereq_("./escapeRegExp");module.exports=function(characters){return null==characters?"\\s":characters.source?characters.source:"["+escapeRegExp(characters)+"]"}},{"./escapeRegExp":18}],17:[function(_dereq_,module,exports){var escapeChars={"":"cent","":"pound","":"yen","":"euro","":"copy","":"reg","<":"lt",">":"gt",'"':"quot","&":"amp","'":"#39"};module.exports=escapeChars},{}],18:[function(_dereq_,module,exports){var makeString=_dereq_("./makeString");module.exports=function(str){return makeString(str).replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}},{"./makeString":20}],19:[function(_dereq_,module,exports){var htmlEntities={nbsp:" ",cent:"",pound:"",yen:"",euro:"",copy:"",reg:"",lt:"<",gt:">",quot:'"',amp:"&",apos:"'"};module.exports=htmlEntities},{}],20:[function(_dereq_,module,exports){module.exports=function(object){return null==object?"":""+object}},{}],21:[function(_dereq_,module,exports){module.exports=function(str,qty){if(qty<1)return"";for(var result="";qty>0;)1&qty&&(result+=str),qty>>=1,str+=str;return result}},{}],22:[function(_dereq_,module,exports){module.exports=function(number){return number<0?0:+number||0}},{}],23:[function(_dereq_,module,exports){var capitalize=_dereq_("./capitalize"),underscored=_dereq_("./underscored"),trim=_dereq_("./trim");module.exports=function(str){return capitalize(trim(underscored(str).replace(/_id$/,"").replace(/_/g," ")))}},{"./capitalize":2,"./trim":61,"./underscored":63}],24:[function(_dereq_,module,exports){var makeString=_dereq_("./helper/makeString");module.exports=function(str,needle){return""===needle||makeString(str).indexOf(needle)!==-1}},{"./helper/makeString":20}],25:[function(_dereq_,module,exports){var splice=_dereq_("./splice");module.exports=function(str,i,substr){return splice(str,i,0,substr)}},{"./splice":45}],26:[function(_dereq_,module,exports){var makeString=_dereq_("./helper/makeString");module.exports=function(str){return/^\s*$/.test(makeString(str))}},{"./helper/makeString":20}],27:[function(_dereq_,module,exports){var makeString=_dereq_("./helper/makeString"),slice=[].slice;module.exports=function(){var args=slice.call(arguments),separator=args.shift();return args.join(makeString(separator))}},{"./helper/makeString":20}],28:[function(_dereq_,module,exports){var makeString=_dereq_("./helper/makeString");module.exports=function(str1,str2){"use strict";if(str1=makeString(str1),str2=makeString(str2),str1===str2)return 0;if(!str1||!str2)return Math.max(str1.length,str2.length);for(var prevRow=new Array(str2.length+1),i=0;i<prevRow.length;++i)prevRow[i]=i;for(i=0;i<str1.length;++i){for(var nextCol=i+1,j=0;j<str2.length;++j){var curCol=nextCol;nextCol=prevRow[j]+(str1.charAt(i)===str2.charAt(j)?0:1);var tmp=curCol+1;nextCol>tmp&&(nextCol=tmp),tmp=prevRow[j+1]+1,nextCol>tmp&&(nextCol=tmp),prevRow[j]=curCol}prevRow[j]=nextCol}return nextCol}},{"./helper/makeString":20}],29:[function(_dereq_,module,exports){module.exports=function(str){return null==str?[]:String(str).split(/\r?\n/)}},{}],30:[function(_dereq_,module,exports){var pad=_dereq_("./pad");module.exports=function(str,length,padStr){return pad(str,length,padStr)}},{"./pad":35}],31:[function(_dereq_,module,exports){var pad=_dereq_("./pad");module.exports=function(str,length,padStr){return pad(str,length,padStr,"both")}},{"./pad":35}],32:[function(_dereq_,module,exports){var makeString=_dereq_("./helper/makeString"),defaultToWhiteSpace=_dereq_("./helper/defaultToWhiteSpace"),nativeTrimLeft=String.prototype.trimLeft;module.exports=function(str,characters){return str=makeString(str),!characters&&nativeTrimLeft?nativeTrimLeft.call(str):(characters=defaultToWhiteSpace(characters),str.replace(new RegExp("^"+characters+"+"),""))}},{"./helper/defaultToWhiteSpace":16,"./helper/makeString":20}],33:[function(_dereq_,module,exports){module.exports=function(str1,str2){if(str1==str2)return 0;if(!str1)return-1;if(!str2)return 1;for(var cmpRegex=/(\.\d+|\d+|\D+)/g,tokens1=String(str1).match(cmpRegex),tokens2=String(str2).match(cmpRegex),count=Math.min(tokens1.length,tokens2.length),i=0;i<count;i++){var a=tokens1[i],b=tokens2[i];if(a!==b){var num1=+a,num2=+b;return num1===num1&&num2===num2?num1>num2?1:-1:a<b?-1:1}}return tokens1.length!=tokens2.length?tokens1.length-tokens2.length:str1<str2?-1:1}},{}],34:[function(_dereq_,module,exports){module.exports=function(number,dec,dsep,tsep){if(isNaN(number)||null==number)return"";number=number.toFixed(~~dec),tsep="string"==typeof tsep?tsep:",";var parts=number.split("."),fnums=parts[0],decimals=parts[1]?(dsep||".")+parts[1]:"";return fnums.replace(/(\d)(?=(?:\d{3})+$)/g,"$1"+tsep)+decimals}},{}],35:[function(_dereq_,module,exports){var makeString=_dereq_("./helper/makeString"),strRepeat=_dereq_("./helper/strRepeat");module.exports=function(str,length,padStr,type){str=makeString(str),length=~~length;var padlen=0;switch(padStr?padStr.length>1&&(padStr=padStr.charAt(0)):padStr=" ",type){case"right":return padlen=length-str.length,str+strRepeat(padStr,padlen);case"both":return padlen=length-str.length,strRepeat(padStr,Math.ceil(padlen/2))+str+strRepeat(padStr,Math.floor(padlen/2));default:return padlen=length-str.length,strRepeat(padStr,padlen)+str}}},{"./helper/makeString":20,"./helper/strRepeat":21}],36:[function(_dereq_,module,exports){var adjacent=_dereq_("./helper/adjacent");module.exports=function(str){return adjacent(str,-1)}},{"./helper/adjacent":15}],37:[function(_dereq_,module,exports){var makeString=_dereq_("./helper/makeString"),rtrim=_dereq_("./rtrim");module.exports=function(str,length,pruneStr){if(str=makeString(str),length=~~length,pruneStr=null!=pruneStr?String(pruneStr):"...",str.length<=length)return str;var tmpl=function(c){return c.toUpperCase()!==c.toLowerCase()?"A":" "},template=str.slice(0,length+1).replace(/.(?=\W*\w*$)/g,tmpl);return template=template.slice(template.length-2).match(/\w\w/)?template.replace(/\s*\S+$/,""):rtrim(template.slice(0,template.length-1)),(template+pruneStr).length>str.length?str:str.slice(0,template.length)+pruneStr}},{"./helper/makeString":20,"./rtrim":43}],38:[function(_dereq_,module,exports){var surround=_dereq_("./surround");module.exports=function(str,quoteChar){return surround(str,quoteChar||'"')}},{"./surround":54}],39:[function(_dereq_,module,exports){var makeString=_dereq_("./helper/makeString"),strRepeat=_dereq_("./helper/strRepeat");module.exports=function repeat(str,qty,separator){if(str=makeString(str),qty=~~qty,null==separator)return strRepeat(str,qty);for(var repeat=[];qty>0;repeat[--qty]=str);return repeat.join(separator)}},{"./helper/makeString":20,"./helper/strRepeat":21}],40:[function(_dereq_,module,exports){var makeString=_dereq_("./helper/makeString");module.exports=function(str,find,replace,ignorecase){var flags=ignorecase===!0?"gi":"g",reg=new RegExp(find,flags);return makeString(str).replace(reg,replace)}},{"./helper/makeString":20}],41:[function(_dereq_,module,exports){var chars=_dereq_("./chars");module.exports=function(str){return chars(str).reverse().join("")}},{"./chars":3}],42:[function(_dereq_,module,exports){var pad=_dereq_("./pad");module.exports=function(str,length,padStr){return pad(str,length,padStr,"right")}},{"./pad":35}],43:[function(_dereq_,module,exports){var makeString=_dereq_("./helper/makeString"),defaultToWhiteSpace=_dereq_("./helper/defaultToWhiteSpace"),nativeTrimRight=String.prototype.trimRight;module.exports=function(str,characters){return str=makeString(str),!characters&&nativeTrimRight?nativeTrimRight.call(str):(characters=defaultToWhiteSpace(characters),str.replace(new RegExp(characters+"+$"),""))}},{"./helper/defaultToWhiteSpace":16,"./helper/makeString":20}],44:[function(_dereq_,module,exports){var makeString=_dereq_("./helper/makeString"),defaultToWhiteSpace=_dereq_("./helper/defaultToWhiteSpace"),trim=_dereq_("./trim"),dasherize=_dereq_("./dasherize");module.exports=function(str){var from="",to="aaaaaaaaaccceeeeeghiiiijllnnoooooooossssttuuuuuunyyczzz",regex=new RegExp(defaultToWhiteSpace(from),"g");return str=makeString(str).toLowerCase().replace(regex,function(c){var index=from.indexOf(c);return to.charAt(index)||"-"}),trim(dasherize(str.replace(/[^\w\s-]/g,"-")),"-")}},{"./dasherize":8,"./helper/defaultToWhiteSpace":16,"./helper/makeString":20,"./trim":61}],45:[function(_dereq_,module,exports){var chars=_dereq_("./chars");module.exports=function(str,i,howmany,substr){var arr=chars(str);return arr.splice(~~i,~~howmany,substr),arr.join("")}},{"./chars":3}],46:[function(_dereq_,module,exports){var strRepeat=_dereq_("./helper/strRepeat"),toString=Object.prototype.toString,sprintf=function(){function get_type(variable){return toString.call(variable).slice(8,-1).toLowerCase()}var str_repeat=strRepeat,str_format=function(){return str_format.cache.hasOwnProperty(arguments[0])||(str_format.cache[arguments[0]]=str_format.parse(arguments[0])),str_format.format.call(null,str_format.cache[arguments[0]],arguments)};return str_format.format=function(parse_tree,argv){var arg,i,k,match,pad,pad_character,pad_length,cursor=1,tree_length=parse_tree.length,node_type="",output=[];for(i=0;i<tree_length;i++)if(node_type=get_type(parse_tree[i]),"string"===node_type)output.push(parse_tree[i]);else if("array"===node_type){if(match=parse_tree[i],match[2])for(arg=argv[cursor],k=0;k<match[2].length;k++){if(!arg.hasOwnProperty(match[2][k]))throw new Error(sprintf('[_.sprintf] property "%s" does not exist',match[2][k]));arg=arg[match[2][k]]}else arg=match[1]?argv[match[1]]:argv[cursor++];if(/[^s]/.test(match[8])&&"number"!=get_type(arg))throw new Error(sprintf("[_.sprintf] expecting number but found %s",get_type(arg)));switch(match[8]){case"b":arg=arg.toString(2);break;case"c":arg=String.fromCharCode(arg);break;case"d":arg=parseInt(arg,10);break;case"e":arg=match[7]?arg.toExponential(match[7]):arg.toExponential();break;case"f":arg=match[7]?parseFloat(arg).toFixed(match[7]):parseFloat(arg);break;case"o":arg=arg.toString(8);break;case"s":arg=(arg=String(arg))&&match[7]?arg.substring(0,match[7]):arg;break;case"u":arg=Math.abs(arg);break;case"x":arg=arg.toString(16);break;case"X":arg=arg.toString(16).toUpperCase()}arg=/[def]/.test(match[8])&&match[3]&&arg>=0?"+"+arg:arg,pad_character=match[4]?"0"==match[4]?"0":match[4].charAt(1):" ",pad_length=match[6]-String(arg).length,pad=match[6]?str_repeat(pad_character,pad_length):"",output.push(match[5]?arg+pad:pad+arg)}return output.join("")},str_format.cache={},str_format.parse=function(fmt){for(var _fmt=fmt,match=[],parse_tree=[],arg_names=0;_fmt;){if(null!==(match=/^[^\x25]+/.exec(_fmt)))parse_tree.push(match[0]);else if(null!==(match=/^\x25{2}/.exec(_fmt)))parse_tree.push("%");else{if(null===(match=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(_fmt)))throw new Error("[_.sprintf] huh?");if(match[2]){arg_names|=1;var field_list=[],replacement_field=match[2],field_match=[];if(null===(field_match=/^([a-z_][a-z_\d]*)/i.exec(replacement_field)))throw new Error("[_.sprintf] huh?");for(field_list.push(field_match[1]);""!==(replacement_field=replacement_field.substring(field_match[0].length));)if(null!==(field_match=/^\.([a-z_][a-z_\d]*)/i.exec(replacement_field)))field_list.push(field_match[1]);else{if(null===(field_match=/^\[(\d+)\]/.exec(replacement_field)))throw new Error("[_.sprintf] huh?");field_list.push(field_match[1])}match[2]=field_list}else arg_names|=2;if(3===arg_names)throw new Error("[_.sprintf] mixing positional and named placeholders is not (yet) supported");parse_tree.push(match)}_fmt=_fmt.substring(match[0].length)}return parse_tree},str_format}();module.exports=sprintf},{"./helper/strRepeat":21}],47:[function(_dereq_,module,exports){var makeString=_dereq_("./helper/makeString"),toPositive=_dereq_("./helper/toPositive");module.exports=function(str,starts,position){return str=makeString(str),starts=""+starts,position=null==position?0:Math.min(toPositive(position),str.length),str.lastIndexOf(starts,position)===position}},{"./helper/makeString":20,"./helper/toPositive":22}],48:[function(_dereq_,module,exports){var makeString=_dereq_("./helper/makeString");module.exports=function(str,sep){str=makeString(str),sep=makeString(sep);var pos=sep?str.indexOf(sep):-1;return~pos?str.slice(0,pos):str}},{"./helper/makeString":20}],49:[function(_dereq_,module,exports){var makeString=_dereq_("./helper/makeString");module.exports=function(str,sep){str=makeString(str),sep=makeString(sep);var pos=str.lastIndexOf(sep);return~pos?str.slice(0,pos):str}},{"./helper/makeString":20}],50:[function(_dereq_,module,exports){var makeString=_dereq_("./helper/makeString");module.exports=function(str,sep){str=makeString(str),sep=makeString(sep);var pos=sep?str.indexOf(sep):-1;return~pos?str.slice(pos+sep.length,str.length):str}},{"./helper/makeString":20}],51:[function(_dereq_,module,exports){var makeString=_dereq_("./helper/makeString");module.exports=function(str,sep){str=makeString(str),sep=makeString(sep);var pos=sep?str.lastIndexOf(sep):-1;return~pos?str.slice(pos+sep.length,str.length):str}},{"./helper/makeString":20}],52:[function(_dereq_,module,exports){var makeString=_dereq_("./helper/makeString");module.exports=function(str){return makeString(str).replace(/<\/?[^>]+>/g,"")}},{"./helper/makeString":20}],53:[function(_dereq_,module,exports){var adjacent=_dereq_("./helper/adjacent");module.exports=function(str){return adjacent(str,1)}},{"./helper/adjacent":15}],54:[function(_dereq_,module,exports){module.exports=function(str,wrapper){return[wrapper,str,wrapper].join("")}},{}],55:[function(_dereq_,module,exports){var makeString=_dereq_("./helper/makeString");module.exports=function(str){return makeString(str).replace(/\S/g,function(c){return c===c.toUpperCase()?c.toLowerCase():c.toUpperCase()})}},{"./helper/makeString":20}],56:[function(_dereq_,module,exports){var makeString=_dereq_("./helper/makeString");module.exports=function(str){return makeString(str).toLowerCase().replace(/(?:^|\s|-)\S/g,function(c){return c.toUpperCase()})}},{"./helper/makeString":20}],57:[function(_dereq_,module,exports){function boolMatch(s,matchers){var i,matcher,down=s.toLowerCase();for(matchers=[].concat(matchers),i=0;i<matchers.length;i+=1)if(matcher=matchers[i]){if(matcher.test&&matcher.test(s))return!0;if(matcher.toLowerCase()===down)return!0}}var trim=_dereq_("./trim");module.exports=function(str,trueValues,falseValues){return"number"==typeof str&&(str=""+str),"string"!=typeof str?!!str:(str=trim(str),!!boolMatch(str,trueValues||["true","1"])||!boolMatch(str,falseValues||["false","0"])&&void 0)}},{"./trim":61}],58:[function(_dereq_,module,exports){_dereq_("./trim");module.exports=function(num,precision){if(null==num)return 0;var factor=Math.pow(10,isFinite(precision)?precision:0);return Math.round(num*factor)/factor}},{"./trim":61}],59:[function(_dereq_,module,exports){var rtrim=_dereq_("./rtrim");module.exports=function(array,separator,lastSeparator,serial){separator=separator||", ",lastSeparator=lastSeparator||" and ";var a=array.slice(),lastMember=a.pop();return array.length>2&&serial&&(lastSeparator=rtrim(separator)+lastSeparator),a.length?a.join(separator)+lastSeparator+lastMember:lastMember}},{"./rtrim":43}],60:[function(_dereq_,module,exports){var toSentence=_dereq_("./toSentence");module.exports=function(array,sep,lastSep){return toSentence(array,sep,lastSep,!0)}},{"./toSentence":59}],61:[function(_dereq_,module,exports){var makeString=_dereq_("./helper/makeString"),defaultToWhiteSpace=_dereq_("./helper/defaultToWhiteSpace"),nativeTrim=String.prototype.trim;module.exports=function(str,characters){return str=makeString(str),!characters&&nativeTrim?nativeTrim.call(str):(characters=defaultToWhiteSpace(characters),str.replace(new RegExp("^"+characters+"+|"+characters+"+$","g"),""))}},{"./helper/defaultToWhiteSpace":16,"./helper/makeString":20}],62:[function(_dereq_,module,exports){var makeString=_dereq_("./helper/makeString");module.exports=function(str,length,truncateStr){return str=makeString(str),truncateStr=truncateStr||"...",length=~~length,str.length>length?str.slice(0,length)+truncateStr:str}},{"./helper/makeString":20}],63:[function(_dereq_,module,exports){var trim=_dereq_("./trim");module.exports=function(str){return trim(str).replace(/([a-z\d])([A-Z]+)/g,"$1_$2").replace(/[-\s]+/g,"_").toLowerCase()}},{"./trim":61}],64:[function(_dereq_,module,exports){var makeString=_dereq_("./helper/makeString"),htmlEntities=_dereq_("./helper/htmlEntities");module.exports=function(str){return makeString(str).replace(/\&([^;]+);/g,function(entity,entityCode){var match;return entityCode in htmlEntities?htmlEntities[entityCode]:(match=entityCode.match(/^#x([\da-fA-F]+)$/))?String.fromCharCode(parseInt(match[1],16)):(match=entityCode.match(/^#(\d+)$/))?String.fromCharCode(~~match[1]):entity})}},{"./helper/htmlEntities":19,"./helper/makeString":20}],65:[function(_dereq_,module,exports){module.exports=function(str,quoteChar){return quoteChar=quoteChar||'"',str[0]===quoteChar&&str[str.length-1]===quoteChar?str.slice(1,str.length-1):str}},{}],66:[function(_dereq_,module,exports){var sprintf=_dereq_("./sprintf");module.exports=function(fmt,argv){return argv.unshift(fmt),sprintf.apply(null,argv)}},{"./sprintf":46}],67:[function(_dereq_,module,exports){var isBlank=_dereq_("./isBlank"),trim=_dereq_("./trim");module.exports=function(str,delimiter){return isBlank(str)?[]:trim(str,delimiter).split(delimiter||/\s+/)}},{"./isBlank":26,"./trim":61}]},{},[14])(14)}),!function(a,b){b["true"]=a,function(b,c){"function"==typeof define&&define.amd?define(b):"undefined"!=typeof module&&"object"==typeof a?module.exports=b():c.rangy=b()}(function(){function a(a,b){var c=typeof a[b];return c==u||!(c!=t||!a[b])||"unknown"==c}function b(a,b){return!(typeof a[b]!=t||!a[b])}function c(a,b){return typeof a[b]!=v}function d(a){return function(b,c){for(var d=c.length;d--;)if(!a(b,c[d]))return!1;return!0}}function e(a){return a&&A(a,z)&&C(a,y)}function f(a){return b(a,"body")?a.body:a.getElementsByTagName("body")[0]}function g(b){typeof console!=v&&a(console,"log")&&console.log(b)}function h(a,b){F&&b?alert(a):g(a)}function i(a){H.initialized=!0,H.supported=!1,h("Rangy is not supported in this environment. Reason: "+a,H.config.alertOnFail)}function j(a){h("Rangy warning: "+a,H.config.alertOnWarn)}function k(a){return a.message||a.description||String(a)}function l(){if(F&&!H.initialized){var b,c=!1,d=!1;a(document,"createRange")&&(b=document.createRange(),A(b,x)&&C(b,w)&&(c=!0));var h=f(document);if(!h||"body"!=h.nodeName.toLowerCase())return void i("No body element found");if(h&&a(h,"createTextRange")&&(b=h.createTextRange(),e(b)&&(d=!0)),!c&&!d)return void i("Neither Range nor TextRange are available");H.initialized=!0,H.features={implementsDomRange:c,implementsTextRange:d};var j,l;for(var m in E)(j=E[m])instanceof p&&j.init(j,H);for(var n=0,o=K.length;o>n;++n)try{K[n](H)}catch(q){l="Rangy init listener threw an exception. Continuing. Detail: "+k(q),g(l)}}}function m(a,b,c){c&&(a+=" in module "+c.name),H.warn("DEPRECATED: "+a+" is deprecated. Please use "+b+" instead.")}function n(a,b,c,d){a[b]=function(){return m(b,c,d),a[c].apply(a,G.toArray(arguments))}}function o(a){a=a||window,l();for(var b=0,c=L.length;c>b;++b)L[b](a)}function p(a,b,c){this.name=a,this.dependencies=b,this.initialized=!1,this.supported=!1,this.initializer=c}function q(a,b,c){var d=new p(a,b,function(b){if(!b.initialized){b.initialized=!0;try{c(H,b),b.supported=!0}catch(d){var e="Module '"+a+"' failed to load: "+k(d);g(e),d.stack&&g(d.stack)}}});return E[a]=d,d}function r(){}function s(){}var t="object",u="function",v="undefined",w=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer"],x=["setStart","setStartBefore","setStartAfter","setEnd","setEndBefore","setEndAfter","collapse","selectNode","selectNodeContents","compareBoundaryPoints","deleteContents","extractContents","cloneContents","insertNode","surroundContents","cloneRange","toString","detach"],y=["boundingHeight","boundingLeft","boundingTop","boundingWidth","htmlText","text"],z=["collapse","compareEndPoints","duplicate","moveToElementText","parentElement","select","setEndPoint","getBoundingClientRect"],A=d(a),B=d(b),C=d(c),D=[].forEach?function(a,b){
a.forEach(b)}:function(a,b){for(var c=0,d=a.length;d>c;++c)b(a[c],c)},E={},F=typeof window!=v&&typeof document!=v,G={isHostMethod:a,isHostObject:b,isHostProperty:c,areHostMethods:A,areHostObjects:B,areHostProperties:C,isTextRange:e,getBody:f,forEach:D},H={version:"1.3.0",initialized:!1,isBrowser:F,supported:!0,util:G,features:{},modules:E,config:{alertOnFail:!1,alertOnWarn:!1,preferTextRange:!1,autoInitialize:typeof rangyAutoInitialize==v||rangyAutoInitialize}};H.fail=i,H.warn=j;var I;({}).hasOwnProperty?(G.extend=I=function(a,b,c){var d,e;for(var f in b)b.hasOwnProperty(f)&&(d=a[f],e=b[f],c&&null!==d&&"object"==typeof d&&null!==e&&"object"==typeof e&&I(d,e,!0),a[f]=e);return b.hasOwnProperty("toString")&&(a.toString=b.toString),a},G.createOptions=function(a,b){var c={};return I(c,b),a&&I(c,a),c}):i("hasOwnProperty not supported"),F||i("Rangy can only run in a browser"),function(){var a;if(F){var b=document.createElement("div");b.appendChild(document.createElement("span"));var c=[].slice;try{1==c.call(b.childNodes,0)[0].nodeType&&(a=function(a){return c.call(a,0)})}catch(d){}}a||(a=function(a){for(var b=[],c=0,d=a.length;d>c;++c)b[c]=a[c];return b}),G.toArray=a}();var J;F&&(a(document,"addEventListener")?J=function(a,b,c){a.addEventListener(b,c,!1)}:a(document,"attachEvent")?J=function(a,b,c){a.attachEvent("on"+b,c)}:i("Document does not have required addEventListener or attachEvent method"),G.addListener=J);var K=[];G.deprecationNotice=m,G.createAliasForDeprecatedMethod=n,H.init=l,H.addInitListener=function(a){H.initialized?a(H):K.push(a)};var L=[];H.addShimListener=function(a){L.push(a)},F&&(H.shim=H.createMissingNativeApi=o,n(H,"createMissingNativeApi","shim")),p.prototype={init:function(){for(var a,b,c=this.dependencies||[],d=0,e=c.length;e>d;++d){if(b=c[d],a=E[b],!(a&&a instanceof p))throw new Error("required module '"+b+"' not found");if(a.init(),!a.supported)throw new Error("required module '"+b+"' not supported")}this.initializer(this)},fail:function(a){throw this.initialized=!0,this.supported=!1,new Error(a)},warn:function(a){H.warn("Module "+this.name+": "+a)},deprecationNotice:function(a,b){H.warn("DEPRECATED: "+a+" in module "+this.name+" is deprecated. Please use "+b+" instead")},createError:function(a){return new Error("Error in Rangy "+this.name+" module: "+a)}},H.createModule=function(a){var b,c;2==arguments.length?(b=arguments[1],c=[]):(b=arguments[2],c=arguments[1]);var d=q(a,c,b);H.initialized&&H.supported&&d.init()},H.createCoreModule=function(a,b,c){q(a,b,c)},H.RangePrototype=r,H.rangePrototype=new r,H.selectionPrototype=new s,H.createCoreModule("DomUtil",[],function(a,b){function c(a){var b;return typeof a.namespaceURI==F||null===(b=a.namespaceURI)||"http://www.w3.org/1999/xhtml"==b}function d(a){var b=a.parentNode;return 1==b.nodeType?b:null}function e(a){for(var b=0;a=a.previousSibling;)++b;return b}function f(a){switch(a.nodeType){case 7:case 10:return 0;case 3:case 8:return a.length;default:return a.childNodes.length}}function g(a,b){var c,d=[];for(c=a;c;c=c.parentNode)d.push(c);for(c=b;c;c=c.parentNode)if(K(d,c))return c;return null}function h(a,b,c){for(var d=c?b:b.parentNode;d;){if(d===a)return!0;d=d.parentNode}return!1}function i(a,b){return h(a,b,!0)}function j(a,b,c){for(var d,e=c?a:a.parentNode;e;){if(d=e.parentNode,d===b)return e;e=d}return null}function k(a){var b=a.nodeType;return 3==b||4==b||8==b}function l(a){if(!a)return!1;var b=a.nodeType;return 3==b||8==b}function m(a,b){var c=b.nextSibling,d=b.parentNode;return c?d.insertBefore(a,c):d.appendChild(a),a}function n(a,b,c){var d=a.cloneNode(!1);if(d.deleteData(0,b),a.deleteData(b,a.length-b),m(d,a),c)for(var f,g=0;f=c[g++];)f.node==a&&f.offset>b?(f.node=d,f.offset-=b):f.node==a.parentNode&&f.offset>e(a)&&++f.offset;return d}function o(a){if(9==a.nodeType)return a;if(typeof a.ownerDocument!=F)return a.ownerDocument;if(typeof a.document!=F)return a.document;if(a.parentNode)return o(a.parentNode);throw b.createError("getDocument: no document found for node")}function p(a){var c=o(a);if(typeof c.defaultView!=F)return c.defaultView;if(typeof c.parentWindow!=F)return c.parentWindow;throw b.createError("Cannot get a window object for node")}function q(a){if(typeof a.contentDocument!=F)return a.contentDocument;if(typeof a.contentWindow!=F)return a.contentWindow.document;throw b.createError("getIframeDocument: No Document object found for iframe element")}function r(a){if(typeof a.contentWindow!=F)return a.contentWindow;if(typeof a.contentDocument!=F)return a.contentDocument.defaultView;throw b.createError("getIframeWindow: No Window object found for iframe element")}function s(a){return a&&G.isHostMethod(a,"setTimeout")&&G.isHostObject(a,"document")}function t(a,b,c){var d;if(a?G.isHostProperty(a,"nodeType")?d=1==a.nodeType&&"iframe"==a.tagName.toLowerCase()?q(a):o(a):s(a)&&(d=a.document):d=document,!d)throw b.createError(c+"(): Parameter must be a Window object or DOM node");return d}function u(a){for(var b;b=a.parentNode;)a=b;return a}function v(a,c,d,f){var h,i,k,l,m;if(a==d)return c===f?0:f>c?-1:1;if(h=j(d,a,!0))return c<=e(h)?-1:1;if(h=j(a,d,!0))return e(h)<f?-1:1;if(i=g(a,d),!i)throw new Error("comparePoints error: nodes have no common ancestor");if(k=a===i?i:j(a,i,!0),l=d===i?i:j(d,i,!0),k===l)throw b.createError("comparePoints got to case 4 and childA and childB are the same!");for(m=i.firstChild;m;){if(m===k)return-1;if(m===l)return 1;m=m.nextSibling}}function w(a){var b;try{return b=a.parentNode,!1}catch(c){return!0}}function x(a){if(!a)return"[No node]";if(L&&w(a))return"[Broken node]";if(k(a))return'"'+a.data+'"';if(1==a.nodeType){var b=a.id?' id="'+a.id+'"':"";return"<"+a.nodeName+b+">[index:"+e(a)+",length:"+a.childNodes.length+"]["+(a.innerHTML||"[innerHTML not supported]").slice(0,25)+"]"}return a.nodeName}function y(a){for(var b,c=o(a).createDocumentFragment();b=a.firstChild;)c.appendChild(b);return c}function z(a,b,c){var d=H(a),e=a.createElement("div");e.contentEditable=""+!!c,b&&(e.innerHTML=b);var f=d.firstChild;return f?d.insertBefore(e,f):d.appendChild(e),e}function A(a){return a.parentNode.removeChild(a)}function B(a){this.root=a,this._next=a}function C(a){return new B(a)}function D(a,b){this.node=a,this.offset=b}function E(a){this.code=this[a],this.codeName=a,this.message="DOMException: "+this.codeName}var F="undefined",G=a.util,H=G.getBody;G.areHostMethods(document,["createDocumentFragment","createElement","createTextNode"])||b.fail("document missing a Node creation method"),G.isHostMethod(document,"getElementsByTagName")||b.fail("document missing getElementsByTagName method");var I=document.createElement("div");G.areHostMethods(I,["insertBefore","appendChild","cloneNode"]||!G.areHostObjects(I,["previousSibling","nextSibling","childNodes","parentNode"]))||b.fail("Incomplete Element implementation"),G.isHostProperty(I,"innerHTML")||b.fail("Element is missing innerHTML property");var J=document.createTextNode("test");G.areHostMethods(J,["splitText","deleteData","insertData","appendData","cloneNode"]||!G.areHostObjects(I,["previousSibling","nextSibling","childNodes","parentNode"])||!G.areHostProperties(J,["data"]))||b.fail("Incomplete Text Node implementation");var K=function(a,b){for(var c=a.length;c--;)if(a[c]===b)return!0;return!1},L=!1;!function(){var b=document.createElement("b");b.innerHTML="1";var c=b.firstChild;b.innerHTML="<br />",L=w(c),a.features.crashyTextNodes=L}();var M;typeof window.getComputedStyle!=F?M=function(a,b){return p(a).getComputedStyle(a,null)[b]}:typeof document.documentElement.currentStyle!=F?M=function(a,b){return a.currentStyle?a.currentStyle[b]:""}:b.fail("No means of obtaining computed style properties found"),B.prototype={_current:null,hasNext:function(){return!!this._next},next:function(){var a,b,c=this._current=this._next;if(this._current)if(a=c.firstChild)this._next=a;else{for(b=null;c!==this.root&&!(b=c.nextSibling);)c=c.parentNode;this._next=b}return this._current},detach:function(){this._current=this._next=this.root=null}},D.prototype={equals:function(a){return!!a&&this.node===a.node&&this.offset==a.offset},inspect:function(){return"[DomPosition("+x(this.node)+":"+this.offset+")]"},toString:function(){return this.inspect()}},E.prototype={INDEX_SIZE_ERR:1,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INVALID_STATE_ERR:11,INVALID_NODE_TYPE_ERR:24},E.prototype.toString=function(){return this.message},a.dom={arrayContains:K,isHtmlNamespace:c,parentElement:d,getNodeIndex:e,getNodeLength:f,getCommonAncestor:g,isAncestorOf:h,isOrIsAncestorOf:i,getClosestAncestorIn:j,isCharacterDataNode:k,isTextOrCommentNode:l,insertAfter:m,splitDataNode:n,getDocument:o,getWindow:p,getIframeWindow:r,getIframeDocument:q,getBody:H,isWindow:s,getContentDocument:t,getRootContainer:u,comparePoints:v,isBrokenNode:w,inspectNode:x,getComputedStyleProperty:M,createTestElement:z,removeNode:A,fragmentFromNodeChildren:y,createIterator:C,DomPosition:D},a.DOMException=E}),H.createCoreModule("DomRange",["DomUtil"],function(a){function b(a,b){return 3!=a.nodeType&&(O(a,b.startContainer)||O(a,b.endContainer))}function c(a){return a.document||P(a.startContainer)}function d(a){return V(a.startContainer)}function e(a){return new K(a.parentNode,N(a))}function f(a){return new K(a.parentNode,N(a)+1)}function g(a,b,c){var d=11==a.nodeType?a.firstChild:a;return M(b)?c==b.length?I.insertAfter(a,b):b.parentNode.insertBefore(a,0==c?b:R(b,c)):c>=b.childNodes.length?b.appendChild(a):b.insertBefore(a,b.childNodes[c]),d}function h(a,b,d){if(y(a),y(b),c(b)!=c(a))throw new L("WRONG_DOCUMENT_ERR");var e=Q(a.startContainer,a.startOffset,b.endContainer,b.endOffset),f=Q(a.endContainer,a.endOffset,b.startContainer,b.startOffset);return d?0>=e&&f>=0:0>e&&f>0}function i(a){for(var b,d,e,f=c(a.range).createDocumentFragment();d=a.next();){if(b=a.isPartiallySelectedSubtree(),d=d.cloneNode(!b),b&&(e=a.getSubtreeIterator(),d.appendChild(i(e)),e.detach()),10==d.nodeType)throw new L("HIERARCHY_REQUEST_ERR");f.appendChild(d)}return f}function j(a,b,c){var d,e;c=c||{stop:!1};for(var f,g;f=a.next();)if(a.isPartiallySelectedSubtree()){if(b(f)===!1)return void(c.stop=!0);if(g=a.getSubtreeIterator(),j(g,b,c),g.detach(),c.stop)return}else for(d=I.createIterator(f);e=d.next();)if(b(e)===!1)return void(c.stop=!0)}function k(a){for(var b;a.next();)a.isPartiallySelectedSubtree()?(b=a.getSubtreeIterator(),k(b),b.detach()):a.remove()}function l(a){for(var b,d,e=c(a.range).createDocumentFragment();b=a.next();){if(a.isPartiallySelectedSubtree()?(b=b.cloneNode(!1),d=a.getSubtreeIterator(),b.appendChild(l(d)),d.detach()):a.remove(),10==b.nodeType)throw new L("HIERARCHY_REQUEST_ERR");e.appendChild(b)}return e}function m(a,b,c){var d,e=!(!b||!b.length),f=!!c;e&&(d=new RegExp("^("+b.join("|")+")$"));var g=[];return j(new o(a,(!1)),function(b){if(!(e&&!d.test(b.nodeType)||f&&!c(b))){var h=a.startContainer;if(b!=h||!M(h)||a.startOffset!=h.length){var i=a.endContainer;b==i&&M(i)&&0==a.endOffset||g.push(b)}}}),g}function n(a){var b="undefined"==typeof a.getName?"Range":a.getName();return"["+b+"("+I.inspectNode(a.startContainer)+":"+a.startOffset+", "+I.inspectNode(a.endContainer)+":"+a.endOffset+")]"}function o(a,b){if(this.range=a,this.clonePartiallySelectedTextNodes=b,!a.collapsed){this.sc=a.startContainer,this.so=a.startOffset,this.ec=a.endContainer,this.eo=a.endOffset;var c=a.commonAncestorContainer;this.sc===this.ec&&M(this.sc)?(this.isSingleCharacterDataNode=!0,this._first=this._last=this._next=this.sc):(this._first=this._next=this.sc!==c||M(this.sc)?S(this.sc,c,!0):this.sc.childNodes[this.so],this._last=this.ec!==c||M(this.ec)?S(this.ec,c,!0):this.ec.childNodes[this.eo-1])}}function p(a){return function(b,c){for(var d,e=c?b:b.parentNode;e;){if(d=e.nodeType,U(a,d))return e;e=e.parentNode}return null}}function q(a,b){if(db(a,b))throw new L("INVALID_NODE_TYPE_ERR")}function r(a,b){if(!U(b,a.nodeType))throw new L("INVALID_NODE_TYPE_ERR")}function s(a,b){if(0>b||b>(M(a)?a.length:a.childNodes.length))throw new L("INDEX_SIZE_ERR")}function t(a,b){if(bb(a,!0)!==bb(b,!0))throw new L("WRONG_DOCUMENT_ERR")}function u(a){if(cb(a,!0))throw new L("NO_MODIFICATION_ALLOWED_ERR")}function v(a,b){if(!a)throw new L(b)}function w(a,b){return b<=(M(a)?a.length:a.childNodes.length)}function x(a){return!!a.startContainer&&!!a.endContainer&&!(W&&(I.isBrokenNode(a.startContainer)||I.isBrokenNode(a.endContainer)))&&V(a.startContainer)==V(a.endContainer)&&w(a.startContainer,a.startOffset)&&w(a.endContainer,a.endOffset)}function y(a){if(!x(a))throw new Error("Range error: Range is not valid. This usually happens after DOM mutation. Range: ("+a.inspect()+")")}function z(a,b){y(a);var c=a.startContainer,d=a.startOffset,e=a.endContainer,f=a.endOffset,g=c===e;M(e)&&f>0&&f<e.length&&R(e,f,b),M(c)&&d>0&&d<c.length&&(c=R(c,d,b),g?(f-=d,e=c):e==c.parentNode&&f>=N(c)&&f++,d=0),a.setStartAndEnd(c,d,e,f)}function A(a){y(a);var b=a.commonAncestorContainer.parentNode.cloneNode(!1);return b.appendChild(a.cloneContents()),b.innerHTML}function B(a){a.START_TO_START=jb,a.START_TO_END=kb,a.END_TO_END=lb,a.END_TO_START=mb,a.NODE_BEFORE=nb,a.NODE_AFTER=ob,a.NODE_BEFORE_AND_AFTER=pb,a.NODE_INSIDE=qb}function C(a){B(a),B(a.prototype)}function D(a,b){return function(){y(this);var c,d,e=this.startContainer,g=this.startOffset,h=this.commonAncestorContainer,i=new o(this,(!0));e!==h&&(c=S(e,h,!0),d=f(c),e=d.node,g=d.offset),j(i,u),i.reset();var k=a(i);return i.detach(),b(this,e,g,e,g),k}}function E(c,d){function g(a,b){return function(c){r(c,Y),r(V(c),Z);var d=(a?e:f)(c);(b?h:i)(this,d.node,d.offset)}}function h(a,b,c){var e=a.endContainer,f=a.endOffset;(b!==a.startContainer||c!==a.startOffset)&&((V(b)!=V(e)||1==Q(b,c,e,f))&&(e=b,f=c),d(a,b,c,e,f))}function i(a,b,c){var e=a.startContainer,f=a.startOffset;(b!==a.endContainer||c!==a.endOffset)&&((V(b)!=V(e)||-1==Q(b,c,e,f))&&(e=b,f=c),d(a,e,f,b,c))}var j=function(){};j.prototype=a.rangePrototype,c.prototype=new j,J.extend(c.prototype,{setStart:function(a,b){q(a,!0),s(a,b),h(this,a,b)},setEnd:function(a,b){q(a,!0),s(a,b),i(this,a,b)},setStartAndEnd:function(){var a=arguments,b=a[0],c=a[1],e=b,f=c;switch(a.length){case 3:f=a[2];break;case 4:e=a[2],f=a[3]}d(this,b,c,e,f)},setBoundary:function(a,b,c){this["set"+(c?"Start":"End")](a,b)},setStartBefore:g(!0,!0),setStartAfter:g(!1,!0),setEndBefore:g(!0,!1),setEndAfter:g(!1,!1),collapse:function(a){y(this),a?d(this,this.startContainer,this.startOffset,this.startContainer,this.startOffset):d(this,this.endContainer,this.endOffset,this.endContainer,this.endOffset)},selectNodeContents:function(a){q(a,!0),d(this,a,0,a,T(a))},selectNode:function(a){q(a,!1),r(a,Y);var b=e(a),c=f(a);d(this,b.node,b.offset,c.node,c.offset)},extractContents:D(l,d),deleteContents:D(k,d),canSurroundContents:function(){y(this),u(this.startContainer),u(this.endContainer);var a=new o(this,(!0)),c=a._first&&b(a._first,this)||a._last&&b(a._last,this);return a.detach(),!c},splitBoundaries:function(){z(this)},splitBoundariesPreservingPositions:function(a){z(this,a)},normalizeBoundaries:function(){y(this);var a,b=this.startContainer,c=this.startOffset,e=this.endContainer,f=this.endOffset,g=function(a){var b=a.nextSibling;b&&b.nodeType==a.nodeType&&(e=a,f=a.length,a.appendData(b.data),X(b))},h=function(a){var d=a.previousSibling;if(d&&d.nodeType==a.nodeType){b=a;var g=a.length;if(c=d.length,a.insertData(0,d.data),X(d),b==e)f+=c,e=b;else if(e==a.parentNode){var h=N(a);f==h?(e=a,f=g):f>h&&f--}}},i=!0;if(M(e))f==e.length?g(e):0==f&&(a=e.previousSibling,a&&a.nodeType==e.nodeType&&(f=a.length,b==e&&(i=!1),a.appendData(e.data),X(e),e=a));else{if(f>0){var j=e.childNodes[f-1];j&&M(j)&&g(j)}i=!this.collapsed}if(i){if(M(b))0==c?h(b):c==b.length&&(a=b.nextSibling,a&&a.nodeType==b.nodeType&&(e==a&&(e=b,f+=b.length),b.appendData(a.data),X(a)));else if(c<b.childNodes.length){var k=b.childNodes[c];k&&M(k)&&h(k)}}else b=e,c=f;d(this,b,c,e,f)},collapseToPoint:function(a,b){q(a,!0),s(a,b),this.setStartAndEnd(a,b)}}),C(c)}function F(a){a.collapsed=a.startContainer===a.endContainer&&a.startOffset===a.endOffset,a.commonAncestorContainer=a.collapsed?a.startContainer:I.getCommonAncestor(a.startContainer,a.endContainer)}function G(a,b,c,d,e){a.startContainer=b,a.startOffset=c,a.endContainer=d,a.endOffset=e,a.document=I.getDocument(b),F(a)}function H(a){this.startContainer=a,this.startOffset=0,this.endContainer=a,this.endOffset=0,this.document=a,F(this)}var I=a.dom,J=a.util,K=I.DomPosition,L=a.DOMException,M=I.isCharacterDataNode,N=I.getNodeIndex,O=I.isOrIsAncestorOf,P=I.getDocument,Q=I.comparePoints,R=I.splitDataNode,S=I.getClosestAncestorIn,T=I.getNodeLength,U=I.arrayContains,V=I.getRootContainer,W=a.features.crashyTextNodes,X=I.removeNode;o.prototype={_current:null,_next:null,_first:null,_last:null,isSingleCharacterDataNode:!1,reset:function(){this._current=null,this._next=this._first},hasNext:function(){return!!this._next},next:function(){var a=this._current=this._next;return a&&(this._next=a!==this._last?a.nextSibling:null,M(a)&&this.clonePartiallySelectedTextNodes&&(a===this.ec&&(a=a.cloneNode(!0)).deleteData(this.eo,a.length-this.eo),this._current===this.sc&&(a=a.cloneNode(!0)).deleteData(0,this.so))),a},remove:function(){var a,b,c=this._current;!M(c)||c!==this.sc&&c!==this.ec?c.parentNode&&X(c):(a=c===this.sc?this.so:0,b=c===this.ec?this.eo:c.length,a!=b&&c.deleteData(a,b-a))},isPartiallySelectedSubtree:function(){var a=this._current;return b(a,this.range)},getSubtreeIterator:function(){var a;if(this.isSingleCharacterDataNode)a=this.range.cloneRange(),a.collapse(!1);else{a=new H(c(this.range));var b=this._current,d=b,e=0,f=b,g=T(b);O(b,this.sc)&&(d=this.sc,e=this.so),O(b,this.ec)&&(f=this.ec,g=this.eo),G(a,d,e,f,g)}return new o(a,this.clonePartiallySelectedTextNodes)},detach:function(){this.range=this._current=this._next=this._first=this._last=this.sc=this.so=this.ec=this.eo=null}};var Y=[1,3,4,5,7,8,10],Z=[2,9,11],$=[5,6,10,12],_=[1,3,4,5,7,8,10,11],ab=[1,3,4,5,7,8],bb=p([9,11]),cb=p($),db=p([6,10,12]),eb=document.createElement("style"),fb=!1;try{eb.innerHTML="<b>x</b>",fb=3==eb.firstChild.nodeType}catch(gb){}a.features.htmlParsingConforms=fb;var hb=fb?function(a){var b=this.startContainer,c=P(b);if(!b)throw new L("INVALID_STATE_ERR");var d=null;return 1==b.nodeType?d=b:M(b)&&(d=I.parentElement(b)),d=null===d||"HTML"==d.nodeName&&I.isHtmlNamespace(P(d).documentElement)&&I.isHtmlNamespace(d)?c.createElement("body"):d.cloneNode(!1),d.innerHTML=a,I.fragmentFromNodeChildren(d)}:function(a){var b=c(this),d=b.createElement("body");return d.innerHTML=a,I.fragmentFromNodeChildren(d)},ib=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer"],jb=0,kb=1,lb=2,mb=3,nb=0,ob=1,pb=2,qb=3;J.extend(a.rangePrototype,{compareBoundaryPoints:function(a,b){y(this),t(this.startContainer,b.startContainer);var c,d,e,f,g=a==mb||a==jb?"start":"end",h=a==kb||a==jb?"start":"end";return c=this[g+"Container"],d=this[g+"Offset"],e=b[h+"Container"],f=b[h+"Offset"],Q(c,d,e,f)},insertNode:function(a){if(y(this),r(a,_),u(this.startContainer),O(a,this.startContainer))throw new L("HIERARCHY_REQUEST_ERR");var b=g(a,this.startContainer,this.startOffset);this.setStartBefore(b)},cloneContents:function(){y(this);var a,b;if(this.collapsed)return c(this).createDocumentFragment();if(this.startContainer===this.endContainer&&M(this.startContainer))return a=this.startContainer.cloneNode(!0),a.data=a.data.slice(this.startOffset,this.endOffset),b=c(this).createDocumentFragment(),b.appendChild(a),b;var d=new o(this,(!0));return a=i(d),d.detach(),a},canSurroundContents:function(){y(this),u(this.startContainer),u(this.endContainer);var a=new o(this,(!0)),c=a._first&&b(a._first,this)||a._last&&b(a._last,this);return a.detach(),!c},surroundContents:function(a){if(r(a,ab),!this.canSurroundContents())throw new L("INVALID_STATE_ERR");var b=this.extractContents();if(a.hasChildNodes())for(;a.lastChild;)a.removeChild(a.lastChild);g(a,this.startContainer,this.startOffset),a.appendChild(b),this.selectNode(a)},cloneRange:function(){y(this);for(var a,b=new H(c(this)),d=ib.length;d--;)a=ib[d],b[a]=this[a];return b},toString:function(){y(this);var a=this.startContainer;if(a===this.endContainer&&M(a))return 3==a.nodeType||4==a.nodeType?a.data.slice(this.startOffset,this.endOffset):"";var b=[],c=new o(this,(!0));return j(c,function(a){(3==a.nodeType||4==a.nodeType)&&b.push(a.data)}),c.detach(),b.join("")},compareNode:function(a){y(this);var b=a.parentNode,c=N(a);if(!b)throw new L("NOT_FOUND_ERR");var d=this.comparePoint(b,c),e=this.comparePoint(b,c+1);return 0>d?e>0?pb:nb:e>0?ob:qb},comparePoint:function(a,b){return y(this),v(a,"HIERARCHY_REQUEST_ERR"),t(a,this.startContainer),Q(a,b,this.startContainer,this.startOffset)<0?-1:Q(a,b,this.endContainer,this.endOffset)>0?1:0},createContextualFragment:hb,toHtml:function(){return A(this)},intersectsNode:function(a,b){if(y(this),V(a)!=d(this))return!1;var c=a.parentNode,e=N(a);if(!c)return!0;var f=Q(c,e,this.endContainer,this.endOffset),g=Q(c,e+1,this.startContainer,this.startOffset);return b?0>=f&&g>=0:0>f&&g>0},isPointInRange:function(a,b){return y(this),v(a,"HIERARCHY_REQUEST_ERR"),t(a,this.startContainer),Q(a,b,this.startContainer,this.startOffset)>=0&&Q(a,b,this.endContainer,this.endOffset)<=0},intersectsRange:function(a){return h(this,a,!1)},intersectsOrTouchesRange:function(a){return h(this,a,!0)},intersection:function(a){if(this.intersectsRange(a)){var b=Q(this.startContainer,this.startOffset,a.startContainer,a.startOffset),c=Q(this.endContainer,this.endOffset,a.endContainer,a.endOffset),d=this.cloneRange();return-1==b&&d.setStart(a.startContainer,a.startOffset),1==c&&d.setEnd(a.endContainer,a.endOffset),d}return null},union:function(a){if(this.intersectsOrTouchesRange(a)){var b=this.cloneRange();return-1==Q(a.startContainer,a.startOffset,this.startContainer,this.startOffset)&&b.setStart(a.startContainer,a.startOffset),1==Q(a.endContainer,a.endOffset,this.endContainer,this.endOffset)&&b.setEnd(a.endContainer,a.endOffset),b}throw new L("Ranges do not intersect")},containsNode:function(a,b){return b?this.intersectsNode(a,!1):this.compareNode(a)==qb},containsNodeContents:function(a){return this.comparePoint(a,0)>=0&&this.comparePoint(a,T(a))<=0},containsRange:function(a){var b=this.intersection(a);return null!==b&&a.equals(b)},containsNodeText:function(a){var b=this.cloneRange();b.selectNode(a);var c=b.getNodes([3]);if(c.length>0){b.setStart(c[0],0);var d=c.pop();return b.setEnd(d,d.length),this.containsRange(b)}return this.containsNodeContents(a)},getNodes:function(a,b){return y(this),m(this,a,b)},getDocument:function(){return c(this)},collapseBefore:function(a){this.setEndBefore(a),this.collapse(!1)},collapseAfter:function(a){this.setStartAfter(a),this.collapse(!0)},getBookmark:function(b){var d=c(this),e=a.createRange(d);b=b||I.getBody(d),e.selectNodeContents(b);var f=this.intersection(e),g=0,h=0;return f&&(e.setEnd(f.startContainer,f.startOffset),g=e.toString().length,h=g+f.toString().length),{start:g,end:h,containerNode:b}},moveToBookmark:function(a){var b=a.containerNode,c=0;this.setStart(b,0),this.collapse(!0);for(var d,e,f,g,h=[b],i=!1,j=!1;!j&&(d=h.pop());)if(3==d.nodeType)e=c+d.length,!i&&a.start>=c&&a.start<=e&&(this.setStart(d,a.start-c),i=!0),i&&a.end>=c&&a.end<=e&&(this.setEnd(d,a.end-c),j=!0),c=e;else for(g=d.childNodes,f=g.length;f--;)h.push(g[f])},getName:function(){return"DomRange"},equals:function(a){return H.rangesEqual(this,a)},isValid:function(){return x(this)},inspect:function(){return n(this)},detach:function(){}}),E(H,G),J.extend(H,{rangeProperties:ib,RangeIterator:o,copyComparisonConstants:C,createPrototypeRange:E,inspect:n,toHtml:A,getRangeDocument:c,rangesEqual:function(a,b){return a.startContainer===b.startContainer&&a.startOffset===b.startOffset&&a.endContainer===b.endContainer&&a.endOffset===b.endOffset}}),a.DomRange=H}),H.createCoreModule("WrappedRange",["DomRange"],function(a,b){var c,d,e=a.dom,f=a.util,g=e.DomPosition,h=a.DomRange,i=e.getBody,j=e.getContentDocument,k=e.isCharacterDataNode;if(a.features.implementsDomRange&&!function(){function d(a){for(var b,c=m.length;c--;)b=m[c],a[b]=a.nativeRange[b];a.collapsed=a.startContainer===a.endContainer&&a.startOffset===a.endOffset}function g(a,b,c,d,e){var f=a.startContainer!==b||a.startOffset!=c,g=a.endContainer!==d||a.endOffset!=e,h=!a.equals(a.nativeRange);(f||g||h)&&(a.setEnd(d,e),a.setStart(b,c))}var k,l,m=h.rangeProperties;c=function(a){if(!a)throw b.createError("WrappedRange: Range must be specified");this.nativeRange=a,d(this)},h.createPrototypeRange(c,g),k=c.prototype,k.selectNode=function(a){this.nativeRange.selectNode(a),d(this)},k.cloneContents=function(){return this.nativeRange.cloneContents()},k.surroundContents=function(a){this.nativeRange.surroundContents(a),d(this)},k.collapse=function(a){this.nativeRange.collapse(a),d(this)},k.cloneRange=function(){return new c(this.nativeRange.cloneRange())},k.refresh=function(){d(this)},k.toString=function(){return this.nativeRange.toString()};var n=document.createTextNode("test");i(document).appendChild(n);var o=document.createRange();o.setStart(n,0),o.setEnd(n,0);try{o.setStart(n,1),k.setStart=function(a,b){this.nativeRange.setStart(a,b),d(this)},k.setEnd=function(a,b){this.nativeRange.setEnd(a,b),d(this)},l=function(a){return function(b){this.nativeRange[a](b),d(this)}}}catch(p){k.setStart=function(a,b){try{this.nativeRange.setStart(a,b)}catch(c){this.nativeRange.setEnd(a,b),this.nativeRange.setStart(a,b)}d(this)},k.setEnd=function(a,b){try{this.nativeRange.setEnd(a,b)}catch(c){this.nativeRange.setStart(a,b),this.nativeRange.setEnd(a,b)}d(this)},l=function(a,b){return function(c){try{this.nativeRange[a](c)}catch(e){this.nativeRange[b](c),this.nativeRange[a](c)}d(this)}}}k.setStartBefore=l("setStartBefore","setEndBefore"),k.setStartAfter=l("setStartAfter","setEndAfter"),k.setEndBefore=l("setEndBefore","setStartBefore"),k.setEndAfter=l("setEndAfter","setStartAfter"),k.selectNodeContents=function(a){this.setStartAndEnd(a,0,e.getNodeLength(a))},o.selectNodeContents(n),o.setEnd(n,3);var q=document.createRange();q.selectNodeContents(n),q.setEnd(n,4),q.setStart(n,2),k.compareBoundaryPoints=-1==o.compareBoundaryPoints(o.START_TO_END,q)&&1==o.compareBoundaryPoints(o.END_TO_START,q)?function(a,b){return b=b.nativeRange||b,a==b.START_TO_END?a=b.END_TO_START:a==b.END_TO_START&&(a=b.START_TO_END),this.nativeRange.compareBoundaryPoints(a,b)}:function(a,b){return this.nativeRange.compareBoundaryPoints(a,b.nativeRange||b)};var r=document.createElement("div");r.innerHTML="123";var s=r.firstChild,t=i(document);t.appendChild(r),o.setStart(s,1),o.setEnd(s,2),o.deleteContents(),"13"==s.data&&(k.deleteContents=function(){this.nativeRange.deleteContents(),d(this)},k.extractContents=function(){var a=this.nativeRange.extractContents();return d(this),a}),t.removeChild(r),t=null,f.isHostMethod(o,"createContextualFragment")&&(k.createContextualFragment=function(a){return this.nativeRange.createContextualFragment(a)}),i(document).removeChild(n),k.getName=function(){return"WrappedRange"},a.WrappedRange=c,a.createNativeRange=function(a){return a=j(a,b,"createNativeRange"),a.createRange()}}(),a.features.implementsTextRange){var l=function(a){var b=a.parentElement(),c=a.duplicate();c.collapse(!0);var d=c.parentElement();c=a.duplicate(),c.collapse(!1);var f=c.parentElement(),g=d==f?d:e.getCommonAncestor(d,f);return g==b?g:e.getCommonAncestor(b,g)},m=function(a){return 0==a.compareEndPoints("StartToEnd",a)},n=function(a,b,c,d,f){var h=a.duplicate();h.collapse(c);var i=h.parentElement();if(e.isOrIsAncestorOf(b,i)||(i=b),!i.canHaveHTML){var j=new g(i.parentNode,e.getNodeIndex(i));return{boundaryPosition:j,nodeInfo:{nodeIndex:j.offset,containerElement:j.node}}}var l=e.getDocument(i).createElement("span");l.parentNode&&e.removeNode(l);for(var m,n,o,p,q,r=c?"StartToStart":"StartToEnd",s=f&&f.containerElement==i?f.nodeIndex:0,t=i.childNodes.length,u=t,v=u;v==t?i.appendChild(l):i.insertBefore(l,i.childNodes[v]),h.moveToElementText(l),m=h.compareEndPoints(r,a),0!=m&&s!=u;){if(-1==m){if(u==s+1)break;s=v}else u=u==s+1?s:v;v=Math.floor((s+u)/2),i.removeChild(l)}if(q=l.nextSibling,-1==m&&q&&k(q)){h.setEndPoint(c?"EndToStart":"EndToEnd",a);var w;if(/[\r\n]/.test(q.data)){var x=h.duplicate(),y=x.text.replace(/\r\n/g,"\r").length;for(w=x.moveStart("character",y);-1==(m=x.compareEndPoints("StartToEnd",x));)w++,x.moveStart("character",1)}else w=h.text.length;p=new g(q,w)}else n=(d||!c)&&l.previousSibling,o=(d||c)&&l.nextSibling,p=o&&k(o)?new g(o,0):n&&k(n)?new g(n,n.data.length):new g(i,e.getNodeIndex(l));return e.removeNode(l),{boundaryPosition:p,nodeInfo:{nodeIndex:v,containerElement:i}}},o=function(a,b){var c,d,f,g,h=a.offset,j=e.getDocument(a.node),l=i(j).createTextRange(),m=k(a.node);return m?(c=a.node,d=c.parentNode):(g=a.node.childNodes,c=h<g.length?g[h]:null,d=a.node),f=j.createElement("span"),f.innerHTML="&#feff;",c?d.insertBefore(f,c):d.appendChild(f),l.moveToElementText(f),l.collapse(!b),d.removeChild(f),m&&l[b?"moveStart":"moveEnd"]("character",h),l};d=function(a){this.textRange=a,this.refresh()},d.prototype=new h(document),d.prototype.refresh=function(){var a,b,c,d=l(this.textRange);m(this.textRange)?b=a=n(this.textRange,d,!0,!0).boundaryPosition:(c=n(this.textRange,d,!0,!1),a=c.boundaryPosition,b=n(this.textRange,d,!1,!1,c.nodeInfo).boundaryPosition),this.setStart(a.node,a.offset),this.setEnd(b.node,b.offset)},d.prototype.getName=function(){return"WrappedTextRange"},h.copyComparisonConstants(d);var p=function(a){if(a.collapsed)return o(new g(a.startContainer,a.startOffset),!0);var b=o(new g(a.startContainer,a.startOffset),!0),c=o(new g(a.endContainer,a.endOffset),!1),d=i(h.getRangeDocument(a)).createTextRange();return d.setEndPoint("StartToStart",b),d.setEndPoint("EndToEnd",c),d};if(d.rangeToTextRange=p,d.prototype.toTextRange=function(){return p(this)},a.WrappedTextRange=d,!a.features.implementsDomRange||a.config.preferTextRange){var q=function(a){return a("return this;")()}(Function);"undefined"==typeof q.Range&&(q.Range=d),a.createNativeRange=function(a){return a=j(a,b,"createNativeRange"),i(a).createTextRange()},a.WrappedRange=d}}a.createRange=function(c){return c=j(c,b,"createRange"),new a.WrappedRange(a.createNativeRange(c))},a.createRangyRange=function(a){return a=j(a,b,"createRangyRange"),new h(a)},f.createAliasForDeprecatedMethod(a,"createIframeRange","createRange"),f.createAliasForDeprecatedMethod(a,"createIframeRangyRange","createRangyRange"),a.addShimListener(function(b){var c=b.document;"undefined"==typeof c.createRange&&(c.createRange=function(){return a.createRange(c)}),c=b=null})}),H.createCoreModule("WrappedSelection",["DomRange","WrappedRange"],function(a,b){function c(a){return"string"==typeof a?/^backward(s)?$/i.test(a):!!a}function d(a,c){if(a){if(C.isWindow(a))return a;if(a instanceof r)return a.win;var d=C.getContentDocument(a,b,c);return C.getWindow(d)}return window}function e(a){return d(a,"getWinSelection").getSelection()}function f(a){return d(a,"getDocSelection").document.selection}function g(a){var b=!1;return a.anchorNode&&(b=1==C.comparePoints(a.anchorNode,a.anchorOffset,a.focusNode,a.focusOffset)),b}function h(a,b,c){var d=c?"end":"start",e=c?"start":"end";a.anchorNode=b[d+"Container"],a.anchorOffset=b[d+"Offset"],a.focusNode=b[e+"Container"],a.focusOffset=b[e+"Offset"]}function i(a){var b=a.nativeSelection;a.anchorNode=b.anchorNode,a.anchorOffset=b.anchorOffset,a.focusNode=b.focusNode,a.focusOffset=b.focusOffset}function j(a){a.anchorNode=a.focusNode=null,a.anchorOffset=a.focusOffset=0,a.rangeCount=0,a.isCollapsed=!0,a._ranges.length=0}function k(b){var c;return b instanceof F?(c=a.createNativeRange(b.getDocument()),c.setEnd(b.endContainer,b.endOffset),c.setStart(b.startContainer,b.startOffset)):b instanceof G?c=b.nativeRange:J.implementsDomRange&&b instanceof C.getWindow(b.startContainer).Range&&(c=b),c}function l(a){if(!a.length||1!=a[0].nodeType)return!1;
for(var b=1,c=a.length;c>b;++b)if(!C.isAncestorOf(a[0],a[b]))return!1;return!0}function m(a){var c=a.getNodes();if(!l(c))throw b.createError("getSingleElementFromRange: range "+a.inspect()+" did not consist of a single element");return c[0]}function n(a){return!!a&&"undefined"!=typeof a.text}function o(a,b){var c=new G(b);a._ranges=[c],h(a,c,!1),a.rangeCount=1,a.isCollapsed=c.collapsed}function p(b){if(b._ranges.length=0,"None"==b.docSelection.type)j(b);else{var c=b.docSelection.createRange();if(n(c))o(b,c);else{b.rangeCount=c.length;for(var d,e=L(c.item(0)),f=0;f<b.rangeCount;++f)d=a.createRange(e),d.selectNode(c.item(f)),b._ranges.push(d);b.isCollapsed=1==b.rangeCount&&b._ranges[0].collapsed,h(b,b._ranges[b.rangeCount-1],!1)}}}function q(a,c){for(var d=a.docSelection.createRange(),e=m(c),f=L(d.item(0)),g=M(f).createControlRange(),h=0,i=d.length;i>h;++h)g.add(d.item(h));try{g.add(e)}catch(j){throw b.createError("addRange(): Element within the specified Range could not be added to control selection (does it have layout?)")}g.select(),p(a)}function r(a,b,c){this.nativeSelection=a,this.docSelection=b,this._ranges=[],this.win=c,this.refresh()}function s(a){a.win=a.anchorNode=a.focusNode=a._ranges=null,a.rangeCount=a.anchorOffset=a.focusOffset=0,a.detached=!0}function t(a,b){for(var c,d,e=bb.length;e--;)if(c=bb[e],d=c.selection,"deleteAll"==b)s(d);else if(c.win==a)return"delete"==b?(bb.splice(e,1),!0):d;return"deleteAll"==b&&(bb.length=0),null}function u(a,c){for(var d,e=L(c[0].startContainer),f=M(e).createControlRange(),g=0,h=c.length;h>g;++g){d=m(c[g]);try{f.add(d)}catch(i){throw b.createError("setRanges(): Element within one of the specified Ranges could not be added to control selection (does it have layout?)")}}f.select(),p(a)}function v(a,b){if(a.win.document!=L(b))throw new H("WRONG_DOCUMENT_ERR")}function w(b){return function(c,d){var e;this.rangeCount?(e=this.getRangeAt(0),e["set"+(b?"Start":"End")](c,d)):(e=a.createRange(this.win.document),e.setStartAndEnd(c,d)),this.setSingleRange(e,this.isBackward())}}function x(a){var b=[],c=new I(a.anchorNode,a.anchorOffset),d=new I(a.focusNode,a.focusOffset),e="function"==typeof a.getName?a.getName():"Selection";if("undefined"!=typeof a.rangeCount)for(var f=0,g=a.rangeCount;g>f;++f)b[f]=F.inspect(a.getRangeAt(f));return"["+e+"(Ranges: "+b.join(", ")+")(anchor: "+c.inspect()+", focus: "+d.inspect()+"]"}a.config.checkSelectionRanges=!0;var y,z,A="boolean",B="number",C=a.dom,D=a.util,E=D.isHostMethod,F=a.DomRange,G=a.WrappedRange,H=a.DOMException,I=C.DomPosition,J=a.features,K="Control",L=C.getDocument,M=C.getBody,N=F.rangesEqual,O=E(window,"getSelection"),P=D.isHostObject(document,"selection");J.implementsWinGetSelection=O,J.implementsDocSelection=P;var Q=P&&(!O||a.config.preferTextRange);if(Q)y=f,a.isSelectionValid=function(a){var b=d(a,"isSelectionValid").document,c=b.selection;return"None"!=c.type||L(c.createRange().parentElement())==b};else{if(!O)return b.fail("Neither document.selection or window.getSelection() detected."),!1;y=e,a.isSelectionValid=function(){return!0}}a.getNativeSelection=y;var R=y();if(!R)return b.fail("Native selection was null (possibly issue 138?)"),!1;var S=a.createNativeRange(document),T=M(document),U=D.areHostProperties(R,["anchorNode","focusNode","anchorOffset","focusOffset"]);J.selectionHasAnchorAndFocus=U;var V=E(R,"extend");J.selectionHasExtend=V;var W=typeof R.rangeCount==B;J.selectionHasRangeCount=W;var X=!1,Y=!0,Z=V?function(b,c){var d=F.getRangeDocument(c),e=a.createRange(d);e.collapseToPoint(c.endContainer,c.endOffset),b.addRange(k(e)),b.extend(c.startContainer,c.startOffset)}:null;D.areHostMethods(R,["addRange","getRangeAt","removeAllRanges"])&&typeof R.rangeCount==B&&J.implementsDomRange&&!function(){var b=window.getSelection();if(b){for(var c=b.rangeCount,d=c>1,e=[],f=g(b),h=0;c>h;++h)e[h]=b.getRangeAt(h);var i=C.createTestElement(document,"",!1),j=i.appendChild(document.createTextNode("")),k=document.createRange();if(k.setStart(j,1),k.collapse(!0),b.removeAllRanges(),b.addRange(k),Y=1==b.rangeCount,b.removeAllRanges(),!d){var l=window.navigator.appVersion.match(/Chrome\/(.*?) /);if(l&&parseInt(l[1])>=36)X=!1;else{var m=k.cloneRange();k.setStart(j,0),m.setEnd(j,3),m.setStart(j,2),b.addRange(k),b.addRange(m),X=2==b.rangeCount}}for(C.removeNode(i),b.removeAllRanges(),h=0;c>h;++h)0==h&&f?Z?Z(b,e[h]):(a.warn("Rangy initialization: original selection was backwards but selection has been restored forwards because the browser does not support Selection.extend"),b.addRange(e[h])):b.addRange(e[h])}}(),J.selectionSupportsMultipleRanges=X,J.collapsedNonEditableSelectionsSupported=Y;var $,_=!1;T&&E(T,"createControlRange")&&($=T.createControlRange(),D.areHostProperties($,["item","add"])&&(_=!0)),J.implementsControlRange=_,z=U?function(a){return a.anchorNode===a.focusNode&&a.anchorOffset===a.focusOffset}:function(a){return!!a.rangeCount&&a.getRangeAt(a.rangeCount-1).collapsed};var ab;E(R,"getRangeAt")?ab=function(a,b){try{return a.getRangeAt(b)}catch(c){return null}}:U&&(ab=function(b){var c=L(b.anchorNode),d=a.createRange(c);return d.setStartAndEnd(b.anchorNode,b.anchorOffset,b.focusNode,b.focusOffset),d.collapsed!==this.isCollapsed&&d.setStartAndEnd(b.focusNode,b.focusOffset,b.anchorNode,b.anchorOffset),d}),r.prototype=a.selectionPrototype;var bb=[],cb=function(a){if(a&&a instanceof r)return a.refresh(),a;a=d(a,"getNativeSelection");var b=t(a),c=y(a),e=P?f(a):null;return b?(b.nativeSelection=c,b.docSelection=e,b.refresh()):(b=new r(c,e,a),bb.push({win:a,selection:b})),b};a.getSelection=cb,D.createAliasForDeprecatedMethod(a,"getIframeSelection","getSelection");var db=r.prototype;if(!Q&&U&&D.areHostMethods(R,["removeAllRanges","addRange"])){db.removeAllRanges=function(){this.nativeSelection.removeAllRanges(),j(this)};var eb=function(a,b){Z(a.nativeSelection,b),a.refresh()};db.addRange=W?function(b,d){if(_&&P&&this.docSelection.type==K)q(this,b);else if(c(d)&&V)eb(this,b);else{var e;X?e=this.rangeCount:(this.removeAllRanges(),e=0);var f=k(b).cloneRange();try{this.nativeSelection.addRange(f)}catch(g){}if(this.rangeCount=this.nativeSelection.rangeCount,this.rangeCount==e+1){if(a.config.checkSelectionRanges){var i=ab(this.nativeSelection,this.rangeCount-1);i&&!N(i,b)&&(b=new G(i))}this._ranges[this.rangeCount-1]=b,h(this,b,hb(this.nativeSelection)),this.isCollapsed=z(this)}else this.refresh()}}:function(a,b){c(b)&&V?eb(this,a):(this.nativeSelection.addRange(k(a)),this.refresh())},db.setRanges=function(a){if(_&&P&&a.length>1)u(this,a);else{this.removeAllRanges();for(var b=0,c=a.length;c>b;++b)this.addRange(a[b])}}}else{if(!(E(R,"empty")&&E(S,"select")&&_&&Q))return b.fail("No means of selecting a Range or TextRange was found"),!1;db.removeAllRanges=function(){try{if(this.docSelection.empty(),"None"!=this.docSelection.type){var a;if(this.anchorNode)a=L(this.anchorNode);else if(this.docSelection.type==K){var b=this.docSelection.createRange();b.length&&(a=L(b.item(0)))}if(a){var c=M(a).createTextRange();c.select(),this.docSelection.empty()}}}catch(d){}j(this)},db.addRange=function(b){this.docSelection.type==K?q(this,b):(a.WrappedTextRange.rangeToTextRange(b).select(),this._ranges[0]=b,this.rangeCount=1,this.isCollapsed=this._ranges[0].collapsed,h(this,b,!1))},db.setRanges=function(a){this.removeAllRanges();var b=a.length;b>1?u(this,a):b&&this.addRange(a[0])}}db.getRangeAt=function(a){if(0>a||a>=this.rangeCount)throw new H("INDEX_SIZE_ERR");return this._ranges[a].cloneRange()};var fb;if(Q)fb=function(b){var c;a.isSelectionValid(b.win)?c=b.docSelection.createRange():(c=M(b.win.document).createTextRange(),c.collapse(!0)),b.docSelection.type==K?p(b):n(c)?o(b,c):j(b)};else if(E(R,"getRangeAt")&&typeof R.rangeCount==B)fb=function(b){if(_&&P&&b.docSelection.type==K)p(b);else if(b._ranges.length=b.rangeCount=b.nativeSelection.rangeCount,b.rangeCount){for(var c=0,d=b.rangeCount;d>c;++c)b._ranges[c]=new a.WrappedRange(b.nativeSelection.getRangeAt(c));h(b,b._ranges[b.rangeCount-1],hb(b.nativeSelection)),b.isCollapsed=z(b)}else j(b)};else{if(!U||typeof R.isCollapsed!=A||typeof S.collapsed!=A||!J.implementsDomRange)return b.fail("No means of obtaining a Range or TextRange from the user's selection was found"),!1;fb=function(a){var b,c=a.nativeSelection;c.anchorNode?(b=ab(c,0),a._ranges=[b],a.rangeCount=1,i(a),a.isCollapsed=z(a)):j(a)}}db.refresh=function(a){var b=a?this._ranges.slice(0):null,c=this.anchorNode,d=this.anchorOffset;if(fb(this),a){var e=b.length;if(e!=this._ranges.length)return!0;if(this.anchorNode!=c||this.anchorOffset!=d)return!0;for(;e--;)if(!N(b[e],this._ranges[e]))return!0;return!1}};var gb=function(a,b){var c=a.getAllRanges();a.removeAllRanges();for(var d=0,e=c.length;e>d;++d)N(b,c[d])||a.addRange(c[d]);a.rangeCount||j(a)};db.removeRange=_&&P?function(a){if(this.docSelection.type==K){for(var b,c=this.docSelection.createRange(),d=m(a),e=L(c.item(0)),f=M(e).createControlRange(),g=!1,h=0,i=c.length;i>h;++h)b=c.item(h),b!==d||g?f.add(c.item(h)):g=!0;f.select(),p(this)}else gb(this,a)}:function(a){gb(this,a)};var hb;!Q&&U&&J.implementsDomRange?(hb=g,db.isBackward=function(){return hb(this)}):hb=db.isBackward=function(){return!1},db.isBackwards=db.isBackward,db.toString=function(){for(var a=[],b=0,c=this.rangeCount;c>b;++b)a[b]=""+this._ranges[b];return a.join("")},db.collapse=function(b,c){v(this,b);var d=a.createRange(b);d.collapseToPoint(b,c),this.setSingleRange(d),this.isCollapsed=!0},db.collapseToStart=function(){if(!this.rangeCount)throw new H("INVALID_STATE_ERR");var a=this._ranges[0];this.collapse(a.startContainer,a.startOffset)},db.collapseToEnd=function(){if(!this.rangeCount)throw new H("INVALID_STATE_ERR");var a=this._ranges[this.rangeCount-1];this.collapse(a.endContainer,a.endOffset)},db.selectAllChildren=function(b){v(this,b);var c=a.createRange(b);c.selectNodeContents(b),this.setSingleRange(c)},db.deleteFromDocument=function(){if(_&&P&&this.docSelection.type==K){for(var a,b=this.docSelection.createRange();b.length;)a=b.item(0),b.remove(a),C.removeNode(a);this.refresh()}else if(this.rangeCount){var c=this.getAllRanges();if(c.length){this.removeAllRanges();for(var d=0,e=c.length;e>d;++d)c[d].deleteContents();this.addRange(c[e-1])}}},db.eachRange=function(a,b){for(var c=0,d=this._ranges.length;d>c;++c)if(a(this.getRangeAt(c)))return b},db.getAllRanges=function(){var a=[];return this.eachRange(function(b){a.push(b)}),a},db.setSingleRange=function(a,b){this.removeAllRanges(),this.addRange(a,b)},db.callMethodOnEachRange=function(a,b){var c=[];return this.eachRange(function(d){c.push(d[a].apply(d,b||[]))}),c},db.setStart=w(!0),db.setEnd=w(!1),a.rangePrototype.select=function(a){cb(this.getDocument()).setSingleRange(this,a)},db.changeEachRange=function(a){var b=[],c=this.isBackward();this.eachRange(function(c){a(c),b.push(c)}),this.removeAllRanges(),c&&1==b.length?this.addRange(b[0],"backward"):this.setRanges(b)},db.containsNode=function(a,b){return this.eachRange(function(c){return c.containsNode(a,b)},!0)||!1},db.getBookmark=function(a){return{backward:this.isBackward(),rangeBookmarks:this.callMethodOnEachRange("getBookmark",[a])}},db.moveToBookmark=function(b){for(var c,d,e=[],f=0;c=b.rangeBookmarks[f++];)d=a.createRange(this.win),d.moveToBookmark(c),e.push(d);b.backward?this.setSingleRange(e[0],"backward"):this.setRanges(e)},db.saveRanges=function(){return{backward:this.isBackward(),ranges:this.callMethodOnEachRange("cloneRange")}},db.restoreRanges=function(a){this.removeAllRanges();for(var b,c=0;b=a.ranges[c];++c)this.addRange(b,a.backward&&0==c)},db.toHtml=function(){var a=[];return this.eachRange(function(b){a.push(F.toHtml(b))}),a.join("")},J.implementsTextRange&&(db.getNativeTextRange=function(){var c;if(c=this.docSelection){var d=c.createRange();if(n(d))return d;throw b.createError("getNativeTextRange: selection is a control selection")}if(this.rangeCount>0)return a.WrappedTextRange.rangeToTextRange(this.getRangeAt(0));throw b.createError("getNativeTextRange: selection contains no range")}),db.getName=function(){return"WrappedSelection"},db.inspect=function(){return x(this)},db.detach=function(){t(this.win,"delete"),s(this)},r.detachAll=function(){t(null,"deleteAll")},r.inspect=x,r.isDirectionBackward=c,a.Selection=r,a.selectionPrototype=db,a.addShimListener(function(a){"undefined"==typeof a.getSelection&&(a.getSelection=function(){return cb(a)}),a=null})});var M=!1,N=function(){M||(M=!0,!H.initialized&&H.config.autoInitialize&&l())};return F&&("complete"==document.readyState?N():(a(document,"addEventListener")&&document.addEventListener("DOMContentLoaded",N,!1),J(window,"load",N))),H},this),function(b,c){"function"==typeof define&&define.amd?define(["./rangy-core"],b):"undefined"!=typeof module&&"object"==typeof a?module.exports=b(require("rangy")):b(c.rangy)}(function(a){return a.createModule("SaveRestore",["WrappedRange"],function(a,b){function c(a,b){return(b||document).getElementById(a)}function d(a,b){var c,d="selectionBoundary_"+ +new Date+"_"+(""+Math.random()).slice(2),e=o.getDocument(a.startContainer),f=a.cloneRange();return f.collapse(b),c=e.createElement("span"),c.id=d,c.style.lineHeight="0",c.style.display="none",c.className="rangySelectionBoundary",c.appendChild(e.createTextNode(r)),f.insertNode(c),c}function e(a,d,e,f){var g=c(e,a);g?(d[f?"setStartBefore":"setEndBefore"](g),p(g)):b.warn("Marker element has been removed. Cannot restore selection.")}function f(a,b){return b.compareBoundaryPoints(a.START_TO_START,a)}function g(b,c){var e,f,g=a.DomRange.getRangeDocument(b),h=b.toString(),i=q(c);return b.collapsed?(f=d(b,!1),{document:g,markerId:f.id,collapsed:!0}):(f=d(b,!1),e=d(b,!0),{document:g,startMarkerId:e.id,endMarkerId:f.id,collapsed:!1,backward:i,toString:function(){return"original text: '"+h+"', new text: '"+b.toString()+"'"}})}function h(d,f){var g=d.document;"undefined"==typeof f&&(f=!0);var h=a.createRange(g);if(d.collapsed){var i=c(d.markerId,g);if(i){i.style.display="inline";var j=i.previousSibling;j&&3==j.nodeType?(p(i),h.collapseToPoint(j,j.length)):(h.collapseBefore(i),p(i))}else b.warn("Marker element has been removed. Cannot restore selection.")}else e(g,h,d.startMarkerId,!0),e(g,h,d.endMarkerId,!1);return f&&h.normalizeBoundaries(),h}function i(b,d){var e,h,i=[],j=q(d);b=b.slice(0),b.sort(f);for(var k=0,l=b.length;l>k;++k)i[k]=g(b[k],j);for(k=l-1;k>=0;--k)e=b[k],h=a.DomRange.getRangeDocument(e),e.collapsed?e.collapseAfter(c(i[k].markerId,h)):(e.setEndBefore(c(i[k].endMarkerId,h)),e.setStartAfter(c(i[k].startMarkerId,h)));return i}function j(c){if(!a.isSelectionValid(c))return b.warn("Cannot save selection. This usually happens when the selection is collapsed and the selection document has lost focus."),null;var d=a.getSelection(c),e=d.getAllRanges(),f=1==e.length&&d.isBackward(),g=i(e,f);return f?d.setSingleRange(e[0],f):d.setRanges(e),{win:c,rangeInfos:g,restored:!1}}function k(a){for(var b=[],c=a.length,d=c-1;d>=0;d--)b[d]=h(a[d],!0);return b}function l(b,c){if(!b.restored){var d=b.rangeInfos,e=a.getSelection(b.win),f=k(d),g=d.length;1==g&&c&&a.features.selectionHasExtend&&d[0].backward?(e.removeAllRanges(),e.addRange(f[0],!0)):e.setRanges(f),b.restored=!0}}function m(a,b){var d=c(b,a);d&&p(d)}function n(a){for(var b,c=a.rangeInfos,d=0,e=c.length;e>d;++d)b=c[d],b.collapsed?m(a.doc,b.markerId):(m(a.doc,b.startMarkerId),m(a.doc,b.endMarkerId))}var o=a.dom,p=o.removeNode,q=a.Selection.isDirectionBackward,r="\ufeff";a.util.extend(a,{saveRange:g,restoreRange:h,saveRanges:i,restoreRanges:k,saveSelection:j,restoreSelection:l,removeMarkerElement:m,removeMarkers:n})}),a},this)}({},function(){return this}()),function(window,angular,undefined){"use strict";function $SanitizeProvider(){this.$get=["$$sanitizeUri",function($$sanitizeUri){return function(html){var buf=[];return htmlParser(html,htmlSanitizeWriter(buf,function(uri,isImage){return!/^unsafe/.test($$sanitizeUri(uri,isImage))})),buf.join("")}}]}function sanitizeText(chars){var buf=[],writer=htmlSanitizeWriter(buf,angular.noop);return writer.chars(chars),buf.join("")}function makeMap(str){var i,obj={},items=str.split(",");for(i=0;i<items.length;i++)obj[items[i]]=!0;return obj}function htmlParser(html,handler){function parseStartTag(tag,tagName,rest,unary){if(tagName=angular.lowercase(tagName),blockElements[tagName])for(;stack.last()&&inlineElements[stack.last()];)parseEndTag("",stack.last());optionalEndTagElements[tagName]&&stack.last()==tagName&&parseEndTag("",tagName),unary=voidElements[tagName]||!!unary,unary||stack.push(tagName);var attrs={};rest.replace(ATTR_REGEXP,function(match,name,doubleQuotedValue,singleQuotedValue,unquotedValue){var value=doubleQuotedValue||singleQuotedValue||unquotedValue||"";attrs[name]=decodeEntities(value)}),handler.start&&handler.start(tagName,attrs,unary)}function parseEndTag(tag,tagName){var i,pos=0;if(tagName=angular.lowercase(tagName))for(pos=stack.length-1;pos>=0&&stack[pos]!=tagName;pos--);if(pos>=0){for(i=stack.length-1;i>=pos;i--)handler.end&&handler.end(stack[i]);stack.length=pos}}"string"!=typeof html&&(html=null===html||"undefined"==typeof html?"":""+html);var index,chars,match,text,stack=[],last=html;for(stack.last=function(){return stack[stack.length-1]};html;){if(text="",chars=!0,stack.last()&&specialElements[stack.last()]?(html=html.replace(new RegExp("([^]*)<\\s*\\/\\s*"+stack.last()+"[^>]*>","i"),function(all,text){return text=text.replace(COMMENT_REGEXP,"$1").replace(CDATA_REGEXP,"$1"),handler.chars&&handler.chars(decodeEntities(text)),""}),parseEndTag("",stack.last())):(0===html.indexOf("<!--")?(index=html.indexOf("--",4),index>=0&&html.lastIndexOf("-->",index)===index&&(handler.comment&&handler.comment(html.substring(4,index)),html=html.substring(index+3),chars=!1)):DOCTYPE_REGEXP.test(html)?(match=html.match(DOCTYPE_REGEXP),match&&(html=html.replace(match[0],""),chars=!1)):BEGING_END_TAGE_REGEXP.test(html)?(match=html.match(END_TAG_REGEXP),match&&(html=html.substring(match[0].length),match[0].replace(END_TAG_REGEXP,parseEndTag),chars=!1)):BEGIN_TAG_REGEXP.test(html)&&(match=html.match(START_TAG_REGEXP),match?(match[4]&&(html=html.substring(match[0].length),match[0].replace(START_TAG_REGEXP,parseStartTag)),chars=!1):(text+="<",html=html.substring(1))),chars&&(index=html.indexOf("<"),text+=index<0?html:html.substring(0,index),html=index<0?"":html.substring(index),handler.chars&&handler.chars(decodeEntities(text)))),html==last)throw $sanitizeMinErr("badparse","The sanitizer was unable to parse the following block of html: {0}",html);last=html}parseEndTag()}function decodeEntities(value){if(!value)return"";var parts=spaceRe.exec(value),spaceBefore=parts[1],spaceAfter=parts[3],content=parts[2];return content&&(hiddenPre.innerHTML=content.replace(/</g,"&lt;"),content="textContent"in hiddenPre?hiddenPre.textContent:hiddenPre.innerText),spaceBefore+content+spaceAfter}function encodeEntities(value){return value.replace(/&/g,"&amp;").replace(SURROGATE_PAIR_REGEXP,function(value){var hi=value.charCodeAt(0),low=value.charCodeAt(1);return"&#"+(1024*(hi-55296)+(low-56320)+65536)+";"}).replace(NON_ALPHANUMERIC_REGEXP,function(value){var c=value.charCodeAt(0);return c<=159||173==c||c>=1536&&c<=1540||1807==c||6068==c||6069==c||c>=8204&&c<=8207||c>=8232&&c<=8239||c>=8288&&c<=8303||65279==c||c>=65520&&c<=65535?"&#"+c+";":value}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function validStyles(styleAttr){var result="",styleArray=styleAttr.split(";");return angular.forEach(styleArray,function(value){var v=value.split(":");if(2==v.length){var key=trim(angular.lowercase(v[0])),value=trim(angular.lowercase(v[1]));(("color"===key||"background-color"===key)&&(value.match(/^rgb\([0-9%,\. ]*\)$/i)||value.match(/^rgba\([0-9%,\. ]*\)$/i)||value.match(/^hsl\([0-9%,\. ]*\)$/i)||value.match(/^hsla\([0-9%,\. ]*\)$/i)||value.match(/^#[0-9a-f]{3,6}$/i)||value.match(/^[a-z]*$/i))||"text-align"===key&&("left"===value||"right"===value||"center"===value||"justify"===value)||"float"===key&&("left"===value||"right"===value||"none"===value)||("width"===key||"height"===key)&&value.match(/[0-9\.]*(px|em|rem|%)/)||"direction"===key&&value.match(/^ltr|rtl|initial|inherit$/))&&(result+=key+": "+value+";")}}),result}function validCustomTag(tag,attrs,lkey,value){return!("img"!==tag||!attrs["ta-insert-video"]||"ta-insert-video"!==lkey&&"allowfullscreen"!==lkey&&"frameborder"!==lkey&&("contenteditable"!==lkey||"false"!==value))}function htmlSanitizeWriter(buf,uriValidator){var ignore=!1,out=angular.bind(buf,buf.push);return{start:function(tag,attrs,unary){tag=angular.lowercase(tag),!ignore&&specialElements[tag]&&(ignore=tag),ignore||validElements[tag]!==!0||(out("<"),out(tag),angular.forEach(attrs,function(value,key){var lkey=angular.lowercase(key),isImage="img"===tag&&"src"===lkey||"background"===lkey;("style"===lkey&&""!==(value=validStyles(value))||validCustomTag(tag,attrs,lkey,value)||validAttrs[lkey]===!0&&(uriAttrs[lkey]!==!0||uriValidator(value,isImage)))&&(out(" "),out(key),out('="'),out(encodeEntities(value)),out('"'))}),out(unary?"/>":">"))},end:function(tag){tag=angular.lowercase(tag),ignore||validElements[tag]!==!0||(out("</"),out(tag),out(">")),tag==ignore&&(ignore=!1)},chars:function(chars){ignore||out(encodeEntities(chars))}}}var $sanitizeMinErr=angular.$$minErr("$sanitize"),START_TAG_REGEXP=/^<((?:[a-zA-Z])[\w:-]*)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*(>?)/,END_TAG_REGEXP=/^<\/\s*([\w:-]+)[^>]*>/,ATTR_REGEXP=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,BEGIN_TAG_REGEXP=/^</,BEGING_END_TAGE_REGEXP=/^<\//,COMMENT_REGEXP=/<!--(.*?)-->/g,DOCTYPE_REGEXP=/<!DOCTYPE([^>]*?)>/i,CDATA_REGEXP=/<!\[CDATA\[(.*?)]]>/g,SURROGATE_PAIR_REGEXP=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,NON_ALPHANUMERIC_REGEXP=/([^\#-~| |!])/g,voidElements=makeMap("area,br,col,hr,img,wbr"),optionalEndTagBlockElements=makeMap("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),optionalEndTagInlineElements=makeMap("rp,rt"),optionalEndTagElements=angular.extend({},optionalEndTagInlineElements,optionalEndTagBlockElements),blockElements=angular.extend({},optionalEndTagBlockElements,makeMap("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul")),inlineElements=angular.extend({},optionalEndTagInlineElements,makeMap("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),svgElements=makeMap("animate,animateColor,animateMotion,animateTransform,circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,set,stop,svg,switch,text,title,tspan,use"),specialElements=makeMap("script,style"),validElements=angular.extend({},voidElements,blockElements,inlineElements,optionalEndTagElements,svgElements),uriAttrs=makeMap("background,cite,href,longdesc,src,usemap,xlink:href"),htmlAttrs=makeMap("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,id,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,target,title,type,valign,value,vspace,width"),svgAttrs=makeMap("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,attributeName,attributeType,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan"),validAttrs=angular.extend({},uriAttrs,svgAttrs,htmlAttrs),hiddenPre=document.createElement("pre"),spaceRe=/^(\s*)([\s\S]*?)(\s*)$/,trim=function(){return String.prototype.trim?function(value){return angular.isString(value)?value.trim():value}:function(value){return angular.isString(value)?value.replace(/^\s\s*/,"").replace(/\s\s*$/,""):value}}();angular.module("ngSanitize",[]).provider("$sanitize",$SanitizeProvider),angular.module("ngSanitize").filter("linky",["$sanitize",function($sanitize){var LINKY_URL_REGEXP=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"]/,MAILTO_REGEXP=/^mailto:/;return function(text,target){function addText(text){text&&html.push(sanitizeText(text))}function addLink(url,text){html.push("<a "),angular.isDefined(target)&&html.push('target="',target,'" '),html.push('href="',url.replace(/"/g,"&quot;"),'">'),addText(text),html.push("</a>")}if(!text)return text;for(var match,url,i,raw=text,html=[];match=raw.match(LINKY_URL_REGEXP);)url=match[0],match[2]||match[4]||(url=(match[3]?"http://":"mailto:")+url),i=match.index,addText(raw.substr(0,i)),addLink(url,match[0].replace(MAILTO_REGEXP,"")),raw=raw.substring(i+match[0].length);return addText(raw),$sanitize(html.join(""))}}])}(window,window.angular),angular.module("textAngularSetup",[]).value("taOptions",{toolbar:[["h1","h2","h3","h4","h5","h6","p","pre","quote"],["bold","italics","underline","strikeThrough","ul","ol","redo","undo","clear"],["justifyLeft","justifyCenter","justifyRight","indent","outdent"],["html","insertImage","insertLink","insertVideo","wordcount","charcount"]],classes:{focussed:"focussed",toolbar:"btn-toolbar",toolbarGroup:"btn-group",toolbarButton:"btn btn-default",toolbarButtonActive:"active",disabled:"disabled",textEditor:"form-control",htmlEditor:"form-control"},defaultTagAttributes:{a:{target:""}},setup:{textEditorSetup:function($element){},htmlEditorSetup:function($element){}},defaultFileDropHandler:function(file,insertAction){var reader=new FileReader;return"image"===file.type.substring(0,5)&&(reader.onload=function(){""!==reader.result&&insertAction("insertImage",reader.result,!0)},reader.readAsDataURL(file),!0)}}).value("taSelectableElements",["a","img"]).value("taCustomRenderers",[{selector:"img",customAttribute:"ta-insert-video",renderLogic:function(element){var iframe=angular.element("<iframe></iframe>"),attributes=element.prop("attributes");angular.forEach(attributes,function(attr){iframe.attr(attr.name,attr.value)}),iframe.attr("src",iframe.attr("ta-insert-video")),element.replaceWith(iframe)}}]).value("taTranslations",{html:{tooltip:"Toggle html / Rich Text"},heading:{tooltip:"Heading "},p:{tooltip:"Paragraph"},pre:{tooltip:"Preformatted text"},ul:{tooltip:"Unordered List"},ol:{tooltip:"Ordered List"},quote:{tooltip:"Quote/unquote selection or paragraph"},undo:{tooltip:"Undo"},redo:{tooltip:"Redo"},bold:{tooltip:"Bold"},italic:{tooltip:"Italic"},underline:{tooltip:"Underline"},strikeThrough:{tooltip:"Strikethrough"},justifyLeft:{tooltip:"Align text left"},justifyRight:{tooltip:"Align text right"},justifyCenter:{tooltip:"Center"},indent:{tooltip:"Increase indent"},outdent:{tooltip:"Decrease indent"},clear:{tooltip:"Clear formatting"},insertImage:{dialogPrompt:"Please enter an image URL to insert",tooltip:"Insert image",hotkey:"the - possibly language dependent hotkey ... for some future implementation"},insertVideo:{tooltip:"Insert video",dialogPrompt:"Please enter a youtube URL to embed"},insertLink:{tooltip:"Insert / edit link",dialogPrompt:"Please enter a URL to insert"},editLink:{reLinkButton:{tooltip:"Relink"},unLinkButton:{tooltip:"Unlink"},targetToggle:{buttontext:"Open in New Window"}},wordcount:{tooltip:"Display words Count"},charcount:{tooltip:"Display characters Count"}}).run(["taRegisterTool","$window","taTranslations","taSelection","$mdDialog","$q","$timeout","$interval","$rootScope",function(taRegisterTool,$window,taTranslations,taSelection,$mdDialog,$q,$timeout,$interval,$rootScope){taRegisterTool("html",{iconclass:"fa fa-code",tooltiptext:taTranslations.html.tooltip,action:function(){this.$editor().switchView()},activeState:function(){return this.$editor().showHtml}});var _retActiveStateFunction=function(q){return function(){return this.$editor().queryFormatBlockState(q)}},headerAction=function(){return this.$editor().wrapSelection("formatBlock","<"+this.name.toUpperCase()+">")};angular.forEach(["h1","h2","h3","h4","h5","h6"],function(h){taRegisterTool(h.toLowerCase(),{buttontext:h.toUpperCase(),tooltiptext:taTranslations.heading.tooltip+h.charAt(1),action:headerAction,activeState:_retActiveStateFunction(h.toLowerCase())})}),taRegisterTool("p",{buttontext:"P",tooltiptext:taTranslations.p.tooltip,action:function(){return this.$editor().wrapSelection("formatBlock","<P>")},activeState:function(){return this.$editor().queryFormatBlockState("p")}}),taRegisterTool("pre",{buttontext:"pre",tooltiptext:taTranslations.pre.tooltip,action:function(){return this.$editor().wrapSelection("formatBlock","<PRE>")},activeState:function(){return this.$editor().queryFormatBlockState("pre")}}),taRegisterTool("ul",{iconclass:"fa fa-list-ul",tooltiptext:taTranslations.ul.tooltip,action:function(){return this.$editor().wrapSelection("insertUnorderedList",null)},activeState:function(){return this.$editor().queryCommandState("insertUnorderedList")}}),taRegisterTool("ol",{iconclass:"fa fa-list-ol",tooltiptext:taTranslations.ol.tooltip,action:function(){return this.$editor().wrapSelection("insertOrderedList",null)},activeState:function(){return this.$editor().queryCommandState("insertOrderedList")}}),taRegisterTool("quote",{iconclass:"fa fa-quote-right",tooltiptext:taTranslations.quote.tooltip,action:function(){return this.$editor().wrapSelection("formatBlock","<BLOCKQUOTE>")},activeState:function(){return this.$editor().queryFormatBlockState("blockquote")}}),taRegisterTool("undo",{iconclass:"fa fa-undo",tooltiptext:taTranslations.undo.tooltip,action:function(){return this.$editor().wrapSelection("undo",null)}}),taRegisterTool("redo",{iconclass:"fa fa-repeat",tooltiptext:taTranslations.redo.tooltip,action:function(){return this.$editor().wrapSelection("redo",null)}}),taRegisterTool("bold",{iconclass:"fa fa-bold",tooltiptext:taTranslations.bold.tooltip,action:function(){return this.$editor().wrapSelection("bold",null)},activeState:function(){return this.$editor().queryCommandState("bold")},commandKeyCode:98}),taRegisterTool("justifyLeft",{iconclass:"fa fa-align-left",tooltiptext:taTranslations.justifyLeft.tooltip,action:function(){return this.$editor().wrapSelection("justifyLeft",null)},activeState:function(commonElement){var result=!1;return commonElement&&(result="left"===commonElement.css("text-align")||"left"===commonElement.attr("align")||"right"!==commonElement.css("text-align")&&"center"!==commonElement.css("text-align")&&"justify"!==commonElement.css("text-align")&&!this.$editor().queryCommandState("justifyRight")&&!this.$editor().queryCommandState("justifyCenter")&&!this.$editor().queryCommandState("justifyFull")),result=result||this.$editor().queryCommandState("justifyLeft")}}),taRegisterTool("justifyRight",{iconclass:"fa fa-align-right",tooltiptext:taTranslations.justifyRight.tooltip,action:function(){return this.$editor().wrapSelection("justifyRight",null)},activeState:function(commonElement){
var result=!1;return commonElement&&(result="right"===commonElement.css("text-align")),result=result||this.$editor().queryCommandState("justifyRight")}}),taRegisterTool("justifyCenter",{iconclass:"fa fa-align-center",tooltiptext:taTranslations.justifyCenter.tooltip,action:function(){return this.$editor().wrapSelection("justifyCenter",null)},activeState:function(commonElement){var result=!1;return commonElement&&(result="center"===commonElement.css("text-align")),result=result||this.$editor().queryCommandState("justifyCenter")}}),taRegisterTool("indent",{iconclass:"fa fa-indent",tooltiptext:taTranslations.indent.tooltip,action:function(){return this.$editor().wrapSelection("indent",null)},activeState:function(){return this.$editor().queryFormatBlockState("blockquote")}}),taRegisterTool("outdent",{iconclass:"fa fa-outdent",tooltiptext:taTranslations.outdent.tooltip,action:function(){return this.$editor().wrapSelection("outdent",null)},activeState:function(){return!1}}),taRegisterTool("italics",{iconclass:"fa fa-italic",tooltiptext:taTranslations.italic.tooltip,action:function(){return this.$editor().wrapSelection("italic",null)},activeState:function(){return this.$editor().queryCommandState("italic")},commandKeyCode:105}),taRegisterTool("underline",{iconclass:"fa fa-underline",tooltiptext:taTranslations.underline.tooltip,action:function(){return this.$editor().wrapSelection("underline",null)},activeState:function(){return this.$editor().queryCommandState("underline")},commandKeyCode:117}),taRegisterTool("strikeThrough",{iconclass:"fa fa-strikethrough",tooltiptext:taTranslations.strikeThrough.tooltip,action:function(){return this.$editor().wrapSelection("strikeThrough",null)},activeState:function(){return document.queryCommandState("strikeThrough")}}),taRegisterTool("clear",{iconclass:"fa fa-ban",tooltiptext:taTranslations.clear.tooltip,action:function(deferred,restoreSelection){var i;this.$editor().wrapSelection("removeFormat",null);var possibleNodes=angular.element(taSelection.getSelectionElement()),removeListElements=function(list){list=angular.element(list);var prevElement=list;angular.forEach(list.children(),function(liElem){var newElem=angular.element("<p></p>");newElem.html(angular.element(liElem).html()),prevElement.after(newElem),prevElement=newElem}),list.remove()};if(angular.forEach(possibleNodes.find("ul"),removeListElements),angular.forEach(possibleNodes.find("ol"),removeListElements),"li"===possibleNodes[0].tagName.toLowerCase()){var _list=possibleNodes[0].parentNode.childNodes,_preLis=[],_postLis=[],_found=!1;for(i=0;i<_list.length;i++)_list[i]===possibleNodes[0]?_found=!0:_found?_postLis.push(_list[i]):_preLis.push(_list[i]);var _parent=angular.element(possibleNodes[0].parentNode),newElem=angular.element("<p></p>");if(newElem.html(angular.element(possibleNodes[0]).html()),0===_preLis.length||0===_postLis.length)0===_postLis.length?_parent.after(newElem):_parent[0].parentNode.insertBefore(newElem[0],_parent[0]),0===_preLis.length&&0===_postLis.length?_parent.remove():angular.element(possibleNodes[0]).remove();else{var _firstList=angular.element("<"+_parent[0].tagName+"></"+_parent[0].tagName+">"),_secondList=angular.element("<"+_parent[0].tagName+"></"+_parent[0].tagName+">");for(i=0;i<_preLis.length;i++)_firstList.append(angular.element(_preLis[i]));for(i=0;i<_postLis.length;i++)_secondList.append(angular.element(_postLis[i]));_parent.after(_secondList),_parent.after(newElem),_parent.after(_firstList),_parent.remove()}taSelection.setSelectionToElementEnd(newElem[0])}var $editor=this.$editor(),recursiveRemoveClass=function(node){node=angular.element(node),node[0]!==$editor.displayElements.text[0]&&node.removeAttr("class"),angular.forEach(node.children(),recursiveRemoveClass)};angular.forEach(possibleNodes,recursiveRemoveClass),"li"!==possibleNodes[0].tagName.toLowerCase()&&"ol"!==possibleNodes[0].tagName.toLowerCase()&&"ul"!==possibleNodes[0].tagName.toLowerCase()&&this.$editor().wrapSelection("formatBlock","default"),restoreSelection()}});var imgOnSelectAction=function(event,$element,editorScope){var finishEdit=function(){editorScope.updateTaBindtaTextElement(),editorScope.hidePopover()};event.preventDefault(),editorScope.displayElements.popover.css("width","375px");var container=editorScope.displayElements.popoverContainer;container.empty();var buttonGroup=angular.element('<div class="btn-group" style="padding-right: 6px;">'),fullButton=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1">100% </button>');fullButton.on("click",function(event){event.preventDefault(),$element.css({width:"100%",height:""}),finishEdit()});var halfButton=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1">50% </button>');halfButton.on("click",function(event){event.preventDefault(),$element.css({width:"50%",height:""}),finishEdit()});var quartButton=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1">25% </button>');quartButton.on("click",function(event){event.preventDefault(),$element.css({width:"25%",height:""}),finishEdit()});var resetButton=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1">Reset</button>');resetButton.on("click",function(event){event.preventDefault(),$element.css({width:"",height:""}),finishEdit()}),buttonGroup.append(fullButton),buttonGroup.append(halfButton),buttonGroup.append(quartButton),buttonGroup.append(resetButton),container.append(buttonGroup),buttonGroup=angular.element('<div class="btn-group" style="padding-right: 6px;">');var floatLeft=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1"><i class="fa fa-align-left"></i></button>');floatLeft.on("click",function(event){event.preventDefault(),$element.css("float","left"),$element.css("cssFloat","left"),$element.css("styleFloat","left"),finishEdit()});var floatRight=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1"><i class="fa fa-align-right"></i></button>');floatRight.on("click",function(event){event.preventDefault(),$element.css("float","right"),$element.css("cssFloat","right"),$element.css("styleFloat","right"),finishEdit()});var floatNone=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1"><i class="fa fa-align-justify"></i></button>');floatNone.on("click",function(event){event.preventDefault(),$element.css("float",""),$element.css("cssFloat",""),$element.css("styleFloat",""),finishEdit()}),buttonGroup.append(floatLeft),buttonGroup.append(floatNone),buttonGroup.append(floatRight),container.append(buttonGroup),buttonGroup=angular.element('<div class="btn-group">');var remove=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1"><i class="fa fa-trash-o"></i></button>');remove.on("click",function(event){event.preventDefault(),$element.remove(),finishEdit()}),buttonGroup.append(remove),container.append(buttonGroup),editorScope.showPopover($element),editorScope.showResizeOverlay($element)};taRegisterTool("insertImage",{iconclass:"fa fa-picture-o",tooltiptext:taTranslations.insertImage.tooltip,action:function(){function runMe(selectedImage){var selection=$rootScope.lastSelection,embed="<img src="+selectedImage+' contenteditable="true" allowfullscreen="true" frameborder="0" ng-style="padding:5px" />';taSelection.insertHtml(embed,void 0,selection)}var imageLink;$mdDialog.show({controller:function($scope,$rootScope){$scope.hide=function(){$mdDialog.hide()},$scope.insertImage=function(imgUrl){$mdDialog.hide(imgUrl).then(function(){imageLink=imgUrl.url,runMe(imageLink)})}},templateUrl:"scripts/article/views/articleImageDialog.html"})},onElementSelect:{element:"img",action:imgOnSelectAction}}),taRegisterTool("insertVideo",{iconclass:"fa fa-youtube-play",tooltiptext:taTranslations.insertVideo.tooltip,action:function(){var urlPrompt;if(urlPrompt=$window.prompt(taTranslations.insertVideo.dialogPrompt,"https://"),urlPrompt&&""!==urlPrompt&&"https://"!==urlPrompt){var ids=urlPrompt.match(/(\?|&)v=[^&]*/);if(ids&&ids.length>0){var urlLink="https://www.youtube.com/embed/"+ids[0].substring(3),embed='<img class="ta-insert-video" src="https://img.youtube.com/vi/'+ids[0].substring(3)+'/hqdefault.jpg" ta-insert-video="'+urlLink+'" contenteditable="false" allowfullscreen="true" frameborder="0" />';return this.$editor().wrapSelection("insertHTML",embed,!0)}}},onElementSelect:{element:"img",onlyWithAttrs:["ta-insert-video"],action:imgOnSelectAction}}),taRegisterTool("insertLink",{tooltiptext:taTranslations.insertLink.tooltip,iconclass:"fa fa-link",action:function(){var urlLink;if(urlLink=$window.prompt(taTranslations.insertLink.dialogPrompt,"http://"),urlLink&&""!==urlLink&&"http://"!==urlLink)return this.$editor().wrapSelection("createLink",urlLink,!0)},activeState:function(commonElement){return!!commonElement&&"A"===commonElement[0].tagName},onElementSelect:{element:"a",action:function(event,$element,editorScope){event.preventDefault(),editorScope.displayElements.popover.css("width","436px");var container=editorScope.displayElements.popoverContainer;container.empty(),container.css("line-height","28px");var link=angular.element('<a href="'+$element.attr("href")+'" target="_blank">'+$element.attr("href")+"</a>");link.css({display:"inline-block","max-width":"200px",overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap","vertical-align":"middle"}),container.append(link);var buttonGroup=angular.element('<div class="btn-group pull-right">'),reLinkButton=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" tabindex="-1" unselectable="on" title="'+taTranslations.editLink.reLinkButton.tooltip+'"><i class="fa fa-edit icon-edit"></i></button>');reLinkButton.on("click",function(event){event.preventDefault();var urlLink=$window.prompt(taTranslations.insertLink.dialogPrompt,$element.attr("href"));urlLink&&""!==urlLink&&"http://"!==urlLink&&($element.attr("href",urlLink),editorScope.updateTaBindtaTextElement()),editorScope.hidePopover()}),buttonGroup.append(reLinkButton);var unLinkButton=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" tabindex="-1" unselectable="on" title="'+taTranslations.editLink.unLinkButton.tooltip+'"><i class="fa fa-unlink icon-unlink"></i></button>');unLinkButton.on("click",function(event){event.preventDefault(),$element.replaceWith($element.contents()),editorScope.updateTaBindtaTextElement(),editorScope.hidePopover()}),buttonGroup.append(unLinkButton);var targetToggle=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" tabindex="-1" unselectable="on">'+taTranslations.editLink.targetToggle.buttontext+"</button>");"_blank"===$element.attr("target")&&targetToggle.addClass("active"),targetToggle.on("click",function(event){event.preventDefault(),$element.attr("target","_blank"===$element.attr("target")?"":"_blank"),targetToggle.toggleClass("active"),editorScope.updateTaBindtaTextElement()}),buttonGroup.append(targetToggle),container.append(buttonGroup),editorScope.showPopover($element)}}}),taRegisterTool("wordcount",{display:'<div id="toolbarWC" style="display:block; min-width:100px;">Words: <span ng-bind="wordcount"></span></div>',disabled:!0,wordcount:0,activeState:function(){var textElement=this.$editor().displayElements.text,workingHTML=textElement[0].innerHTML||"",noOfWords=0;return""!==workingHTML.replace(/\s*<[^>]*?>\s*/g,"")&&(noOfWords=workingHTML.replace(/<\/?(b|i|em|strong|span|u|strikethrough|a|img|small|sub|sup|label)( [^>*?])?>/gi,"").replace(/(<[^>]*?>\s*<[^>]*?>)/gi," ").replace(/(<[^>]*?>)/gi,"").replace(/\s+/gi," ").match(/\S+/g).length),this.wordcount=noOfWords,this.$editor().wordcount=noOfWords,!1}}),taRegisterTool("charcount",{display:'<div id="toolbarCC" style="display:block; min-width:120px;">Characters: <span ng-bind="charcount"></span></div>',disabled:!0,charcount:0,activeState:function(){var textElement=this.$editor().displayElements.text,sourceText=textElement[0].innerText||textElement[0].textContent,noOfChars=sourceText.replace(/(\r\n|\n|\r)/gm,"").replace(/^\s+/g," ").replace(/\s+$/g," ").length;return this.charcount=noOfChars,this.$editor().charcount=noOfChars,!1}})}]),function(){"use strict";function validElementString(string){try{return 0!==angular.element(string).length}catch(any){return!1}}function registerTextAngularTool(name,toolDefinition){if(!name||""===name||taTools.hasOwnProperty(name))throw"textAngular Error: A unique name is required for a Tool Definition";if(toolDefinition.display&&(""===toolDefinition.display||!validElementString(toolDefinition.display))||!toolDefinition.display&&!toolDefinition.buttontext&&!toolDefinition.iconclass)throw'textAngular Error: Tool Definition for "'+name+'" does not have a valid display/iconclass/buttontext value';taTools[name]=toolDefinition}var _browserDetect={ie:function(){for(var undef,v=3,div=document.createElement("div"),all=div.getElementsByTagName("i");div.innerHTML="<!--[if gt IE "+ ++v+"]><i></i><![endif]-->",all[0];);return v>4?v:undef}(),webkit:/AppleWebKit\/([\d.]+)/i.test(navigator.userAgent)},globalContentEditableBlur=!1;_browserDetect.webkit&&(document.addEventListener("mousedown",function(_event){var e=_event||window.event,curelement=e.target;if(globalContentEditableBlur&&null!==curelement){for(var isEditable=!1,tempEl=curelement;null!==tempEl&&"html"!==tempEl.tagName.toLowerCase()&&!isEditable;)isEditable="true"===tempEl.contentEditable,tempEl=tempEl.parentNode;isEditable||(document.getElementById("textAngular-editableFix-010203040506070809").setSelectionRange(0,0),curelement.focus(),curelement.select&&curelement.select())}globalContentEditableBlur=!1},!1),angular.element(document).ready(function(){angular.element(document.body).append(angular.element('<input id="textAngular-editableFix-010203040506070809" class="ta-hidden-input" unselectable="on" tabIndex="-1">'))}));var BLOCKELEMENTS=/^(address|article|aside|audio|blockquote|canvas|dd|div|dl|fieldset|figcaption|figure|footer|form|h1|h2|h3|h4|h5|h6|header|hgroup|hr|noscript|ol|output|p|pre|section|table|tfoot|ul|video)$/i,LISTELEMENTS=/^(ul|li|ol)$/i,VALIDELEMENTS=/^(address|article|aside|audio|blockquote|canvas|dd|div|dl|fieldset|figcaption|figure|footer|form|h1|h2|h3|h4|h5|h6|header|hgroup|hr|noscript|ol|output|p|pre|section|table|tfoot|ul|video|li)$/i;String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});var sheet,addCSSRule,removeCSSRule,_addCSSRule,_removeCSSRule,_getRuleIndex;if(_browserDetect.ie>8||void 0===_browserDetect.ie){for(var _sheets=document.styleSheets,i=0;i<_sheets.length;i++)if((0===_sheets[i].media.length||_sheets[i].media.mediaText.match(/(all|screen)/gi))&&_sheets[i].href&&_sheets[i].href.match(/textangular\.(min\.|)css/gi)){sheet=_sheets[i];break}sheet||(sheet=function(){var style=document.createElement("style");return _browserDetect.webkit&&style.appendChild(document.createTextNode("")),document.getElementsByTagName("head")[0].appendChild(style),style.sheet}()),addCSSRule=function(selector,rules){return _addCSSRule(sheet,selector,rules)},_addCSSRule=function(_sheet,selector,rules){var insertIndex,insertedRule;return _sheet.cssRules?insertIndex=Math.max(_sheet.cssRules.length-1,0):_sheet.rules&&(insertIndex=Math.max(_sheet.rules.length-1,0)),_sheet.insertRule?_sheet.insertRule(selector+"{"+rules+"}",insertIndex):_sheet.addRule(selector,rules,insertIndex),sheet.rules?insertedRule=sheet.rules[insertIndex]:sheet.cssRules&&(insertedRule=sheet.cssRules[insertIndex]),insertedRule},_getRuleIndex=function(rule,rules){var i,ruleIndex;for(i=0;i<rules.length;i++)if(rules[i].cssText===rule.cssText){ruleIndex=i;break}return ruleIndex},removeCSSRule=function(rule){_removeCSSRule(sheet,rule)},_removeCSSRule=function(sheet,rule){var rules=sheet.cssRules||sheet.rules;if(rules){var ruleIndex=_getRuleIndex(rule,rules);sheet.removeRule?sheet.removeRule(ruleIndex):sheet.deleteRule(ruleIndex)}}}angular.module("textAngular.factories",[]).factory("taBrowserTag",[function(){return function(tag){return tag?""===tag?void 0===_browserDetect.ie?"div":_browserDetect.ie<=8?"P":"p":_browserDetect.ie<=8?tag.toUpperCase():tag:_browserDetect.ie<=8?"P":"p"}}]).factory("taApplyCustomRenderers",["taCustomRenderers","taDOM",function(taCustomRenderers,taDOM){return function(val){var element=angular.element("<div></div>");return element[0].innerHTML=val,angular.forEach(taCustomRenderers,function(renderer){var elements=[];renderer.selector&&""!==renderer.selector?elements=element.find(renderer.selector):renderer.customAttribute&&""!==renderer.customAttribute&&(elements=taDOM.getByAttribute(element,renderer.customAttribute)),angular.forEach(elements,function(_element){_element=angular.element(_element),renderer.selector&&""!==renderer.selector&&renderer.customAttribute&&""!==renderer.customAttribute?void 0!==_element.attr(renderer.customAttribute)&&renderer.renderLogic(_element):renderer.renderLogic(_element)})}),element[0].innerHTML}}]).factory("taFixChrome",function(){var taFixChrome=function(html){if(!html||!angular.isString(html)||html.length<=0)return html;for(var match,styleVal,newTag,spanMatch=/<([^>\/]+?)style=("([^"]+)"|'([^']+)')([^>]*)>/gi,finalHtml="",lastIndex=0;match=spanMatch.exec(html);)styleVal=match[3]||match[4],styleVal&&styleVal.match(/line-height: 1.[0-9]{3,12};|color: inherit; line-height: 1.1;/i)&&(styleVal=styleVal.replace(/( |)font-family: inherit;|( |)line-height: 1.[0-9]{3,12};|( |)color: inherit;/gi,""),newTag="<"+match[1].trim(),styleVal.trim().length>0&&(newTag+=" style="+match[2].substring(0,1)+styleVal+match[2].substring(0,1)),newTag+=match[5].trim()+">",finalHtml+=html.substring(lastIndex,match.index)+newTag,lastIndex=match.index+match[0].length);return finalHtml+=html.substring(lastIndex),lastIndex>0?finalHtml.replace(/<span\s?>(.*?)<\/span>(<br(\/|)>|)/gi,"$1"):html};return taFixChrome}).factory("taSanitize",["$sanitize",function($sanitize){function wrapNested(html,wrapTag){for(var match,depth=0,lastIndex=0,tagRegex=/<[^>]*>/gi;match=tagRegex.exec(html);)if(lastIndex=match.index,"/"===match[0].substr(1,1)){if(0===depth)break;depth--}else depth++;return wrapTag+html.substring(0,lastIndex)+angular.element(wrapTag)[0].outerHTML.substring(wrapTag.length)+html.substring(lastIndex)}function transformLegacyStyles(html){if(!html||!angular.isString(html)||html.length<=0)return html;for(var i,match,subMatch,styleVal,newTag,newHtml,styleElementMatch=/<([^>\/]+?)style=("([^"]+)"|'([^']+)')([^>]*)>/gi,lastNewTag="",finalHtml="",lastIndex=0;match=styleElementMatch.exec(html);){styleVal=match[3]||match[4];var styleRegex=new RegExp(styleRegexString,"i");if(angular.isString(styleVal)&&styleRegex.test(styleVal)){newTag="";for(var styleRegexExec=new RegExp(styleRegexString,"ig");subMatch=styleRegexExec.exec(styleVal);)for(i=0;i<convert_infos.length;i++)subMatch[2*i+2]&&(newTag+="<"+convert_infos[i].tag+">");newHtml=transformLegacyStyles(html.substring(lastIndex,match.index)),finalHtml+=lastNewTag.length>0?wrapNested(newHtml,lastNewTag):newHtml,styleVal=styleVal.replace(new RegExp(styleRegexString,"ig"),""),finalHtml+="<"+match[1].trim(),styleVal.length>0&&(finalHtml+=' style="'+styleVal+'"'),finalHtml+=match[5]+">",lastIndex=match.index+match[0].length,lastNewTag=newTag}}return finalHtml+=lastNewTag.length>0?wrapNested(html.substring(lastIndex),lastNewTag):html.substring(lastIndex)}function transformLegacyAttributes(html){if(!html||!angular.isString(html)||html.length<=0)return html;for(var match,attrElementMatch=/<([^>\/]+?)align=("([^"]+)"|'([^']+)')([^>]*)>/gi,finalHtml="",lastIndex=0;match=attrElementMatch.exec(html);){finalHtml+=html.substring(lastIndex,match.index),lastIndex=match.index+match[0].length;var newTag="<"+match[1]+match[5];/style=("([^"]+)"|'([^']+)')/gi.test(newTag)?newTag=newTag.replace(/style=("([^"]+)"|'([^']+)')/i,'style="$2$3 text-align:'+(match[3]||match[4])+';"'):newTag+=' style="text-align:'+(match[3]||match[4])+';"',newTag+=">",finalHtml+=newTag}return finalHtml+html.substring(lastIndex)}for(var convert_infos=[{property:"font-weight",values:["bold"],tag:"b"},{property:"font-style",values:["italic"],tag:"i"}],styleMatch=[],i=0;i<convert_infos.length;i++){for(var _partialStyle="("+convert_infos[i].property+":\\s*(",j=0;j<convert_infos[i].values.length;j++)j>0&&(_partialStyle+="|"),_partialStyle+=convert_infos[i].values[j];_partialStyle+=");)",styleMatch.push(_partialStyle)}var styleRegexString="("+styleMatch.join("|")+")";return function(unsafe,oldsafe,ignore){if(!ignore)try{unsafe=transformLegacyStyles(unsafe)}catch(e){}unsafe=transformLegacyAttributes(unsafe);var safe;try{safe=$sanitize(unsafe),ignore&&(safe=unsafe)}catch(e){safe=oldsafe||""}var origTag,_preTags=safe.match(/(<pre[^>]*>.*?<\/pre[^>]*>)/gi),processedSafe=safe.replace(/(&#(9|10);)*/gi,""),re=/<pre[^>]*>.*?<\/pre[^>]*>/gi,index=0,lastIndex=0;for(safe="";null!==(origTag=re.exec(processedSafe))&&index<_preTags.length;)safe+=processedSafe.substring(lastIndex,origTag.index)+_preTags[index],lastIndex=origTag.index+origTag[0].length,index++;return safe+processedSafe.substring(lastIndex)}}]).factory("taToolExecuteAction",["$q","$log",function($q,$log){return function(editor){void 0!==editor&&(this.$editor=function(){return editor});var result,deferred=$q.defer(),promise=deferred.promise,_editor=this.$editor();try{result=this.action(deferred,_editor.startAction()),promise["finally"](function(){_editor.endAction.call(_editor)})}catch(exc){$log.error(exc)}(result||void 0===result)&&deferred.resolve()}}]),angular.module("textAngular.DOM",["textAngular.factories"]).factory("taExecCommand",["taSelection","taBrowserTag","$document",function(taSelection,taBrowserTag,$document){var listToDefault=function(listElement,defaultWrap){var $target,i,children=listElement.find("li");for(i=children.length-1;i>=0;i--)$target=angular.element("<"+defaultWrap+">"+children[i].innerHTML+"</"+defaultWrap+">"),listElement.after($target);listElement.remove(),taSelection.setSelectionToElementEnd($target[0])},selectLi=function(liElement){/(<br(|\/)>)$/i.test(liElement.innerHTML.trim())?taSelection.setSelectionBeforeElement(angular.element(liElement).find("br")[0]):taSelection.setSelectionToElementEnd(liElement)},listToList=function(listElement,newListTag){var $target=angular.element("<"+newListTag+">"+listElement[0].innerHTML+"</"+newListTag+">");listElement.after($target),listElement.remove(),selectLi($target.find("li")[0])},childElementsToList=function(elements,listElement,newListTag){for(var html="",i=0;i<elements.length;i++)html+="<"+taBrowserTag("li")+">"+elements[i].innerHTML+"</"+taBrowserTag("li")+">";var $target=angular.element("<"+newListTag+">"+html+"</"+newListTag+">");listElement.after($target),listElement.remove(),selectLi($target.find("li")[0])};return function(taDefaultWrap,topNode){return taDefaultWrap=taBrowserTag(taDefaultWrap),function(command,showUI,options,defaultTagAttributes){var i,$target,html,_nodes,next,optionsTagName,selectedElement,defaultWrapper=angular.element("<"+taDefaultWrap+">");try{selectedElement=taSelection.getSelectionElement()}catch(e){}var $selected=angular.element(selectedElement);if(void 0!==selectedElement){var tagName=selectedElement.tagName.toLowerCase();if("insertorderedlist"===command.toLowerCase()||"insertunorderedlist"===command.toLowerCase()){var selfTag=taBrowserTag("insertorderedlist"===command.toLowerCase()?"ol":"ul");if(tagName===selfTag)return listToDefault($selected,taDefaultWrap);if("li"===tagName&&$selected.parent()[0].tagName.toLowerCase()===selfTag&&1===$selected.parent().children().length)return listToDefault($selected.parent(),taDefaultWrap);if("li"===tagName&&$selected.parent()[0].tagName.toLowerCase()!==selfTag&&1===$selected.parent().children().length)return listToList($selected.parent(),selfTag);if(tagName.match(BLOCKELEMENTS)&&!$selected.hasClass("ta-bind")){if("ol"===tagName||"ul"===tagName)return listToList($selected,selfTag);var childBlockElements=!1;return angular.forEach($selected.children(),function(elem){elem.tagName.match(BLOCKELEMENTS)&&(childBlockElements=!0)}),childBlockElements?childElementsToList($selected.children(),$selected,selfTag):childElementsToList([angular.element("<div>"+selectedElement.innerHTML+"</div>")[0]],$selected,selfTag)}if(tagName.match(BLOCKELEMENTS)){if(_nodes=taSelection.getOnlySelectedElements(),0===_nodes.length)$target=angular.element("<"+selfTag+"><li>"+selectedElement.innerHTML+"</li></"+selfTag+">"),$selected.html(""),$selected.append($target);else{if(1===_nodes.length&&("ol"===_nodes[0].tagName.toLowerCase()||"ul"===_nodes[0].tagName.toLowerCase()))return _nodes[0].tagName.toLowerCase()===selfTag?listToDefault(angular.element(_nodes[0]),taDefaultWrap):listToList(angular.element(_nodes[0]),selfTag);html="";var $nodes=[];for(i=0;i<_nodes.length;i++)if(3!==_nodes[i].nodeType){var $n=angular.element(_nodes[i]);if("li"===_nodes[i].tagName.toLowerCase())continue;html+="ol"===_nodes[i].tagName.toLowerCase()||"ul"===_nodes[i].tagName.toLowerCase()?$n[0].innerHTML:"span"!==_nodes[i].tagName.toLowerCase()||"ol"!==_nodes[i].childNodes[0].tagName.toLowerCase()&&"ul"!==_nodes[i].childNodes[0].tagName.toLowerCase()?"<"+taBrowserTag("li")+">"+$n[0].innerHTML+"</"+taBrowserTag("li")+">":$n[0].childNodes[0].innerHTML,$nodes.unshift($n)}$target=angular.element("<"+selfTag+">"+html+"</"+selfTag+">"),$nodes.pop().replaceWith($target),angular.forEach($nodes,function($node){$node.remove()})}return void taSelection.setSelectionToElementEnd($target[0])}}else{if("formatblock"===command.toLowerCase()){for(optionsTagName=options.toLowerCase().replace(/[<>]/gi,""),"default"===optionsTagName.trim()&&(optionsTagName=taDefaultWrap,options="<"+taDefaultWrap+">"),$target="li"===tagName?$selected.parent():$selected;!$target[0].tagName||!$target[0].tagName.match(BLOCKELEMENTS)&&!$target.parent().attr("contenteditable");)$target=$target.parent(),tagName=($target[0].tagName||"").toLowerCase();if(tagName===optionsTagName){_nodes=$target.children();var hasBlock=!1;for(i=0;i<_nodes.length;i++)hasBlock=hasBlock||_nodes[i].tagName.match(BLOCKELEMENTS);hasBlock?($target.after(_nodes),next=$target.next(),$target.remove(),$target=next):(defaultWrapper.append($target[0].childNodes),$target.after(defaultWrapper),$target.remove(),$target=defaultWrapper)}else if($target.parent()[0].tagName.toLowerCase()!==optionsTagName||$target.parent().hasClass("ta-bind"))if(tagName.match(LISTELEMENTS))$target.wrap(options);else{for(_nodes=taSelection.getOnlySelectedElements(),0===_nodes.length&&(_nodes=[$target[0]]),i=0;i<_nodes.length;i++)if(3===_nodes[i].nodeType||!_nodes[i].tagName.match(BLOCKELEMENTS))for(;3===_nodes[i].nodeType||!_nodes[i].tagName||!_nodes[i].tagName.match(BLOCKELEMENTS);)_nodes[i]=_nodes[i].parentNode;if(angular.element(_nodes[0]).hasClass("ta-bind"))$target=angular.element(options),$target[0].innerHTML=_nodes[0].innerHTML,_nodes[0].innerHTML=$target[0].outerHTML;else if("blockquote"===optionsTagName){for(html="",i=0;i<_nodes.length;i++)html+=_nodes[i].outerHTML;for($target=angular.element(options),$target[0].innerHTML=html,_nodes[0].parentNode.insertBefore($target[0],_nodes[0]),i=_nodes.length-1;i>=0;i--)_nodes[i].parentNode&&_nodes[i].parentNode.removeChild(_nodes[i])}else for(i=0;i<_nodes.length;i++)$target=angular.element(options),$target[0].innerHTML=_nodes[i].innerHTML,_nodes[i].parentNode.insertBefore($target[0],_nodes[i]),_nodes[i].parentNode.removeChild(_nodes[i])}else{var blockElement=$target.parent(),contents=blockElement.contents();for(i=0;i<contents.length;i++)blockElement.parent().hasClass("ta-bind")&&3===contents[i].nodeType&&(defaultWrapper=angular.element("<"+taDefaultWrap+">"),defaultWrapper[0].innerHTML=contents[i].outerHTML,contents[i]=defaultWrapper[0]),blockElement.parent()[0].insertBefore(contents[i],blockElement[0]);blockElement.remove()}return void taSelection.setSelectionToElementEnd($target[0])}if("createlink"===command.toLowerCase()){var tagBegin='<a href="'+options+'" target="'+(defaultTagAttributes.a.target?defaultTagAttributes.a.target:"")+'">',tagEnd="</a>",_selection=taSelection.getSelection();if(_selection.collapsed)taSelection.insertHtml(tagBegin+options+tagEnd,topNode);else if(rangy.getSelection().getRangeAt(0).canSurroundContents()){var node=angular.element(tagBegin+tagEnd)[0];rangy.getSelection().getRangeAt(0).surroundContents(node)}return}if("inserthtml"===command.toLowerCase())return void taSelection.insertHtml(options,topNode)}}try{$document[0].execCommand(command,showUI,options)}catch(e){console.log(e)}}}}]).service("taSelection",["$window","$document","taDOM","$rootScope",function($window,$document,taDOM,$rootScope){var _document=$document[0],rangy=$window.rangy,brException=function(element,offset){return element.tagName&&element.tagName.match(/^br$/i)&&0===offset&&!element.previousSibling?{element:element.parentNode,offset:0}:{element:element,offset:offset}},api={getSelection:function(){var range=rangy.getSelection().getRangeAt(0),container=range.commonAncestorContainer,selection={start:brException(range.startContainer,range.startOffset),end:brException(range.endContainer,range.endOffset),collapsed:range.collapsed};return container=3===container.nodeType?container.parentNode:container,container.parentNode===selection.start.element||container.parentNode===selection.end.element?selection.container=container.parentNode:selection.container=container,$rootScope.lastSelection=range,selection},getOnlySelectedElements:function(){var range=rangy.getSelection().getRangeAt(0),container=range.commonAncestorContainer;return container=3===container.nodeType?container.parentNode:container,range.getNodes([1],function(node){return node.parentNode===container})},getSelectionElement:function(){return api.getSelection().container},setSelection:function(el,start,end){var range=rangy.createRange();range.setStart(el,start),range.setEnd(el,end),rangy.getSelection().setSingleRange(range)},setSelectionBeforeElement:function(el){var range=rangy.createRange();range.selectNode(el),range.collapse(!0),rangy.getSelection().setSingleRange(range)},setSelectionAfterElement:function(el){var range=rangy.createRange();range.selectNode(el),range.collapse(!1),rangy.getSelection().setSingleRange(range)},setSelectionToElementStart:function(el){var range=rangy.createRange();range.selectNodeContents(el),range.collapse(!0),rangy.getSelection().setSingleRange(range)},setSelectionToElementEnd:function(el){var range=rangy.createRange();range.selectNodeContents(el),range.collapse(!1),el.childNodes&&el.childNodes[el.childNodes.length-1]&&"br"===el.childNodes[el.childNodes.length-1].nodeName&&(range.startOffset=range.endOffset=range.startOffset-1),rangy.getSelection().setSingleRange(range)},insertHtml:function(html,topNode,rangyGiven){var parent,secondParent,_childI,nodes,i,lastNode,_tempFrag,element=angular.element("<div>"+html+"</div>"),range=rangyGiven||rangy.getSelection().getRangeAt(0),frag=_document.createDocumentFragment(),children=element[0].childNodes,isInline=!0;if(children.length>0){for(nodes=[],_childI=0;_childI<children.length;_childI++)"p"===children[_childI].nodeName.toLowerCase()&&""===children[_childI].innerHTML.trim()||3===children[_childI].nodeType&&""===children[_childI].nodeValue.trim()||(isInline=isInline&&!BLOCKELEMENTS.test(children[_childI].nodeName),nodes.push(children[_childI]));for(var _n=0;_n<nodes.length;_n++)lastNode=frag.appendChild(nodes[_n]);!isInline&&range.collapsed&&/^(|<br(|\/)>)$/i.test(range.startContainer.innerHTML)&&range.selectNode(range.startContainer)}else isInline=!0,lastNode=frag=_document.createTextNode(html);if(isInline);else if(range.collapsed&&range.startContainer!==topNode)if(range.startContainer.innerHTML&&range.startContainer.innerHTML.match(/^<[^>]*>$/i))parent=range.startContainer,
1===range.startOffset?(range.setStartAfter(parent),range.setEndAfter(parent)):(range.setStartBefore(parent),range.setEndBefore(parent));else{if(3===range.startContainer.nodeType&&range.startContainer.parentNode!==topNode)for(parent=range.startContainer.parentNode,secondParent=parent.cloneNode(),taDOM.splitNodes(parent.childNodes,parent,secondParent,range.startContainer,range.startOffset);!VALIDELEMENTS.test(parent.nodeName);){angular.element(parent).after(secondParent),parent=parent.parentNode;var _lastSecondParent=secondParent;secondParent=parent.cloneNode(),taDOM.splitNodes(parent.childNodes,parent,secondParent,_lastSecondParent)}else parent=range.startContainer,secondParent=parent.cloneNode(),taDOM.splitNodes(parent.childNodes,parent,secondParent,void 0,void 0,range.startOffset);if(angular.element(parent).after(secondParent),range.setStartAfter(parent),range.setEndAfter(parent),/^(|<br(|\/)>)$/i.test(parent.innerHTML.trim())&&(range.setStartBefore(parent),range.setEndBefore(parent),angular.element(parent).remove()),/^(|<br(|\/)>)$/i.test(secondParent.innerHTML.trim())&&angular.element(secondParent).remove(),"li"===parent.nodeName.toLowerCase()){for(_tempFrag=_document.createDocumentFragment(),i=0;i<frag.childNodes.length;i++)element=angular.element("<li>"),taDOM.transferChildNodes(frag.childNodes[i],element[0]),taDOM.transferNodeAttributes(frag.childNodes[i],element[0]),_tempFrag.appendChild(element[0]);frag=_tempFrag,lastNode&&(lastNode=frag.childNodes[frag.childNodes.length-1],lastNode=lastNode.childNodes[lastNode.childNodes.length-1])}}else range.deleteContents();range.insertNode(frag),lastNode&&api.setSelectionToElementEnd(lastNode)}};return api}]).service("taDOM",function(){var taDOM={getByAttribute:function(element,attribute){var resultingElements=[],childNodes=element.children();return childNodes.length&&angular.forEach(childNodes,function(child){resultingElements=resultingElements.concat(taDOM.getByAttribute(angular.element(child),attribute))}),void 0!==element.attr(attribute)&&resultingElements.push(element),resultingElements},transferChildNodes:function(source,target){for(target.innerHTML="";source.childNodes.length>0;)target.appendChild(source.childNodes[0]);return target},splitNodes:function(nodes,target1,target2,splitNode,subSplitIndex,splitIndex){if(!splitNode&&isNaN(splitIndex))throw new Error("taDOM.splitNodes requires a splitNode or splitIndex");for(var startNodes=document.createDocumentFragment(),endNodes=document.createDocumentFragment(),index=0;nodes.length>0&&(isNaN(splitIndex)||splitIndex!==index)&&nodes[0]!==splitNode;)startNodes.appendChild(nodes[0]),index++;for(!isNaN(subSplitIndex)&&subSplitIndex>=0&&nodes[0]&&(startNodes.appendChild(document.createTextNode(nodes[0].nodeValue.substring(0,subSplitIndex))),nodes[0].nodeValue=nodes[0].nodeValue.substring(subSplitIndex));nodes.length>0;)endNodes.appendChild(nodes[0]);taDOM.transferChildNodes(startNodes,target1),taDOM.transferChildNodes(endNodes,target2)},transferNodeAttributes:function(source,target){for(var i=0;i<source.attributes.length;i++)target.setAttribute(source.attributes[i].name,source.attributes[i].value);return target}};return taDOM}),angular.module("textAngular.validators",[]).directive("taMaxText",function(){return{restrict:"A",require:"ngModel",link:function(scope,elem,attrs,ctrl){var max=parseInt(scope.$eval(attrs.taMaxText));if(isNaN(max))throw"Max text must be an integer";attrs.$observe("taMaxText",function(value){if(max=parseInt(value),isNaN(max))throw"Max text must be an integer";ctrl.$dirty&&ctrl.$validate()}),ctrl.$validators.taMaxText=function(viewValue){var source=angular.element("<div/>");return source.html(viewValue),source.text().length<=max}}}}).directive("taMinText",function(){return{restrict:"A",require:"ngModel",link:function(scope,elem,attrs,ctrl){var min=parseInt(scope.$eval(attrs.taMinText));if(isNaN(min))throw"Min text must be an integer";attrs.$observe("taMinText",function(value){if(min=parseInt(value),isNaN(min))throw"Min text must be an integer";ctrl.$dirty&&ctrl.$validate()}),ctrl.$validators.taMinText=function(viewValue){var source=angular.element("<div/>");return source.html(viewValue),!source.text().length||source.text().length>=min}}}}),angular.module("textAngular.taBind",["textAngular.factories","textAngular.DOM"]).service("_taBlankTest",[function(){var INLINETAGS_NONBLANK=/<(a|abbr|acronym|bdi|bdo|big|cite|code|del|dfn|img|ins|kbd|label|map|mark|q|ruby|rp|rt|s|samp|time|tt|var)[^>]*(>|$)/i;return function(_defaultTest){return function(_blankVal){if(!_blankVal)return!0;var _firstTagIndex,_firstMatch=/(^[^<]|>)[^<]/i.exec(_blankVal);return _firstMatch?_firstTagIndex=_firstMatch.index:(_blankVal=_blankVal.toString().replace(/="[^"]*"/i,"").replace(/="[^"]*"/i,"").replace(/="[^"]*"/i,"").replace(/="[^"]*"/i,""),_firstTagIndex=_blankVal.indexOf(">")),_blankVal=_blankVal.trim().substring(_firstTagIndex,_firstTagIndex+100),!/^[^<>]+$/i.test(_blankVal)&&(!(0!==_blankVal.length&&_blankVal!==_defaultTest&&!/^>(\s|&nbsp;)*<\/[^>]+>$/gi.test(_blankVal))||!/>\s*[^\s<]/i.test(_blankVal)&&!INLINETAGS_NONBLANK.test(_blankVal))}}}]).directive("taButton",[function(){return{link:function(scope,element,attrs){element.attr("unselectable","on"),element.on("mousedown",function(e,eventData){return eventData&&angular.extend(e,eventData),e.preventDefault(),!1})}}}]).directive("taBind",["taSanitize","$timeout","$window","$document","taFixChrome","taBrowserTag","taSelection","taSelectableElements","taApplyCustomRenderers","taOptions","_taBlankTest","$parse","taDOM",function(taSanitize,$timeout,$window,$document,taFixChrome,taBrowserTag,taSelection,taSelectableElements,taApplyCustomRenderers,taOptions,_taBlankTest,$parse,taDOM){return{priority:2,require:["ngModel","?ngModelOptions"],link:function(scope,element,attrs,controller){var _lastKey,_pasteHandler,_defaultVal,_defaultTest,ngModel=controller[0],ngModelOptions=controller[1]||{},_isContentEditable=void 0!==element.attr("contenteditable")&&element.attr("contenteditable"),_isInputFriendly=_isContentEditable||"textarea"===element[0].tagName.toLowerCase()||"input"===element[0].tagName.toLowerCase(),_isReadonly=!1,_focussed=!1,_skipRender=!1,_disableSanitizer=attrs.taUnsafeSanitizer||taOptions.disableSanitizer,BLOCKED_KEYS=/^(9|19|20|27|33|34|35|36|37|38|39|40|45|112|113|114|115|116|117|118|119|120|121|122|123|144|145)$/i,UNDO_TRIGGER_KEYS=/^(8|13|32|46|59|61|107|109|186|187|188|189|190|191|192|219|220|221|222)$/i;void 0===attrs.taDefaultWrap&&(attrs.taDefaultWrap="p"),""===attrs.taDefaultWrap?(_defaultVal="",_defaultTest=void 0===_browserDetect.ie?"<div><br></div>":_browserDetect.ie>=11?"<p><br></p>":_browserDetect.ie<=8?"<P>&nbsp;</P>":"<p>&nbsp;</p>"):(_defaultVal=void 0===_browserDetect.ie||_browserDetect.ie>=11?"<"+attrs.taDefaultWrap+"><br></"+attrs.taDefaultWrap+">":_browserDetect.ie<=8?"<"+attrs.taDefaultWrap.toUpperCase()+"></"+attrs.taDefaultWrap.toUpperCase()+">":"<"+attrs.taDefaultWrap+"></"+attrs.taDefaultWrap+">",_defaultTest=void 0===_browserDetect.ie||_browserDetect.ie>=11?"<"+attrs.taDefaultWrap+"><br></"+attrs.taDefaultWrap+">":_browserDetect.ie<=8?"<"+attrs.taDefaultWrap.toUpperCase()+">&nbsp;</"+attrs.taDefaultWrap.toUpperCase()+">":"<"+attrs.taDefaultWrap+">&nbsp;</"+attrs.taDefaultWrap+">"),ngModelOptions.$options||(ngModelOptions.$options={});var _blankTest=_taBlankTest(_defaultTest),_ensureContentWrapped=function(value){if(_blankTest(value))return value;var domTest=angular.element("<div>"+value+"</div>");if(0===domTest.children().length)value="<"+attrs.taDefaultWrap+">"+value+"</"+attrs.taDefaultWrap+">";else{var i,_children=domTest[0].childNodes,_foundBlockElement=!1;for(i=0;i<_children.length&&!(_foundBlockElement=_children[i].nodeName.toLowerCase().match(BLOCKELEMENTS));i++);if(_foundBlockElement)for(value="",i=0;i<_children.length;i++)if(_children[i].nodeName.toLowerCase().match(BLOCKELEMENTS))value+=_children[i].outerHTML;else{var _subVal=_children[i].outerHTML||_children[i].nodeValue;value+=""!==_subVal.trim()?"<"+attrs.taDefaultWrap+">"+_subVal+"</"+attrs.taDefaultWrap+">":_subVal}else value="<"+attrs.taDefaultWrap+">"+value+"</"+attrs.taDefaultWrap+">"}return value};attrs.taPaste&&(_pasteHandler=$parse(attrs.taPaste)),element.addClass("ta-bind");var _undoKeyupTimeout;scope["$undoManager"+(attrs.id||"")]=ngModel.$undoManager={_stack:[],_index:0,_max:1e3,push:function(value){return"undefined"==typeof value||null===value||"undefined"!=typeof this.current()&&null!==this.current()&&value===this.current()?value:(this._index<this._stack.length-1&&(this._stack=this._stack.slice(0,this._index+1)),this._stack.push(value),_undoKeyupTimeout&&$timeout.cancel(_undoKeyupTimeout),this._stack.length>this._max&&this._stack.shift(),this._index=this._stack.length-1,value)},undo:function(){return this.setToIndex(this._index-1)},redo:function(){return this.setToIndex(this._index+1)},setToIndex:function(index){if(!(index<0||index>this._stack.length-1))return this._index=index,this.current()},current:function(){return this._stack[this._index]}};var _redoUndoTimeout,_undo=scope["$undoTaBind"+(attrs.id||"")]=function(){if(!_isReadonly&&_isContentEditable){var content=ngModel.$undoManager.undo();"undefined"!=typeof content&&null!==content&&(_setInnerHTML(content),_setViewValue(content,!1),_redoUndoTimeout&&$timeout.cancel(_redoUndoTimeout),_redoUndoTimeout=$timeout(function(){element[0].focus(),taSelection.setSelectionToElementEnd(element[0])},1))}},_redo=scope["$redoTaBind"+(attrs.id||"")]=function(){if(!_isReadonly&&_isContentEditable){var content=ngModel.$undoManager.redo();"undefined"!=typeof content&&null!==content&&(_setInnerHTML(content),_setViewValue(content,!1),_redoUndoTimeout&&$timeout.cancel(_redoUndoTimeout),_redoUndoTimeout=$timeout(function(){element[0].focus(),taSelection.setSelectionToElementEnd(element[0])},1))}},_compileHtml=function(){if(_isContentEditable)return element[0].innerHTML;if(_isInputFriendly)return element.val();throw"textAngular Error: attempting to update non-editable taBind"},_setViewValue=function(_val,triggerUndo,skipRender){_skipRender=skipRender||!1,"undefined"!=typeof triggerUndo&&null!==triggerUndo||(triggerUndo=_isContentEditable),"undefined"!=typeof _val&&null!==_val||(_val=_compileHtml()),_blankTest(_val)?(""!==ngModel.$viewValue&&ngModel.$setViewValue(""),triggerUndo&&""!==ngModel.$undoManager.current()&&ngModel.$undoManager.push("")):(_reApplyOnSelectorHandlers(),ngModel.$viewValue!==_val&&(ngModel.$setViewValue(_val),triggerUndo&&ngModel.$undoManager.push(_val))),ngModel.$render()};scope["updateTaBind"+(attrs.id||"")]=function(){_isReadonly||_setViewValue(void 0,void 0,!0)};var _sanitize=function(unsafe){return ngModel.$oldViewValue=taSanitize(taFixChrome(unsafe),ngModel.$oldViewValue,_disableSanitizer)};if(element.attr("required")&&(ngModel.$validators.required=function(modelValue,viewValue){return!_blankTest(modelValue||viewValue)}),ngModel.$parsers.push(_sanitize),ngModel.$parsers.unshift(_ensureContentWrapped),ngModel.$formatters.push(_sanitize),ngModel.$formatters.unshift(_ensureContentWrapped),ngModel.$formatters.unshift(function(value){return ngModel.$undoManager.push(value||"")}),_isInputFriendly)if(scope.events={},_isContentEditable){var _processingPaste=!1,processpaste=function(text){if(text&&text.trim().length){if(text.match(/class=["']*Mso(Normal|List)/i)){var textFragment=text.match(/<!--StartFragment-->([\s\S]*?)<!--EndFragment-->/i);textFragment=textFragment?textFragment[1]:text,textFragment=textFragment.replace(/<o:p>[\s\S]*?<\/o:p>/gi,"").replace(/class=(["']|)MsoNormal(["']|)/gi,"");var dom=angular.element("<div>"+textFragment+"</div>"),targetDom=angular.element("<div></div>"),_list={element:null,lastIndent:[],lastLi:null,isUl:!1};_list.lastIndent.peek=function(){var n=this.length;if(n>0)return this[n-1]};for(var _resetList=function(isUl){_list.isUl=isUl,_list.element=angular.element(isUl?"<ul>":"<ol>"),_list.lastIndent=[],_list.lastIndent.peek=function(){var n=this.length;if(n>0)return this[n-1]},_list.lastLevelMatch=null},i=0;i<=dom[0].childNodes.length;i++)if(dom[0].childNodes[i]&&"#text"!==dom[0].childNodes[i].nodeName&&"p"===dom[0].childNodes[i].tagName.toLowerCase()){var el=angular.element(dom[0].childNodes[i]),_listMatch=(el.attr("class")||"").match(/MsoList(Bullet|Number|Paragraph)(CxSp(First|Middle|Last)|)/i);if(_listMatch){if(el[0].childNodes.length<2||el[0].childNodes[1].childNodes.length<1)continue;var isUl="bullet"===_listMatch[1].toLowerCase()||"number"!==_listMatch[1].toLowerCase()&&!(/^[^0-9a-z<]*[0-9a-z]+[^0-9a-z<>]</i.test(el[0].childNodes[1].innerHTML)||/^[^0-9a-z<]*[0-9a-z]+[^0-9a-z<>]</i.test(el[0].childNodes[1].childNodes[0].innerHTML)),_indentMatch=(el.attr("style")||"").match(/margin-left:([\-\.0-9]*)/i),indent=parseFloat(_indentMatch?_indentMatch[1]:0),_levelMatch=(el.attr("style")||"").match(/mso-list:l([0-9]+) level([0-9]+) lfo[0-9+]($|;)/i);if(_levelMatch&&_levelMatch[2]&&(indent=parseInt(_levelMatch[2])),_levelMatch&&(!_list.lastLevelMatch||_levelMatch[1]!==_list.lastLevelMatch[1])||!_listMatch[3]||"first"===_listMatch[3].toLowerCase()||null===_list.lastIndent.peek()||_list.isUl!==isUl&&_list.lastIndent.peek()===indent)_resetList(isUl),targetDom.append(_list.element);else if(null!=_list.lastIndent.peek()&&_list.lastIndent.peek()<indent)_list.element=angular.element(isUl?"<ul>":"<ol>"),_list.lastLi.append(_list.element);else if(null!=_list.lastIndent.peek()&&_list.lastIndent.peek()>indent){for(;null!=_list.lastIndent.peek()&&_list.lastIndent.peek()>indent;)if("li"!==_list.element.parent()[0].tagName.toLowerCase()){if(!/[uo]l/i.test(_list.element.parent()[0].tagName.toLowerCase()))break;_list.element=_list.element.parent(),_list.lastIndent.pop()}else _list.element=_list.element.parent();_list.isUl="ul"===_list.element[0].tagName.toLowerCase(),isUl!==_list.isUl&&(_resetList(isUl),targetDom.append(_list.element))}_list.lastLevelMatch=_levelMatch,indent!==_list.lastIndent.peek()&&_list.lastIndent.push(indent),_list.lastLi=angular.element("<li>"),_list.element.append(_list.lastLi),_list.lastLi.html(el.html().replace(/<!(--|)\[if !supportLists\](--|)>[\s\S]*?<!(--|)\[endif\](--|)>/gi,"")),el.remove()}else _resetList(!1),targetDom.append(el)}var _unwrapElement=function(node){node=angular.element(node);for(var _n=node[0].childNodes.length-1;_n>=0;_n--)node.after(node[0].childNodes[_n]);node.remove()};angular.forEach(targetDom.find("span"),function(node){node.removeAttribute("lang"),node.attributes.length<=0&&_unwrapElement(node)}),angular.forEach(targetDom.find("font"),_unwrapElement),text=targetDom.html()}else{if(text=text.replace(/<(|\/)meta[^>]*?>/gi,""),text.match(/<[^>]*?(ta-bind)[^>]*?>/)){if(text.match(/<[^>]*?(text-angular)[^>]*?>/)){var _el=angular.element("<div>"+text+"</div>");_el.find("textarea").remove();for(var binds=taDOM.getByAttribute(_el,"ta-bind"),_b=0;_b<binds.length;_b++){for(var _target=binds[_b][0].parentNode.parentNode,_c=0;_c<binds[_b][0].childNodes.length;_c++)_target.parentNode.insertBefore(binds[_b][0].childNodes[_c],_target);_target.parentNode.removeChild(_target)}text=_el.html().replace('<br class="Apple-interchange-newline">',"")}}else text.match(/^<span/)&&(text=text.replace(/<(|\/)span[^>]*?>/gi,""));text=text.replace(/<br class="Apple-interchange-newline"[^>]*?>/gi,"").replace(/<span class="Apple-converted-space">( |&nbsp;)<\/span>/gi,"&nbsp;")}/<li(\s.*)?>/i.test(text)&&/(<ul(\s.*)?>|<ol(\s.*)?>).*<li(\s.*)?>/i.test(text)===!1&&(text=text.replace(/<li(\s.*)?>.*<\/li(\s.*)?>/i,"<ul>$&</ul>")),_pasteHandler&&(text=_pasteHandler(scope,{$html:text})||text),text=taSanitize(text,"",_disableSanitizer),taSelection.insertHtml(text,element[0]),$timeout(function(){ngModel.$setViewValue(_compileHtml()),_processingPaste=!1,element.removeClass("processing-paste")},0)}else _processingPaste=!1,element.removeClass("processing-paste")};element.on("paste",scope.events.paste=function(e,eventData){if(eventData&&angular.extend(e,eventData),_isReadonly||_processingPaste)return e.stopPropagation(),e.preventDefault(),!1;_processingPaste=!0,element.addClass("processing-paste");var pastedContent,clipboardData=(e.originalEvent||e).clipboardData;if(clipboardData&&clipboardData.getData&&clipboardData.types.length>0){for(var _types="",_t=0;_t<clipboardData.types.length;_t++)_types+=" "+clipboardData.types[_t];return/text\/html/i.test(_types)?pastedContent=clipboardData.getData("text/html"):/text\/plain/i.test(_types)&&(pastedContent=clipboardData.getData("text/plain")),processpaste(pastedContent),e.stopPropagation(),e.preventDefault(),!1}var _savedSelection=$window.rangy.saveSelection(),_tempDiv=angular.element('<div class="ta-hidden-input" contenteditable="true"></div>');$document.find("body").append(_tempDiv),_tempDiv[0].focus(),$timeout(function(){$window.rangy.restoreSelection(_savedSelection),processpaste(_tempDiv[0].innerHTML),element[0].focus(),_tempDiv.remove()},0)}),element.on("cut",scope.events.cut=function(e){_isReadonly?e.preventDefault():$timeout(function(){ngModel.$setViewValue(_compileHtml())},0)}),element.on("keydown",scope.events.keydown=function(event,eventData){if(eventData&&angular.extend(event,eventData),!_isReadonly)if(event.altKey||!event.metaKey&&!event.ctrlKey){if(13===event.keyCode&&!event.shiftKey){var $selection,selection=taSelection.getSelectionElement();if(!selection.tagName.match(VALIDELEMENTS))return;var _new=angular.element(_defaultVal);if(/^<br(|\/)>$/i.test(selection.innerHTML.trim())&&"blockquote"===selection.parentNode.tagName.toLowerCase()&&!selection.nextSibling){$selection=angular.element(selection);var _parent=$selection.parent();_parent.after(_new),$selection.remove(),0===_parent.children().length&&_parent.remove(),taSelection.setSelectionToElementStart(_new[0]),event.preventDefault()}else/^<[^>]+><br(|\/)><\/[^>]+>$/i.test(selection.innerHTML.trim())&&"blockquote"===selection.tagName.toLowerCase()&&($selection=angular.element(selection),$selection.after(_new),$selection.remove(),taSelection.setSelectionToElementStart(_new[0]),event.preventDefault())}}else 90!==event.keyCode||event.shiftKey?(90===event.keyCode&&event.shiftKey||89===event.keyCode&&!event.shiftKey)&&(_redo(),event.preventDefault()):(_undo(),event.preventDefault())});var _keyupTimeout;if(element.on("keyup",scope.events.keyup=function(event,eventData){if(eventData&&angular.extend(event,eventData),9===event.keyCode){var _selection=taSelection.getSelection();return void(_selection.start.element===element[0]&&element.children().length&&taSelection.setSelectionToElementStart(element.children()[0]))}if(_undoKeyupTimeout&&$timeout.cancel(_undoKeyupTimeout),!_isReadonly&&!BLOCKED_KEYS.test(event.keyCode)){if(""!==_defaultVal&&13===event.keyCode&&!event.shiftKey){for(var selection=taSelection.getSelectionElement();!selection.tagName.match(VALIDELEMENTS)&&selection!==element[0];)selection=selection.parentNode;if(selection.tagName.toLowerCase()!==attrs.taDefaultWrap&&"li"!==selection.tagName.toLowerCase()&&(""===selection.innerHTML.trim()||"<br>"===selection.innerHTML.trim())){var _new=angular.element(_defaultVal);angular.element(selection).replaceWith(_new),taSelection.setSelectionToElementStart(_new[0])}}var val=_compileHtml();if(""!==_defaultVal&&""===val.trim())_setInnerHTML(_defaultVal),taSelection.setSelectionToElementStart(element.children()[0]);else if("<"!==val.substring(0,1)&&""!==attrs.taDefaultWrap){var _savedSelection=$window.rangy.saveSelection();val=_compileHtml(),val="<"+attrs.taDefaultWrap+">"+val+"</"+attrs.taDefaultWrap+">",_setInnerHTML(val),$window.rangy.restoreSelection(_savedSelection)}var triggerUndo=_lastKey!==event.keyCode&&UNDO_TRIGGER_KEYS.test(event.keyCode);_keyupTimeout&&$timeout.cancel(_keyupTimeout),_keyupTimeout=$timeout(function(){_setViewValue(val,triggerUndo,!0)},ngModelOptions.$options.debounce||400),triggerUndo||(_undoKeyupTimeout=$timeout(function(){ngModel.$undoManager.push(val)},250)),_lastKey=event.keyCode}}),element.on("blur",scope.events.blur=function(){_focussed=!1,_isReadonly?(_skipRender=!0,ngModel.$render()):_setViewValue(void 0,void 0,!0)}),attrs.placeholder&&(_browserDetect.ie>8||void 0===_browserDetect.ie)){var rule;if(!attrs.id)throw"textAngular Error: An unique ID is required for placeholders to work";rule=addCSSRule("#"+attrs.id+".placeholder-text:before",'content: "'+attrs.placeholder+'"'),scope.$on("$destroy",function(){removeCSSRule(rule)})}element.on("focus",scope.events.focus=function(){_focussed=!0,element.removeClass("placeholder-text")}),element.on("mouseup",scope.events.mouseup=function(){var _selection=taSelection.getSelection();_selection.start.element===element[0]&&element.children().length&&taSelection.setSelectionToElementStart(element.children()[0])}),element.on("mousedown",scope.events.mousedown=function(event,eventData){eventData&&angular.extend(event,eventData),event.stopPropagation()})}else{element.on("change blur",scope.events.change=scope.events.blur=function(){_isReadonly||ngModel.$setViewValue(_compileHtml())}),element.on("keydown",scope.events.keydown=function(event,eventData){if(eventData&&angular.extend(event,eventData),9===event.keyCode){var start=this.selectionStart,end=this.selectionEnd,value=element.val();if(event.shiftKey){var _linebreak=value.lastIndexOf("\n",start),_tab=value.lastIndexOf("\t",start);_tab!==-1&&_tab>=_linebreak&&(element.val(value.substring(0,_tab)+value.substring(_tab+1)),this.selectionStart=this.selectionEnd=start-1)}else element.val(value.substring(0,start)+"\t"+value.substring(end)),this.selectionStart=this.selectionEnd=start+1;event.preventDefault()}});var _repeat=function(string,n){for(var result="",_n=0;_n<n;_n++)result+=string;return result},recursiveListFormat=function(listNode,tablevel){var _html="",_children=listNode.childNodes;tablevel++,_html+=_repeat("\t",tablevel-1)+listNode.outerHTML.substring(0,listNode.outerHTML.indexOf("<li"));for(var _i=0;_i<_children.length;_i++)_children[_i].outerHTML&&(_html+="ul"===_children[_i].nodeName.toLowerCase()||"ol"===_children[_i].nodeName.toLowerCase()?"\n"+recursiveListFormat(_children[_i],tablevel):"\n"+_repeat("\t",tablevel)+_children[_i].outerHTML);return _html+="\n"+_repeat("\t",tablevel-1)+listNode.outerHTML.substring(listNode.outerHTML.lastIndexOf("<"))};ngModel.$formatters.unshift(function(htmlValue){var _children=angular.element("<div>"+htmlValue+"</div>")[0].childNodes;if(_children.length>0){htmlValue="";for(var i=0;i<_children.length;i++)_children[i].outerHTML&&(htmlValue.length>0&&(htmlValue+="\n"),htmlValue+="ul"===_children[i].nodeName.toLowerCase()||"ol"===_children[i].nodeName.toLowerCase()?""+recursiveListFormat(_children[i],0):""+_children[i].outerHTML)}return htmlValue})}var _renderTimeout,selectorClickHandler=function(event){return scope.$emit("ta-element-select",this),event.preventDefault(),!1},fileDropHandler=function(event,eventData){if(eventData&&angular.extend(event,eventData),!dropFired&&!_isReadonly){dropFired=!0;var dataTransfer;dataTransfer=event.originalEvent?event.originalEvent.dataTransfer:event.dataTransfer,scope.$emit("ta-drop-event",this,event,dataTransfer),$timeout(function(){dropFired=!1,_setViewValue(void 0,void 0,!0)},100)}},_reApplyOnSelectorHandlers=scope["reApplyOnSelectorHandlers"+(attrs.id||"")]=function(){_isReadonly||angular.forEach(taSelectableElements,function(selector){element.find(selector).off("click",selectorClickHandler).on("click",selectorClickHandler)})},_setInnerHTML=function(newval){element[0].innerHTML=newval},_renderInProgress=!1;ngModel.$render=function(){if(!_renderInProgress){_renderInProgress=!0;var val=ngModel.$viewValue||"";_skipRender||(_isContentEditable&&_focussed&&(element.removeClass("placeholder-text"),_renderTimeout&&$timeout.cancel(_renderTimeout),_renderTimeout=$timeout(function(){_focussed||(element[0].focus(),taSelection.setSelectionToElementEnd(element.children()[element.children().length-1])),_renderTimeout=void 0},1)),_isContentEditable?(_setInnerHTML(attrs.placeholder?""===val?_defaultVal:val:""===val?_defaultVal:val),_isReadonly?element.off("drop",fileDropHandler):(_reApplyOnSelectorHandlers(),element.on("drop",fileDropHandler))):"textarea"!==element[0].tagName.toLowerCase()&&"input"!==element[0].tagName.toLowerCase()?_setInnerHTML(taApplyCustomRenderers(val)):element.val(val)),_isContentEditable&&attrs.placeholder&&(""===val?_focussed?element.removeClass("placeholder-text"):element.addClass("placeholder-text"):element.removeClass("placeholder-text")),_renderInProgress=_skipRender=!1}},attrs.taReadonly&&(_isReadonly=scope.$eval(attrs.taReadonly),_isReadonly?(element.addClass("ta-readonly"),"textarea"!==element[0].tagName.toLowerCase()&&"input"!==element[0].tagName.toLowerCase()||element.attr("disabled","disabled"),void 0!==element.attr("contenteditable")&&element.attr("contenteditable")&&element.removeAttr("contenteditable")):(element.removeClass("ta-readonly"),"textarea"===element[0].tagName.toLowerCase()||"input"===element[0].tagName.toLowerCase()?element.removeAttr("disabled"):_isContentEditable&&element.attr("contenteditable","true")),scope.$watch(attrs.taReadonly,function(newVal,oldVal){oldVal!==newVal&&(newVal?(element.addClass("ta-readonly"),"textarea"!==element[0].tagName.toLowerCase()&&"input"!==element[0].tagName.toLowerCase()||element.attr("disabled","disabled"),void 0!==element.attr("contenteditable")&&element.attr("contenteditable")&&element.removeAttr("contenteditable"),angular.forEach(taSelectableElements,function(selector){element.find(selector).on("click",selectorClickHandler)}),element.off("drop",fileDropHandler)):(element.removeClass("ta-readonly"),"textarea"===element[0].tagName.toLowerCase()||"input"===element[0].tagName.toLowerCase()?element.removeAttr("disabled"):_isContentEditable&&element.attr("contenteditable","true"),angular.forEach(taSelectableElements,function(selector){element.find(selector).off("click",selectorClickHandler)}),element.on("drop",fileDropHandler)),_isReadonly=newVal)})),_isContentEditable&&!_isReadonly&&(angular.forEach(taSelectableElements,function(selector){element.find(selector).on("click",selectorClickHandler)}),element.on("drop",fileDropHandler),element.on("blur",function(){_browserDetect.webkit&&(globalContentEditableBlur=!0)}))}}}]);var dropFired=!1,textAngular=angular.module("textAngular",["ngSanitize","textAngularSetup","textAngular.factories","textAngular.DOM","textAngular.validators","textAngular.taBind"]),taTools={};textAngular.constant("taRegisterTool",registerTextAngularTool),textAngular.value("taTools",taTools),textAngular.config([function(){angular.forEach(taTools,function(value,key){delete taTools[key]})}]),textAngular.run([function(){if(!window.rangy)throw"rangy-core.js and rangy-selectionsaverestore.js are required for textAngular to work correctly, rangy-core is not yet loaded.";if(window.rangy.init(),!window.rangy.saveSelection)throw"rangy-selectionsaverestore.js is required for textAngular to work correctly."}]),textAngular.directive("textAngular",["$compile","$timeout","taOptions","taSelection","taExecCommand","textAngularManager","$window","$document","$animate","$log","$q","$parse",function($compile,$timeout,taOptions,taSelection,taExecCommand,textAngularManager,$window,$document,$animate,$log,$q,$parse){return{require:"?ngModel",scope:{},restrict:"EA",priority:2,link:function(scope,element,attrs,ngModel){var _keydown,_keyup,_keypress,_mouseup,_focusin,_focusout,_originalContents,_toolbars,_taExecCommand,_resizeMouseDown,_updateSelectedStylesTimeout,_serial=attrs.serial?attrs.serial:Math.floor(1e16*Math.random());scope._name=attrs.name?attrs.name:"textAngularEditor"+_serial;var oneEvent=function(_element,event,action){$timeout(function(){var _func=function(){_element.off(event,_func),action.apply(this,arguments)};_element.on(event,_func)},100)};if(_taExecCommand=taExecCommand(attrs.taDefaultWrap),angular.extend(scope,angular.copy(taOptions),{wrapSelection:function(command,opt,isSelectableElementTool){"undo"===command.toLowerCase()?scope["$undoTaBindtaTextElement"+_serial]():"redo"===command.toLowerCase()?scope["$redoTaBindtaTextElement"+_serial]():(_taExecCommand(command,!1,opt,scope.defaultTagAttributes),isSelectableElementTool&&scope["reApplyOnSelectorHandlerstaTextElement"+_serial](),scope.displayElements.text[0].focus())},showHtml:scope.$eval(attrs.taShowHtml)||!1}),attrs.taFocussedClass&&(scope.classes.focussed=attrs.taFocussedClass),attrs.taTextEditorClass&&(scope.classes.textEditor=attrs.taTextEditorClass),attrs.taHtmlEditorClass&&(scope.classes.htmlEditor=attrs.taHtmlEditorClass),attrs.taDefaultTagAttributes)try{angular.extend(scope.defaultTagAttributes,angular.fromJson(attrs.taDefaultTagAttributes))}catch(error){$log.error(error)}attrs.taTextEditorSetup&&(scope.setup.textEditorSetup=scope.$parent.$eval(attrs.taTextEditorSetup)),attrs.taHtmlEditorSetup&&(scope.setup.htmlEditorSetup=scope.$parent.$eval(attrs.taHtmlEditorSetup)),attrs.taFileDrop?scope.fileDropHandler=scope.$parent.$eval(attrs.taFileDrop):scope.fileDropHandler=scope.defaultFileDropHandler,_originalContents=element[0].innerHTML,element[0].innerHTML="",scope.displayElements={forminput:angular.element("<input type='hidden' tabindex='-1' style='display: none;'>"),html:angular.element("<textarea></textarea>"),text:angular.element("<div></div>"),scrollWindow:angular.element("<div class='ta-scroll-window'></div>"),popover:angular.element('<div class="popover sv-popover fade bottom" style="max-width: none; width: 305px;"></div>'),popoverArrow:angular.element('<div class="arrow"></div>'),popoverContainer:angular.element('<div class="popover-content"></div>'),resize:{overlay:angular.element('<div class="ta-resizer-handle-overlay"></div>'),background:angular.element('<div class="ta-resizer-handle-background"></div>'),anchors:[angular.element('<div class="ta-resizer-handle-corner ta-resizer-handle-corner-tl"></div>'),angular.element('<div class="ta-resizer-handle-corner ta-resizer-handle-corner-tr"></div>'),angular.element('<div class="ta-resizer-handle-corner ta-resizer-handle-corner-bl"></div>'),angular.element('<div class="ta-resizer-handle-corner ta-resizer-handle-corner-br"></div>')],info:angular.element('<div class="ta-resizer-handle-info"></div>')}},scope.displayElements.popover.append(scope.displayElements.popoverArrow),scope.displayElements.popover.append(scope.displayElements.popoverContainer),scope.displayElements.scrollWindow.append(scope.displayElements.popover),scope.displayElements.popover.on("mousedown",function(e,eventData){return eventData&&angular.extend(e,eventData),e.preventDefault(),!1}),scope.showPopover=function(_el){scope.displayElements.popover.css("display","block"),scope.reflowPopover(_el),$animate.addClass(scope.displayElements.popover,"in"),oneEvent($document.find("body"),"click keyup",function(){scope.hidePopover()})},scope.reflowPopover=function(_el){scope.displayElements.text[0].offsetHeight-51>_el[0].offsetTop?(scope.displayElements.popover.css("top",_el[0].offsetTop+_el[0].offsetHeight+scope.displayElements.scrollWindow[0].scrollTop+"px"),scope.displayElements.popover.removeClass("top").addClass("bottom")):(scope.displayElements.popover.css("top",_el[0].offsetTop-54+scope.displayElements.scrollWindow[0].scrollTop+"px"),scope.displayElements.popover.removeClass("bottom").addClass("top"));var _maxLeft=scope.displayElements.text[0].offsetWidth-scope.displayElements.popover[0].offsetWidth,_targetLeft=_el[0].offsetLeft+_el[0].offsetWidth/2-scope.displayElements.popover[0].offsetWidth/2;scope.displayElements.popover.css("left",Math.max(0,Math.min(_maxLeft,_targetLeft))+"px"),scope.displayElements.popoverArrow.css("margin-left",Math.min(_targetLeft,Math.max(0,_targetLeft-_maxLeft))-11+"px")},scope.hidePopover=function(){var doneCb=function(){scope.displayElements.popover.css("display",""),scope.displayElements.popoverContainer.attr("style",""),scope.displayElements.popoverContainer.attr("class","popover-content")};$q.when($animate.removeClass(scope.displayElements.popover,"in",doneCb)).then(doneCb);
},scope.displayElements.resize.overlay.append(scope.displayElements.resize.background),angular.forEach(scope.displayElements.resize.anchors,function(anchor){scope.displayElements.resize.overlay.append(anchor)}),scope.displayElements.resize.overlay.append(scope.displayElements.resize.info),scope.displayElements.scrollWindow.append(scope.displayElements.resize.overlay),scope.reflowResizeOverlay=function(_el){_el=angular.element(_el)[0],scope.displayElements.resize.overlay.css({display:"block",left:_el.offsetLeft-5+"px",top:_el.offsetTop-5+"px",width:_el.offsetWidth+10+"px",height:_el.offsetHeight+10+"px"}),scope.displayElements.resize.info.text(_el.offsetWidth+" x "+_el.offsetHeight)},scope.showResizeOverlay=function(_el){var _body=$document.find("body");_resizeMouseDown=function(event){var startPosition={width:parseInt(_el.attr("width")),height:parseInt(_el.attr("height")),x:event.clientX,y:event.clientY};(void 0===startPosition.width||isNaN(startPosition.width))&&(startPosition.width=_el[0].offsetWidth),(void 0===startPosition.height||isNaN(startPosition.height))&&(startPosition.height=_el[0].offsetHeight),scope.hidePopover();var ratio=startPosition.height/startPosition.width,mousemove=function(event){var pos={x:Math.max(0,startPosition.width+(event.clientX-startPosition.x)),y:Math.max(0,startPosition.height+(event.clientY-startPosition.y))};if(event.shiftKey){var newRatio=pos.y/pos.x;pos.x=ratio>newRatio?pos.x:pos.y/ratio,pos.y=ratio>newRatio?pos.x*ratio:pos.y}var el=angular.element(_el);el.attr("height",Math.max(0,pos.y)),el.attr("width",Math.max(0,pos.x)),scope.reflowResizeOverlay(_el)};_body.on("mousemove",mousemove),oneEvent(_body,"mouseup",function(event){event.preventDefault(),event.stopPropagation(),_body.off("mousemove",mousemove),scope.showPopover(_el)}),event.stopPropagation(),event.preventDefault()},scope.displayElements.resize.anchors[3].on("mousedown",_resizeMouseDown),scope.reflowResizeOverlay(_el),oneEvent(_body,"click",function(){scope.hideResizeOverlay()})},scope.hideResizeOverlay=function(){scope.displayElements.resize.anchors[3].off("mousedown",_resizeMouseDown),scope.displayElements.resize.overlay.css("display","")},scope.setup.htmlEditorSetup(scope.displayElements.html),scope.setup.textEditorSetup(scope.displayElements.text),scope.displayElements.html.attr({id:"taHtmlElement"+_serial,"aria-label":"text element","ng-show":"showHtml","ta-bind":"ta-bind","ng-model":"html","ng-model-options":element.attr("ng-model-options")}),scope.displayElements.text.attr({id:"taTextElement"+_serial,contentEditable:"true","ta-bind":"ta-bind","ng-model":"html","ng-model-options":element.attr("ng-model-options")}),scope.displayElements.scrollWindow.attr({"ng-hide":"showHtml"}),attrs.taDefaultWrap&&scope.displayElements.text.attr("ta-default-wrap",attrs.taDefaultWrap),attrs.taUnsafeSanitizer&&(scope.displayElements.text.attr("ta-unsafe-sanitizer",attrs.taUnsafeSanitizer),scope.displayElements.html.attr("ta-unsafe-sanitizer",attrs.taUnsafeSanitizer)),scope.displayElements.scrollWindow.append(scope.displayElements.text),element.append(scope.displayElements.scrollWindow),element.append(scope.displayElements.html),scope.displayElements.forminput.attr("name",scope._name),element.append(scope.displayElements.forminput),attrs.tabindex&&(element.removeAttr("tabindex"),scope.displayElements.text.attr("tabindex",attrs.tabindex),scope.displayElements.html.attr("tabindex",attrs.tabindex)),attrs.placeholder&&(scope.displayElements.text.attr("placeholder",attrs.placeholder),scope.displayElements.html.attr("placeholder",attrs.placeholder)),attrs.taDisabled&&(scope.displayElements.text.attr("ta-readonly","disabled"),scope.displayElements.html.attr("ta-readonly","disabled"),scope.disabled=scope.$parent.$eval(attrs.taDisabled),scope.$parent.$watch(attrs.taDisabled,function(newVal){scope.disabled=newVal,scope.disabled?element.addClass(scope.classes.disabled):element.removeClass(scope.classes.disabled)})),attrs.taPaste&&(scope._pasteHandler=function(_html){return $parse(attrs.taPaste)(scope.$parent,{$html:_html})},scope.displayElements.text.attr("ta-paste","_pasteHandler($html)")),$compile(scope.displayElements.scrollWindow)(scope),$compile(scope.displayElements.html)(scope),scope.updateTaBindtaTextElement=scope["updateTaBindtaTextElement"+_serial],scope.updateTaBindtaHtmlElement=scope["updateTaBindtaHtmlElement"+_serial],element.addClass("ta-root"),scope.displayElements.scrollWindow.addClass("ta-text ta-editor "+scope.classes.textEditor),scope.displayElements.html.addClass("ta-html ta-editor "+scope.classes.htmlEditor),scope._actionRunning=!1;var _savedSelection=!1;if(scope.startAction=function(){return scope._actionRunning=!0,_savedSelection=$window.rangy.saveSelection(),function(){_savedSelection&&$window.rangy.restoreSelection(_savedSelection)}},scope.endAction=function(){scope._actionRunning=!1,_savedSelection&&(scope.showHtml?scope.displayElements.html[0].focus():scope.displayElements.text[0].focus(),$window.rangy.restoreSelection(_savedSelection),$window.rangy.removeMarkers(_savedSelection)),_savedSelection=!1,scope.showHtml||scope["updateTaBindtaTextElement"+_serial]()},_focusin=function(){scope.focussed=!0,element.addClass(scope.classes.focussed),_toolbars.focus(),element.triggerHandler("focus")},scope.displayElements.html.on("focus",_focusin),scope.displayElements.text.on("focus",_focusin),_focusout=function(e){return scope._actionRunning||$document[0].activeElement===scope.displayElements.html[0]||$document[0].activeElement===scope.displayElements.text[0]||(element.removeClass(scope.classes.focussed),_toolbars.unfocus(),$timeout(function(){scope._bUpdateSelectedStyles=!1,element.triggerHandler("blur"),scope.focussed=!1},0)),e.preventDefault(),!1},scope.displayElements.html.on("blur",_focusout),scope.displayElements.text.on("blur",_focusout),scope.displayElements.text.on("paste",function(event){element.triggerHandler("paste",event)}),scope.queryFormatBlockState=function(command){return!scope.showHtml&&command.toLowerCase()===$document[0].queryCommandValue("formatBlock").toLowerCase()},scope.queryCommandState=function(command){return scope.showHtml?"":$document[0].queryCommandState(command)},scope.switchView=function(){scope.showHtml=!scope.showHtml,$animate.enabled(!1,scope.displayElements.html),$animate.enabled(!1,scope.displayElements.text),scope.showHtml?$timeout(function(){return $animate.enabled(!0,scope.displayElements.html),$animate.enabled(!0,scope.displayElements.text),scope.displayElements.html[0].focus()},100):$timeout(function(){return $animate.enabled(!0,scope.displayElements.html),$animate.enabled(!0,scope.displayElements.text),scope.displayElements.text[0].focus()},100)},attrs.ngModel){var _firstRun=!0;ngModel.$render=function(){if(_firstRun){_firstRun=!1;var _initialValue=scope.$parent.$eval(attrs.ngModel);void 0!==_initialValue&&null!==_initialValue||!_originalContents||""===_originalContents||ngModel.$setViewValue(_originalContents)}scope.displayElements.forminput.val(ngModel.$viewValue),scope.html=ngModel.$viewValue||""},element.attr("required")&&(ngModel.$validators.required=function(modelValue,viewValue){var value=modelValue||viewValue;return!(!value||""===value.trim())})}else scope.displayElements.forminput.val(_originalContents),scope.html=_originalContents;if(scope.$watch("html",function(newValue,oldValue){newValue!==oldValue&&(attrs.ngModel&&ngModel.$viewValue!==newValue&&ngModel.$setViewValue(newValue),scope.displayElements.forminput.val(newValue))}),attrs.taTargetToolbars)_toolbars=textAngularManager.registerEditor(scope._name,scope,attrs.taTargetToolbars.split(","));else{var _toolbar=angular.element('<div text-angular-toolbar name="textAngularToolbar'+_serial+'">');attrs.taToolbar&&_toolbar.attr("ta-toolbar",attrs.taToolbar),attrs.taToolbarClass&&_toolbar.attr("ta-toolbar-class",attrs.taToolbarClass),attrs.taToolbarGroupClass&&_toolbar.attr("ta-toolbar-group-class",attrs.taToolbarGroupClass),attrs.taToolbarButtonClass&&_toolbar.attr("ta-toolbar-button-class",attrs.taToolbarButtonClass),attrs.taToolbarActiveButtonClass&&_toolbar.attr("ta-toolbar-active-button-class",attrs.taToolbarActiveButtonClass),attrs.taFocussedClass&&_toolbar.attr("ta-focussed-class",attrs.taFocussedClass),element.prepend(_toolbar),$compile(_toolbar)(scope.$parent),_toolbars=textAngularManager.registerEditor(scope._name,scope,["textAngularToolbar"+_serial])}scope.$on("$destroy",function(){textAngularManager.unregisterEditor(scope._name)}),scope.$on("ta-element-select",function(event,element){_toolbars.triggerElementSelect(event,element)&&scope["reApplyOnSelectorHandlerstaTextElement"+_serial]()}),scope.$on("ta-drop-event",function(event,element,dropEvent,dataTransfer){scope.displayElements.text[0].focus(),dataTransfer&&dataTransfer.files&&dataTransfer.files.length>0?(angular.forEach(dataTransfer.files,function(file){try{$q.when(scope.fileDropHandler(file,scope.wrapSelection)||scope.fileDropHandler!==scope.defaultFileDropHandler&&$q.when(scope.defaultFileDropHandler(file,scope.wrapSelection))).then(function(){scope["updateTaBindtaTextElement"+_serial]()})}catch(error){$log.error(error)}}),dropEvent.preventDefault(),dropEvent.stopPropagation()):$timeout(function(){scope["updateTaBindtaTextElement"+_serial]()},0)}),scope._bUpdateSelectedStyles=!1,angular.element(window).on("blur",function(){scope._bUpdateSelectedStyles=!1,scope.focussed=!1}),scope.updateSelectedStyles=function(){var _selection;_updateSelectedStylesTimeout&&$timeout.cancel(_updateSelectedStylesTimeout),void 0!==(_selection=taSelection.getSelectionElement())&&_selection.parentNode!==scope.displayElements.text[0]?_toolbars.updateSelectedStyles(angular.element(_selection)):_toolbars.updateSelectedStyles(),scope._bUpdateSelectedStyles&&(_updateSelectedStylesTimeout=$timeout(scope.updateSelectedStyles,200))},_keydown=function(){return scope.focussed?void(scope._bUpdateSelectedStyles||(scope._bUpdateSelectedStyles=!0,scope.$apply(function(){scope.updateSelectedStyles()}))):void(scope._bUpdateSelectedStyles=!1)},scope.displayElements.html.on("keydown",_keydown),scope.displayElements.text.on("keydown",_keydown),_keyup=function(){scope._bUpdateSelectedStyles=!1},scope.displayElements.html.on("keyup",_keyup),scope.displayElements.text.on("keyup",_keyup),_keypress=function(event,eventData){eventData&&angular.extend(event,eventData),scope.$apply(function(){if(_toolbars.sendKeyCommand(event))return scope._bUpdateSelectedStyles||scope.updateSelectedStyles(),event.preventDefault(),!1})},scope.displayElements.html.on("keypress",_keypress),scope.displayElements.text.on("keypress",_keypress),_mouseup=function(){scope._bUpdateSelectedStyles=!1,scope.$apply(function(){scope.updateSelectedStyles()})},scope.displayElements.html.on("mouseup",_mouseup),scope.displayElements.text.on("mouseup",_mouseup)}}}]),textAngular.service("textAngularManager",["taToolExecuteAction","taTools","taRegisterTool",function(taToolExecuteAction,taTools,taRegisterTool){var toolbars={},editors={};return{registerEditor:function(name,scope,targetToolbars){if(!name||""===name)throw"textAngular Error: An editor requires a name";if(!scope)throw"textAngular Error: An editor requires a scope";if(editors[name])throw'textAngular Error: An Editor with name "'+name+'" already exists';var _toolbars=[];return angular.forEach(targetToolbars,function(_name){toolbars[_name]&&_toolbars.push(toolbars[_name])}),editors[name]={scope:scope,toolbars:targetToolbars,_registerToolbar:function(toolbarScope){this.toolbars.indexOf(toolbarScope.name)>=0&&_toolbars.push(toolbarScope)},editorFunctions:{disable:function(){angular.forEach(_toolbars,function(toolbarScope){toolbarScope.disabled=!0})},enable:function(){angular.forEach(_toolbars,function(toolbarScope){toolbarScope.disabled=!1})},focus:function(){angular.forEach(_toolbars,function(toolbarScope){toolbarScope._parent=scope,toolbarScope.disabled=!1,toolbarScope.focussed=!0,scope.focussed=!0})},unfocus:function(){angular.forEach(_toolbars,function(toolbarScope){toolbarScope.disabled=!0,toolbarScope.focussed=!1}),scope.focussed=!1},updateSelectedStyles:function(selectedElement){angular.forEach(_toolbars,function(toolbarScope){angular.forEach(toolbarScope.tools,function(toolScope){toolScope.activeState&&(toolbarScope._parent=scope,toolScope.active=toolScope.activeState(selectedElement))})})},sendKeyCommand:function(event){var result=!1;return(event.ctrlKey||event.metaKey)&&angular.forEach(taTools,function(tool,name){if(tool.commandKeyCode&&tool.commandKeyCode===event.which)for(var _t=0;_t<_toolbars.length;_t++)if(void 0!==_toolbars[_t].tools[name]){taToolExecuteAction.call(_toolbars[_t].tools[name],scope),result=!0;break}}),result},triggerElementSelect:function(event,element){var elementHasAttrs=function(_element,attrs){for(var result=!0,i=0;i<attrs.length;i++)result=result&&_element.attr(attrs[i]);return result},workerTools=[],unfilteredTools={},result=!1;element=angular.element(element);var onlyWithAttrsFilter=!1;if(angular.forEach(taTools,function(tool,name){tool.onElementSelect&&tool.onElementSelect.element&&tool.onElementSelect.element.toLowerCase()===element[0].tagName.toLowerCase()&&(!tool.onElementSelect.filter||tool.onElementSelect.filter(element))&&(onlyWithAttrsFilter=onlyWithAttrsFilter||angular.isArray(tool.onElementSelect.onlyWithAttrs)&&elementHasAttrs(element,tool.onElementSelect.onlyWithAttrs),tool.onElementSelect.onlyWithAttrs&&!elementHasAttrs(element,tool.onElementSelect.onlyWithAttrs)||(unfilteredTools[name]=tool))}),onlyWithAttrsFilter?(angular.forEach(unfilteredTools,function(tool,name){tool.onElementSelect.onlyWithAttrs&&elementHasAttrs(element,tool.onElementSelect.onlyWithAttrs)&&workerTools.push({name:name,tool:tool})}),workerTools.sort(function(a,b){return b.tool.onElementSelect.onlyWithAttrs.length-a.tool.onElementSelect.onlyWithAttrs.length})):angular.forEach(unfilteredTools,function(tool,name){workerTools.push({name:name,tool:tool})}),workerTools.length>0)for(var _i=0;_i<workerTools.length;_i++){for(var tool=workerTools[_i].tool,name=workerTools[_i].name,_t=0;_t<_toolbars.length;_t++)if(void 0!==_toolbars[_t].tools[name]){tool.onElementSelect.action.call(_toolbars[_t].tools[name],event,element,scope),result=!0;break}if(result)break}return result}}},editors[name].editorFunctions},retrieveEditor:function(name){return editors[name]},unregisterEditor:function(name){delete editors[name]},registerToolbar:function(scope){if(!scope)throw"textAngular Error: A toolbar requires a scope";if(!scope.name||""===scope.name)throw"textAngular Error: A toolbar requires a name";if(toolbars[scope.name])throw'textAngular Error: A toolbar with name "'+scope.name+'" already exists';toolbars[scope.name]=scope,angular.forEach(editors,function(_editor){_editor._registerToolbar(scope)})},retrieveToolbar:function(name){return toolbars[name]},retrieveToolbarsViaEditor:function(name){var result=[],_this=this;return angular.forEach(this.retrieveEditor(name).toolbars,function(name){result.push(_this.retrieveToolbar(name))}),result},unregisterToolbar:function(name){delete toolbars[name]},updateToolsDisplay:function(newTaTools){var _this=this;angular.forEach(newTaTools,function(_newTool,key){_this.updateToolDisplay(key,_newTool)})},resetToolsDisplay:function(){var _this=this;angular.forEach(taTools,function(_newTool,key){_this.resetToolDisplay(key)})},updateToolDisplay:function(toolKey,_newTool){var _this=this;angular.forEach(toolbars,function(toolbarScope,toolbarKey){_this.updateToolbarToolDisplay(toolbarKey,toolKey,_newTool)})},resetToolDisplay:function(toolKey){var _this=this;angular.forEach(toolbars,function(toolbarScope,toolbarKey){_this.resetToolbarToolDisplay(toolbarKey,toolKey)})},updateToolbarToolDisplay:function(toolbarKey,toolKey,_newTool){if(!toolbars[toolbarKey])throw'textAngular Error: No Toolbar with name "'+toolbarKey+'" exists';toolbars[toolbarKey].updateToolDisplay(toolKey,_newTool)},resetToolbarToolDisplay:function(toolbarKey,toolKey){if(!toolbars[toolbarKey])throw'textAngular Error: No Toolbar with name "'+toolbarKey+'" exists';toolbars[toolbarKey].updateToolDisplay(toolKey,taTools[toolKey],!0)},removeTool:function(toolKey){delete taTools[toolKey],angular.forEach(toolbars,function(toolbarScope){delete toolbarScope.tools[toolKey];for(var i=0;i<toolbarScope.toolbar.length;i++){for(var toolbarIndex,j=0;j<toolbarScope.toolbar[i].length;j++){if(toolbarScope.toolbar[i][j]===toolKey){toolbarIndex={group:i,index:j};break}if(void 0!==toolbarIndex)break}void 0!==toolbarIndex&&(toolbarScope.toolbar[toolbarIndex.group].slice(toolbarIndex.index,1),toolbarScope._$element.children().eq(toolbarIndex.group).children().eq(toolbarIndex.index).remove())}})},addTool:function(toolKey,toolDefinition,group,index){taRegisterTool(toolKey,toolDefinition),angular.forEach(toolbars,function(toolbarScope){toolbarScope.addTool(toolKey,toolDefinition,group,index)})},addToolToToolbar:function(toolKey,toolDefinition,toolbarKey,group,index){taRegisterTool(toolKey,toolDefinition),toolbars[toolbarKey].addTool(toolKey,toolDefinition,group,index)},refreshEditor:function(name){if(!editors[name])throw'textAngular Error: No Editor with name "'+name+'" exists';editors[name].scope.updateTaBindtaTextElement(),editors[name].scope.$$phase||editors[name].scope.$digest()}}}]),textAngular.directive("textAngularToolbar",["$compile","textAngularManager","taOptions","taTools","taToolExecuteAction","$window",function($compile,textAngularManager,taOptions,taTools,taToolExecuteAction,$window){return{scope:{name:"@"},restrict:"EA",link:function(scope,element,attrs){if(!scope.name||""===scope.name)throw"textAngular Error: A toolbar requires a name";angular.extend(scope,angular.copy(taOptions)),attrs.taToolbar&&(scope.toolbar=scope.$parent.$eval(attrs.taToolbar)),attrs.taToolbarClass&&(scope.classes.toolbar=attrs.taToolbarClass),attrs.taToolbarGroupClass&&(scope.classes.toolbarGroup=attrs.taToolbarGroupClass),attrs.taToolbarButtonClass&&(scope.classes.toolbarButton=attrs.taToolbarButtonClass),attrs.taToolbarActiveButtonClass&&(scope.classes.toolbarButtonActive=attrs.taToolbarActiveButtonClass),attrs.taFocussedClass&&(scope.classes.focussed=attrs.taFocussedClass),scope.disabled=!0,scope.focussed=!1,scope._$element=element,element[0].innerHTML="",element.addClass("ta-toolbar "+scope.classes.toolbar),scope.$watch("focussed",function(){scope.focussed?element.addClass(scope.classes.focussed):element.removeClass(scope.classes.focussed)});var setupToolElement=function(toolDefinition,toolScope){var toolElement;if(toolElement=toolDefinition&&toolDefinition.display?angular.element(toolDefinition.display):angular.element("<button type='button'>"),toolDefinition&&toolDefinition["class"]?toolElement.addClass(toolDefinition["class"]):toolElement.addClass(scope.classes.toolbarButton),toolElement.attr("name",toolScope.name),toolElement.attr("ta-button","ta-button"),toolElement.attr("ng-disabled","isDisabled()"),toolElement.attr("tabindex","-1"),toolElement.attr("ng-click","executeAction()"),toolElement.attr("ng-class","displayActiveToolClass(active)"),toolDefinition&&toolDefinition.tooltiptext&&toolElement.attr("title",toolDefinition.tooltiptext),toolDefinition&&!toolDefinition.display&&!toolScope._display&&(toolElement[0].innerHTML="",toolDefinition.buttontext&&(toolElement[0].innerHTML=toolDefinition.buttontext),toolDefinition.iconclass)){var icon=angular.element("<i>"),content=toolElement[0].innerHTML;icon.addClass(toolDefinition.iconclass),toolElement[0].innerHTML="",toolElement.append(icon),content&&""!==content&&toolElement.append("&nbsp;"+content)}return toolScope._lastToolDefinition=angular.copy(toolDefinition),$compile(toolElement)(toolScope)};scope.tools={},scope._parent={disabled:!0,showHtml:!1,queryFormatBlockState:function(){return!1},queryCommandState:function(){return!1}};var defaultChildScope={$window:$window,$editor:function(){return scope._parent},isDisabled:function(){return"function"!=typeof this.$eval("disabled")&&this.$eval("disabled")||this.$eval("disabled()")||"html"!==this.name&&this.$editor().showHtml||this.$parent.disabled||this.$editor().disabled},displayActiveToolClass:function(active){return active?scope.classes.toolbarButtonActive:""},executeAction:taToolExecuteAction};angular.forEach(scope.toolbar,function(group){var groupElement=angular.element("<div>");groupElement.addClass(scope.classes.toolbarGroup),angular.forEach(group,function(tool){scope.tools[tool]=angular.extend(scope.$new(!0),taTools[tool],defaultChildScope,{name:tool}),scope.tools[tool].$element=setupToolElement(taTools[tool],scope.tools[tool]),groupElement.append(scope.tools[tool].$element)}),element.append(groupElement)}),scope.updateToolDisplay=function(key,_newTool,forceNew){var toolInstance=scope.tools[key];if(toolInstance){if(toolInstance._lastToolDefinition&&!forceNew&&(_newTool=angular.extend({},toolInstance._lastToolDefinition,_newTool)),null===_newTool.buttontext&&null===_newTool.iconclass&&null===_newTool.display)throw'textAngular Error: Tool Definition for updating "'+key+'" does not have a valid display/iconclass/buttontext value';null===_newTool.buttontext&&delete _newTool.buttontext,null===_newTool.iconclass&&delete _newTool.iconclass,null===_newTool.display&&delete _newTool.display;var toolElement=setupToolElement(_newTool,toolInstance);toolInstance.$element.replaceWith(toolElement),toolInstance.$element=toolElement}},scope.addTool=function(key,_newTool,groupIndex,index){scope.tools[key]=angular.extend(scope.$new(!0),taTools[key],defaultChildScope,{name:key}),scope.tools[key].$element=setupToolElement(taTools[key],scope.tools[key]);var group;void 0===groupIndex&&(groupIndex=scope.toolbar.length-1),group=angular.element(element.children()[groupIndex]),void 0===index?(group.append(scope.tools[key].$element),scope.toolbar[groupIndex][scope.toolbar[groupIndex].length-1]=key):(group.children().eq(index).after(scope.tools[key].$element),scope.toolbar[groupIndex][index]=key)},textAngularManager.registerToolbar(scope),scope.$on("$destroy",function(){textAngularManager.unregisterToolbar(scope.name)})}}}])}();